{
  "version": 3,
  "sources": ["../../../../.svelte-kit/output/server/chunks/ssr.js", "../../../../.svelte-kit/output/server/chunks/shared-server.js", "../../../../node_modules/.pnpm/@planetscale+database@1.11.0/node_modules/@planetscale/database/dist/sanitization.js", "../../../../node_modules/.pnpm/@planetscale+database@1.11.0/node_modules/@planetscale/database/dist/text.js", "../../../../node_modules/.pnpm/@planetscale+database@1.11.0/node_modules/@planetscale/database/dist/version.js", "../../../../node_modules/.pnpm/@planetscale+database@1.11.0/node_modules/@planetscale/database/dist/index.js", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/entity.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/column.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/view.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/subquery.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/utils.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/table.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/query-promise.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/tracing.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/errors.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/table.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/checks.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/foreign-keys.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/indexes.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/primary-keys.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/unique-constraint.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/utils.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/column-builder.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/common.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/array.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/date.common.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/date.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/json.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/jsonb.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/numeric.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/time.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/timestamp.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/columns/uuid.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/dialect.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/query-builders/query-builder.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/query-builders/select.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/query-builders/query-builder.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/pg-core/view.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/relations.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/sql/expressions/conditions.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/sql/expressions/select.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/sql/index.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/alias.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/logger.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/table.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/foreign-keys.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/unique-constraint.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/common.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/query-builders/delete.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/query-builders/insert.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/dialect.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/query-builders/select.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/query-builders/query-builder.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/query-builders/query.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/db.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/session.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/query-builders/update.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/view.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/planetscale-serverless/session.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/planetscale-serverless/driver.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/bigint.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/binary.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/boolean.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/char.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/custom.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/date.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/datetime.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/decimal.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/double.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/enum.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/float.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/int.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/json.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/mediumint.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/real.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/serial.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/smallint.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/text.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/time.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/date.common.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/timestamp.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/tinyint.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/varbinary.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/varchar.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/columns/year.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/alias.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/checks.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/indexes.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/primary-keys.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/schema.ts", "../../../../node_modules/.pnpm/drizzle-orm@0.28.6_@planetscale+database@1.11.0/node_modules/src/mysql-core/utils.ts", "../../../../.svelte-kit/output/server/chunks/index3.js", "../../../../node_modules/.pnpm/@lucia-auth+adapter-mysql@2.0.0_@planetscale+database@1.11.0_lucia@2.6.0/node_modules/@lucia-auth/adapter-mysql/dist/utils.js", "../../../../node_modules/.pnpm/@lucia-auth+adapter-mysql@2.0.0_@planetscale+database@1.11.0_lucia@2.6.0/node_modules/@lucia-auth/adapter-mysql/dist/drivers/mysql2.js", "../../../../node_modules/.pnpm/@lucia-auth+adapter-mysql@2.0.0_@planetscale+database@1.11.0_lucia@2.6.0/node_modules/@lucia-auth/adapter-mysql/dist/drivers/planetscale.js", "../../../../node_modules/.pnpm/@lucia-auth+adapter-mysql@2.0.0_@planetscale+database@1.11.0_lucia@2.6.0/node_modules/@lucia-auth/adapter-mysql/dist/index.js", "../../../../.svelte-kit/output/server/chunks/lucia.js", "../../../../.svelte-kit/output/server/chunks/hooks.server.js", "../../../../.svelte-kit/output/server/chunks/index.js", "../../../../.svelte-kit/output/server/chunks/index2.js", "../../../../.svelte-kit/output/server/chunks/Toaster.svelte_svelte_type_style_lang.js", "../../../../.svelte-kit/output/server/entries/pages/_layout.svelte.js", "../../../../.svelte-kit/output/server/nodes/0.js", "../../../../.svelte-kit/output/server/chunks/stores.js", "../../../../.svelte-kit/output/server/entries/fallbacks/error.svelte.js", "../../../../.svelte-kit/output/server/nodes/1.js", "../../../../.svelte-kit/output/server/entries/pages/(authed)/_layout.server.ts.js", "../../../../node_modules/.pnpm/clsx@2.0.0/node_modules/clsx/dist/clsx.mjs", "../../../../node_modules/.pnpm/tailwind-variants@0.1.14_tailwindcss@3.3.3/node_modules/tailwind-variants/dist/chunk-FHRYMRZ3.js", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/tw-join.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/class-utils.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/lru-cache.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/modifier-utils.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/config-utils.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/merge-classlist.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/create-tailwind-merge.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/from-theme.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/validators.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/default-config.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/merge-configs.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/extend-tailwind-merge.ts", "../../../../node_modules/.pnpm/tailwind-merge@1.14.0/node_modules/tailwind-merge/src/lib/tw-merge.ts", "../../../../node_modules/.pnpm/tailwind-variants@0.1.14_tailwindcss@3.3.3/node_modules/tailwind-variants/dist/index.js", "../../../../.svelte-kit/output/server/entries/pages/(authed)/_layout.svelte.js", "../../../../.svelte-kit/output/server/nodes/2.js", "../../../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/src/_assert.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/src/_u64.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/src/crypto.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/src/utils.ts", "../../../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/src/sha3.ts", "../../../../node_modules/.pnpm/@paralleldrive+cuid2@2.2.2/node_modules/@paralleldrive/cuid2/src/index.js", "../../../../node_modules/.pnpm/@paralleldrive+cuid2@2.2.2/node_modules/@paralleldrive/cuid2/index.js", "../../../../node_modules/.pnpm/zod@3.22.2/node_modules/zod/lib/index.mjs", "../../../../.svelte-kit/output/server/entries/pages/(authed)/_page.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/(authed)/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/3.js", "../../../../.svelte-kit/output/server/entries/pages/(authed)/_itemId_/_page.server.ts.js", "../../../../node_modules/.pnpm/prosemirror-model@1.19.3/node_modules/prosemirror-model/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-transform@1.7.5/node_modules/prosemirror-transform/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-state@1.4.3/node_modules/prosemirror-state/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/state/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-view@1.31.8/node_modules/prosemirror-view/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/view/dist/index.js", "../../../../node_modules/.pnpm/w3c-keyname@2.2.8/node_modules/w3c-keyname/index.js", "../../../../node_modules/.pnpm/prosemirror-keymap@1.2.2/node_modules/prosemirror-keymap/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/keymap/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/model/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/transform/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-commands@1.5.2/node_modules/prosemirror-commands/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/commands/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-schema-list@1.3.0/node_modules/prosemirror-schema-list/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/schema-list/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/createChainableState.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/CommandManager.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/EventEmitter.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getExtensionField.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/splitExtensions.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getAttributesFromExtensions.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getNodeType.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/mergeAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getRenderedAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isFunction.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/callOrReturn.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isEmptyObject.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/fromString.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/injectExtensionAttributesToParseRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getSchemaByResolvedExtensions.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getSchemaTypeByName.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isExtensionRulesEnabled.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getTextContentFromNodes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isRegExp.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/InputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isNumber.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/PasteRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/findDuplicates.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/ExtensionManager.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isPlainObject.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/mergeDeep.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/Extension.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getTextBetween.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getTextSerializersFromSchema.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/extensions/clipboardTextSerializer.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/blur.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/clearContent.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/clearNodes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/command.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/createParagraphNear.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/cut.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/deleteCurrentNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/deleteNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/deleteRange.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/deleteSelection.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/enter.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/exitCode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/objectIncludes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getMarkRange.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getMarkType.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/extendMarkRange.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/first.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isTextSelection.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/minMax.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/resolveFocusPosition.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isiOS.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/focus.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/forEach.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/insertContent.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/elementFromString.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/createNodeFromContent.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/selectionToInsertionEnd.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/insertContentAt.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/join.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/joinItemBackward.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/joinItemForward.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isMacOS.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/keyboardShortcut.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isNodeActive.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/lift.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/liftEmptyBlock.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/liftListItem.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/newlineInCode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getSchemaTypeNameByName.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/deleteProps.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/resetAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/scrollIntoView.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/selectAll.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/selectNodeBackward.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/selectNodeForward.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/selectParentNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/selectTextblockEnd.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/selectTextblockStart.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/createDocument.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/setContent.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getMarkAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/combineTransactionSteps.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/defaultBlockAt.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/findChildren.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/findChildrenInRange.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/findParentNodeClosestToPos.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/findParentNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getHTMLFromFragment.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getSchema.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/generateHTML.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/generateJSON.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getText.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/generateText.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getNodeAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/removeDuplicates.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getChangedRanges.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getDebugJSON.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getMarksBetween.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getNodeAtPosition.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/getSplittedAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isMarkActive.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isActive.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isAtEndOfNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isAtStartOfNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isList.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isNodeEmpty.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/isNodeSelection.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/helpers/posToDOMRect.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/setMark.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/setMeta.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/setNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/setNodeSelection.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/setTextSelection.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/sinkListItem.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/splitBlock.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/splitListItem.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/toggleList.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/toggleMark.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/toggleNode.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/toggleWrap.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/undoInputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/unsetAllMarks.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/unsetMark.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/updateAttributes.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/wrapIn.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/commands/wrapInList.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/extensions/commands.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/extensions/editable.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/extensions/focusEvents.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/extensions/keymap.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/extensions/tabindex.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/style.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/createStyleTag.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/Editor.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/inputRules/markInputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/inputRules/nodeInputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/inputRules/textblockTypeInputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/inputRules/textInputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/inputRules/wrappingInputRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/Mark.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/Node.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isAndroid.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/NodeView.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/pasteRules/markPasteRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/escapeForRegEx.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/utilities/isString.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/pasteRules/nodePasteRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/pasteRules/textPasteRule.ts", "../../../../node_modules/.pnpm/@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/core/src/Tracker.ts", "../../../../node_modules/.pnpm/prosemirror-dropcursor@1.8.1/node_modules/prosemirror-dropcursor/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/dropcursor/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-gapcursor@1.3.2/node_modules/prosemirror-gapcursor/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/gapcursor/dist/index.js", "../../../../node_modules/.pnpm/rope-sequence@1.3.4/node_modules/rope-sequence/dist/index.js", "../../../../node_modules/.pnpm/prosemirror-history@1.3.2/node_modules/prosemirror-history/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+pm@2.1.10/node_modules/@tiptap/pm/history/dist/index.js", "../../../../node_modules/.pnpm/@tiptap+extension-code-block@2.1.10_@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-code-block/src/code-block.ts", "../../../../node_modules/.pnpm/@tiptap+extension-code-block-lowlight@2.1.10_@tiptap+core@2.1.10_@tiptap+extension-code-block@2.1.10_@tiptap+pm@2.1.10/node_modules/node_modules/highlight.js/lib/core.js", "../../../../node_modules/.pnpm/@tiptap+extension-code-block-lowlight@2.1.10_@tiptap+core@2.1.10_@tiptap+extension-code-block@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-code-block-lowlight/src/lowlight-plugin.ts", "../../../../node_modules/.pnpm/@tiptap+extension-code-block-lowlight@2.1.10_@tiptap+core@2.1.10_@tiptap+extension-code-block@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-code-block-lowlight/src/code-block-lowlight.ts", "../../../../node_modules/.pnpm/linkifyjs@4.1.1/node_modules/linkifyjs/dist/linkify.es.js", "../../../../node_modules/.pnpm/@tiptap+extension-link@2.1.10_@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-link/src/helpers/autolink.ts", "../../../../node_modules/.pnpm/@tiptap+extension-link@2.1.10_@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-link/src/helpers/clickHandler.ts", "../../../../node_modules/.pnpm/@tiptap+extension-link@2.1.10_@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-link/src/helpers/pasteHandler.ts", "../../../../node_modules/.pnpm/@tiptap+extension-link@2.1.10_@tiptap+core@2.1.10_@tiptap+pm@2.1.10/node_modules/@tiptap/extension-link/src/link.ts", "../../../../node_modules/.pnpm/highlight.js@11.8.0/node_modules/highlight.js/es/languages/css.js", "../../../../node_modules/.pnpm/highlight.js@11.8.0/node_modules/highlight.js/es/languages/javascript.js", "../../../../node_modules/.pnpm/highlight.js@11.8.0/node_modules/highlight.js/es/languages/typescript.js", "../../../../node_modules/.pnpm/highlight.js@11.8.0/node_modules/highlight.js/es/languages/xml.js", "../../../../node_modules/.pnpm/devlop@1.1.0/node_modules/devlop/lib/default.js", "../../../../node_modules/.pnpm/highlight.js@11.8.0/node_modules/highlight.js/lib/core.js", "../../../../node_modules/.pnpm/highlight.js@11.8.0/node_modules/highlight.js/es/core.js", "../../../../node_modules/.pnpm/lowlight@3.0.0/node_modules/lowlight/lib/index.js", "../../../../node_modules/.pnpm/lowlight@3.0.0/node_modules/lowlight/index.js", "../../../../.svelte-kit/output/server/entries/pages/(authed)/_itemId_/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/4.js", "../../../../.svelte-kit/output/server/entries/pages/(unauthed)/signin/_page.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/(unauthed)/signin/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/5.js", "../../../../.svelte-kit/output/server/entries/pages/(unauthed)/signup/_page.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/(unauthed)/signup/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/6.js", "../../../../.svelte-kit/output/server/entries/endpoints/api/file/_server.ts.js", "../../../../.svelte-kit/output/server/entries/endpoints/api/item/_server.ts.js", "../../../../.svelte-kit/output/server/entries/endpoints/api/seed/_server.ts.js", "../../../../.svelte-kit/output/server/chunks/internal.js", "../../../../.svelte-kit/output/server/index.js", "../../../../.svelte-kit/vercel-tmp/fn/manifest.js", "../../../../.svelte-kit/vercel-tmp/fn/edge.js"],
  "sourcesContent": ["function noop() {\n}\nconst identity = (x) => x;\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction is_function(thing) {\n  return typeof thing === \"function\";\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction subscribe(store, ...callbacks) {\n  if (store == null) {\n    for (const callback of callbacks) {\n      callback(void 0);\n    }\n    return noop;\n  }\n  const unsub = store.subscribe(...callbacks);\n  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n  let value;\n  subscribe(store, (_) => value = _)();\n  return value;\n}\nfunction compute_rest_props(props, keys) {\n  const rest = {};\n  keys = new Set(keys);\n  for (const k in props)\n    if (!keys.has(k) && k[0] !== \"$\")\n      rest[k] = props[k];\n  return rest;\n}\nfunction split_css_unit(value) {\n  const split = typeof value === \"string\" && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n  return split ? [parseFloat(split[1]), split[2] || \"px\"] : [\n    /** @type {number} */\n    value,\n    \"px\"\n  ];\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n  return new CustomEvent(type, { detail, bubbles, cancelable });\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component)\n    throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction onDestroy(fn) {\n  get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n  const component = get_current_component();\n  return (type, detail, { cancelable = false } = {}) => {\n    const callbacks = component.$$.callbacks[type];\n    if (callbacks) {\n      const event = custom_event(\n        /** @type {string} */\n        type,\n        detail,\n        { cancelable }\n      );\n      callbacks.slice().forEach((fn) => {\n        fn.call(component, event);\n      });\n      return !event.defaultPrevented;\n    }\n    return true;\n  };\n}\nfunction setContext(key, context) {\n  get_current_component().$$.context.set(key, context);\n  return context;\n}\nfunction getContext(key) {\n  return get_current_component().$$.context.get(key);\n}\nfunction ensure_array_like(array_like_or_iterator) {\n  return array_like_or_iterator?.length !== void 0 ? array_like_or_iterator : Array.from(array_like_or_iterator);\n}\nconst _boolean_attributes = (\n  /** @type {const} */\n  [\n    \"allowfullscreen\",\n    \"allowpaymentrequest\",\n    \"async\",\n    \"autofocus\",\n    \"autoplay\",\n    \"checked\",\n    \"controls\",\n    \"default\",\n    \"defer\",\n    \"disabled\",\n    \"formnovalidate\",\n    \"hidden\",\n    \"inert\",\n    \"ismap\",\n    \"loop\",\n    \"multiple\",\n    \"muted\",\n    \"nomodule\",\n    \"novalidate\",\n    \"open\",\n    \"playsinline\",\n    \"readonly\",\n    \"required\",\n    \"reversed\",\n    \"selected\"\n  ]\n);\nconst boolean_attributes = /* @__PURE__ */ new Set([..._boolean_attributes]);\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\nfunction spread(args, attrs_to_add) {\n  const attributes = Object.assign({}, ...args);\n  if (attrs_to_add) {\n    const classes_to_add = attrs_to_add.classes;\n    const styles_to_add = attrs_to_add.styles;\n    if (classes_to_add) {\n      if (attributes.class == null) {\n        attributes.class = classes_to_add;\n      } else {\n        attributes.class += \" \" + classes_to_add;\n      }\n    }\n    if (styles_to_add) {\n      if (attributes.style == null) {\n        attributes.style = style_object_to_string(styles_to_add);\n      } else {\n        attributes.style = style_object_to_string(\n          merge_ssr_styles(attributes.style, styles_to_add)\n        );\n      }\n    }\n  }\n  let str = \"\";\n  Object.keys(attributes).forEach((name) => {\n    if (invalid_attribute_name_character.test(name))\n      return;\n    const value = attributes[name];\n    if (value === true)\n      str += \" \" + name;\n    else if (boolean_attributes.has(name.toLowerCase())) {\n      if (value)\n        str += \" \" + name;\n    } else if (value != null) {\n      str += ` ${name}=\"${value}\"`;\n    }\n  });\n  return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n  const style_object = {};\n  for (const individual_style of style_attribute.split(\";\")) {\n    const colon_index = individual_style.indexOf(\":\");\n    const name = individual_style.slice(0, colon_index).trim();\n    const value = individual_style.slice(colon_index + 1).trim();\n    if (!name)\n      continue;\n    style_object[name] = value;\n  }\n  for (const name in style_directive) {\n    const value = style_directive[name];\n    if (value) {\n      style_object[name] = value;\n    } else {\n      delete style_object[name];\n    }\n  }\n  return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\nfunction escape(value, is_attr = false) {\n  const str = String(value);\n  const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n  pattern.lastIndex = 0;\n  let escaped = \"\";\n  let last = 0;\n  while (pattern.test(str)) {\n    const i = pattern.lastIndex - 1;\n    const ch = str[i];\n    escaped += str.substring(last, i) + (ch === \"&\" ? \"&amp;\" : ch === '\"' ? \"&quot;\" : \"&lt;\");\n    last = i + 1;\n  }\n  return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n  const should_escape = typeof value === \"string\" || value && typeof value === \"object\";\n  return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n  const result = {};\n  for (const key in obj) {\n    result[key] = escape_attribute_value(obj[key]);\n  }\n  return result;\n}\nfunction each(items, fn) {\n  items = ensure_array_like(items);\n  let str = \"\";\n  for (let i = 0; i < items.length; i += 1) {\n    str += fn(items[i], i);\n  }\n  return str;\n}\nconst missing_component = {\n  $$render: () => \"\"\n};\nfunction validate_component(component, name) {\n  if (!component || !component.$$render) {\n    if (name === \"svelte:component\")\n      name += \" this={...}\";\n    throw new Error(\n      `<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`\n    );\n  }\n  return component;\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n  function $$render(result, props, bindings, slots, context) {\n    const parent_component = current_component;\n    const $$ = {\n      on_destroy,\n      context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n      // these will be immediately discarded\n      on_mount: [],\n      before_update: [],\n      after_update: [],\n      callbacks: blank_object()\n    };\n    set_current_component({ $$ });\n    const html = fn(result, props, bindings, slots);\n    set_current_component(parent_component);\n    return html;\n  }\n  return {\n    render: (props = {}, { $$slots = {}, context = /* @__PURE__ */ new Map() } = {}) => {\n      on_destroy = [];\n      const result = { title: \"\", head: \"\", css: /* @__PURE__ */ new Set() };\n      const html = $$render(result, props, {}, $$slots, context);\n      run_all(on_destroy);\n      return {\n        html,\n        css: {\n          code: Array.from(result.css).map((css) => css.code).join(\"\\n\"),\n          map: null\n          // TODO\n        },\n        head: result.title + result.head\n      };\n    },\n    $$render\n  };\n}\nfunction add_attribute(name, value, boolean) {\n  if (value == null || boolean && !value)\n    return \"\";\n  const assignment = boolean && value === true ? \"\" : `=\"${escape(value, true)}\"`;\n  return ` ${name}${assignment}`;\n}\nfunction style_object_to_string(style_object) {\n  return Object.keys(style_object).filter((key) => style_object[key]).map((key) => `${key}: ${escape_attribute_value(style_object[key])};`).join(\" \");\n}\nfunction add_styles(style_object) {\n  const styles = style_object_to_string(style_object);\n  return styles ? ` style=\"${styles}\"` : \"\";\n}\nexport {\n  add_attribute as a,\n  createEventDispatcher as b,\n  create_ssr_component as c,\n  add_styles as d,\n  each as e,\n  merge_ssr_styles as f,\n  escape as g,\n  subscribe as h,\n  set_current_component as i,\n  current_component as j,\n  get_store_value as k,\n  getContext as l,\n  missing_component as m,\n  noop as n,\n  onDestroy as o,\n  compute_rest_props as p,\n  spread as q,\n  run_all as r,\n  setContext as s,\n  escape_object as t,\n  escape_attribute_value as u,\n  validate_component as v,\n  split_css_unit as w,\n  identity as x,\n  safe_not_equal as y,\n  is_function as z\n};\n", "let private_env = {};\nlet public_env = {};\nfunction set_private_env(environment) {\n  private_env = environment;\n}\nfunction set_public_env(environment) {\n  public_env = environment;\n}\nexport {\n  set_public_env as a,\n  private_env as b,\n  public_env as p,\n  set_private_env as s\n};\n", "export function format(query, values) {\n    return Array.isArray(values) ? replacePosition(query, values) : replaceNamed(query, values);\n}\nfunction replacePosition(query, values) {\n    let index = 0;\n    return query.replace(/\\?/g, (match) => {\n        return index < values.length ? sanitize(values[index++]) : match;\n    });\n}\nfunction replaceNamed(query, values) {\n    return query.replace(/:(\\w+)/g, (match, name) => {\n        return hasOwn(values, name) ? sanitize(values[name]) : match;\n    });\n}\nfunction hasOwn(obj, name) {\n    return Object.prototype.hasOwnProperty.call(obj, name);\n}\nfunction sanitize(value) {\n    if (value == null) {\n        return 'null';\n    }\n    if (typeof value === 'number') {\n        return String(value);\n    }\n    if (typeof value === 'boolean') {\n        return value ? 'true' : 'false';\n    }\n    if (typeof value === 'string') {\n        return quote(value);\n    }\n    if (Array.isArray(value)) {\n        return value.map(sanitize).join(', ');\n    }\n    if (value instanceof Date) {\n        return quote(value.toISOString().replace('Z', ''));\n    }\n    return quote(value.toString());\n}\nfunction quote(text) {\n    return `'${escape(text)}'`;\n}\nconst re = /[\\0\\b\\n\\r\\t\\x1a\\\\\"']/g;\nfunction escape(text) {\n    return text.replace(re, replacement);\n}\nfunction replacement(text) {\n    switch (text) {\n        case '\"':\n            return '\\\\\"';\n        case \"'\":\n            return \"\\\\'\";\n        case '\\n':\n            return '\\\\n';\n        case '\\r':\n            return '\\\\r';\n        case '\\t':\n            return '\\\\t';\n        case '\\\\':\n            return '\\\\\\\\';\n        case '\\0':\n            return '\\\\0';\n        case '\\b':\n            return '\\\\b';\n        case '\\x1a':\n            return '\\\\Z';\n        default:\n            return '';\n    }\n}\n", "const decoder = new TextDecoder('utf-8');\nexport function decode(text) {\n    return text ? decoder.decode(Uint8Array.from(bytes(text))) : '';\n}\nexport function hex(text) {\n    const digits = bytes(text).map((b) => b.toString(16).padStart(2, '0'));\n    return `0x${digits.join('')}`;\n}\nfunction bytes(text) {\n    return text.split('').map((c) => c.charCodeAt(0));\n}\n", "export const Version = '1.11.0';\n", "import { format } from './sanitization.js';\nexport { format } from './sanitization.js';\nexport { hex } from './text.js';\nimport { decode } from './text.js';\nimport { Version } from './version.js';\nexport class DatabaseError extends Error {\n    constructor(message, status, body) {\n        super(message);\n        this.status = status;\n        this.name = 'DatabaseError';\n        this.body = body;\n    }\n}\nconst defaultExecuteOptions = {\n    as: 'object'\n};\nexport class Client {\n    constructor(config) {\n        this.config = config;\n    }\n    async transaction(fn) {\n        return this.connection().transaction(fn);\n    }\n    async execute(query, args = null, options = defaultExecuteOptions) {\n        return this.connection().execute(query, args, options);\n    }\n    connection() {\n        return new Connection(this.config);\n    }\n}\nclass Tx {\n    constructor(conn) {\n        this.conn = conn;\n    }\n    async execute(query, args = null, options = defaultExecuteOptions) {\n        return this.conn.execute(query, args, options);\n    }\n}\nfunction protocol(protocol) {\n    return protocol === 'http:' ? protocol : 'https:';\n}\nfunction buildURL(url) {\n    const scheme = `${protocol(url.protocol)}//`;\n    return new URL(url.pathname, `${scheme}${url.host}`).toString();\n}\nexport class Connection {\n    constructor(config) {\n        var _a;\n        this.session = null;\n        this.config = { ...config };\n        if (typeof fetch !== 'undefined') {\n            (_a = this.config).fetch || (_a.fetch = fetch);\n        }\n        if (config.url) {\n            const url = new URL(config.url);\n            this.config.username = url.username;\n            this.config.password = url.password;\n            this.config.host = url.hostname;\n            this.url = buildURL(url);\n        }\n        else {\n            this.url = new URL(`https://${this.config.host}`).toString();\n        }\n    }\n    async transaction(fn) {\n        const conn = new Connection(this.config);\n        const tx = new Tx(conn);\n        try {\n            await tx.execute('BEGIN');\n            const res = await fn(tx);\n            await tx.execute('COMMIT');\n            return res;\n        }\n        catch (err) {\n            await tx.execute('ROLLBACK');\n            throw err;\n        }\n    }\n    async refresh() {\n        await this.createSession();\n    }\n    async execute(query, args = null, options = defaultExecuteOptions) {\n        const url = new URL('/psdb.v1alpha1.Database/Execute', this.url);\n        const formatter = this.config.format || format;\n        const sql = args ? formatter(query, args) : query;\n        const saved = await postJSON(this.config, url, { query: sql, session: this.session });\n        const { result, session, error, timing } = saved;\n        if (session) {\n            this.session = session;\n        }\n        if (error) {\n            throw new DatabaseError(error.message, 400, error);\n        }\n        const rowsAffected = result?.rowsAffected ? parseInt(result.rowsAffected, 10) : 0;\n        const insertId = result?.insertId ?? '0';\n        const fields = result?.fields ?? [];\n        for (const field of fields) {\n            field.type || (field.type = 'NULL');\n        }\n        const castFn = options.cast || this.config.cast || cast;\n        const rows = result ? parse(result, castFn, options.as || 'object') : [];\n        const headers = fields.map((f) => f.name);\n        const typeByName = (acc, { name, type }) => ({ ...acc, [name]: type });\n        const types = fields.reduce(typeByName, {});\n        const timingSeconds = timing ?? 0;\n        return {\n            headers,\n            types,\n            fields,\n            rows,\n            rowsAffected,\n            insertId,\n            size: rows.length,\n            statement: sql,\n            time: timingSeconds * 1000\n        };\n    }\n    async createSession() {\n        const url = new URL('/psdb.v1alpha1.Database/CreateSession', this.url);\n        const { session } = await postJSON(this.config, url);\n        this.session = session;\n        return session;\n    }\n}\nasync function postJSON(config, url, body = {}) {\n    const auth = btoa(`${config.username}:${config.password}`);\n    const { fetch } = config;\n    const response = await fetch(url.toString(), {\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers: {\n            'Content-Type': 'application/json',\n            'User-Agent': `database-js/${Version}`,\n            Authorization: `Basic ${auth}`\n        },\n        cache: 'no-store'\n    });\n    if (response.ok) {\n        return await response.json();\n    }\n    else {\n        let error = null;\n        try {\n            const e = (await response.json()).error;\n            error = new DatabaseError(e.message, response.status, e);\n        }\n        catch {\n            error = new DatabaseError(response.statusText, response.status, {\n                code: 'internal',\n                message: response.statusText\n            });\n        }\n        throw error;\n    }\n}\nexport function connect(config) {\n    return new Connection(config);\n}\nfunction parseArrayRow(fields, rawRow, cast) {\n    const row = decodeRow(rawRow);\n    return fields.map((field, ix) => {\n        return cast(field, row[ix]);\n    });\n}\nfunction parseObjectRow(fields, rawRow, cast) {\n    const row = decodeRow(rawRow);\n    return fields.reduce((acc, field, ix) => {\n        acc[field.name] = cast(field, row[ix]);\n        return acc;\n    }, {});\n}\nfunction parse(result, cast, returnAs) {\n    const fields = result.fields;\n    const rows = result.rows ?? [];\n    return rows.map((row) => returnAs === 'array' ? parseArrayRow(fields, row, cast) : parseObjectRow(fields, row, cast));\n}\nfunction decodeRow(row) {\n    const values = row.values ? atob(row.values) : '';\n    let offset = 0;\n    return row.lengths.map((size) => {\n        const width = parseInt(size, 10);\n        if (width < 0)\n            return null;\n        const splice = values.substring(offset, offset + width);\n        offset += width;\n        return splice;\n    });\n}\nexport function cast(field, value) {\n    if (value === '' || value == null) {\n        return value;\n    }\n    switch (field.type) {\n        case 'INT8':\n        case 'INT16':\n        case 'INT24':\n        case 'INT32':\n        case 'UINT8':\n        case 'UINT16':\n        case 'UINT24':\n        case 'UINT32':\n        case 'YEAR':\n            return parseInt(value, 10);\n        case 'FLOAT32':\n        case 'FLOAT64':\n            return parseFloat(value);\n        case 'DECIMAL':\n        case 'INT64':\n        case 'UINT64':\n        case 'DATE':\n        case 'TIME':\n        case 'DATETIME':\n        case 'TIMESTAMP':\n        case 'BLOB':\n        case 'BIT':\n        case 'VARBINARY':\n        case 'BINARY':\n        case 'GEOMETRY':\n            return value;\n        case 'JSON':\n            return JSON.parse(decode(value));\n        default:\n            return decode(value);\n    }\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import { connect } from \"@planetscale/database\";\nimport { drizzle } from \"drizzle-orm/planetscale-serverless\";\nimport { b as private_env } from \"./shared-server.js\";\nimport { relations } from \"drizzle-orm\";\nimport { mysqlTableCreator, varchar, bigint, mysqlEnum, timestamp, text } from \"drizzle-orm/mysql-core\";\nconst mysqlTable = mysqlTableCreator((name) => `tako_${name}`);\nconst user = mysqlTable(\"auth_user\", {\n  id: varchar(\"id\", {\n    length: 15\n    // change this when using custom user ids\n  }).primaryKey(),\n  email: varchar(\"email\", { length: 128 }).unique()\n  // other user attributes\n});\nconst key = mysqlTable(\"user_key\", {\n  id: varchar(\"id\", {\n    length: 255\n  }).primaryKey(),\n  userId: varchar(\"user_id\", {\n    length: 15\n  }).notNull(),\n  hashedPassword: varchar(\"hashed_password\", {\n    length: 255\n  })\n});\nconst session = mysqlTable(\"user_session\", {\n  id: varchar(\"id\", {\n    length: 128\n  }).primaryKey(),\n  userId: varchar(\"user_id\", {\n    length: 15\n  }).notNull(),\n  activeExpires: bigint(\"active_expires\", {\n    mode: \"number\"\n  }).notNull(),\n  idleExpires: bigint(\"idle_expires\", {\n    mode: \"number\"\n  }).notNull(),\n  email: varchar(\"email\", { length: 128 })\n});\nconst itemsTable = mysqlTable(\"item\", {\n  id: varchar(\"id\", {\n    length: 48\n  }).primaryKey(),\n  userId: varchar(\"user_id\", {\n    length: 15\n  }).notNull(),\n  name: varchar(\"name\", {\n    length: 75\n  }).notNull(),\n  type: mysqlEnum(\"type\", [\"folder\", \"file\"]).notNull(),\n  parentId: varchar(\"parent_id\", {\n    length: 48\n  }),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow()\n});\nconst itemsRelations = relations(itemsTable, ({ one }) => ({\n  file: one(filesTable, {\n    fields: [itemsTable.id],\n    references: [filesTable.itemId]\n  })\n}));\nconst filesTable = mysqlTable(\"file\", {\n  id: varchar(\"id\", {\n    length: 48\n  }).primaryKey(),\n  itemId: varchar(\"item_id\", {\n    length: 48\n  }).notNull(),\n  content: text(\"content\").notNull()\n});\nconst filesRelations = relations(filesTable, ({ one }) => ({\n  item: one(itemsTable, {\n    fields: [filesTable.itemId],\n    references: [itemsTable.id]\n  })\n}));\nconst schema = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  filesRelations,\n  filesTable,\n  itemsRelations,\n  itemsTable,\n  key,\n  mysqlTable,\n  session,\n  user\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst connection = connect({\n  url: private_env.DATABASE_URL\n});\nconst db = drizzle(connection, { schema });\nexport {\n  connection as c,\n  db as d,\n  filesTable as f,\n  itemsTable as i\n};\n", "const createPreparedStatementHelper = (placeholder) => {\n    const helper = (values) => {\n        const keys = Object.keys(values);\n        return [\n            keys.map((k) => escapeName(k)),\n            keys.map((_, i) => placeholder(i)),\n            keys.map((k) => values[k])\n        ];\n    };\n    return helper;\n};\nconst ESCAPE_CHAR = \"`\";\nexport const escapeName = (val) => {\n    return `${ESCAPE_CHAR}${val}${ESCAPE_CHAR}`;\n};\nexport const helper = createPreparedStatementHelper(() => \"?\");\nexport const getSetArgs = (fields, placeholders) => {\n    return fields\n        .map((field, i) => [field, placeholders[i]].join(\" = \"))\n        .join(\",\");\n};\n", "import { helper, getSetArgs, escapeName } from \"../utils.js\";\nexport const mysql2Adapter = (db, tables) => {\n    const ESCAPED_USER_TABLE_NAME = escapeName(tables.user);\n    const ESCAPED_SESSION_TABLE_NAME = tables.session\n        ? escapeName(tables.session)\n        : null;\n    const ESCAPED_KEY_TABLE_NAME = escapeName(tables.key);\n    const transaction = async (execute) => {\n        const connection = await db.getConnection();\n        try {\n            await connection.beginTransaction();\n            await execute(connection);\n            await connection.commit();\n            return;\n        }\n        catch (e) {\n            await connection.rollback();\n            throw e;\n        }\n    };\n    return (LuciaError) => {\n        return {\n            getUser: async (userId) => {\n                const result = await get(db.query(`SELECT * FROM ${ESCAPED_USER_TABLE_NAME} WHERE id = ?`, [\n                    userId\n                ]));\n                return result;\n            },\n            setUser: async (user, key) => {\n                if (!key) {\n                    const [userFields, userValues, userArgs] = helper(user);\n                    await db.execute(`INSERT INTO ${ESCAPED_USER_TABLE_NAME} ( ${userFields} ) VALUES ( ${userValues} )`, userArgs);\n                    return;\n                }\n                try {\n                    await transaction(async (connection) => {\n                        const [userFields, userValues, userArgs] = helper(user);\n                        await connection.execute(`INSERT INTO ${ESCAPED_USER_TABLE_NAME} ( ${userFields} ) VALUES ( ${userValues} )`, userArgs);\n                        const [keyFields, keyValues, keyArgs] = helper(key);\n                        await connection.execute(`INSERT INTO ${ESCAPED_KEY_TABLE_NAME} ( ${keyFields} ) VALUES ( ${keyValues} )`, keyArgs);\n                    });\n                }\n                catch (e) {\n                    const error = e;\n                    if (error.code === \"ER_DUP_ENTRY\" &&\n                        error.message?.includes(\"PRIMARY\") &&\n                        error.message?.includes(tables.key)) {\n                        throw new LuciaError(\"AUTH_DUPLICATE_KEY_ID\");\n                    }\n                    throw e;\n                }\n            },\n            deleteUser: async (userId) => {\n                await db.query(`DELETE FROM ${ESCAPED_USER_TABLE_NAME} WHERE id = ?`, [\n                    userId\n                ]);\n            },\n            updateUser: async (userId, partialUser) => {\n                const [fields, values, args] = helper(partialUser);\n                await db.execute(`UPDATE ${ESCAPED_USER_TABLE_NAME} SET ${getSetArgs(fields, values)} WHERE id = ?`, [...args, userId]);\n            },\n            getSession: async (sessionId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const result = await get(db.query(`SELECT * FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE id = ?`, [\n                    sessionId\n                ]));\n                return result;\n            },\n            getSessionsByUserId: async (userId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const result = await getAll(db.query(`SELECT * FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE user_id = ?`, [userId]));\n                return result;\n            },\n            setSession: async (session) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                try {\n                    const [fields, values, args] = helper(session);\n                    await db.execute(`INSERT INTO ${ESCAPED_SESSION_TABLE_NAME} ( ${fields} ) VALUES ( ${values} )`, args);\n                }\n                catch (e) {\n                    const error = e;\n                    if (error.errno === 1452 && error.message?.includes(\"(`user_id`)\")) {\n                        throw new LuciaError(\"AUTH_INVALID_USER_ID\");\n                    }\n                    throw e;\n                }\n            },\n            deleteSession: async (sessionId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                await db.execute(`DELETE FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE id = ?`, [sessionId]);\n            },\n            deleteSessionsByUserId: async (userId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                await db.execute(`DELETE FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE user_id = ?`, [userId]);\n            },\n            updateSession: async (sessionId, partialSession) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const [fields, values, args] = helper(partialSession);\n                await db.execute(`UPDATE ${ESCAPED_SESSION_TABLE_NAME} SET ${getSetArgs(fields, values)} WHERE id = ?`, [...args, sessionId]);\n            },\n            getKey: async (keyId) => {\n                const result = await get(db.query(`SELECT * FROM ${ESCAPED_KEY_TABLE_NAME} WHERE id = ?`, [\n                    keyId\n                ]));\n                return result;\n            },\n            getKeysByUserId: async (userId) => {\n                const result = getAll(db.execute(`SELECT * FROM ${ESCAPED_KEY_TABLE_NAME} WHERE user_id = ?`, [userId]));\n                return result;\n            },\n            setKey: async (key) => {\n                try {\n                    const [fields, values, args] = helper(key);\n                    await db.execute(`INSERT INTO ${ESCAPED_KEY_TABLE_NAME} ( ${fields} ) VALUES ( ${values} )`, args);\n                }\n                catch (e) {\n                    const error = e;\n                    if (error.errno === 1452 && error.message?.includes(\"(`user_id`)\")) {\n                        throw new LuciaError(\"AUTH_INVALID_USER_ID\");\n                    }\n                    if (error.code === \"ER_DUP_ENTRY\" &&\n                        error.message?.includes(\"PRIMARY\") &&\n                        error.message?.includes(tables.key)) {\n                        throw new LuciaError(\"AUTH_DUPLICATE_KEY_ID\");\n                    }\n                    throw e;\n                }\n            },\n            deleteKey: async (keyId) => {\n                await db.execute(`DELETE FROM ${ESCAPED_KEY_TABLE_NAME} WHERE id = ?`, [\n                    keyId\n                ]);\n            },\n            deleteKeysByUserId: async (userId) => {\n                await db.execute(`DELETE FROM ${ESCAPED_KEY_TABLE_NAME} WHERE user_id = ?`, [userId]);\n            },\n            updateKey: async (keyId, partialKey) => {\n                const [fields, values, args] = helper(partialKey);\n                await db.execute(`UPDATE ${ESCAPED_KEY_TABLE_NAME} SET ${getSetArgs(fields, values)} WHERE id = ?`, [...args, keyId]);\n            },\n            getSessionAndUser: async (sessionId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const getSessionPromise = get(db.query(`SELECT * FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE id = ?`, [\n                    sessionId\n                ]));\n                const getUserFromJoinPromise = get(db.query(`SELECT ${ESCAPED_USER_TABLE_NAME}.*, ${ESCAPED_SESSION_TABLE_NAME}.id as __session_id FROM ${ESCAPED_SESSION_TABLE_NAME} INNER JOIN ${ESCAPED_USER_TABLE_NAME} ON ${ESCAPED_USER_TABLE_NAME}.id = ${ESCAPED_SESSION_TABLE_NAME}.user_id WHERE ${ESCAPED_SESSION_TABLE_NAME}.id = ?`, [sessionId]));\n                const [sessionResult, userFromJoinResult] = await Promise.all([\n                    getSessionPromise,\n                    getUserFromJoinPromise\n                ]);\n                if (!sessionResult || !userFromJoinResult)\n                    return [null, null];\n                const { __session_id: _, ...userResult } = userFromJoinResult;\n                return [sessionResult, userResult];\n            }\n        };\n    };\n};\nconst isPacketArray = (maybeRowDataPacketArray) => {\n    const firstVal = maybeRowDataPacketArray.at(0) ?? null;\n    if (!firstVal)\n        return true;\n    if (!Array.isArray(firstVal))\n        return true;\n    return false;\n};\nexport const get = async (queryPromise) => {\n    const [rows] = await queryPromise;\n    if (!Array.isArray(rows))\n        return null;\n    const result = rows.at(0) ?? null;\n    if (!result || Array.isArray(result))\n        return null;\n    return result;\n};\nexport const getAll = async (queryPromise) => {\n    const [rows] = await queryPromise;\n    if (!Array.isArray(rows))\n        return [];\n    if (!isPacketArray(rows))\n        return [];\n    return rows;\n};\n", "import { escapeName, getSetArgs, helper } from \"../utils.js\";\nexport const planetscaleAdapter = (connection, tables) => {\n    const ESCAPED_USER_TABLE_NAME = escapeName(tables.user);\n    const ESCAPED_SESSION_TABLE_NAME = tables.session\n        ? escapeName(tables.session)\n        : null;\n    const ESCAPED_KEY_TABLE_NAME = escapeName(tables.key);\n    return (LuciaError) => {\n        return {\n            getUser: async (userId) => {\n                const result = await get(connection.execute(`SELECT * FROM ${ESCAPED_USER_TABLE_NAME} WHERE id = ?`, [userId]));\n                return result;\n            },\n            setUser: async (user, key) => {\n                if (!key) {\n                    const [userFields, userValues, userArgs] = helper(user);\n                    await connection.execute(`INSERT INTO ${ESCAPED_USER_TABLE_NAME} ( ${userFields} ) VALUES ( ${userValues} )`, userArgs);\n                    return;\n                }\n                try {\n                    await connection.transaction(async (tx) => {\n                        const [userFields, userValues, userArgs] = helper(user);\n                        await tx.execute(`INSERT INTO ${ESCAPED_USER_TABLE_NAME} ( ${userFields} ) VALUES ( ${userValues} )`, userArgs);\n                        const [keyFields, keyValues, keyArgs] = helper(key);\n                        await tx.execute(`INSERT INTO ${ESCAPED_KEY_TABLE_NAME} ( ${keyFields} ) VALUES ( ${keyValues} )`, keyArgs);\n                    });\n                }\n                catch (e) {\n                    const error = e;\n                    if (error.body?.message.includes(\"AlreadyExists\") &&\n                        error.body?.message.includes(\"PRIMARY\") &&\n                        error.body?.message.includes(`${tables.key}`)) {\n                        throw new LuciaError(\"AUTH_DUPLICATE_KEY_ID\");\n                    }\n                    throw e;\n                }\n            },\n            deleteUser: async (userId) => {\n                await connection.execute(`DELETE FROM ${ESCAPED_USER_TABLE_NAME} WHERE id = ?`, [userId]);\n            },\n            updateUser: async (userId, partialUser) => {\n                const [fields, values, args] = helper(partialUser);\n                await connection.execute(`UPDATE ${ESCAPED_USER_TABLE_NAME} SET ${getSetArgs(fields, values)} WHERE id = ?`, [...args, userId]);\n            },\n            getSession: async (sessionId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const result = await get(connection.execute(`SELECT * FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE id = ?`, [sessionId]));\n                return result ? transformPlanetscaleSession(result) : null;\n            },\n            getSessionsByUserId: async (userId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const result = await getAll(connection.execute(`SELECT * FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE user_id = ?`, [userId]));\n                return result.map((val) => transformPlanetscaleSession(val));\n            },\n            setSession: async (session) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const [fields, values, args] = helper(session);\n                await connection.execute(`INSERT INTO ${ESCAPED_SESSION_TABLE_NAME} ( ${fields} ) VALUES ( ${values} )`, args);\n            },\n            deleteSession: async (sessionId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                await connection.execute(`DELETE FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE id = ?`, [sessionId]);\n            },\n            deleteSessionsByUserId: async (userId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                await connection.execute(`DELETE FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE user_id = ?`, [userId]);\n            },\n            updateSession: async (sessionId, partialSession) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const [fields, values, args] = helper(partialSession);\n                await connection.execute(`UPDATE ${ESCAPED_SESSION_TABLE_NAME} SET ${getSetArgs(fields, values)} WHERE id = ?`, [...args, sessionId]);\n            },\n            getKey: async (keyId) => {\n                const result = await get(connection.execute(`SELECT * FROM ${ESCAPED_KEY_TABLE_NAME} WHERE id = ?`, [keyId]));\n                return result;\n            },\n            getKeysByUserId: async (userId) => {\n                const result = getAll(connection.execute(`SELECT * FROM ${ESCAPED_KEY_TABLE_NAME} WHERE user_id = ?`, [userId]));\n                return result;\n            },\n            setKey: async (key) => {\n                try {\n                    const [fields, values, args] = helper(key);\n                    await connection.execute(`INSERT INTO ${ESCAPED_KEY_TABLE_NAME} ( ${fields} ) VALUES ( ${values} )`, args);\n                }\n                catch (e) {\n                    const error = e;\n                    if (error.body?.message.includes(\"AlreadyExists\") &&\n                        error.body?.message.includes(\"PRIMARY\") &&\n                        error.body?.message.includes(`${tables.key}`)) {\n                        throw new LuciaError(\"AUTH_DUPLICATE_KEY_ID\");\n                    }\n                    throw e;\n                }\n            },\n            deleteKey: async (keyId) => {\n                await connection.execute(`DELETE FROM ${ESCAPED_KEY_TABLE_NAME} WHERE id = ?`, [keyId]);\n            },\n            deleteKeysByUserId: async (userId) => {\n                await connection.execute(`DELETE FROM ${ESCAPED_KEY_TABLE_NAME} WHERE user_id = ?`, [userId]);\n            },\n            updateKey: async (keyId, partialKey) => {\n                const [fields, values, args] = helper(partialKey);\n                await connection.execute(`UPDATE ${ESCAPED_KEY_TABLE_NAME} SET ${getSetArgs(fields, values)} WHERE id = ?`, [...args, keyId]);\n            },\n            getSessionAndUser: async (sessionId) => {\n                if (!ESCAPED_SESSION_TABLE_NAME) {\n                    throw new Error(\"Session table not defined\");\n                }\n                const [sessionResult, userFromJoinResult] = await Promise.all([\n                    get(connection.execute(`SELECT * FROM ${ESCAPED_SESSION_TABLE_NAME} WHERE id = ?`, [sessionId])),\n                    get(connection.execute(`SELECT ${ESCAPED_USER_TABLE_NAME}.*, ${ESCAPED_SESSION_TABLE_NAME}.id as __session_id FROM ${ESCAPED_SESSION_TABLE_NAME} INNER JOIN ${ESCAPED_USER_TABLE_NAME} ON ${ESCAPED_USER_TABLE_NAME}.id = ${ESCAPED_SESSION_TABLE_NAME}.user_id WHERE ${ESCAPED_SESSION_TABLE_NAME}.id = ?`, [sessionId]))\n                ]);\n                if (!sessionResult || !userFromJoinResult)\n                    return [null, null];\n                const { __session_id: _, ...userResult } = userFromJoinResult;\n                return [transformPlanetscaleSession(sessionResult), userResult];\n            }\n        };\n    };\n};\nexport const get = async (queryPromise) => {\n    const { rows } = await queryPromise;\n    const result = rows.at(0) ?? null;\n    return result;\n};\nexport const getAll = async (queryPromise) => {\n    const { rows } = await queryPromise;\n    return rows;\n};\nexport const transformPlanetscaleSession = (session) => {\n    return {\n        ...session,\n        active_expires: Number(session.active_expires),\n        idle_expires: Number(session.idle_expires)\n    };\n};\n", "export { mysql2Adapter as mysql2 } from \"./drivers/mysql2.js\";\nexport { planetscaleAdapter as planetscale } from \"./drivers/planetscale.js\";\n", "import { c as connection } from \"./index3.js\";\nimport { planetscale } from \"@lucia-auth/adapter-mysql\";\nconst parseCookie = (str) => {\n  const obj = {};\n  let index = 0;\n  while (index < str.length) {\n    const eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) {\n      break;\n    }\n    let endIdx = str.indexOf(\";\", index);\n    if (endIdx === -1) {\n      endIdx = str.length;\n    } else if (endIdx < eqIdx) {\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n    const key = str.slice(index, eqIdx).trim();\n    if (!(key in obj)) {\n      let val = str.slice(eqIdx + 1, endIdx).trim();\n      if (val.charCodeAt(0) === 34) {\n        val = val.slice(1, -1);\n      }\n      obj[key] = tryDecode(val);\n    }\n    index = endIdx + 1;\n  }\n  return obj;\n};\nconst serializeCookie = (name, val, options) => {\n  const opt = options ?? {};\n  const enc = opt.encode ?? encodeURIComponent;\n  const value = enc(val);\n  let str = name + \"=\" + value;\n  if (null != opt.maxAge) {\n    const maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError(\"option maxAge is invalid\");\n    }\n    str += \"; Max-Age=\" + Math.floor(maxAge);\n  }\n  if (opt.domain) {\n    str += \"; Domain=\" + opt.domain;\n  }\n  if (opt.path) {\n    str += \"; Path=\" + opt.path;\n  }\n  if (opt.expires) {\n    const expires = opt.expires;\n    str += \"; Expires=\" + expires.toUTCString();\n  }\n  if (opt.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n  if (opt.secure) {\n    str += \"; Secure\";\n  }\n  if (opt.priority) {\n    const priority = typeof opt.priority === \"string\" ? opt.priority.toLowerCase() : opt.priority;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(\"option priority is invalid\");\n    }\n  }\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === \"string\" ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(\"option sameSite is invalid\");\n    }\n  }\n  return str;\n};\nconst tryDecode = (str) => {\n  try {\n    return decodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n};\nconst DEFAULT_SESSION_COOKIE_NAME = \"auth_session\";\nconst defaultSessionCookieAttributes = {\n  sameSite: \"lax\",\n  path: \"/\"\n};\nconst createSessionCookie = (session, options) => {\n  let expires;\n  if (session === null) {\n    expires = 0;\n  } else if (options.cookie.expires !== false) {\n    expires = session.idlePeriodExpiresAt.getTime();\n  } else {\n    expires = Date.now() + 1e3 * 60 * 60 * 24 * 365;\n  }\n  return new Cookie(options.cookie.name ?? DEFAULT_SESSION_COOKIE_NAME, session?.sessionId ?? \"\", {\n    ...options.cookie.attributes ?? defaultSessionCookieAttributes,\n    httpOnly: true,\n    expires: new Date(expires),\n    secure: options.env === \"PROD\"\n  });\n};\nclass Cookie {\n  constructor(name, value, options) {\n    this.name = name;\n    this.value = value;\n    this.attributes = options;\n  }\n  name;\n  value;\n  attributes;\n  serialize = () => {\n    return serializeCookie(this.name, this.value, this.attributes);\n  };\n}\nconst logError = (message) => {\n  console.log(\"\\x1B[31m%s\\x1B[31m\", `[LUCIA_ERROR] ${message}`);\n};\nclass LuciaError extends Error {\n  constructor(errorMsg, detail) {\n    super(errorMsg);\n    this.message = errorMsg;\n    this.detail = detail ?? \"\";\n  }\n  detail;\n  message;\n}\nconst pbkdf2 = async (password, salt, options) => {\n  const pwKey = await crypto.subtle.importKey(\"raw\", password, \"PBKDF2\", false, [\"deriveBits\"]);\n  const keyBuffer = await crypto.subtle.deriveBits({\n    name: \"PBKDF2\",\n    hash: \"SHA-256\",\n    salt,\n    iterations: options.c\n  }, pwKey, options.dkLen * 8);\n  return new Uint8Array(keyBuffer);\n};\nconst u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\nconst nextTick = async () => {\n};\nfunction checkOpts(defaults, opts) {\n  const merged = Object.assign(defaults, opts);\n  return merged;\n}\nconst asyncLoop = async (iters, tick, cb) => {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick)\n      continue;\n    await nextTick();\n    ts += diff;\n  }\n};\nconst rotl = (a, b) => a << b | a >>> 32 - b;\nconst XorAndSalsa = (prev, pi, input, ii, out, oi) => {\n  const y00 = prev[pi++] ^ input[ii++], y01 = prev[pi++] ^ input[ii++];\n  const y02 = prev[pi++] ^ input[ii++], y03 = prev[pi++] ^ input[ii++];\n  const y04 = prev[pi++] ^ input[ii++], y05 = prev[pi++] ^ input[ii++];\n  const y06 = prev[pi++] ^ input[ii++], y07 = prev[pi++] ^ input[ii++];\n  const y08 = prev[pi++] ^ input[ii++], y09 = prev[pi++] ^ input[ii++];\n  const y10 = prev[pi++] ^ input[ii++], y11 = prev[pi++] ^ input[ii++];\n  const y12 = prev[pi++] ^ input[ii++], y13 = prev[pi++] ^ input[ii++];\n  const y14 = prev[pi++] ^ input[ii++], y15 = prev[pi++] ^ input[ii++];\n  let x00 = y00, x01 = y01, x02 = y02, x03 = y03, x04 = y04, x05 = y05, x06 = y06, x07 = y07, x08 = y08, x09 = y09, x10 = y10, x11 = y11, x12 = y12, x13 = y13, x14 = y14, x15 = y15;\n  for (let i = 0; i < 8; i += 2) {\n    x04 ^= rotl(x00 + x12 | 0, 7);\n    x08 ^= rotl(x04 + x00 | 0, 9);\n    x12 ^= rotl(x08 + x04 | 0, 13);\n    x00 ^= rotl(x12 + x08 | 0, 18);\n    x09 ^= rotl(x05 + x01 | 0, 7);\n    x13 ^= rotl(x09 + x05 | 0, 9);\n    x01 ^= rotl(x13 + x09 | 0, 13);\n    x05 ^= rotl(x01 + x13 | 0, 18);\n    x14 ^= rotl(x10 + x06 | 0, 7);\n    x02 ^= rotl(x14 + x10 | 0, 9);\n    x06 ^= rotl(x02 + x14 | 0, 13);\n    x10 ^= rotl(x06 + x02 | 0, 18);\n    x03 ^= rotl(x15 + x11 | 0, 7);\n    x07 ^= rotl(x03 + x15 | 0, 9);\n    x11 ^= rotl(x07 + x03 | 0, 13);\n    x15 ^= rotl(x11 + x07 | 0, 18);\n    x01 ^= rotl(x00 + x03 | 0, 7);\n    x02 ^= rotl(x01 + x00 | 0, 9);\n    x03 ^= rotl(x02 + x01 | 0, 13);\n    x00 ^= rotl(x03 + x02 | 0, 18);\n    x06 ^= rotl(x05 + x04 | 0, 7);\n    x07 ^= rotl(x06 + x05 | 0, 9);\n    x04 ^= rotl(x07 + x06 | 0, 13);\n    x05 ^= rotl(x04 + x07 | 0, 18);\n    x11 ^= rotl(x10 + x09 | 0, 7);\n    x08 ^= rotl(x11 + x10 | 0, 9);\n    x09 ^= rotl(x08 + x11 | 0, 13);\n    x10 ^= rotl(x09 + x08 | 0, 18);\n    x12 ^= rotl(x15 + x14 | 0, 7);\n    x13 ^= rotl(x12 + x15 | 0, 9);\n    x14 ^= rotl(x13 + x12 | 0, 13);\n    x15 ^= rotl(x14 + x13 | 0, 18);\n  }\n  out[oi++] = y00 + x00 | 0;\n  out[oi++] = y01 + x01 | 0;\n  out[oi++] = y02 + x02 | 0;\n  out[oi++] = y03 + x03 | 0;\n  out[oi++] = y04 + x04 | 0;\n  out[oi++] = y05 + x05 | 0;\n  out[oi++] = y06 + x06 | 0;\n  out[oi++] = y07 + x07 | 0;\n  out[oi++] = y08 + x08 | 0;\n  out[oi++] = y09 + x09 | 0;\n  out[oi++] = y10 + x10 | 0;\n  out[oi++] = y11 + x11 | 0;\n  out[oi++] = y12 + x12 | 0;\n  out[oi++] = y13 + x13 | 0;\n  out[oi++] = y14 + x14 | 0;\n  out[oi++] = y15 + x15 | 0;\n};\nconst BlockMix = (input, ii, out, oi, r) => {\n  let head = oi + 0;\n  let tail = oi + 16 * r;\n  for (let i = 0; i < 16; i++)\n    out[tail + i] = input[ii + (2 * r - 1) * 16 + i];\n  for (let i = 0; i < r; i++, head += 16, ii += 16) {\n    XorAndSalsa(out, tail, input, ii, out, head);\n    if (i > 0)\n      tail += 16;\n    XorAndSalsa(out, head, input, ii += 16, out, tail);\n  }\n};\nconst scryptInit = async (password, salt, _opts) => {\n  const opts = checkOpts({\n    dkLen: 32,\n    asyncTick: 10,\n    maxmem: 1024 ** 3 + 1024\n  }, _opts);\n  const { N, r, p, dkLen, asyncTick, maxmem, onProgress } = opts;\n  if (onProgress !== void 0 && typeof onProgress !== \"function\")\n    throw new Error(\"progressCb should be function\");\n  const blockSize = 128 * r;\n  const blockSize32 = blockSize / 4;\n  if (N <= 1 || (N & N - 1) !== 0 || N >= 2 ** (blockSize / 8) || N > 2 ** 32) {\n    throw new Error(\"Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32\");\n  }\n  if (p < 0 || p > (2 ** 32 - 1) * 32 / blockSize) {\n    throw new Error(\"Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)\");\n  }\n  if (dkLen < 0 || dkLen > (2 ** 32 - 1) * 32) {\n    throw new Error(\"Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32\");\n  }\n  const memUsed = blockSize * (N + p);\n  if (memUsed > maxmem) {\n    throw new Error(`Scrypt: parameters too large, ${memUsed} (128 * r * (N + p)) > ${maxmem} (maxmem)`);\n  }\n  const B = await pbkdf2(password, salt, { c: 1, dkLen: blockSize * p });\n  const B32 = u32(B);\n  const V = u32(new Uint8Array(blockSize * N));\n  const tmp = u32(new Uint8Array(blockSize));\n  let blockMixCb = () => {\n  };\n  if (onProgress) {\n    const totalBlockMix = 2 * N * p;\n    const callbackPer = Math.max(Math.floor(totalBlockMix / 1e4), 1);\n    let blockMixCnt = 0;\n    blockMixCb = () => {\n      blockMixCnt++;\n      if (onProgress && (!(blockMixCnt % callbackPer) || blockMixCnt === totalBlockMix))\n        onProgress(blockMixCnt / totalBlockMix);\n    };\n  }\n  return { N, r, p, dkLen, blockSize32, V, B32, B, tmp, blockMixCb, asyncTick };\n};\nconst scrypt = async (password, salt, opts) => {\n  const { N, r, p, dkLen, blockSize32, V, B32, B, tmp, blockMixCb, asyncTick } = await scryptInit(password, salt, opts);\n  for (let pi = 0; pi < p; pi++) {\n    const Pi = blockSize32 * pi;\n    for (let i = 0; i < blockSize32; i++)\n      V[i] = B32[Pi + i];\n    let pos = 0;\n    await asyncLoop(N - 1, asyncTick, (i) => {\n      BlockMix(V, pos, V, pos += blockSize32, r);\n      blockMixCb();\n    });\n    BlockMix(V, (N - 1) * blockSize32, B32, Pi, r);\n    blockMixCb();\n    await asyncLoop(N, asyncTick, (i) => {\n      const j = B32[Pi + blockSize32 - 16] % N;\n      for (let k = 0; k < blockSize32; k++)\n        tmp[k] = B32[Pi + k] ^ V[j * blockSize32 + k];\n      BlockMix(tmp, 0, B32, Pi, r);\n      blockMixCb();\n    });\n  }\n  const res = await pbkdf2(password, B, { c: 1, dkLen });\n  B.fill(0);\n  V.fill(0);\n  tmp.fill(0);\n  return res;\n};\nconst getRandomValues = (bytes) => {\n  return crypto.getRandomValues(new Uint8Array(bytes));\n};\nconst DEFAULT_ALPHABET = \"abcdefghijklmnopqrstuvwxyz1234567890\";\nconst generateRandomString = (size, alphabet = DEFAULT_ALPHABET) => {\n  const mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1;\n  const step = -~(1.6 * mask * size / alphabet.length);\n  let bytes = getRandomValues(step);\n  let id = \"\";\n  let index = 0;\n  while (id.length !== size) {\n    id += alphabet[bytes[index] & mask] ?? \"\";\n    index += 1;\n    if (index > bytes.length) {\n      bytes = getRandomValues(step);\n      index = 0;\n    }\n  }\n  return id;\n};\nconst generateScryptHash = async (s) => {\n  const salt = generateRandomString(16);\n  const key = await hashWithScrypt(s.normalize(\"NFKC\"), salt);\n  return `s2:${salt}:${key}`;\n};\nconst hashWithScrypt = async (s, salt, blockSize = 16) => {\n  const keyUint8Array = await scrypt(new TextEncoder().encode(s), new TextEncoder().encode(salt), {\n    N: 16384,\n    r: blockSize,\n    p: 1,\n    dkLen: 64\n  });\n  return convertUint8ArrayToHex(keyUint8Array);\n};\nconst validateScryptHash = async (s, hash) => {\n  if (hash.startsWith(\"$2a\")) {\n    throw new LuciaError(\"AUTH_OUTDATED_PASSWORD\");\n  }\n  const arr = hash.split(\":\");\n  if (arr.length === 2) {\n    const [salt2, key2] = arr;\n    const targetKey = await hashWithScrypt(s.normalize(\"NFKC\"), salt2, 8);\n    const result = constantTimeEqual(targetKey, key2);\n    return result;\n  }\n  if (arr.length !== 3)\n    return false;\n  const [version, salt, key] = arr;\n  if (version === \"s2\") {\n    const targetKey = await hashWithScrypt(s.normalize(\"NFKC\"), salt);\n    const result = constantTimeEqual(targetKey, key);\n    return result;\n  }\n  return false;\n};\nconst constantTimeEqual = (a, b) => {\n  if (a.length !== b.length) {\n    return false;\n  }\n  const aUint8Array = new TextEncoder().encode(a);\n  const bUint8Array = new TextEncoder().encode(b);\n  let c = 0;\n  for (let i = 0; i < a.length; i++) {\n    c |= aUint8Array[i] ^ bUint8Array[i];\n  }\n  return c === 0;\n};\nconst convertUint8ArrayToHex = (arr) => {\n  return [...arr].map((x) => x.toString(16).padStart(2, \"0\")).join(\"\");\n};\nconst isWithinExpiration = (expiresInMs) => {\n  const currentTime = Date.now();\n  if (currentTime > expiresInMs)\n    return false;\n  return true;\n};\nconst isValidDatabaseSession = (databaseSession) => {\n  return isWithinExpiration(databaseSession.idle_expires);\n};\nconst DEBUG_GLOBAL = \"__lucia_debug_mode\";\nconst ESCAPE = \"\\x1B\";\nconst DEFAULT_TEXT_FORMAT = \"\\x1B[0m\";\nconst DEFAULT_FG_BG = `${ESCAPE}[0m`;\nconst RED_CODE = 9;\nconst LUCIA_COLOR_CODE = 63;\nconst WHITE_CODE = 231;\nconst GREEN_CODE = 34;\nconst CYAN_CODE = 6;\nconst YELLOW_CODE = 3;\nconst PURPLE_CODE = 5;\nconst BLUE_CODE = 4;\nconst globalContext = globalThis;\nglobalContext[DEBUG_GLOBAL] = false;\nconst format = (text, format2, removeFormat) => {\n  return `${format2}${text}${removeFormat ? removeFormat : DEFAULT_TEXT_FORMAT}`;\n};\nconst bgFormat = (text, colorCode) => {\n  return format(text, `${ESCAPE}[48;5;${colorCode}m`, DEFAULT_FG_BG);\n};\nconst fgFormat = (text, colorCode) => {\n  return format(text, `${ESCAPE}[38;5;${colorCode}m`, DEFAULT_FG_BG);\n};\nconst bg = {\n  lucia: (text) => bgFormat(text, LUCIA_COLOR_CODE),\n  red: (text) => bgFormat(text, RED_CODE),\n  white: (text) => bgFormat(text, WHITE_CODE),\n  green: (text) => bgFormat(text, GREEN_CODE),\n  cyan: (text) => bgFormat(text, CYAN_CODE),\n  yellow: (text) => bgFormat(text, YELLOW_CODE),\n  purple: (text) => bgFormat(text, PURPLE_CODE),\n  blue: (text) => bgFormat(text, BLUE_CODE)\n};\nconst fg = {\n  lucia: (text) => fgFormat(text, LUCIA_COLOR_CODE),\n  red: (text) => fgFormat(text, RED_CODE),\n  white: (text) => fgFormat(text, WHITE_CODE),\n  green: (text) => fgFormat(text, GREEN_CODE),\n  cyan: (text) => fgFormat(text, CYAN_CODE),\n  yellow: (text) => fgFormat(text, YELLOW_CODE),\n  purple: (text) => fgFormat(text, PURPLE_CODE),\n  blue: (text) => fgFormat(text, BLUE_CODE),\n  default: (text) => format(text, DEFAULT_TEXT_FORMAT)\n};\nconst bold = (text) => {\n  return format(text, `${ESCAPE}[1m`, `${ESCAPE}[22m`);\n};\nconst dim = (text) => {\n  return format(text, `${ESCAPE}[2m`, `${ESCAPE}[22m`);\n};\nconst isDebugModeEnabled = () => {\n  return Boolean(globalContext[DEBUG_GLOBAL]);\n};\nconst linebreak = () => console.log(\"\");\nconst createCategory = (name, themeTextColor) => {\n  const createLogger = (textColor = fg.default) => {\n    return (text, subtext) => {\n      if (!isDebugModeEnabled())\n        return;\n      if (subtext) {\n        return log(themeTextColor(`[${name}]`), `${textColor(text)}`, subtext);\n      }\n      log(themeTextColor(`[${name}]`), `${textColor(text)}`);\n    };\n  };\n  return {\n    info: createLogger(),\n    notice: createLogger(fg.yellow),\n    fail: createLogger(fg.red),\n    success: createLogger(fg.green)\n  };\n};\nconst enableDebugMode = () => {\n  globalContext[DEBUG_GLOBAL] = true;\n};\nconst disableDebugMode = () => {\n  globalContext[DEBUG_GLOBAL] = false;\n};\nconst debug = {\n  init: (debugEnabled) => {\n    if (debugEnabled) {\n      enableDebugMode();\n      linebreak();\n      console.log(` ${bg.lucia(bold(fg.white(\" lucia \")))}  ${fg.lucia(bold(\"Debug mode enabled\"))}`);\n    } else {\n      disableDebugMode();\n    }\n  },\n  request: {\n    init: (method, href) => {\n      if (!isDebugModeEnabled())\n        return;\n      linebreak();\n      const getUrl = () => {\n        try {\n          const url = new URL(href);\n          return url.origin + url.pathname;\n        } catch {\n          return href;\n        }\n      };\n      log(bg.cyan(bold(fg.white(\" request \"))), fg.cyan(`${method.toUpperCase()} ${getUrl()}`));\n    },\n    ...createCategory(\"request\", fg.cyan)\n  },\n  session: createCategory(\"session\", fg.purple),\n  key: createCategory(\"key\", fg.blue)\n};\nconst log = (type, text, subtext) => {\n  if (!subtext) {\n    return console.log(`${dim((/* @__PURE__ */ new Date()).toLocaleTimeString())}  ${type} ${text}`);\n  }\n  console.log(`${dim((/* @__PURE__ */ new Date()).toLocaleTimeString())}  ${type} ${text} ${dim(subtext)}`);\n};\nconst createHeadersFromObject = (headersObject) => {\n  const headers = new Headers();\n  for (const [key, value] of Object.entries(headersObject)) {\n    if (value === null || value === void 0)\n      continue;\n    if (typeof value === \"string\") {\n      headers.set(key, value);\n    } else {\n      for (const item of value) {\n        headers.append(key, item);\n      }\n    }\n  }\n  return headers;\n};\nconst isAllowedOrigin = (origin, host, allowedSubdomains) => {\n  const originHost = new URL(origin).host;\n  const baseDomain = getBaseDomain(host);\n  if (host.length < 1 || origin.length < 1)\n    return false;\n  if (originHost === host)\n    return true;\n  if (allowedSubdomains === \"*\") {\n    if (originHost.endsWith(`.${baseDomain}`))\n      return true;\n    return false;\n  }\n  for (const subdomain of allowedSubdomains) {\n    const allowedHostPermutation = subdomain === null ? baseDomain : [subdomain, baseDomain].join(\".\");\n    if (allowedHostPermutation === originHost)\n      return true;\n  }\n  return false;\n};\nconst getBaseDomain = (host) => {\n  if (host.startsWith(\"localhost:\"))\n    return host;\n  return host.split(\".\").slice(-2).join(\".\");\n};\nconst safeParseUrl = (url) => {\n  try {\n    return new URL(url);\n  } catch {\n    return null;\n  }\n};\nclass AuthRequest {\n  auth;\n  requestContext;\n  constructor(auth2, config) {\n    debug.request.init(config.requestContext.request.method, config.requestContext.request.url ?? \"(url unknown)\");\n    this.auth = auth2;\n    this.requestContext = config.requestContext;\n    const csrfProtectionConfig = typeof config.csrfProtection === \"object\" ? config.csrfProtection : {};\n    const csrfProtectionEnabled = config.csrfProtection !== false;\n    if (!csrfProtectionEnabled || isValidRequestOrigin(this.requestContext.request, csrfProtectionConfig)) {\n      this.storedSessionId = this.requestContext.sessionCookie ?? auth2.readSessionCookie(this.requestContext.request.headers.get(\"Cookie\"));\n    } else {\n      this.storedSessionId = null;\n    }\n    this.bearerToken = auth2.readBearerToken(this.requestContext.request.headers.get(\"Authorization\"));\n  }\n  validatePromise = null;\n  validateBearerTokenPromise = null;\n  storedSessionId;\n  bearerToken;\n  setSession = (session) => {\n    const sessionId = session?.sessionId ?? null;\n    if (this.storedSessionId === sessionId)\n      return;\n    this.validatePromise = null;\n    this.setSessionCookie(session);\n  };\n  maybeSetSession = (session) => {\n    try {\n      this.setSession(session);\n    } catch {\n    }\n  };\n  setSessionCookie = (session) => {\n    const sessionId = session?.sessionId ?? null;\n    if (this.storedSessionId === sessionId)\n      return;\n    this.storedSessionId = sessionId;\n    this.requestContext.setCookie(this.auth.createSessionCookie(session));\n    if (session) {\n      debug.request.notice(\"Session cookie stored\", session.sessionId);\n    } else {\n      debug.request.notice(\"Session cookie deleted\");\n    }\n  };\n  validate = async () => {\n    if (this.validatePromise) {\n      debug.request.info(\"Using cached result for session validation\");\n      return this.validatePromise;\n    }\n    this.validatePromise = new Promise(async (resolve) => {\n      if (!this.storedSessionId)\n        return resolve(null);\n      try {\n        const session = await this.auth.validateSession(this.storedSessionId);\n        if (session.fresh) {\n          this.maybeSetSession(session);\n        }\n        return resolve(session);\n      } catch (e) {\n        if (e instanceof LuciaError && e.message === \"AUTH_INVALID_SESSION_ID\") {\n          this.maybeSetSession(null);\n          return resolve(null);\n        }\n        throw e;\n      }\n    });\n    return await this.validatePromise;\n  };\n  validateBearerToken = async () => {\n    if (this.validateBearerTokenPromise) {\n      debug.request.info(\"Using cached result for bearer token validation\");\n      return this.validatePromise;\n    }\n    this.validatePromise = new Promise(async (resolve) => {\n      if (!this.bearerToken)\n        return resolve(null);\n      try {\n        const session = await this.auth.validateSession(this.bearerToken);\n        return resolve(session);\n      } catch (e) {\n        if (e instanceof LuciaError) {\n          return resolve(null);\n        }\n        throw e;\n      }\n    });\n    return await this.validatePromise;\n  };\n}\nconst isValidRequestOrigin = (request, config) => {\n  const whitelist = [\"GET\", \"HEAD\", \"OPTIONS\", \"TRACE\"];\n  if (whitelist.some((val) => val === request.method.toUpperCase())) {\n    return true;\n  }\n  const requestOrigin = request.headers.get(\"Origin\");\n  if (!requestOrigin)\n    return false;\n  if (!requestOrigin) {\n    debug.request.fail(\"No request origin available\");\n    return false;\n  }\n  let host = null;\n  if (config.host !== void 0) {\n    host = config.host ?? null;\n  } else if (request.url !== null && request.url !== void 0) {\n    host = safeParseUrl(request.url)?.host ?? null;\n  } else {\n    host = request.headers.get(config.hostHeader ?? \"Host\");\n  }\n  if (host !== null && isAllowedOrigin(requestOrigin, host, config.allowedSubDomains ?? [])) {\n    debug.request.info(\"Valid request origin\", requestOrigin);\n    return true;\n  }\n  debug.request.info(\"Invalid request origin\", requestOrigin);\n  return false;\n};\nconst transformRequestContext = ({ request, setCookie, sessionCookie }) => {\n  return {\n    request: {\n      url: request.url,\n      method: request.method,\n      headers: \"authorization\" in request.headers ? createHeadersFromObject(request.headers) : request.headers\n    },\n    setCookie,\n    sessionCookie: sessionCookie ?? request.storedSessionCookie\n  };\n};\nconst sveltekit = () => {\n  return ({ args, sessionCookieName }) => {\n    const [event] = args;\n    const requestContext = {\n      request: event.request,\n      sessionCookie: event.cookies.get(sessionCookieName) ?? null,\n      setCookie: (cookie) => {\n        event.cookies.set(cookie.name, cookie.value, cookie.attributes);\n      }\n    };\n    return requestContext;\n  };\n};\nconst lucia$1 = () => {\n  return ({ args }) => args[0];\n};\nconst createAdapter = (adapter) => {\n  if (!(\"user\" in adapter))\n    return adapter(LuciaError);\n  let userAdapter = adapter.user(LuciaError);\n  let sessionAdapter = adapter.session(LuciaError);\n  if (\"getSessionAndUser\" in userAdapter) {\n    const { getSessionAndUser: _, ...extractedUserAdapter } = userAdapter;\n    userAdapter = extractedUserAdapter;\n  }\n  if (\"getSessionAndUser\" in sessionAdapter) {\n    const { getSessionAndUser: _, ...extractedSessionAdapter } = sessionAdapter;\n    sessionAdapter = extractedSessionAdapter;\n  }\n  return {\n    ...userAdapter,\n    ...sessionAdapter\n  };\n};\nconst createKeyId = (providerId, providerUserId) => {\n  if (providerId.includes(\":\")) {\n    throw new TypeError(\"Provider id must not include any colons (:)\");\n  }\n  return `${providerId}:${providerUserId}`;\n};\nconst lucia = (config) => {\n  return new Auth(config);\n};\nconst validateConfiguration = (config) => {\n  const adapterProvided = config.adapter;\n  if (!adapterProvided) {\n    logError('Adapter is not defined in configuration (\"config.adapter\")');\n    process.exit(1);\n  }\n};\nclass Auth {\n  adapter;\n  sessionCookieConfig;\n  sessionExpiresIn;\n  csrfProtection;\n  env;\n  passwordHash = {\n    generate: generateScryptHash,\n    validate: validateScryptHash\n  };\n  middleware = lucia$1();\n  experimental;\n  constructor(config) {\n    validateConfiguration(config);\n    this.adapter = createAdapter(config.adapter);\n    this.env = config.env;\n    this.sessionExpiresIn = {\n      activePeriod: config.sessionExpiresIn?.activePeriod ?? 1e3 * 60 * 60 * 24,\n      idlePeriod: config.sessionExpiresIn?.idlePeriod ?? 1e3 * 60 * 60 * 24 * 14\n    };\n    this.getUserAttributes = (databaseUser) => {\n      const defaultTransform = () => {\n        return {};\n      };\n      const transform = config.getUserAttributes ?? defaultTransform;\n      return transform(databaseUser);\n    };\n    this.getSessionAttributes = (databaseSession) => {\n      const defaultTransform = () => {\n        return {};\n      };\n      const transform = config.getSessionAttributes ?? defaultTransform;\n      return transform(databaseSession);\n    };\n    this.csrfProtection = config.csrfProtection ?? true;\n    this.sessionCookieConfig = config.sessionCookie ?? {};\n    if (config.passwordHash) {\n      this.passwordHash = config.passwordHash;\n    }\n    if (config.middleware) {\n      this.middleware = config.middleware;\n    }\n    this.experimental = {\n      debugMode: config.experimental?.debugMode ?? false\n    };\n    debug.init(this.experimental.debugMode);\n  }\n  getUserAttributes;\n  getSessionAttributes;\n  transformDatabaseUser = (databaseUser) => {\n    const attributes = this.getUserAttributes(databaseUser);\n    return {\n      ...attributes,\n      userId: databaseUser.id\n    };\n  };\n  transformDatabaseKey = (databaseKey) => {\n    const [providerId, ...providerUserIdSegments] = databaseKey.id.split(\":\");\n    const providerUserId = providerUserIdSegments.join(\":\");\n    const userId = databaseKey.user_id;\n    const isPasswordDefined = !!databaseKey.hashed_password;\n    return {\n      providerId,\n      providerUserId,\n      userId,\n      passwordDefined: isPasswordDefined\n    };\n  };\n  transformDatabaseSession = (databaseSession, context) => {\n    const attributes = this.getSessionAttributes(databaseSession);\n    const active = isWithinExpiration(databaseSession.active_expires);\n    return {\n      ...attributes,\n      user: context.user,\n      sessionId: databaseSession.id,\n      activePeriodExpiresAt: new Date(Number(databaseSession.active_expires)),\n      idlePeriodExpiresAt: new Date(Number(databaseSession.idle_expires)),\n      state: active ? \"active\" : \"idle\",\n      fresh: context.fresh\n    };\n  };\n  getDatabaseUser = async (userId) => {\n    const databaseUser = await this.adapter.getUser(userId);\n    if (!databaseUser) {\n      throw new LuciaError(\"AUTH_INVALID_USER_ID\");\n    }\n    return databaseUser;\n  };\n  getDatabaseSession = async (sessionId) => {\n    const databaseSession = await this.adapter.getSession(sessionId);\n    if (!databaseSession) {\n      debug.session.fail(\"Session not found\", sessionId);\n      throw new LuciaError(\"AUTH_INVALID_SESSION_ID\");\n    }\n    if (!isValidDatabaseSession(databaseSession)) {\n      debug.session.fail(`Session expired at ${new Date(Number(databaseSession.idle_expires))}`, sessionId);\n      throw new LuciaError(\"AUTH_INVALID_SESSION_ID\");\n    }\n    return databaseSession;\n  };\n  getDatabaseSessionAndUser = async (sessionId) => {\n    if (this.adapter.getSessionAndUser) {\n      const [databaseSession2, databaseUser2] = await this.adapter.getSessionAndUser(sessionId);\n      if (!databaseSession2) {\n        debug.session.fail(\"Session not found\", sessionId);\n        throw new LuciaError(\"AUTH_INVALID_SESSION_ID\");\n      }\n      if (!isValidDatabaseSession(databaseSession2)) {\n        debug.session.fail(`Session expired at ${new Date(Number(databaseSession2.idle_expires))}`, sessionId);\n        throw new LuciaError(\"AUTH_INVALID_SESSION_ID\");\n      }\n      return [databaseSession2, databaseUser2];\n    }\n    const databaseSession = await this.getDatabaseSession(sessionId);\n    const databaseUser = await this.getDatabaseUser(databaseSession.user_id);\n    return [databaseSession, databaseUser];\n  };\n  validateSessionIdArgument = (sessionId) => {\n    if (!sessionId) {\n      debug.session.fail(\"Empty session id\");\n      throw new LuciaError(\"AUTH_INVALID_SESSION_ID\");\n    }\n  };\n  getNewSessionExpiration = (sessionExpiresIn) => {\n    const activePeriodExpiresAt = new Date((/* @__PURE__ */ new Date()).getTime() + (sessionExpiresIn?.activePeriod ?? this.sessionExpiresIn.activePeriod));\n    const idlePeriodExpiresAt = new Date(activePeriodExpiresAt.getTime() + (sessionExpiresIn?.idlePeriod ?? this.sessionExpiresIn.idlePeriod));\n    return { activePeriodExpiresAt, idlePeriodExpiresAt };\n  };\n  getUser = async (userId) => {\n    const databaseUser = await this.getDatabaseUser(userId);\n    const user = this.transformDatabaseUser(databaseUser);\n    return user;\n  };\n  createUser = async (options) => {\n    const userId = options.userId ?? generateRandomString(15);\n    const userAttributes = options.attributes ?? {};\n    const databaseUser = {\n      ...userAttributes,\n      id: userId\n    };\n    if (options.key === null) {\n      await this.adapter.setUser(databaseUser, null);\n      return this.transformDatabaseUser(databaseUser);\n    }\n    const keyId = createKeyId(options.key.providerId, options.key.providerUserId);\n    const password = options.key.password;\n    const hashedPassword = password === null ? null : await this.passwordHash.generate(password);\n    await this.adapter.setUser(databaseUser, {\n      id: keyId,\n      user_id: userId,\n      hashed_password: hashedPassword\n    });\n    return this.transformDatabaseUser(databaseUser);\n  };\n  updateUserAttributes = async (userId, attributes) => {\n    await this.adapter.updateUser(userId, attributes);\n    return await this.getUser(userId);\n  };\n  deleteUser = async (userId) => {\n    await this.adapter.deleteSessionsByUserId(userId);\n    await this.adapter.deleteKeysByUserId(userId);\n    await this.adapter.deleteUser(userId);\n  };\n  useKey = async (providerId, providerUserId, password) => {\n    const keyId = createKeyId(providerId, providerUserId);\n    const databaseKey = await this.adapter.getKey(keyId);\n    if (!databaseKey) {\n      debug.key.fail(\"Key not found\", keyId);\n      throw new LuciaError(\"AUTH_INVALID_KEY_ID\");\n    }\n    const hashedPassword = databaseKey.hashed_password;\n    if (hashedPassword !== null) {\n      debug.key.info(\"Key includes password\");\n      if (!password) {\n        debug.key.fail(\"Key password not provided\", keyId);\n        throw new LuciaError(\"AUTH_INVALID_PASSWORD\");\n      }\n      const validPassword = await this.passwordHash.validate(password, hashedPassword);\n      if (!validPassword) {\n        debug.key.fail(\"Incorrect key password\", password);\n        throw new LuciaError(\"AUTH_INVALID_PASSWORD\");\n      }\n      debug.key.notice(\"Validated key password\");\n    } else {\n      if (password !== null) {\n        debug.key.fail(\"Incorrect key password\", password);\n        throw new LuciaError(\"AUTH_INVALID_PASSWORD\");\n      }\n      debug.key.info(\"No password included in key\");\n    }\n    debug.key.success(\"Validated key\", keyId);\n    return this.transformDatabaseKey(databaseKey);\n  };\n  getSession = async (sessionId) => {\n    this.validateSessionIdArgument(sessionId);\n    const [databaseSession, databaseUser] = await this.getDatabaseSessionAndUser(sessionId);\n    const user = this.transformDatabaseUser(databaseUser);\n    return this.transformDatabaseSession(databaseSession, {\n      user,\n      fresh: false\n    });\n  };\n  getAllUserSessions = async (userId) => {\n    const [user, databaseSessions] = await Promise.all([\n      this.getUser(userId),\n      await this.adapter.getSessionsByUserId(userId)\n    ]);\n    const validStoredUserSessions = databaseSessions.filter((databaseSession) => {\n      return isValidDatabaseSession(databaseSession);\n    }).map((databaseSession) => {\n      return this.transformDatabaseSession(databaseSession, {\n        user,\n        fresh: false\n      });\n    });\n    return validStoredUserSessions;\n  };\n  validateSession = async (sessionId) => {\n    this.validateSessionIdArgument(sessionId);\n    const [databaseSession, databaseUser] = await this.getDatabaseSessionAndUser(sessionId);\n    const user = this.transformDatabaseUser(databaseUser);\n    const session = this.transformDatabaseSession(databaseSession, {\n      user,\n      fresh: false\n    });\n    if (session.state === \"active\") {\n      debug.session.success(\"Validated session\", session.sessionId);\n      return session;\n    }\n    const { activePeriodExpiresAt, idlePeriodExpiresAt } = this.getNewSessionExpiration();\n    await this.adapter.updateSession(session.sessionId, {\n      active_expires: activePeriodExpiresAt.getTime(),\n      idle_expires: idlePeriodExpiresAt.getTime()\n    });\n    const renewedDatabaseSession = {\n      ...session,\n      idlePeriodExpiresAt,\n      activePeriodExpiresAt,\n      fresh: true\n    };\n    return renewedDatabaseSession;\n  };\n  createSession = async (options) => {\n    const { activePeriodExpiresAt, idlePeriodExpiresAt } = this.getNewSessionExpiration();\n    const userId = options.userId;\n    const sessionId = options?.sessionId ?? generateRandomString(40);\n    const attributes = options.attributes;\n    const databaseSession = {\n      ...attributes,\n      id: sessionId,\n      user_id: userId,\n      active_expires: activePeriodExpiresAt.getTime(),\n      idle_expires: idlePeriodExpiresAt.getTime()\n    };\n    const [user] = await Promise.all([\n      this.getUser(userId),\n      this.adapter.setSession(databaseSession)\n    ]);\n    return this.transformDatabaseSession(databaseSession, {\n      user,\n      fresh: false\n    });\n  };\n  updateSessionAttributes = async (sessionId, attributes) => {\n    this.validateSessionIdArgument(sessionId);\n    await this.adapter.updateSession(sessionId, attributes);\n    return this.getSession(sessionId);\n  };\n  invalidateSession = async (sessionId) => {\n    this.validateSessionIdArgument(sessionId);\n    await this.adapter.deleteSession(sessionId);\n    debug.session.notice(\"Invalidated session\", sessionId);\n  };\n  invalidateAllUserSessions = async (userId) => {\n    await this.adapter.deleteSessionsByUserId(userId);\n  };\n  deleteDeadUserSessions = async (userId) => {\n    const databaseSessions = await this.adapter.getSessionsByUserId(userId);\n    const deadSessionIds = databaseSessions.filter((databaseSession) => {\n      return !isValidDatabaseSession(databaseSession);\n    }).map((databaseSession) => databaseSession.id);\n    await Promise.all(deadSessionIds.map((deadSessionId) => {\n      this.adapter.deleteSession(deadSessionId);\n    }));\n  };\n  /**\n   * @deprecated To be removed in next major release\n   */\n  validateRequestOrigin = (request) => {\n    if (request.method === null) {\n      debug.request.fail(\"Request method unavailable\");\n      throw new LuciaError(\"AUTH_INVALID_REQUEST\");\n    }\n    if (request.url === null) {\n      debug.request.fail(\"Request url unavailable\");\n      throw new LuciaError(\"AUTH_INVALID_REQUEST\");\n    }\n    if (request.method.toUpperCase() !== \"GET\" && request.method.toUpperCase() !== \"HEAD\") {\n      const requestOrigin = request.headers.origin;\n      if (!requestOrigin) {\n        debug.request.fail(\"No request origin available\");\n        throw new LuciaError(\"AUTH_INVALID_REQUEST\");\n      }\n      try {\n        const url = safeParseUrl(request.url);\n        const allowedSubDomains = typeof this.csrfProtection === \"object\" ? this.csrfProtection.allowedSubDomains ?? [] : [];\n        if (url === null || !isAllowedOrigin(requestOrigin, url.origin, allowedSubDomains)) {\n          throw new LuciaError(\"AUTH_INVALID_REQUEST\");\n        }\n        debug.request.info(\"Valid request origin\", requestOrigin);\n      } catch {\n        debug.request.fail(\"Invalid origin string\", requestOrigin);\n        throw new LuciaError(\"AUTH_INVALID_REQUEST\");\n      }\n    } else {\n      debug.request.notice(\"Skipping CSRF check\");\n    }\n  };\n  readSessionCookie = (cookieHeader) => {\n    if (!cookieHeader) {\n      debug.request.info(\"No session cookie found\");\n      return null;\n    }\n    const cookies = parseCookie(cookieHeader);\n    const sessionCookieName = this.sessionCookieConfig.name ?? DEFAULT_SESSION_COOKIE_NAME;\n    const sessionId = cookies[sessionCookieName] ?? null;\n    if (sessionId) {\n      debug.request.info(\"Found session cookie\", sessionId);\n    } else {\n      debug.request.info(\"No session cookie found\");\n    }\n    return sessionId;\n  };\n  readBearerToken = (authorizationHeader) => {\n    if (!authorizationHeader) {\n      debug.request.info(\"No token found in authorization header\");\n      return null;\n    }\n    const [authScheme, token] = authorizationHeader.split(\" \");\n    if (authScheme !== \"Bearer\") {\n      debug.request.fail(\"Invalid authorization header auth scheme\", authScheme);\n      return null;\n    }\n    return token ?? null;\n  };\n  handleRequest = (...args) => {\n    const middleware = this.middleware;\n    const sessionCookieName = this.sessionCookieConfig.name ?? DEFAULT_SESSION_COOKIE_NAME;\n    return new AuthRequest(this, {\n      csrfProtection: this.csrfProtection,\n      requestContext: transformRequestContext(middleware({\n        args,\n        env: this.env,\n        sessionCookieName\n      }))\n    });\n  };\n  createSessionCookie = (session) => {\n    return createSessionCookie(session, {\n      env: this.env,\n      cookie: this.sessionCookieConfig\n    });\n  };\n  createKey = async (options) => {\n    const keyId = createKeyId(options.providerId, options.providerUserId);\n    let hashedPassword = null;\n    if (options.password !== null) {\n      hashedPassword = await this.passwordHash.generate(options.password);\n    }\n    const userId = options.userId;\n    await this.adapter.setKey({\n      id: keyId,\n      user_id: userId,\n      hashed_password: hashedPassword\n    });\n    return {\n      providerId: options.providerId,\n      providerUserId: options.providerUserId,\n      passwordDefined: !!options.password,\n      userId\n    };\n  };\n  deleteKey = async (providerId, providerUserId) => {\n    const keyId = createKeyId(providerId, providerUserId);\n    await this.adapter.deleteKey(keyId);\n  };\n  getKey = async (providerId, providerUserId) => {\n    const keyId = createKeyId(providerId, providerUserId);\n    const databaseKey = await this.adapter.getKey(keyId);\n    if (!databaseKey) {\n      throw new LuciaError(\"AUTH_INVALID_KEY_ID\");\n    }\n    const key = this.transformDatabaseKey(databaseKey);\n    return key;\n  };\n  getAllUserKeys = async (userId) => {\n    const [databaseKeys] = await Promise.all([\n      await this.adapter.getKeysByUserId(userId),\n      this.getUser(userId)\n    ]);\n    return databaseKeys.map((databaseKey) => this.transformDatabaseKey(databaseKey));\n  };\n  updateKeyPassword = async (providerId, providerUserId, password) => {\n    const keyId = createKeyId(providerId, providerUserId);\n    const hashedPassword = password === null ? null : await this.passwordHash.generate(password);\n    await this.adapter.updateKey(keyId, {\n      hashed_password: hashedPassword\n    });\n    return await this.getKey(providerId, providerUserId);\n  };\n}\nconst auth = lucia({\n  adapter: planetscale(connection, {\n    key: \"tako_user_key\",\n    session: \"tako_user_session\",\n    user: \"tako_auth_user\"\n  }),\n  env: \"PROD\",\n  middleware: sveltekit(),\n  getUserAttributes: (data) => {\n    return {\n      email: data.email\n    };\n  }\n});\nexport {\n  LuciaError as L,\n  auth as a\n};\n", "import { a as auth } from \"./lucia.js\";\nconst handle = async ({ event, resolve }) => {\n  event.locals.auth = auth.handleRequest(event);\n  return await resolve(event);\n};\nexport {\n  handle\n};\n", "class HttpError {\n  /**\n   * @param {number} status\n   * @param {{message: string} extends App.Error ? (App.Error | string | undefined) : App.Error} body\n   */\n  constructor(status, body) {\n    this.status = status;\n    if (typeof body === \"string\") {\n      this.body = { message: body };\n    } else if (body) {\n      this.body = body;\n    } else {\n      this.body = { message: `Error: ${status}` };\n    }\n  }\n  toString() {\n    return JSON.stringify(this.body);\n  }\n}\nclass Redirect {\n  /**\n   * @param {300 | 301 | 302 | 303 | 304 | 305 | 306 | 307 | 308} status\n   * @param {string} location\n   */\n  constructor(status, location) {\n    this.status = status;\n    this.location = location;\n  }\n}\nclass ActionFailure {\n  /**\n   * @param {number} status\n   * @param {T} [data]\n   */\n  constructor(status, data) {\n    this.status = status;\n    this.data = data;\n  }\n}\nfunction error(status, body) {\n  if (isNaN(status) || status < 400 || status > 599) {\n    throw new Error(`HTTP error status codes must be between 400 and 599 \u2014 ${status} is invalid`);\n  }\n  return new HttpError(status, body);\n}\nfunction redirect(status, location) {\n  if (isNaN(status) || status < 300 || status > 308) {\n    throw new Error(\"Invalid status code\");\n  }\n  return new Redirect(status, location.toString());\n}\nfunction json(data, init) {\n  const body = JSON.stringify(data);\n  const headers = new Headers(init?.headers);\n  if (!headers.has(\"content-length\")) {\n    headers.set(\"content-length\", encoder.encode(body).byteLength.toString());\n  }\n  if (!headers.has(\"content-type\")) {\n    headers.set(\"content-type\", \"application/json\");\n  }\n  return new Response(body, {\n    ...init,\n    headers\n  });\n}\nconst encoder = new TextEncoder();\nfunction text(body, init) {\n  const headers = new Headers(init?.headers);\n  if (!headers.has(\"content-length\")) {\n    const encoded = encoder.encode(body);\n    headers.set(\"content-length\", encoded.byteLength.toString());\n    return new Response(encoded, {\n      ...init,\n      headers\n    });\n  }\n  return new Response(body, {\n    ...init,\n    headers\n  });\n}\nfunction fail(status, data) {\n  return new ActionFailure(status, data);\n}\nexport {\n  ActionFailure as A,\n  HttpError as H,\n  Redirect as R,\n  error as e,\n  fail as f,\n  json as j,\n  redirect as r,\n  text as t\n};\n", "import { n as noop, y as safe_not_equal, h as subscribe, r as run_all, z as is_function } from \"./ssr.js\";\nconst subscriber_queue = [];\nfunction readable(value, start) {\n  return {\n    subscribe: writable(value, start).subscribe\n  };\n}\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = /* @__PURE__ */ new Set();\n  function set(new_value) {\n    if (safe_not_equal(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        const run_queue = !subscriber_queue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriber_queue.push(subscriber, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n  function update(fn) {\n    set(fn(value));\n  }\n  function subscribe2(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set, update) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0 && stop) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n  return { set, update, subscribe: subscribe2 };\n}\nfunction derived(stores, fn, initial_value) {\n  const single = !Array.isArray(stores);\n  const stores_array = single ? [stores] : stores;\n  if (!stores_array.every(Boolean)) {\n    throw new Error(\"derived() expects stores as input, got a falsy value\");\n  }\n  const auto = fn.length < 2;\n  return readable(initial_value, (set, update) => {\n    let started = false;\n    const values = [];\n    let pending = 0;\n    let cleanup = noop;\n    const sync = () => {\n      if (pending) {\n        return;\n      }\n      cleanup();\n      const result = fn(single ? values[0] : values, set, update);\n      if (auto) {\n        set(result);\n      } else {\n        cleanup = is_function(result) ? result : noop;\n      }\n    };\n    const unsubscribers = stores_array.map(\n      (store, i) => subscribe(\n        store,\n        (value) => {\n          values[i] = value;\n          pending &= ~(1 << i);\n          if (started) {\n            sync();\n          }\n        },\n        () => {\n          pending |= 1 << i;\n        }\n      )\n    );\n    started = true;\n    sync();\n    return function stop() {\n      run_all(unsubscribers);\n      cleanup();\n      started = false;\n    };\n  });\n}\nfunction readonly(store) {\n  return {\n    subscribe: store.subscribe.bind(store)\n  };\n}\nexport {\n  readonly as a,\n  derived as d,\n  readable as r,\n  writable as w\n};\n", "let toastsCounter = 0;\nclass Observer {\n  subscribers;\n  toasts;\n  constructor() {\n    this.subscribers = [];\n    this.toasts = [];\n  }\n  // We use arrow functions to maintain the correct `this` reference\n  subscribe = (subscriber) => {\n    this.subscribers.push(subscriber);\n    return () => {\n      const index = this.subscribers.indexOf(subscriber);\n      this.subscribers.splice(index, 1);\n    };\n  };\n  publish = (data) => {\n    this.subscribers.forEach((subscriber) => subscriber(data));\n  };\n  addToast = (data) => {\n    this.publish(data);\n    this.toasts = [...this.toasts, data];\n  };\n  create = (data) => {\n    const { message, ...rest } = data;\n    const id = typeof data?.id === \"number\" || data.id && data.id?.length > 0 ? data.id : toastsCounter++;\n    const alreadyExists = this.toasts.find((toast) => {\n      return toast.id === id;\n    });\n    if (alreadyExists) {\n      this.toasts = this.toasts.map((toast) => {\n        if (toast.id === id) {\n          this.publish({ ...toast, ...data, id, title: message });\n          return { ...toast, ...data, id, title: message };\n        }\n        return toast;\n      });\n    } else {\n      this.addToast({ title: message, ...rest, id });\n    }\n    return id;\n  };\n  dismiss = (id) => {\n    if (!id) {\n      this.toasts.forEach((toast) => {\n        this.subscribers.forEach((subscriber) => subscriber({ id: toast.id, dismiss: true }));\n      });\n    }\n    this.subscribers.forEach((subscriber) => subscriber({ id, dismiss: true }));\n    return id;\n  };\n  message = (message, data) => {\n    return this.create({ ...data, message });\n  };\n  error = (message, data) => {\n    return this.create({ ...data, message, type: \"error\" });\n  };\n  success = (message, data) => {\n    return this.create({ ...data, type: \"success\", message });\n  };\n  info = (message, data) => {\n    return this.create({ ...data, type: \"info\", message });\n  };\n  warning = (message, data) => {\n    return this.create({ ...data, type: \"warning\", message });\n  };\n  promise = (promise, data) => {\n    const id = this.create({ ...data, promise, type: \"loading\", message: data?.loading });\n    const p = promise instanceof Promise ? promise : promise();\n    p.then((promiseData) => {\n      const message = typeof data?.success === \"function\" ? data.success(promiseData) : data?.success;\n      this.create({ id, type: \"success\", message });\n    }).catch((error) => {\n      const message = typeof data?.error === \"function\" ? data.error(error) : data?.error;\n      this.create({ id, type: \"error\", message });\n    });\n    return id;\n  };\n  // We can't provide the toast we just created as a prop as we didn't creat it yet, so we can create a default toast object, I just don't know how to use function in argument when calling()?\n  custom = (component, data) => {\n    const id = data?.id || toastsCounter++;\n    this.publish({ component, id, ...data });\n  };\n}\nconst ToastState = new Observer();\nfunction toastFunction(message, data) {\n  const id = data?.id || toastsCounter++;\n  ToastState.addToast({\n    title: message,\n    ...data,\n    id\n  });\n  return id;\n}\nconst basicToast = toastFunction;\nObject.assign(basicToast, {\n  success: ToastState.success,\n  info: ToastState.info,\n  warning: ToastState.warning,\n  error: ToastState.error,\n  custom: ToastState.custom,\n  message: ToastState.message,\n  promise: ToastState.promise,\n  dismiss: ToastState.dismiss\n});\nconst useEffect = (subscribe) => ({ subscribe });\nconst Toaster_svelte_svelte_type_style_lang = \"\";\nexport {\n  useEffect as u\n};\n", "import { c as create_ssr_component, a as add_attribute, e as each, b as createEventDispatcher, o as onDestroy, d as add_styles, f as merge_ssr_styles, g as escape, v as validate_component, m as missing_component, n as noop, h as subscribe } from \"../../chunks/ssr.js\";\nimport { u as useEffect } from \"../../chunks/Toaster.svelte_svelte_type_style_lang.js\";\nconst index$1 = \"\";\nconst index = \"\";\nconst Loader = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { visible } = $$props;\n  const bars = Array(12).fill(0);\n  if ($$props.visible === void 0 && $$bindings.visible && visible !== void 0)\n    $$bindings.visible(visible);\n  return `<div class=\"sonner-loading-wrapper\"${add_attribute(\"data-visible\", visible, 0)}><div class=\"sonner-spinner\">${each(bars, (_bar, i) => {\n    return `<div class=\"sonner-loading-bar\"></div>`;\n  })}</div></div>`;\n});\nconst Icon = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { type = \"success\" } = $$props;\n  if ($$props.type === void 0 && $$bindings.type && type !== void 0)\n    $$bindings.type(type);\n  return `${type === \"success\" ? `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" height=\"20\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\" clip-rule=\"evenodd\"></path></svg>` : `${type === \"error\" ? `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" height=\"20\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\" clip-rule=\"evenodd\"></path></svg>` : `${type === \"info\" ? `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" height=\"20\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\" clip-rule=\"evenodd\"></path></svg>` : `${type === \"warning\" ? `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" height=\"20\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\" clip-rule=\"evenodd\"></path></svg>` : ``}`}`}`}`;\n});\nconst TOAST_LIFETIME = 4e3;\nconst GAP$1 = 14;\nconst TIME_BEFORE_UNMOUNT = 200;\nconst Toast = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let isFront;\n  let isVisible;\n  let toastType;\n  let toastClass;\n  let toastDescriptionClass;\n  let heightIndex;\n  let coords;\n  let toastsHeightBefore;\n  let disabled;\n  let isPromiseLoadingOrInfiniteDuration;\n  let $$unsubscribe_effect = noop, $$subscribe_effect = () => ($$unsubscribe_effect(), $$unsubscribe_effect = subscribe(effect, ($$value) => $$value), effect);\n  let { toast } = $$props;\n  let { toasts } = $$props;\n  let { index: index2 } = $$props;\n  let { expanded } = $$props;\n  let { invert } = $$props;\n  let { heights } = $$props;\n  let { position } = $$props;\n  let { visibleToasts } = $$props;\n  let { expandByDefault } = $$props;\n  let { closeButton } = $$props;\n  let { interacting } = $$props;\n  let { duration } = $$props;\n  let { descriptionClass = \"\" } = $$props;\n  let mounted = false;\n  let removed = false;\n  let swiping = false;\n  let swipeOut = false;\n  let offsetBeforeRemove = 0;\n  let initialHeight = 0;\n  let toastRef;\n  let offset = 0;\n  let closeTimerStartTimeRef = 0;\n  let closeTimerRemainingTimeRef = toast.duration || duration || TOAST_LIFETIME;\n  let lastCloseTimerStartTimeRef = 0;\n  const dispatch = createEventDispatcher();\n  const deleteToast = () => {\n    removed = true;\n    offsetBeforeRemove = offset;\n    dispatch(\"setHeights\", heights.filter((height) => height.toastId !== toast.id));\n    setTimeout(\n      () => {\n        dispatch(\"removeToast\", toast);\n      },\n      TIME_BEFORE_UNMOUNT\n    );\n  };\n  let timeoutId;\n  const pauseTimer = () => {\n    if (lastCloseTimerStartTimeRef < closeTimerStartTimeRef) {\n      const elapsedTime = (/* @__PURE__ */ new Date()).getTime() - closeTimerStartTimeRef;\n      closeTimerRemainingTimeRef = closeTimerRemainingTimeRef - elapsedTime;\n    }\n    lastCloseTimerStartTimeRef = (/* @__PURE__ */ new Date()).getTime();\n  };\n  const startTimer = () => {\n    closeTimerStartTimeRef = (/* @__PURE__ */ new Date()).getTime();\n    timeoutId = setTimeout(\n      () => {\n        toast.onAutoClose?.(toast);\n        deleteToast();\n      },\n      closeTimerRemainingTimeRef\n    );\n  };\n  let effect;\n  onDestroy(() => {\n    dispatch(\"setHeights\", heights.filter((height) => height.toastId !== toast.id));\n  });\n  if ($$props.toast === void 0 && $$bindings.toast && toast !== void 0)\n    $$bindings.toast(toast);\n  if ($$props.toasts === void 0 && $$bindings.toasts && toasts !== void 0)\n    $$bindings.toasts(toasts);\n  if ($$props.index === void 0 && $$bindings.index && index2 !== void 0)\n    $$bindings.index(index2);\n  if ($$props.expanded === void 0 && $$bindings.expanded && expanded !== void 0)\n    $$bindings.expanded(expanded);\n  if ($$props.invert === void 0 && $$bindings.invert && invert !== void 0)\n    $$bindings.invert(invert);\n  if ($$props.heights === void 0 && $$bindings.heights && heights !== void 0)\n    $$bindings.heights(heights);\n  if ($$props.position === void 0 && $$bindings.position && position !== void 0)\n    $$bindings.position(position);\n  if ($$props.visibleToasts === void 0 && $$bindings.visibleToasts && visibleToasts !== void 0)\n    $$bindings.visibleToasts(visibleToasts);\n  if ($$props.expandByDefault === void 0 && $$bindings.expandByDefault && expandByDefault !== void 0)\n    $$bindings.expandByDefault(expandByDefault);\n  if ($$props.closeButton === void 0 && $$bindings.closeButton && closeButton !== void 0)\n    $$bindings.closeButton(closeButton);\n  if ($$props.interacting === void 0 && $$bindings.interacting && interacting !== void 0)\n    $$bindings.interacting(interacting);\n  if ($$props.duration === void 0 && $$bindings.duration && duration !== void 0)\n    $$bindings.duration(duration);\n  if ($$props.descriptionClass === void 0 && $$bindings.descriptionClass && descriptionClass !== void 0)\n    $$bindings.descriptionClass(descriptionClass);\n  isFront = index2 === 0;\n  isVisible = index2 + 1 <= visibleToasts;\n  toastType = toast.type;\n  toastClass = toast.class || \"\";\n  toastDescriptionClass = toast.descriptionClass || \"\";\n  heightIndex = heights.findIndex((height) => height.toastId === toast.id) || 0;\n  coords = position.split(\"-\");\n  toastsHeightBefore = heights.reduce(\n    (prev, curr, reducerIndex) => {\n      if (reducerIndex >= heightIndex)\n        return prev;\n      return prev + curr.height;\n    },\n    0\n  );\n  invert = toast.invert || invert;\n  disabled = toastType === \"loading\";\n  {\n    {\n      offset = heightIndex * GAP$1 + toastsHeightBefore;\n    }\n  }\n  isPromiseLoadingOrInfiniteDuration = toast.promise && toastType === \"loading\" || toast.duration === Number.POSITIVE_INFINITY;\n  $$subscribe_effect(effect = useEffect(() => {\n    if (!isPromiseLoadingOrInfiniteDuration) {\n      if (expanded || interacting) {\n        pauseTimer();\n      } else {\n        startTimer();\n      }\n    }\n    return () => clearTimeout(timeoutId);\n  }));\n  {\n    if (toast.delete) {\n      deleteToast();\n    }\n  }\n  $$unsubscribe_effect();\n  return `<li${add_attribute(\"aria-live\", toast.important ? \"assertive\" : \"polite\", 0)} aria-atomic=\"true\" role=\"status\"${add_attribute(\"tabindex\", 0, 0)}${add_attribute(\"class\", `${$$props.class} ${toastClass}`, 0)} data-sonner-toast=\"\"${add_attribute(\"data-styled\", !toast.component, 0)}${add_attribute(\"data-mounted\", mounted, 0)}${add_attribute(\"data-promise\", Boolean(toast.promise), 0)}${add_attribute(\"data-removed\", removed, 0)}${add_attribute(\"data-visible\", isVisible, 0)}${add_attribute(\"data-y-position\", coords[0], 0)}${add_attribute(\"data-x-position\", coords[1], 0)}${add_attribute(\"data-index\", index2, 0)}${add_attribute(\"data-front\", isFront, 0)}${add_attribute(\"data-swiping\", swiping, 0)}${add_attribute(\"data-type\", toastType, 0)}${add_attribute(\"data-invert\", invert, 0)}${add_attribute(\"data-swipe-out\", swipeOut, 0)}${add_attribute(\"data-expanded\", Boolean(expanded || expandByDefault && mounted), 0)}${add_styles(merge_ssr_styles(escape(`${$$props.style} ${toast.style}`, true), {\n    \"--index\": index2,\n    \"--toasts-before\": index2,\n    \"--z-index\": toasts.length - index2,\n    \"--offset\": `${removed ? offsetBeforeRemove : offset}px`,\n    \"--initial-height\": expandByDefault ? \"auto\" : `${initialHeight}px`\n  }))}${add_attribute(\"this\", toastRef, 0)}>${closeButton && !toast.component ? `<button aria-label=\"Close toast\"${add_attribute(\"data-disabled\", disabled, 0)} data-close-button><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg></button>` : ``} ${toast.component ? `${validate_component(toast.component || missing_component, \"svelte:component\").$$render($$result, {}, {}, {})}` : `${toast.title && typeof toast.title !== \"string\" ? `${validate_component(toast.title || missing_component, \"svelte:component\").$$render($$result, {}, {}, {})}` : `${toastType || toast.icon || toast.promise ? `<div data-icon=\"\">${toast.promise ? `${validate_component(Loader, \"Loader\").$$render($$result, { visible: toastType === \"loading\" }, {}, {})}` : ``} ${toast.icon ? `${validate_component(toast.icon || missing_component, \"svelte:component\").$$render($$result, {}, {}, {})}` : `${validate_component(Icon, \"Icon\").$$render($$result, { type: toastType }, {}, {})}`}</div>` : ``} <div data-content=\"\"><div data-title=\"\">${escape(toast.title)}</div> ${toast.description ? `<div data-description=\"\"${add_attribute(\"class\", descriptionClass + toastDescriptionClass, 0)}>${escape(toast.description)}</div>` : ``}</div> ${toast.cancel ? `<button data-button data-cancel>${escape(toast.cancel.label)}</button>` : ``} ${toast.action ? `<button data-button=\"\">${escape(toast.action.label)}</button>` : ``}`}`}</li>`;\n});\nconst css = {\n  code: \"[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial,\\n      Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:6px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}[data-sonner-toaster][data-x-position='right']{right:max(var(--offset), env(safe-area-inset-right))}[data-sonner-toaster][data-x-position='left']{left:max(var(--offset), env(safe-area-inset-left))}[data-sonner-toaster][data-x-position='center']{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position='top']{top:max(var(--offset), env(safe-area-inset-top))}[data-sonner-toaster][data-y-position='bottom']{bottom:max(var(--offset), env(safe-area-inset-bottom))}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;will-change:transform, opacity, height;-webkit-transition:transform 400ms, opacity 400ms, height 400ms, box-shadow 200ms;-moz-transition:transform 400ms, opacity 400ms, height 400ms, box-shadow 200ms;transition:transform 400ms, opacity 400ms, height 400ms, box-shadow 200ms;box-sizing:border-box;outline:none}[data-sonner-toast][data-styled='true']{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0px 4px 12px rgba(0, 0, 0, 0.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0px 4px 12px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(0, 0, 0, 0.2)}[data-sonner-toast][data-y-position='top']{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position='bottom']{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast] [data-description]{font-weight:400;line-height:1.4;color:inherit}[data-sonner-toast] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:-3px;margin-right:4px}[data-sonner-toast][data-promise='true'] [data-icon]>svg{opacity:0;transform:scale(0.8);transform-origin:center;animation:sonner-fade-in 300ms ease forwards}[data-sonner-toast] [data-icon]>*{flex-shrink:0}[data-sonner-toast] [data-icon] svg{margin-left:-1px}[data-sonner-toast] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:auto;border:none;cursor:pointer;outline:none;transition:opacity 400ms, box-shadow 200ms}[data-sonner-toast] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0, 0, 0, 0.4)}[data-sonner-toast] [data-button]:first-of-type{margin-left:auto}[data-sonner-toast] [data-cancel]{color:var(--color);background:var(--border-color)}[data-sonner-toast] [data-close-button]{position:absolute;left:0;top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:translate(-35%, -35%);border-radius:50%;opacity:0;cursor:pointer;z-index:1;transition:opacity 100ms, background 200ms, border-color 200ms}[data-sonner-toast] [data-close-button]:focus-visible{box-shadow:0px 4px 12px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(0, 0, 0, 0.2)}[data-sonner-toast] [data-disabled='true']{cursor:not-allowed}[data-sonner-toast]:hover [data-close-button]{opacity:1}[data-sonner-toast]:focus [data-close-button]{opacity:1}[data-sonner-toast]:focus-within [data-close-button]{opacity:1}[data-sonner-toast]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping='true']:before{content:'';position:absolute;left:0;right:0;height:100%}[data-sonner-toast][data-y-position='top'][data-swiping='true']:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position='bottom'][data-swiping='true']:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping='false'][data-removed='true']:before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]:after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted='true']{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded='false'][data-front='false']{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity 400ms}[data-sonner-toast][data-expanded='false'][data-front='false'][data-styled='true']>*{opacity:0}[data-sonner-toast][data-visible='false']{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted='true'][data-expanded='true']{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed='true'][data-front='true'][data-swipe-out='false']{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed='true'][data-front='false'][data-swipe-out='false'][data-expanded='true']{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed='true'][data-front='false'][data-swipe-out='false'][data-expanded='false']{--y:translateY(40%);opacity:0;transition:transform 500ms, opacity 200ms}[data-sonner-toast][data-removed='true'][data-front='false']:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping='true']{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out='true'][data-y-position='bottom'],[data-sonner-toast][data-swipe-out='true'][data-y-position='top']{animation:swipe-out 200ms ease-out forwards}@keyframes swipe-out{from{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media(max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset:16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - 32px)}[data-sonner-toaster][data-x-position='left']{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position='bottom']{bottom:20px}[data-sonner-toaster][data-y-position='top']{top:20px}[data-sonner-toaster][data-x-position='center']{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme='light']{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 91%);--success-text:hsl(140, 100%, 27%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%);--info-bg:hsl(210, 85%, 96%);--info-border:hsl(210, 92%, 91%);--info-text:hsl(210, 100%, 27%);--warning-bg:hsl(60, 85%, 96%);--warning-border:hsl(60, 92%, 91%);--warning-text:hsl(60, 100%, 19%)}[data-sonner-toaster][data-theme='light'] [data-sonner-toast][data-invert='true']{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-theme='dark'] [data-sonner-toast][data-invert='true']{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-theme='dark']{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%);--info-bg:hsl(210, 100%, 6%);--info-border:hsl(207, 100%, 12%);--info-text:hsl(210, 86%, 65%);--warning-bg:hsl(60, 100%, 6%);--warning-border:hsl(57, 100%, 12%);--warning-text:hsl(60, 86%, 65%)}[data-rich-colors='true'] [data-sonner-toast][data-type='success']{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='success'] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='error']{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='error'] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='info']{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='info'] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='warning']{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors='true'] [data-sonner-toast][data-type='warning'] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible='false']{transform-origin:center;animation:sonner-fade-out 0.2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(0.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-0.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-0.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-0.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-0.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-0.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-0.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-0.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-0.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-0.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:0.15}}@media(prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none !important;animation:none !important}}\",\n  map: null\n};\nconst VISIBLE_TOASTS_AMOUNT = 3;\nconst VIEWPORT_OFFSET = \"32px\";\nconst TOAST_WIDTH = 356;\nconst GAP = 14;\nfunction getInitialTheme(t) {\n  if (t !== \"system\") {\n    return t;\n  }\n  if (typeof window !== \"undefined\") {\n    if (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      return \"dark\";\n    }\n    return \"light\";\n  }\n  return \"light\";\n}\nconst Toaster = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let coords;\n  let hotkeyLabel;\n  let { invert = false } = $$props;\n  let { theme = \"light\" } = $$props;\n  let { position = \"bottom-right\" } = $$props;\n  let { hotkey = [\"altKey\", \"KeyT\"] } = $$props;\n  let { richColors = false } = $$props;\n  let { expand = false } = $$props;\n  let { duration = null } = $$props;\n  let { visibleToasts = VISIBLE_TOASTS_AMOUNT } = $$props;\n  let { closeButton = false } = $$props;\n  let { toastOptions = {} } = $$props;\n  let { offset = null } = $$props;\n  let toasts = [];\n  let heights = [];\n  let expanded = false;\n  let interacting = false;\n  getInitialTheme(theme);\n  let listRef;\n  onDestroy(() => {\n  });\n  if ($$props.invert === void 0 && $$bindings.invert && invert !== void 0)\n    $$bindings.invert(invert);\n  if ($$props.theme === void 0 && $$bindings.theme && theme !== void 0)\n    $$bindings.theme(theme);\n  if ($$props.position === void 0 && $$bindings.position && position !== void 0)\n    $$bindings.position(position);\n  if ($$props.hotkey === void 0 && $$bindings.hotkey && hotkey !== void 0)\n    $$bindings.hotkey(hotkey);\n  if ($$props.richColors === void 0 && $$bindings.richColors && richColors !== void 0)\n    $$bindings.richColors(richColors);\n  if ($$props.expand === void 0 && $$bindings.expand && expand !== void 0)\n    $$bindings.expand(expand);\n  if ($$props.duration === void 0 && $$bindings.duration && duration !== void 0)\n    $$bindings.duration(duration);\n  if ($$props.visibleToasts === void 0 && $$bindings.visibleToasts && visibleToasts !== void 0)\n    $$bindings.visibleToasts(visibleToasts);\n  if ($$props.closeButton === void 0 && $$bindings.closeButton && closeButton !== void 0)\n    $$bindings.closeButton(closeButton);\n  if ($$props.toastOptions === void 0 && $$bindings.toastOptions && toastOptions !== void 0)\n    $$bindings.toastOptions(toastOptions);\n  if ($$props.offset === void 0 && $$bindings.offset && offset !== void 0)\n    $$bindings.offset(offset);\n  $$result.css.add(css);\n  coords = position.split(\"-\");\n  hotkeyLabel = hotkey.join(\"+\").replace(/Key/g, \"\").replace(/Digit/g, \"\");\n  {\n    if (toasts.length <= 1) {\n      expanded = false;\n    }\n  }\n  return `${toasts.length > 0 ? `<section${add_attribute(\"aria-label\", `Notifications ${hotkeyLabel}`, 0)}${add_attribute(\"tabindex\", -1, 0)}><ol${add_attribute(\"tabindex\", -1, 0)}${add_attribute(\"class\", $$props.class, 0)} data-sonner-toaster${add_attribute(\"data-theme\", theme, 0)}${add_attribute(\"data-rich-colors\", richColors, 0)}${add_attribute(\"data-y-position\", coords[0], 0)}${add_attribute(\"data-x-position\", coords[1], 0)}${add_styles(merge_ssr_styles(escape($$props.style, true), {\n    \"--front-toast-height\": `${heights[0]?.height}px`,\n    \"--offset\": typeof offset === \"number\" ? `${offset}px` : offset || VIEWPORT_OFFSET,\n    \"--width\": `${TOAST_WIDTH}px`,\n    \"--gap\": `${GAP}px`\n  }))}${add_attribute(\"this\", listRef, 0)}>${each(toasts, (toast, index2) => {\n    return `${validate_component(Toast, \"Toast\").$$render(\n      $$result,\n      {\n        index: index2,\n        toast,\n        duration,\n        class: toastOptions?.class,\n        descriptionClass: toastOptions?.descriptionClass,\n        invert: Boolean(invert),\n        visibleToasts,\n        closeButton: Boolean(closeButton),\n        interacting,\n        position,\n        style: toastOptions?.style ?? \"\",\n        toasts,\n        heights,\n        expandByDefault: Boolean(expand),\n        expanded\n      },\n      {},\n      {}\n    )}`;\n  })}</ol></section>` : ``}`;\n});\nconst app = \"\";\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `${validate_component(Toaster, \"Toaster\").$$render($$result, {}, {}, {})} ${slots.default ? slots.default({}) : ``}`;\n});\nexport {\n  Layout as default\n};\n", "\n\nexport const index = 0;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_layout.svelte.js')).default;\nexport const imports = [\"_app/immutable/nodes/0.55d8856c.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/each.ed497e26.js\",\"_app/immutable/chunks/Toaster.svelte_svelte_type_style_lang.7ad7c14e.js\"];\nexport const stylesheets = [\"_app/immutable/assets/0.c57fa6e9.css\",\"_app/immutable/assets/Toaster.37b6ac62.css\"];\nexport const fonts = [\"_app/immutable/assets/fira-code-cyrillic-ext-400-normal.aeaf7f0a.woff2\",\"_app/immutable/assets/fira-code-cyrillic-ext-400-normal.96b1b870.woff\",\"_app/immutable/assets/fira-code-cyrillic-400-normal.dac6dde5.woff2\",\"_app/immutable/assets/fira-code-cyrillic-400-normal.b0cb6f39.woff\",\"_app/immutable/assets/fira-code-greek-ext-400-normal.9abd2774.woff2\",\"_app/immutable/assets/fira-code-greek-ext-400-normal.8c540835.woff\",\"_app/immutable/assets/fira-code-greek-400-normal.ab9177a1.woff2\",\"_app/immutable/assets/fira-code-greek-400-normal.f70ef159.woff\",\"_app/immutable/assets/fira-code-latin-ext-400-normal.5e162e63.woff2\",\"_app/immutable/assets/fira-code-latin-ext-400-normal.315dc11c.woff\",\"_app/immutable/assets/fira-code-latin-400-normal.2b407eb4.woff2\",\"_app/immutable/assets/fira-code-latin-400-normal.59bca7e3.woff\",\"_app/immutable/assets/inter-cyrillic-ext-400-normal.f7666a51.woff2\",\"_app/immutable/assets/inter-cyrillic-ext-400-normal.f83f176b.woff\",\"_app/immutable/assets/inter-cyrillic-400-normal.e9493683.woff2\",\"_app/immutable/assets/inter-cyrillic-400-normal.3a27cac9.woff\",\"_app/immutable/assets/inter-greek-ext-400-normal.d3e30cde.woff2\",\"_app/immutable/assets/inter-greek-ext-400-normal.37983db3.woff\",\"_app/immutable/assets/inter-greek-400-normal.2f2d421a.woff2\",\"_app/immutable/assets/inter-greek-400-normal.f8bb5355.woff\",\"_app/immutable/assets/inter-vietnamese-400-normal.5779ad5e.woff\",\"_app/immutable/assets/inter-latin-ext-400-normal.64a98f58.woff2\",\"_app/immutable/assets/inter-latin-ext-400-normal.495669c6.woff\",\"_app/immutable/assets/inter-latin-400-normal.0364d368.woff2\",\"_app/immutable/assets/inter-latin-400-normal.e3982e96.woff\"];\n", "import { l as getContext } from \"./ssr.js\";\nconst getStores = () => {\n  const stores = getContext(\"__svelte__\");\n  return {\n    /** @type {typeof page} */\n    page: {\n      subscribe: stores.page.subscribe\n    },\n    /** @type {typeof navigating} */\n    navigating: {\n      subscribe: stores.navigating.subscribe\n    },\n    /** @type {typeof updated} */\n    updated: stores.updated\n  };\n};\nconst page = {\n  subscribe(fn) {\n    const store = getStores().page;\n    return store.subscribe(fn);\n  }\n};\nexport {\n  page as p\n};\n", "import { c as create_ssr_component, h as subscribe, g as escape } from \"../../chunks/ssr.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nconst Error = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  $$unsubscribe_page();\n  return `<h1>${escape($page.status)}</h1> <p>${escape($page.error?.message)}</p>`;\n});\nexport {\n  Error as default\n};\n", "\n\nexport const index = 1;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/fallbacks/error.svelte.js')).default;\nexport const imports = [\"_app/immutable/nodes/1.7181729c.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/stores.7848577e.js\",\"_app/immutable/chunks/singletons.844f0d64.js\",\"_app/immutable/chunks/index.6cb2aa35.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { d as db } from \"../../../chunks/index3.js\";\nimport { r as redirect } from \"../../../chunks/index.js\";\nfunction sortItems(items) {\n  return items?.sort((a, b) => {\n    if (a.type === \"folder\" && b.type === \"file\")\n      return -1;\n    else if (a.type === \"file\" && b.type === \"folder\")\n      return 1;\n    return a.name.localeCompare(b.name);\n  }) ?? [];\n}\nfunction createItemTreeFromList(list) {\n  const map = {};\n  const roots = [];\n  for (let i = 0; i < list.length; i += 1) {\n    map[list[i].id] = i;\n    list[i].children = [];\n  }\n  for (let i = 0; i < list.length; i += 1) {\n    const node = list[i];\n    if (node.parentId !== null) {\n      list[map[node.parentId]].children?.push(node);\n      if (list[map[node.parentId]].children)\n        list[map[node.parentId]].children = sortItems(list[map[node.parentId]].children);\n    } else {\n      roots.push(node);\n    }\n  }\n  return sortItems(roots);\n}\nconst load = async ({ locals }) => {\n  const session = await locals.auth.validate();\n  if (!session)\n    throw redirect(302, \"/signin\");\n  const items = await db.query.itemsTable.findMany({\n    where: (table, { eq }) => eq(table.userId, session.user.userId)\n  });\n  return {\n    session,\n    items: createItemTreeFromList(items)\n  };\n};\nexport {\n  load\n};\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "var a=t=>typeof t==\"boolean\"?`${t}`:t===0?\"0\":t,l=t=>!t||typeof t!=\"object\"||Object.keys(t).length===0,u=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function i(t,e){t.forEach(function(n){Array.isArray(n)?i(n,e):e.push(n);});}function y(t){let e=[];return i(t,e),e}var x=(...t)=>y(t).filter(Boolean),p=(t,e)=>{let n={},c=Object.keys(t),f=Object.keys(e);for(let o of c)if(f.includes(o)){let r=t[o],s=e[o];typeof r==\"object\"&&typeof s==\"object\"?n[o]=p(r,s):n[o]=s+\" \"+r;}else n[o]=t[o];for(let o of f)c.includes(o)||(n[o]=e[o]);return n},g=t=>!t||typeof t!=\"string\"?t:t.replace(/\\s+/g,\" \").trim();\n\nexport { a, l as b, u as c, y as d, x as e, p as f, g };\n", "/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\n\nexport type ClassNameValue = ClassNameArray | string | null | undefined | 0 | false\ntype ClassNameArray = ClassNameValue[]\n\nexport function twJoin(...classLists: ClassNameValue[]): string\nexport function twJoin() {\n    let index = 0\n    let argument: ClassNameValue\n    let resolvedValue: string\n    let string = ''\n\n    while (index < arguments.length) {\n        if ((argument = arguments[index++])) {\n            if ((resolvedValue = toValue(argument))) {\n                string && (string += ' ')\n                string += resolvedValue\n            }\n        }\n    }\n    return string\n}\n\nfunction toValue(mix: ClassNameArray | string) {\n    if (typeof mix === 'string') {\n        return mix\n    }\n\n    let resolvedValue: string\n    let string = ''\n\n    for (let k = 0; k < mix.length; k++) {\n        if (mix[k]) {\n            if ((resolvedValue = toValue(mix[k] as ClassNameArray | string))) {\n                string && (string += ' ')\n                string += resolvedValue\n            }\n        }\n    }\n\n    return string\n}\n", "import { ClassGroup, ClassGroupId, ClassValidator, Config, ThemeGetter, ThemeObject } from './types'\n\nexport interface ClassPartObject {\n    nextPart: Map<string, ClassPartObject>\n    validators: ClassValidatorObject[]\n    classGroupId?: ClassGroupId\n}\n\ninterface ClassValidatorObject {\n    classGroupId: ClassGroupId\n    validator: ClassValidator\n}\n\nconst CLASS_PART_SEPARATOR = '-'\n\nexport function createClassUtils(config: Config) {\n    const classMap = createClassMap(config)\n    const { conflictingClassGroups, conflictingClassGroupModifiers = {} } = config\n\n    function getClassGroupId(className: string) {\n        const classParts = className.split(CLASS_PART_SEPARATOR)\n\n        // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n        if (classParts[0] === '' && classParts.length !== 1) {\n            classParts.shift()\n        }\n\n        return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className)\n    }\n\n    function getConflictingClassGroupIds(classGroupId: ClassGroupId, hasPostfixModifier: boolean) {\n        const conflicts = conflictingClassGroups[classGroupId] || []\n\n        if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n            return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]!]\n        }\n\n        return conflicts\n    }\n\n    return {\n        getClassGroupId,\n        getConflictingClassGroupIds,\n    }\n}\n\nfunction getGroupRecursive(\n    classParts: string[],\n    classPartObject: ClassPartObject,\n): ClassGroupId | undefined {\n    if (classParts.length === 0) {\n        return classPartObject.classGroupId\n    }\n\n    const currentClassPart = classParts[0]!\n    const nextClassPartObject = classPartObject.nextPart.get(currentClassPart)\n    const classGroupFromNextClassPart = nextClassPartObject\n        ? getGroupRecursive(classParts.slice(1), nextClassPartObject)\n        : undefined\n\n    if (classGroupFromNextClassPart) {\n        return classGroupFromNextClassPart\n    }\n\n    if (classPartObject.validators.length === 0) {\n        return undefined\n    }\n\n    const classRest = classParts.join(CLASS_PART_SEPARATOR)\n\n    return classPartObject.validators.find(({ validator }) => validator(classRest))?.classGroupId\n}\n\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/\n\nfunction getGroupIdForArbitraryProperty(className: string) {\n    if (arbitraryPropertyRegex.test(className)) {\n        const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)![1]\n        const property = arbitraryPropertyClassName?.substring(\n            0,\n            arbitraryPropertyClassName.indexOf(':'),\n        )\n\n        if (property) {\n            // I use two dots here because one dot is used as prefix for class groups in plugins\n            return 'arbitrary..' + property\n        }\n    }\n}\n\n/**\n * Exported for testing only\n */\nexport function createClassMap(config: Config) {\n    const { theme, prefix } = config\n    const classMap: ClassPartObject = {\n        nextPart: new Map<string, ClassPartObject>(),\n        validators: [],\n    }\n\n    const prefixedClassGroupEntries = getPrefixedClassGroupEntries(\n        Object.entries(config.classGroups),\n        prefix,\n    )\n\n    prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n        processClassesRecursively(classGroup, classMap, classGroupId, theme)\n    })\n\n    return classMap\n}\n\nfunction processClassesRecursively(\n    classGroup: ClassGroup,\n    classPartObject: ClassPartObject,\n    classGroupId: ClassGroupId,\n    theme: ThemeObject,\n) {\n    classGroup.forEach((classDefinition) => {\n        if (typeof classDefinition === 'string') {\n            const classPartObjectToEdit =\n                classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition)\n            classPartObjectToEdit.classGroupId = classGroupId\n            return\n        }\n\n        if (typeof classDefinition === 'function') {\n            if (isThemeGetter(classDefinition)) {\n                processClassesRecursively(\n                    classDefinition(theme),\n                    classPartObject,\n                    classGroupId,\n                    theme,\n                )\n                return\n            }\n\n            classPartObject.validators.push({\n                validator: classDefinition,\n                classGroupId,\n            })\n\n            return\n        }\n\n        Object.entries(classDefinition).forEach(([key, classGroup]) => {\n            processClassesRecursively(\n                classGroup,\n                getPart(classPartObject, key),\n                classGroupId,\n                theme,\n            )\n        })\n    })\n}\n\nfunction getPart(classPartObject: ClassPartObject, path: string) {\n    let currentClassPartObject = classPartObject\n\n    path.split(CLASS_PART_SEPARATOR).forEach((pathPart) => {\n        if (!currentClassPartObject.nextPart.has(pathPart)) {\n            currentClassPartObject.nextPart.set(pathPart, {\n                nextPart: new Map(),\n                validators: [],\n            })\n        }\n\n        currentClassPartObject = currentClassPartObject.nextPart.get(pathPart)!\n    })\n\n    return currentClassPartObject\n}\n\nfunction isThemeGetter(func: ClassValidator | ThemeGetter): func is ThemeGetter {\n    return (func as ThemeGetter).isThemeGetter\n}\n\nfunction getPrefixedClassGroupEntries(\n    classGroupEntries: Array<[classGroupId: string, classGroup: ClassGroup]>,\n    prefix: string | undefined,\n): Array<[classGroupId: string, classGroup: ClassGroup]> {\n    if (!prefix) {\n        return classGroupEntries\n    }\n\n    return classGroupEntries.map(([classGroupId, classGroup]) => {\n        const prefixedClassGroup = classGroup.map((classDefinition) => {\n            if (typeof classDefinition === 'string') {\n                return prefix + classDefinition\n            }\n\n            if (typeof classDefinition === 'object') {\n                return Object.fromEntries(\n                    Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]),\n                )\n            }\n\n            return classDefinition\n        })\n\n        return [classGroupId, prefixedClassGroup]\n    })\n}\n", "// Export is needed because TypeScript complains about an error otherwise:\n// Error: …/tailwind-merge/src/config-utils.ts(8,17): semantic error TS4058: Return type of exported function has or is using name 'LruCache' from external module \"…/tailwind-merge/src/lru-cache\" but cannot be named.\nexport interface LruCache<Key, Value> {\n    get(key: Key): Value | undefined\n    set(key: Key, value: Value): void\n}\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nexport function createLruCache<Key, Value>(maxCacheSize: number): LruCache<Key, Value> {\n    if (maxCacheSize < 1) {\n        return {\n            get: () => undefined,\n            set: () => {},\n        }\n    }\n\n    let cacheSize = 0\n    let cache = new Map<Key, Value>()\n    let previousCache = new Map<Key, Value>()\n\n    function update(key: Key, value: Value) {\n        cache.set(key, value)\n        cacheSize++\n\n        if (cacheSize > maxCacheSize) {\n            cacheSize = 0\n            previousCache = cache\n            cache = new Map()\n        }\n    }\n\n    return {\n        get(key) {\n            let value = cache.get(key)\n\n            if (value !== undefined) {\n                return value\n            }\n            if ((value = previousCache.get(key)) !== undefined) {\n                update(key, value)\n                return value\n            }\n        },\n        set(key, value) {\n            if (cache.has(key)) {\n                cache.set(key, value)\n            } else {\n                update(key, value)\n            }\n        },\n    }\n}\n", "import { Config } from './types'\n\nexport const IMPORTANT_MODIFIER = '!'\n\nexport function createSplitModifiers(config: Config) {\n    const separator = config.separator || ':'\n    const isSeparatorSingleCharacter = separator.length === 1\n    const firstSeparatorCharacter = separator[0]\n    const separatorLength = separator.length\n\n    // splitModifiers inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n    return function splitModifiers(className: string) {\n        const modifiers = []\n\n        let bracketDepth = 0\n        let modifierStart = 0\n        let postfixModifierPosition: number | undefined\n\n        for (let index = 0; index < className.length; index++) {\n            let currentCharacter = className[index]\n\n            if (bracketDepth === 0) {\n                if (\n                    currentCharacter === firstSeparatorCharacter &&\n                    (isSeparatorSingleCharacter ||\n                        className.slice(index, index + separatorLength) === separator)\n                ) {\n                    modifiers.push(className.slice(modifierStart, index))\n                    modifierStart = index + separatorLength\n                    continue\n                }\n\n                if (currentCharacter === '/') {\n                    postfixModifierPosition = index\n                    continue\n                }\n            }\n\n            if (currentCharacter === '[') {\n                bracketDepth++\n            } else if (currentCharacter === ']') {\n                bracketDepth--\n            }\n        }\n\n        const baseClassNameWithImportantModifier =\n            modifiers.length === 0 ? className : className.substring(modifierStart)\n        const hasImportantModifier =\n            baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER)\n        const baseClassName = hasImportantModifier\n            ? baseClassNameWithImportantModifier.substring(1)\n            : baseClassNameWithImportantModifier\n\n        const maybePostfixModifierPosition =\n            postfixModifierPosition && postfixModifierPosition > modifierStart\n                ? postfixModifierPosition - modifierStart\n                : undefined\n\n        return {\n            modifiers,\n            hasImportantModifier,\n            baseClassName,\n            maybePostfixModifierPosition,\n        }\n    }\n}\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nexport function sortModifiers(modifiers: string[]) {\n    if (modifiers.length <= 1) {\n        return modifiers\n    }\n\n    const sortedModifiers: string[] = []\n    let unsortedModifiers: string[] = []\n\n    modifiers.forEach((modifier) => {\n        const isArbitraryVariant = modifier[0] === '['\n\n        if (isArbitraryVariant) {\n            sortedModifiers.push(...unsortedModifiers.sort(), modifier)\n            unsortedModifiers = []\n        } else {\n            unsortedModifiers.push(modifier)\n        }\n    })\n\n    sortedModifiers.push(...unsortedModifiers.sort())\n\n    return sortedModifiers\n}\n", "import { createClassUtils } from './class-utils'\nimport { createLruCache } from './lru-cache'\nimport { createSplitModifiers } from './modifier-utils'\nimport { Config } from './types'\n\nexport type ConfigUtils = ReturnType<typeof createConfigUtils>\n\nexport function createConfigUtils(config: Config) {\n    return {\n        cache: createLruCache<string, string>(config.cacheSize),\n        splitModifiers: createSplitModifiers(config),\n        ...createClassUtils(config),\n    }\n}\n", "import { ConfigUtils } from './config-utils'\nimport { IMPORTANT_MODIFIER, sortModifiers } from './modifier-utils'\n\nconst SPLIT_CLASSES_REGEX = /\\s+/\n\nexport function mergeClassList(classList: string, configUtils: ConfigUtils) {\n    const { splitModifiers, getClassGroupId, getConflictingClassGroupIds } = configUtils\n\n    /**\n     * Set of classGroupIds in following format:\n     * `{importantModifier}{variantModifiers}{classGroupId}`\n     * @example 'float'\n     * @example 'hover:focus:bg-color'\n     * @example 'md:!pr'\n     */\n    const classGroupsInConflict = new Set<string>()\n\n    return (\n        classList\n            .trim()\n            .split(SPLIT_CLASSES_REGEX)\n            .map((originalClassName) => {\n                const {\n                    modifiers,\n                    hasImportantModifier,\n                    baseClassName,\n                    maybePostfixModifierPosition,\n                } = splitModifiers(originalClassName)\n\n                let classGroupId = getClassGroupId(\n                    maybePostfixModifierPosition\n                        ? baseClassName.substring(0, maybePostfixModifierPosition)\n                        : baseClassName,\n                )\n\n                let hasPostfixModifier = Boolean(maybePostfixModifierPosition)\n\n                if (!classGroupId) {\n                    if (!maybePostfixModifierPosition) {\n                        return {\n                            isTailwindClass: false as const,\n                            originalClassName,\n                        }\n                    }\n\n                    classGroupId = getClassGroupId(baseClassName)\n\n                    if (!classGroupId) {\n                        return {\n                            isTailwindClass: false as const,\n                            originalClassName,\n                        }\n                    }\n\n                    hasPostfixModifier = false\n                }\n\n                const variantModifier = sortModifiers(modifiers).join(':')\n\n                const modifierId = hasImportantModifier\n                    ? variantModifier + IMPORTANT_MODIFIER\n                    : variantModifier\n\n                return {\n                    isTailwindClass: true as const,\n                    modifierId,\n                    classGroupId,\n                    originalClassName,\n                    hasPostfixModifier,\n                }\n            })\n            .reverse()\n            // Last class in conflict wins, so we need to filter conflicting classes in reverse order.\n            .filter((parsed) => {\n                if (!parsed.isTailwindClass) {\n                    return true\n                }\n\n                const { modifierId, classGroupId, hasPostfixModifier } = parsed\n\n                const classId = modifierId + classGroupId\n\n                if (classGroupsInConflict.has(classId)) {\n                    return false\n                }\n\n                classGroupsInConflict.add(classId)\n\n                getConflictingClassGroupIds(classGroupId, hasPostfixModifier).forEach((group) =>\n                    classGroupsInConflict.add(modifierId + group),\n                )\n\n                return true\n            })\n            .reverse()\n            .map((parsed) => parsed.originalClassName)\n            .join(' ')\n    )\n}\n", "import { createConfigUtils } from './config-utils'\nimport { mergeClassList } from './merge-classlist'\nimport { ClassNameValue, twJoin } from './tw-join'\nimport { Config } from './types'\n\ntype CreateConfigFirst = () => Config\ntype CreateConfigSubsequent = (config: Config) => Config\ntype TailwindMerge = (...classLists: ClassNameValue[]) => string\ntype ConfigUtils = ReturnType<typeof createConfigUtils>\n\nexport function createTailwindMerge(\n    ...createConfig: [CreateConfigFirst, ...CreateConfigSubsequent[]]\n): TailwindMerge {\n    let configUtils: ConfigUtils\n    let cacheGet: ConfigUtils['cache']['get']\n    let cacheSet: ConfigUtils['cache']['set']\n    let functionToCall = initTailwindMerge\n\n    function initTailwindMerge(classList: string) {\n        const [firstCreateConfig, ...restCreateConfig] = createConfig\n\n        const config = restCreateConfig.reduce(\n            (previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig),\n            firstCreateConfig(),\n        )\n\n        configUtils = createConfigUtils(config)\n        cacheGet = configUtils.cache.get\n        cacheSet = configUtils.cache.set\n        functionToCall = tailwindMerge\n\n        return tailwindMerge(classList)\n    }\n\n    function tailwindMerge(classList: string) {\n        const cachedResult = cacheGet(classList)\n\n        if (cachedResult) {\n            return cachedResult\n        }\n\n        const result = mergeClassList(classList, configUtils)\n        cacheSet(classList, result)\n\n        return result\n    }\n\n    return function callTailwindMerge() {\n        return functionToCall(twJoin.apply(null, arguments as any))\n    }\n}\n", "import { ThemeGetter, ThemeObject } from './types'\n\nexport function fromTheme(key: string): ThemeGetter {\n    const themeGetter = (theme: ThemeObject) => theme[key] || []\n\n    themeGetter.isThemeGetter = true as const\n\n    return themeGetter\n}\n", "const arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i\nconst fractionRegex = /^\\d+\\/\\d+$/\nconst stringLengths = new Set(['px', 'full', 'screen'])\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/\nconst lengthUnitRegex =\n    /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/\n// Shadow always begins with x and y offset separated by underscore\nconst shadowRegex = /^-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/\n\nexport function isLength(value: string) {\n    return (\n        isNumber(value) ||\n        stringLengths.has(value) ||\n        fractionRegex.test(value) ||\n        isArbitraryLength(value)\n    )\n}\n\nexport function isArbitraryLength(value: string) {\n    return getIsArbitraryValue(value, 'length', isLengthOnly)\n}\n\nexport function isArbitrarySize(value: string) {\n    return getIsArbitraryValue(value, 'size', isNever)\n}\n\nexport function isArbitraryPosition(value: string) {\n    return getIsArbitraryValue(value, 'position', isNever)\n}\n\nexport function isArbitraryUrl(value: string) {\n    return getIsArbitraryValue(value, 'url', isUrl)\n}\n\nexport function isArbitraryNumber(value: string) {\n    return getIsArbitraryValue(value, 'number', isNumber)\n}\n\n/**\n * @deprecated Will be removed in next major version. Use `isArbitraryNumber` instead.\n */\nexport const isArbitraryWeight = isArbitraryNumber\n\nexport function isNumber(value: string) {\n    return !Number.isNaN(Number(value))\n}\n\nexport function isPercent(value: string) {\n    return value.endsWith('%') && isNumber(value.slice(0, -1))\n}\n\nexport function isInteger(value: string) {\n    return isIntegerOnly(value) || getIsArbitraryValue(value, 'number', isIntegerOnly)\n}\n\nexport function isArbitraryValue(value: string) {\n    return arbitraryValueRegex.test(value)\n}\n\nexport function isAny() {\n    return true\n}\n\nexport function isTshirtSize(value: string) {\n    return tshirtUnitRegex.test(value)\n}\n\nexport function isArbitraryShadow(value: string) {\n    return getIsArbitraryValue(value, '', isShadow)\n}\n\nfunction getIsArbitraryValue(value: string, label: string, testValue: (value: string) => boolean) {\n    const result = arbitraryValueRegex.exec(value)\n\n    if (result) {\n        if (result[1]) {\n            return result[1] === label\n        }\n\n        return testValue(result[2]!)\n    }\n\n    return false\n}\n\nfunction isLengthOnly(value: string) {\n    return lengthUnitRegex.test(value)\n}\n\nfunction isNever() {\n    return false\n}\n\nfunction isUrl(value: string) {\n    return value.startsWith('url(')\n}\n\nfunction isIntegerOnly(value: string) {\n    return Number.isInteger(Number(value))\n}\n\nfunction isShadow(value: string) {\n    return shadowRegex.test(value)\n}\n", "import { fromTheme } from './from-theme'\nimport { Config } from './types'\nimport {\n    isAny,\n    isArbitraryLength,\n    isArbitraryNumber,\n    isArbitraryPosition,\n    isArbitraryShadow,\n    isArbitrarySize,\n    isArbitraryUrl,\n    isArbitraryValue,\n    isInteger,\n    isLength,\n    isNumber,\n    isPercent,\n    isTshirtSize,\n} from './validators'\n\nexport function getDefaultConfig() {\n    const colors = fromTheme('colors')\n    const spacing = fromTheme('spacing')\n    const blur = fromTheme('blur')\n    const brightness = fromTheme('brightness')\n    const borderColor = fromTheme('borderColor')\n    const borderRadius = fromTheme('borderRadius')\n    const borderSpacing = fromTheme('borderSpacing')\n    const borderWidth = fromTheme('borderWidth')\n    const contrast = fromTheme('contrast')\n    const grayscale = fromTheme('grayscale')\n    const hueRotate = fromTheme('hueRotate')\n    const invert = fromTheme('invert')\n    const gap = fromTheme('gap')\n    const gradientColorStops = fromTheme('gradientColorStops')\n    const gradientColorStopPositions = fromTheme('gradientColorStopPositions')\n    const inset = fromTheme('inset')\n    const margin = fromTheme('margin')\n    const opacity = fromTheme('opacity')\n    const padding = fromTheme('padding')\n    const saturate = fromTheme('saturate')\n    const scale = fromTheme('scale')\n    const sepia = fromTheme('sepia')\n    const skew = fromTheme('skew')\n    const space = fromTheme('space')\n    const translate = fromTheme('translate')\n\n    const getOverscroll = () => ['auto', 'contain', 'none'] as const\n    const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'] as const\n    const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing] as const\n    const getSpacingWithArbitrary = () => [isArbitraryValue, spacing] as const\n    const getLengthWithEmpty = () => ['', isLength] as const\n    const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue] as const\n    const getPositions = () =>\n        [\n            'bottom',\n            'center',\n            'left',\n            'left-bottom',\n            'left-top',\n            'right',\n            'right-bottom',\n            'right-top',\n            'top',\n        ] as const\n    const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'] as const\n    const getBlendModes = () =>\n        [\n            'normal',\n            'multiply',\n            'screen',\n            'overlay',\n            'darken',\n            'lighten',\n            'color-dodge',\n            'color-burn',\n            'hard-light',\n            'soft-light',\n            'difference',\n            'exclusion',\n            'hue',\n            'saturation',\n            'color',\n            'luminosity',\n            'plus-lighter',\n        ] as const\n    const getAlign = () =>\n        ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'] as const\n    const getZeroAndEmpty = () => ['', '0', isArbitraryValue] as const\n    const getBreaks = () =>\n        ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'] as const\n    const getNumber = () => [isNumber, isArbitraryNumber]\n    const getNumberAndArbitrary = () => [isNumber, isArbitraryValue]\n\n    return {\n        cacheSize: 500,\n        theme: {\n            colors: [isAny],\n            spacing: [isLength],\n            blur: ['none', '', isTshirtSize, isArbitraryValue],\n            brightness: getNumber(),\n            borderColor: [colors],\n            borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n            borderSpacing: getSpacingWithArbitrary(),\n            borderWidth: getLengthWithEmpty(),\n            contrast: getNumber(),\n            grayscale: getZeroAndEmpty(),\n            hueRotate: getNumberAndArbitrary(),\n            invert: getZeroAndEmpty(),\n            gap: getSpacingWithArbitrary(),\n            gradientColorStops: [colors],\n            gradientColorStopPositions: [isPercent, isArbitraryLength],\n            inset: getSpacingWithAutoAndArbitrary(),\n            margin: getSpacingWithAutoAndArbitrary(),\n            opacity: getNumber(),\n            padding: getSpacingWithArbitrary(),\n            saturate: getNumber(),\n            scale: getNumber(),\n            sepia: getZeroAndEmpty(),\n            skew: getNumberAndArbitrary(),\n            space: getSpacingWithArbitrary(),\n            translate: getSpacingWithArbitrary(),\n        },\n        classGroups: {\n            // Layout\n            /**\n             * Aspect Ratio\n             * @see https://tailwindcss.com/docs/aspect-ratio\n             */\n            aspect: [{ aspect: ['auto', 'square', 'video', isArbitraryValue] }],\n            /**\n             * Container\n             * @see https://tailwindcss.com/docs/container\n             */\n            container: ['container'],\n            /**\n             * Columns\n             * @see https://tailwindcss.com/docs/columns\n             */\n            columns: [{ columns: [isTshirtSize] }],\n            /**\n             * Break After\n             * @see https://tailwindcss.com/docs/break-after\n             */\n            'break-after': [{ 'break-after': getBreaks() }],\n            /**\n             * Break Before\n             * @see https://tailwindcss.com/docs/break-before\n             */\n            'break-before': [{ 'break-before': getBreaks() }],\n            /**\n             * Break Inside\n             * @see https://tailwindcss.com/docs/break-inside\n             */\n            'break-inside': [{ 'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column'] }],\n            /**\n             * Box Decoration Break\n             * @see https://tailwindcss.com/docs/box-decoration-break\n             */\n            'box-decoration': [{ 'box-decoration': ['slice', 'clone'] }],\n            /**\n             * Box Sizing\n             * @see https://tailwindcss.com/docs/box-sizing\n             */\n            box: [{ box: ['border', 'content'] }],\n            /**\n             * Display\n             * @see https://tailwindcss.com/docs/display\n             */\n            display: [\n                'block',\n                'inline-block',\n                'inline',\n                'flex',\n                'inline-flex',\n                'table',\n                'inline-table',\n                'table-caption',\n                'table-cell',\n                'table-column',\n                'table-column-group',\n                'table-footer-group',\n                'table-header-group',\n                'table-row-group',\n                'table-row',\n                'flow-root',\n                'grid',\n                'inline-grid',\n                'contents',\n                'list-item',\n                'hidden',\n            ],\n            /**\n             * Floats\n             * @see https://tailwindcss.com/docs/float\n             */\n            float: [{ float: ['right', 'left', 'none'] }],\n            /**\n             * Clear\n             * @see https://tailwindcss.com/docs/clear\n             */\n            clear: [{ clear: ['left', 'right', 'both', 'none'] }],\n            /**\n             * Isolation\n             * @see https://tailwindcss.com/docs/isolation\n             */\n            isolation: ['isolate', 'isolation-auto'],\n            /**\n             * Object Fit\n             * @see https://tailwindcss.com/docs/object-fit\n             */\n            'object-fit': [{ object: ['contain', 'cover', 'fill', 'none', 'scale-down'] }],\n            /**\n             * Object Position\n             * @see https://tailwindcss.com/docs/object-position\n             */\n            'object-position': [{ object: [...getPositions(), isArbitraryValue] }],\n            /**\n             * Overflow\n             * @see https://tailwindcss.com/docs/overflow\n             */\n            overflow: [{ overflow: getOverflow() }],\n            /**\n             * Overflow X\n             * @see https://tailwindcss.com/docs/overflow\n             */\n            'overflow-x': [{ 'overflow-x': getOverflow() }],\n            /**\n             * Overflow Y\n             * @see https://tailwindcss.com/docs/overflow\n             */\n            'overflow-y': [{ 'overflow-y': getOverflow() }],\n            /**\n             * Overscroll Behavior\n             * @see https://tailwindcss.com/docs/overscroll-behavior\n             */\n            overscroll: [{ overscroll: getOverscroll() }],\n            /**\n             * Overscroll Behavior X\n             * @see https://tailwindcss.com/docs/overscroll-behavior\n             */\n            'overscroll-x': [{ 'overscroll-x': getOverscroll() }],\n            /**\n             * Overscroll Behavior Y\n             * @see https://tailwindcss.com/docs/overscroll-behavior\n             */\n            'overscroll-y': [{ 'overscroll-y': getOverscroll() }],\n            /**\n             * Position\n             * @see https://tailwindcss.com/docs/position\n             */\n            position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n            /**\n             * Top / Right / Bottom / Left\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            inset: [{ inset: [inset] }],\n            /**\n             * Right / Left\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            'inset-x': [{ 'inset-x': [inset] }],\n            /**\n             * Top / Bottom\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            'inset-y': [{ 'inset-y': [inset] }],\n            /**\n             * Start\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            start: [{ start: [inset] }],\n            /**\n             * End\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            end: [{ end: [inset] }],\n            /**\n             * Top\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            top: [{ top: [inset] }],\n            /**\n             * Right\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            right: [{ right: [inset] }],\n            /**\n             * Bottom\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            bottom: [{ bottom: [inset] }],\n            /**\n             * Left\n             * @see https://tailwindcss.com/docs/top-right-bottom-left\n             */\n            left: [{ left: [inset] }],\n            /**\n             * Visibility\n             * @see https://tailwindcss.com/docs/visibility\n             */\n            visibility: ['visible', 'invisible', 'collapse'],\n            /**\n             * Z-Index\n             * @see https://tailwindcss.com/docs/z-index\n             */\n            z: [{ z: ['auto', isInteger] }],\n            // Flexbox and Grid\n            /**\n             * Flex Basis\n             * @see https://tailwindcss.com/docs/flex-basis\n             */\n            basis: [{ basis: getSpacingWithAutoAndArbitrary() }],\n            /**\n             * Flex Direction\n             * @see https://tailwindcss.com/docs/flex-direction\n             */\n            'flex-direction': [{ flex: ['row', 'row-reverse', 'col', 'col-reverse'] }],\n            /**\n             * Flex Wrap\n             * @see https://tailwindcss.com/docs/flex-wrap\n             */\n            'flex-wrap': [{ flex: ['wrap', 'wrap-reverse', 'nowrap'] }],\n            /**\n             * Flex\n             * @see https://tailwindcss.com/docs/flex\n             */\n            flex: [{ flex: ['1', 'auto', 'initial', 'none', isArbitraryValue] }],\n            /**\n             * Flex Grow\n             * @see https://tailwindcss.com/docs/flex-grow\n             */\n            grow: [{ grow: getZeroAndEmpty() }],\n            /**\n             * Flex Shrink\n             * @see https://tailwindcss.com/docs/flex-shrink\n             */\n            shrink: [{ shrink: getZeroAndEmpty() }],\n            /**\n             * Order\n             * @see https://tailwindcss.com/docs/order\n             */\n            order: [{ order: ['first', 'last', 'none', isInteger] }],\n            /**\n             * Grid Template Columns\n             * @see https://tailwindcss.com/docs/grid-template-columns\n             */\n            'grid-cols': [{ 'grid-cols': [isAny] }],\n            /**\n             * Grid Column Start / End\n             * @see https://tailwindcss.com/docs/grid-column\n             */\n            'col-start-end': [{ col: ['auto', { span: ['full', isInteger] }, isArbitraryValue] }],\n            /**\n             * Grid Column Start\n             * @see https://tailwindcss.com/docs/grid-column\n             */\n            'col-start': [{ 'col-start': getNumberWithAutoAndArbitrary() }],\n            /**\n             * Grid Column End\n             * @see https://tailwindcss.com/docs/grid-column\n             */\n            'col-end': [{ 'col-end': getNumberWithAutoAndArbitrary() }],\n            /**\n             * Grid Template Rows\n             * @see https://tailwindcss.com/docs/grid-template-rows\n             */\n            'grid-rows': [{ 'grid-rows': [isAny] }],\n            /**\n             * Grid Row Start / End\n             * @see https://tailwindcss.com/docs/grid-row\n             */\n            'row-start-end': [{ row: ['auto', { span: [isInteger] }, isArbitraryValue] }],\n            /**\n             * Grid Row Start\n             * @see https://tailwindcss.com/docs/grid-row\n             */\n            'row-start': [{ 'row-start': getNumberWithAutoAndArbitrary() }],\n            /**\n             * Grid Row End\n             * @see https://tailwindcss.com/docs/grid-row\n             */\n            'row-end': [{ 'row-end': getNumberWithAutoAndArbitrary() }],\n            /**\n             * Grid Auto Flow\n             * @see https://tailwindcss.com/docs/grid-auto-flow\n             */\n            'grid-flow': [{ 'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense'] }],\n            /**\n             * Grid Auto Columns\n             * @see https://tailwindcss.com/docs/grid-auto-columns\n             */\n            'auto-cols': [{ 'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue] }],\n            /**\n             * Grid Auto Rows\n             * @see https://tailwindcss.com/docs/grid-auto-rows\n             */\n            'auto-rows': [{ 'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue] }],\n            /**\n             * Gap\n             * @see https://tailwindcss.com/docs/gap\n             */\n            gap: [{ gap: [gap] }],\n            /**\n             * Gap X\n             * @see https://tailwindcss.com/docs/gap\n             */\n            'gap-x': [{ 'gap-x': [gap] }],\n            /**\n             * Gap Y\n             * @see https://tailwindcss.com/docs/gap\n             */\n            'gap-y': [{ 'gap-y': [gap] }],\n            /**\n             * Justify Content\n             * @see https://tailwindcss.com/docs/justify-content\n             */\n            'justify-content': [{ justify: ['normal', ...getAlign()] }],\n            /**\n             * Justify Items\n             * @see https://tailwindcss.com/docs/justify-items\n             */\n            'justify-items': [{ 'justify-items': ['start', 'end', 'center', 'stretch'] }],\n            /**\n             * Justify Self\n             * @see https://tailwindcss.com/docs/justify-self\n             */\n            'justify-self': [{ 'justify-self': ['auto', 'start', 'end', 'center', 'stretch'] }],\n            /**\n             * Align Content\n             * @see https://tailwindcss.com/docs/align-content\n             */\n            'align-content': [{ content: ['normal', ...getAlign(), 'baseline'] }],\n            /**\n             * Align Items\n             * @see https://tailwindcss.com/docs/align-items\n             */\n            'align-items': [{ items: ['start', 'end', 'center', 'baseline', 'stretch'] }],\n            /**\n             * Align Self\n             * @see https://tailwindcss.com/docs/align-self\n             */\n            'align-self': [{ self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline'] }],\n            /**\n             * Place Content\n             * @see https://tailwindcss.com/docs/place-content\n             */\n            'place-content': [{ 'place-content': [...getAlign(), 'baseline'] }],\n            /**\n             * Place Items\n             * @see https://tailwindcss.com/docs/place-items\n             */\n            'place-items': [{ 'place-items': ['start', 'end', 'center', 'baseline', 'stretch'] }],\n            /**\n             * Place Self\n             * @see https://tailwindcss.com/docs/place-self\n             */\n            'place-self': [{ 'place-self': ['auto', 'start', 'end', 'center', 'stretch'] }],\n            // Spacing\n            /**\n             * Padding\n             * @see https://tailwindcss.com/docs/padding\n             */\n            p: [{ p: [padding] }],\n            /**\n             * Padding X\n             * @see https://tailwindcss.com/docs/padding\n             */\n            px: [{ px: [padding] }],\n            /**\n             * Padding Y\n             * @see https://tailwindcss.com/docs/padding\n             */\n            py: [{ py: [padding] }],\n            /**\n             * Padding Start\n             * @see https://tailwindcss.com/docs/padding\n             */\n            ps: [{ ps: [padding] }],\n            /**\n             * Padding End\n             * @see https://tailwindcss.com/docs/padding\n             */\n            pe: [{ pe: [padding] }],\n            /**\n             * Padding Top\n             * @see https://tailwindcss.com/docs/padding\n             */\n            pt: [{ pt: [padding] }],\n            /**\n             * Padding Right\n             * @see https://tailwindcss.com/docs/padding\n             */\n            pr: [{ pr: [padding] }],\n            /**\n             * Padding Bottom\n             * @see https://tailwindcss.com/docs/padding\n             */\n            pb: [{ pb: [padding] }],\n            /**\n             * Padding Left\n             * @see https://tailwindcss.com/docs/padding\n             */\n            pl: [{ pl: [padding] }],\n            /**\n             * Margin\n             * @see https://tailwindcss.com/docs/margin\n             */\n            m: [{ m: [margin] }],\n            /**\n             * Margin X\n             * @see https://tailwindcss.com/docs/margin\n             */\n            mx: [{ mx: [margin] }],\n            /**\n             * Margin Y\n             * @see https://tailwindcss.com/docs/margin\n             */\n            my: [{ my: [margin] }],\n            /**\n             * Margin Start\n             * @see https://tailwindcss.com/docs/margin\n             */\n            ms: [{ ms: [margin] }],\n            /**\n             * Margin End\n             * @see https://tailwindcss.com/docs/margin\n             */\n            me: [{ me: [margin] }],\n            /**\n             * Margin Top\n             * @see https://tailwindcss.com/docs/margin\n             */\n            mt: [{ mt: [margin] }],\n            /**\n             * Margin Right\n             * @see https://tailwindcss.com/docs/margin\n             */\n            mr: [{ mr: [margin] }],\n            /**\n             * Margin Bottom\n             * @see https://tailwindcss.com/docs/margin\n             */\n            mb: [{ mb: [margin] }],\n            /**\n             * Margin Left\n             * @see https://tailwindcss.com/docs/margin\n             */\n            ml: [{ ml: [margin] }],\n            /**\n             * Space Between X\n             * @see https://tailwindcss.com/docs/space\n             */\n            'space-x': [{ 'space-x': [space] }],\n            /**\n             * Space Between X Reverse\n             * @see https://tailwindcss.com/docs/space\n             */\n            'space-x-reverse': ['space-x-reverse'],\n            /**\n             * Space Between Y\n             * @see https://tailwindcss.com/docs/space\n             */\n            'space-y': [{ 'space-y': [space] }],\n            /**\n             * Space Between Y Reverse\n             * @see https://tailwindcss.com/docs/space\n             */\n            'space-y-reverse': ['space-y-reverse'],\n            // Sizing\n            /**\n             * Width\n             * @see https://tailwindcss.com/docs/width\n             */\n            w: [{ w: ['auto', 'min', 'max', 'fit', isArbitraryValue, spacing] }],\n            /**\n             * Min-Width\n             * @see https://tailwindcss.com/docs/min-width\n             */\n            'min-w': [{ 'min-w': ['min', 'max', 'fit', isArbitraryValue, isLength] }],\n            /**\n             * Max-Width\n             * @see https://tailwindcss.com/docs/max-width\n             */\n            'max-w': [\n                {\n                    'max-w': [\n                        '0',\n                        'none',\n                        'full',\n                        'min',\n                        'max',\n                        'fit',\n                        'prose',\n                        { screen: [isTshirtSize] },\n                        isTshirtSize,\n                        isArbitraryValue,\n                    ],\n                },\n            ],\n            /**\n             * Height\n             * @see https://tailwindcss.com/docs/height\n             */\n            h: [{ h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit'] }],\n            /**\n             * Min-Height\n             * @see https://tailwindcss.com/docs/min-height\n             */\n            'min-h': [{ 'min-h': ['min', 'max', 'fit', isArbitraryValue, isLength] }],\n            /**\n             * Max-Height\n             * @see https://tailwindcss.com/docs/max-height\n             */\n            'max-h': [{ 'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit'] }],\n            // Typography\n            /**\n             * Font Size\n             * @see https://tailwindcss.com/docs/font-size\n             */\n            'font-size': [{ text: ['base', isTshirtSize, isArbitraryLength] }],\n            /**\n             * Font Smoothing\n             * @see https://tailwindcss.com/docs/font-smoothing\n             */\n            'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n            /**\n             * Font Style\n             * @see https://tailwindcss.com/docs/font-style\n             */\n            'font-style': ['italic', 'not-italic'],\n            /**\n             * Font Weight\n             * @see https://tailwindcss.com/docs/font-weight\n             */\n            'font-weight': [\n                {\n                    font: [\n                        'thin',\n                        'extralight',\n                        'light',\n                        'normal',\n                        'medium',\n                        'semibold',\n                        'bold',\n                        'extrabold',\n                        'black',\n                        isArbitraryNumber,\n                    ],\n                },\n            ],\n            /**\n             * Font Family\n             * @see https://tailwindcss.com/docs/font-family\n             */\n            'font-family': [{ font: [isAny] }],\n            /**\n             * Font Variant Numeric\n             * @see https://tailwindcss.com/docs/font-variant-numeric\n             */\n            'fvn-normal': ['normal-nums'],\n            /**\n             * Font Variant Numeric\n             * @see https://tailwindcss.com/docs/font-variant-numeric\n             */\n            'fvn-ordinal': ['ordinal'],\n            /**\n             * Font Variant Numeric\n             * @see https://tailwindcss.com/docs/font-variant-numeric\n             */\n            'fvn-slashed-zero': ['slashed-zero'],\n            /**\n             * Font Variant Numeric\n             * @see https://tailwindcss.com/docs/font-variant-numeric\n             */\n            'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n            /**\n             * Font Variant Numeric\n             * @see https://tailwindcss.com/docs/font-variant-numeric\n             */\n            'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n            /**\n             * Font Variant Numeric\n             * @see https://tailwindcss.com/docs/font-variant-numeric\n             */\n            'fvn-fraction': ['diagonal-fractions', 'stacked-fractons'],\n            /**\n             * Letter Spacing\n             * @see https://tailwindcss.com/docs/letter-spacing\n             */\n            tracking: [\n                {\n                    tracking: [\n                        'tighter',\n                        'tight',\n                        'normal',\n                        'wide',\n                        'wider',\n                        'widest',\n                        isArbitraryValue,\n                    ],\n                },\n            ],\n            /**\n             * Line Clamp\n             * @see https://tailwindcss.com/docs/line-clamp\n             */\n            'line-clamp': [{ 'line-clamp': ['none', isNumber, isArbitraryNumber] }],\n            /**\n             * Line Height\n             * @see https://tailwindcss.com/docs/line-height\n             */\n            leading: [\n                {\n                    leading: [\n                        'none',\n                        'tight',\n                        'snug',\n                        'normal',\n                        'relaxed',\n                        'loose',\n                        isArbitraryValue,\n                        isLength,\n                    ],\n                },\n            ],\n            /**\n             * List Style Image\n             * @see https://tailwindcss.com/docs/list-style-image\n             */\n            'list-image': [{ 'list-image': ['none', isArbitraryValue] }],\n            /**\n             * List Style Type\n             * @see https://tailwindcss.com/docs/list-style-type\n             */\n            'list-style-type': [{ list: ['none', 'disc', 'decimal', isArbitraryValue] }],\n            /**\n             * List Style Position\n             * @see https://tailwindcss.com/docs/list-style-position\n             */\n            'list-style-position': [{ list: ['inside', 'outside'] }],\n            /**\n             * Placeholder Color\n             * @deprecated since Tailwind CSS v3.0.0\n             * @see https://tailwindcss.com/docs/placeholder-color\n             */\n            'placeholder-color': [{ placeholder: [colors] }],\n            /**\n             * Placeholder Opacity\n             * @see https://tailwindcss.com/docs/placeholder-opacity\n             */\n            'placeholder-opacity': [{ 'placeholder-opacity': [opacity] }],\n            /**\n             * Text Alignment\n             * @see https://tailwindcss.com/docs/text-align\n             */\n            'text-alignment': [{ text: ['left', 'center', 'right', 'justify', 'start', 'end'] }],\n            /**\n             * Text Color\n             * @see https://tailwindcss.com/docs/text-color\n             */\n            'text-color': [{ text: [colors] }],\n            /**\n             * Text Opacity\n             * @see https://tailwindcss.com/docs/text-opacity\n             */\n            'text-opacity': [{ 'text-opacity': [opacity] }],\n            /**\n             * Text Decoration\n             * @see https://tailwindcss.com/docs/text-decoration\n             */\n            'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n            /**\n             * Text Decoration Style\n             * @see https://tailwindcss.com/docs/text-decoration-style\n             */\n            'text-decoration-style': [{ decoration: [...getLineStyles(), 'wavy'] }],\n            /**\n             * Text Decoration Thickness\n             * @see https://tailwindcss.com/docs/text-decoration-thickness\n             */\n            'text-decoration-thickness': [{ decoration: ['auto', 'from-font', isLength] }],\n            /**\n             * Text Underline Offset\n             * @see https://tailwindcss.com/docs/text-underline-offset\n             */\n            'underline-offset': [{ 'underline-offset': ['auto', isArbitraryValue, isLength] }],\n            /**\n             * Text Decoration Color\n             * @see https://tailwindcss.com/docs/text-decoration-color\n             */\n            'text-decoration-color': [{ decoration: [colors] }],\n            /**\n             * Text Transform\n             * @see https://tailwindcss.com/docs/text-transform\n             */\n            'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n            /**\n             * Text Overflow\n             * @see https://tailwindcss.com/docs/text-overflow\n             */\n            'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n            /**\n             * Text Indent\n             * @see https://tailwindcss.com/docs/text-indent\n             */\n            indent: [{ indent: getSpacingWithArbitrary() }],\n            /**\n             * Vertical Alignment\n             * @see https://tailwindcss.com/docs/vertical-align\n             */\n            'vertical-align': [\n                {\n                    align: [\n                        'baseline',\n                        'top',\n                        'middle',\n                        'bottom',\n                        'text-top',\n                        'text-bottom',\n                        'sub',\n                        'super',\n                        isArbitraryValue,\n                    ],\n                },\n            ],\n            /**\n             * Whitespace\n             * @see https://tailwindcss.com/docs/whitespace\n             */\n            whitespace: [\n                { whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces'] },\n            ],\n            /**\n             * Word Break\n             * @see https://tailwindcss.com/docs/word-break\n             */\n            break: [{ break: ['normal', 'words', 'all', 'keep'] }],\n            /**\n             * Hyphens\n             * @see https://tailwindcss.com/docs/hyphens\n             */\n            hyphens: [{ hyphens: ['none', 'manual', 'auto'] }],\n            /**\n             * Content\n             * @see https://tailwindcss.com/docs/content\n             */\n            content: [{ content: ['none', isArbitraryValue] }],\n            // Backgrounds\n            /**\n             * Background Attachment\n             * @see https://tailwindcss.com/docs/background-attachment\n             */\n            'bg-attachment': [{ bg: ['fixed', 'local', 'scroll'] }],\n            /**\n             * Background Clip\n             * @see https://tailwindcss.com/docs/background-clip\n             */\n            'bg-clip': [{ 'bg-clip': ['border', 'padding', 'content', 'text'] }],\n            /**\n             * Background Opacity\n             * @deprecated since Tailwind CSS v3.0.0\n             * @see https://tailwindcss.com/docs/background-opacity\n             */\n            'bg-opacity': [{ 'bg-opacity': [opacity] }],\n            /**\n             * Background Origin\n             * @see https://tailwindcss.com/docs/background-origin\n             */\n            'bg-origin': [{ 'bg-origin': ['border', 'padding', 'content'] }],\n            /**\n             * Background Position\n             * @see https://tailwindcss.com/docs/background-position\n             */\n            'bg-position': [{ bg: [...getPositions(), isArbitraryPosition] }],\n            /**\n             * Background Repeat\n             * @see https://tailwindcss.com/docs/background-repeat\n             */\n            'bg-repeat': [{ bg: ['no-repeat', { repeat: ['', 'x', 'y', 'round', 'space'] }] }],\n            /**\n             * Background Size\n             * @see https://tailwindcss.com/docs/background-size\n             */\n            'bg-size': [{ bg: ['auto', 'cover', 'contain', isArbitrarySize] }],\n            /**\n             * Background Image\n             * @see https://tailwindcss.com/docs/background-image\n             */\n            'bg-image': [\n                {\n                    bg: [\n                        'none',\n                        { 'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl'] },\n                        isArbitraryUrl,\n                    ],\n                },\n            ],\n            /**\n             * Background Color\n             * @see https://tailwindcss.com/docs/background-color\n             */\n            'bg-color': [{ bg: [colors] }],\n            /**\n             * Gradient Color Stops From Position\n             * @see https://tailwindcss.com/docs/gradient-color-stops\n             */\n            'gradient-from-pos': [{ from: [gradientColorStopPositions] }],\n            /**\n             * Gradient Color Stops Via Position\n             * @see https://tailwindcss.com/docs/gradient-color-stops\n             */\n            'gradient-via-pos': [{ via: [gradientColorStopPositions] }],\n            /**\n             * Gradient Color Stops To Position\n             * @see https://tailwindcss.com/docs/gradient-color-stops\n             */\n            'gradient-to-pos': [{ to: [gradientColorStopPositions] }],\n            /**\n             * Gradient Color Stops From\n             * @see https://tailwindcss.com/docs/gradient-color-stops\n             */\n            'gradient-from': [{ from: [gradientColorStops] }],\n            /**\n             * Gradient Color Stops Via\n             * @see https://tailwindcss.com/docs/gradient-color-stops\n             */\n            'gradient-via': [{ via: [gradientColorStops] }],\n            /**\n             * Gradient Color Stops To\n             * @see https://tailwindcss.com/docs/gradient-color-stops\n             */\n            'gradient-to': [{ to: [gradientColorStops] }],\n            // Borders\n            /**\n             * Border Radius\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            rounded: [{ rounded: [borderRadius] }],\n            /**\n             * Border Radius Start\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-s': [{ 'rounded-s': [borderRadius] }],\n            /**\n             * Border Radius End\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-e': [{ 'rounded-e': [borderRadius] }],\n            /**\n             * Border Radius Top\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-t': [{ 'rounded-t': [borderRadius] }],\n            /**\n             * Border Radius Right\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-r': [{ 'rounded-r': [borderRadius] }],\n            /**\n             * Border Radius Bottom\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-b': [{ 'rounded-b': [borderRadius] }],\n            /**\n             * Border Radius Left\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-l': [{ 'rounded-l': [borderRadius] }],\n            /**\n             * Border Radius Start Start\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-ss': [{ 'rounded-ss': [borderRadius] }],\n            /**\n             * Border Radius Start End\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-se': [{ 'rounded-se': [borderRadius] }],\n            /**\n             * Border Radius End End\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-ee': [{ 'rounded-ee': [borderRadius] }],\n            /**\n             * Border Radius End Start\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-es': [{ 'rounded-es': [borderRadius] }],\n            /**\n             * Border Radius Top Left\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-tl': [{ 'rounded-tl': [borderRadius] }],\n            /**\n             * Border Radius Top Right\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-tr': [{ 'rounded-tr': [borderRadius] }],\n            /**\n             * Border Radius Bottom Right\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-br': [{ 'rounded-br': [borderRadius] }],\n            /**\n             * Border Radius Bottom Left\n             * @see https://tailwindcss.com/docs/border-radius\n             */\n            'rounded-bl': [{ 'rounded-bl': [borderRadius] }],\n            /**\n             * Border Width\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w': [{ border: [borderWidth] }],\n            /**\n             * Border Width X\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-x': [{ 'border-x': [borderWidth] }],\n            /**\n             * Border Width Y\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-y': [{ 'border-y': [borderWidth] }],\n            /**\n             * Border Width Start\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-s': [{ 'border-s': [borderWidth] }],\n            /**\n             * Border Width End\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-e': [{ 'border-e': [borderWidth] }],\n            /**\n             * Border Width Top\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-t': [{ 'border-t': [borderWidth] }],\n            /**\n             * Border Width Right\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-r': [{ 'border-r': [borderWidth] }],\n            /**\n             * Border Width Bottom\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-b': [{ 'border-b': [borderWidth] }],\n            /**\n             * Border Width Left\n             * @see https://tailwindcss.com/docs/border-width\n             */\n            'border-w-l': [{ 'border-l': [borderWidth] }],\n            /**\n             * Border Opacity\n             * @see https://tailwindcss.com/docs/border-opacity\n             */\n            'border-opacity': [{ 'border-opacity': [opacity] }],\n            /**\n             * Border Style\n             * @see https://tailwindcss.com/docs/border-style\n             */\n            'border-style': [{ border: [...getLineStyles(), 'hidden'] }],\n            /**\n             * Divide Width X\n             * @see https://tailwindcss.com/docs/divide-width\n             */\n            'divide-x': [{ 'divide-x': [borderWidth] }],\n            /**\n             * Divide Width X Reverse\n             * @see https://tailwindcss.com/docs/divide-width\n             */\n            'divide-x-reverse': ['divide-x-reverse'],\n            /**\n             * Divide Width Y\n             * @see https://tailwindcss.com/docs/divide-width\n             */\n            'divide-y': [{ 'divide-y': [borderWidth] }],\n            /**\n             * Divide Width Y Reverse\n             * @see https://tailwindcss.com/docs/divide-width\n             */\n            'divide-y-reverse': ['divide-y-reverse'],\n            /**\n             * Divide Opacity\n             * @see https://tailwindcss.com/docs/divide-opacity\n             */\n            'divide-opacity': [{ 'divide-opacity': [opacity] }],\n            /**\n             * Divide Style\n             * @see https://tailwindcss.com/docs/divide-style\n             */\n            'divide-style': [{ divide: getLineStyles() }],\n            /**\n             * Border Color\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color': [{ border: [borderColor] }],\n            /**\n             * Border Color X\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color-x': [{ 'border-x': [borderColor] }],\n            /**\n             * Border Color Y\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color-y': [{ 'border-y': [borderColor] }],\n            /**\n             * Border Color Top\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color-t': [{ 'border-t': [borderColor] }],\n            /**\n             * Border Color Right\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color-r': [{ 'border-r': [borderColor] }],\n            /**\n             * Border Color Bottom\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color-b': [{ 'border-b': [borderColor] }],\n            /**\n             * Border Color Left\n             * @see https://tailwindcss.com/docs/border-color\n             */\n            'border-color-l': [{ 'border-l': [borderColor] }],\n            /**\n             * Divide Color\n             * @see https://tailwindcss.com/docs/divide-color\n             */\n            'divide-color': [{ divide: [borderColor] }],\n            /**\n             * Outline Style\n             * @see https://tailwindcss.com/docs/outline-style\n             */\n            'outline-style': [{ outline: ['', ...getLineStyles()] }],\n            /**\n             * Outline Offset\n             * @see https://tailwindcss.com/docs/outline-offset\n             */\n            'outline-offset': [{ 'outline-offset': [isArbitraryValue, isLength] }],\n            /**\n             * Outline Width\n             * @see https://tailwindcss.com/docs/outline-width\n             */\n            'outline-w': [{ outline: [isLength] }],\n            /**\n             * Outline Color\n             * @see https://tailwindcss.com/docs/outline-color\n             */\n            'outline-color': [{ outline: [colors] }],\n            /**\n             * Ring Width\n             * @see https://tailwindcss.com/docs/ring-width\n             */\n            'ring-w': [{ ring: getLengthWithEmpty() }],\n            /**\n             * Ring Width Inset\n             * @see https://tailwindcss.com/docs/ring-width\n             */\n            'ring-w-inset': ['ring-inset'],\n            /**\n             * Ring Color\n             * @see https://tailwindcss.com/docs/ring-color\n             */\n            'ring-color': [{ ring: [colors] }],\n            /**\n             * Ring Opacity\n             * @see https://tailwindcss.com/docs/ring-opacity\n             */\n            'ring-opacity': [{ 'ring-opacity': [opacity] }],\n            /**\n             * Ring Offset Width\n             * @see https://tailwindcss.com/docs/ring-offset-width\n             */\n            'ring-offset-w': [{ 'ring-offset': [isLength] }],\n            /**\n             * Ring Offset Color\n             * @see https://tailwindcss.com/docs/ring-offset-color\n             */\n            'ring-offset-color': [{ 'ring-offset': [colors] }],\n            // Effects\n            /**\n             * Box Shadow\n             * @see https://tailwindcss.com/docs/box-shadow\n             */\n            shadow: [{ shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow] }],\n            /**\n             * Box Shadow Color\n             * @see https://tailwindcss.com/docs/box-shadow-color\n             */\n            'shadow-color': [{ shadow: [isAny] }],\n            /**\n             * Opacity\n             * @see https://tailwindcss.com/docs/opacity\n             */\n            opacity: [{ opacity: [opacity] }],\n            /**\n             * Mix Blend Mode\n             * @see https://tailwindcss.com/docs/mix-blend-mode\n             */\n            'mix-blend': [{ 'mix-blend': getBlendModes() }],\n            /**\n             * Background Blend Mode\n             * @see https://tailwindcss.com/docs/background-blend-mode\n             */\n            'bg-blend': [{ 'bg-blend': getBlendModes() }],\n            // Filters\n            /**\n             * Filter\n             * @deprecated since Tailwind CSS v3.0.0\n             * @see https://tailwindcss.com/docs/filter\n             */\n            filter: [{ filter: ['', 'none'] }],\n            /**\n             * Blur\n             * @see https://tailwindcss.com/docs/blur\n             */\n            blur: [{ blur: [blur] }],\n            /**\n             * Brightness\n             * @see https://tailwindcss.com/docs/brightness\n             */\n            brightness: [{ brightness: [brightness] }],\n            /**\n             * Contrast\n             * @see https://tailwindcss.com/docs/contrast\n             */\n            contrast: [{ contrast: [contrast] }],\n            /**\n             * Drop Shadow\n             * @see https://tailwindcss.com/docs/drop-shadow\n             */\n            'drop-shadow': [{ 'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue] }],\n            /**\n             * Grayscale\n             * @see https://tailwindcss.com/docs/grayscale\n             */\n            grayscale: [{ grayscale: [grayscale] }],\n            /**\n             * Hue Rotate\n             * @see https://tailwindcss.com/docs/hue-rotate\n             */\n            'hue-rotate': [{ 'hue-rotate': [hueRotate] }],\n            /**\n             * Invert\n             * @see https://tailwindcss.com/docs/invert\n             */\n            invert: [{ invert: [invert] }],\n            /**\n             * Saturate\n             * @see https://tailwindcss.com/docs/saturate\n             */\n            saturate: [{ saturate: [saturate] }],\n            /**\n             * Sepia\n             * @see https://tailwindcss.com/docs/sepia\n             */\n            sepia: [{ sepia: [sepia] }],\n            /**\n             * Backdrop Filter\n             * @deprecated since Tailwind CSS v3.0.0\n             * @see https://tailwindcss.com/docs/backdrop-filter\n             */\n            'backdrop-filter': [{ 'backdrop-filter': ['', 'none'] }],\n            /**\n             * Backdrop Blur\n             * @see https://tailwindcss.com/docs/backdrop-blur\n             */\n            'backdrop-blur': [{ 'backdrop-blur': [blur] }],\n            /**\n             * Backdrop Brightness\n             * @see https://tailwindcss.com/docs/backdrop-brightness\n             */\n            'backdrop-brightness': [{ 'backdrop-brightness': [brightness] }],\n            /**\n             * Backdrop Contrast\n             * @see https://tailwindcss.com/docs/backdrop-contrast\n             */\n            'backdrop-contrast': [{ 'backdrop-contrast': [contrast] }],\n            /**\n             * Backdrop Grayscale\n             * @see https://tailwindcss.com/docs/backdrop-grayscale\n             */\n            'backdrop-grayscale': [{ 'backdrop-grayscale': [grayscale] }],\n            /**\n             * Backdrop Hue Rotate\n             * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n             */\n            'backdrop-hue-rotate': [{ 'backdrop-hue-rotate': [hueRotate] }],\n            /**\n             * Backdrop Invert\n             * @see https://tailwindcss.com/docs/backdrop-invert\n             */\n            'backdrop-invert': [{ 'backdrop-invert': [invert] }],\n            /**\n             * Backdrop Opacity\n             * @see https://tailwindcss.com/docs/backdrop-opacity\n             */\n            'backdrop-opacity': [{ 'backdrop-opacity': [opacity] }],\n            /**\n             * Backdrop Saturate\n             * @see https://tailwindcss.com/docs/backdrop-saturate\n             */\n            'backdrop-saturate': [{ 'backdrop-saturate': [saturate] }],\n            /**\n             * Backdrop Sepia\n             * @see https://tailwindcss.com/docs/backdrop-sepia\n             */\n            'backdrop-sepia': [{ 'backdrop-sepia': [sepia] }],\n            // Tables\n            /**\n             * Border Collapse\n             * @see https://tailwindcss.com/docs/border-collapse\n             */\n            'border-collapse': [{ border: ['collapse', 'separate'] }],\n            /**\n             * Border Spacing\n             * @see https://tailwindcss.com/docs/border-spacing\n             */\n            'border-spacing': [{ 'border-spacing': [borderSpacing] }],\n            /**\n             * Border Spacing X\n             * @see https://tailwindcss.com/docs/border-spacing\n             */\n            'border-spacing-x': [{ 'border-spacing-x': [borderSpacing] }],\n            /**\n             * Border Spacing Y\n             * @see https://tailwindcss.com/docs/border-spacing\n             */\n            'border-spacing-y': [{ 'border-spacing-y': [borderSpacing] }],\n            /**\n             * Table Layout\n             * @see https://tailwindcss.com/docs/table-layout\n             */\n            'table-layout': [{ table: ['auto', 'fixed'] }],\n            /**\n             * Caption Side\n             * @see https://tailwindcss.com/docs/caption-side\n             */\n            caption: [{ caption: ['top', 'bottom'] }],\n            // Transitions and Animation\n            /**\n             * Tranisition Property\n             * @see https://tailwindcss.com/docs/transition-property\n             */\n            transition: [\n                {\n                    transition: [\n                        'none',\n                        'all',\n                        '',\n                        'colors',\n                        'opacity',\n                        'shadow',\n                        'transform',\n                        isArbitraryValue,\n                    ],\n                },\n            ],\n            /**\n             * Transition Duration\n             * @see https://tailwindcss.com/docs/transition-duration\n             */\n            duration: [{ duration: getNumberAndArbitrary() }],\n            /**\n             * Transition Timing Function\n             * @see https://tailwindcss.com/docs/transition-timing-function\n             */\n            ease: [{ ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue] }],\n            /**\n             * Transition Delay\n             * @see https://tailwindcss.com/docs/transition-delay\n             */\n            delay: [{ delay: getNumberAndArbitrary() }],\n            /**\n             * Animation\n             * @see https://tailwindcss.com/docs/animation\n             */\n            animate: [{ animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue] }],\n            // Transforms\n            /**\n             * Transform\n             * @see https://tailwindcss.com/docs/transform\n             */\n            transform: [{ transform: ['', 'gpu', 'none'] }],\n            /**\n             * Scale\n             * @see https://tailwindcss.com/docs/scale\n             */\n            scale: [{ scale: [scale] }],\n            /**\n             * Scale X\n             * @see https://tailwindcss.com/docs/scale\n             */\n            'scale-x': [{ 'scale-x': [scale] }],\n            /**\n             * Scale Y\n             * @see https://tailwindcss.com/docs/scale\n             */\n            'scale-y': [{ 'scale-y': [scale] }],\n            /**\n             * Rotate\n             * @see https://tailwindcss.com/docs/rotate\n             */\n            rotate: [{ rotate: [isInteger, isArbitraryValue] }],\n            /**\n             * Translate X\n             * @see https://tailwindcss.com/docs/translate\n             */\n            'translate-x': [{ 'translate-x': [translate] }],\n            /**\n             * Translate Y\n             * @see https://tailwindcss.com/docs/translate\n             */\n            'translate-y': [{ 'translate-y': [translate] }],\n            /**\n             * Skew X\n             * @see https://tailwindcss.com/docs/skew\n             */\n            'skew-x': [{ 'skew-x': [skew] }],\n            /**\n             * Skew Y\n             * @see https://tailwindcss.com/docs/skew\n             */\n            'skew-y': [{ 'skew-y': [skew] }],\n            /**\n             * Transform Origin\n             * @see https://tailwindcss.com/docs/transform-origin\n             */\n            'transform-origin': [\n                {\n                    origin: [\n                        'center',\n                        'top',\n                        'top-right',\n                        'right',\n                        'bottom-right',\n                        'bottom',\n                        'bottom-left',\n                        'left',\n                        'top-left',\n                        isArbitraryValue,\n                    ],\n                },\n            ],\n            // Interactivity\n            /**\n             * Accent Color\n             * @see https://tailwindcss.com/docs/accent-color\n             */\n            accent: [{ accent: ['auto', colors] }],\n            /**\n             * Appearance\n             * @see https://tailwindcss.com/docs/appearance\n             */\n            appearance: ['appearance-none'],\n            /**\n             * Cursor\n             * @see https://tailwindcss.com/docs/cursor\n             */\n            cursor: [\n                {\n                    cursor: [\n                        'auto',\n                        'default',\n                        'pointer',\n                        'wait',\n                        'text',\n                        'move',\n                        'help',\n                        'not-allowed',\n                        'none',\n                        'context-menu',\n                        'progress',\n                        'cell',\n                        'crosshair',\n                        'vertical-text',\n                        'alias',\n                        'copy',\n                        'no-drop',\n                        'grab',\n                        'grabbing',\n                        'all-scroll',\n                        'col-resize',\n                        'row-resize',\n                        'n-resize',\n                        'e-resize',\n                        's-resize',\n                        'w-resize',\n                        'ne-resize',\n                        'nw-resize',\n                        'se-resize',\n                        'sw-resize',\n                        'ew-resize',\n                        'ns-resize',\n                        'nesw-resize',\n                        'nwse-resize',\n                        'zoom-in',\n                        'zoom-out',\n                        isArbitraryValue,\n                    ],\n                },\n            ],\n            /**\n             * Caret Color\n             * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n             */\n            'caret-color': [{ caret: [colors] }],\n            /**\n             * Pointer Events\n             * @see https://tailwindcss.com/docs/pointer-events\n             */\n            'pointer-events': [{ 'pointer-events': ['none', 'auto'] }],\n            /**\n             * Resize\n             * @see https://tailwindcss.com/docs/resize\n             */\n            resize: [{ resize: ['none', 'y', 'x', ''] }],\n            /**\n             * Scroll Behavior\n             * @see https://tailwindcss.com/docs/scroll-behavior\n             */\n            'scroll-behavior': [{ scroll: ['auto', 'smooth'] }],\n            /**\n             * Scroll Margin\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-m': [{ 'scroll-m': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin X\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-mx': [{ 'scroll-mx': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin Y\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-my': [{ 'scroll-my': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin Start\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-ms': [{ 'scroll-ms': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin End\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-me': [{ 'scroll-me': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin Top\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-mt': [{ 'scroll-mt': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin Right\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-mr': [{ 'scroll-mr': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin Bottom\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-mb': [{ 'scroll-mb': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Margin Left\n             * @see https://tailwindcss.com/docs/scroll-margin\n             */\n            'scroll-ml': [{ 'scroll-ml': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-p': [{ 'scroll-p': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding X\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-px': [{ 'scroll-px': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding Y\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-py': [{ 'scroll-py': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding Start\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-ps': [{ 'scroll-ps': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding End\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-pe': [{ 'scroll-pe': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding Top\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-pt': [{ 'scroll-pt': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding Right\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-pr': [{ 'scroll-pr': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding Bottom\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-pb': [{ 'scroll-pb': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Padding Left\n             * @see https://tailwindcss.com/docs/scroll-padding\n             */\n            'scroll-pl': [{ 'scroll-pl': getSpacingWithArbitrary() }],\n            /**\n             * Scroll Snap Align\n             * @see https://tailwindcss.com/docs/scroll-snap-align\n             */\n            'snap-align': [{ snap: ['start', 'end', 'center', 'align-none'] }],\n            /**\n             * Scroll Snap Stop\n             * @see https://tailwindcss.com/docs/scroll-snap-stop\n             */\n            'snap-stop': [{ snap: ['normal', 'always'] }],\n            /**\n             * Scroll Snap Type\n             * @see https://tailwindcss.com/docs/scroll-snap-type\n             */\n            'snap-type': [{ snap: ['none', 'x', 'y', 'both'] }],\n            /**\n             * Scroll Snap Type Strictness\n             * @see https://tailwindcss.com/docs/scroll-snap-type\n             */\n            'snap-strictness': [{ snap: ['mandatory', 'proximity'] }],\n            /**\n             * Touch Action\n             * @see https://tailwindcss.com/docs/touch-action\n             */\n            touch: [\n                {\n                    touch: [\n                        'auto',\n                        'none',\n                        'pinch-zoom',\n                        'manipulation',\n                        { pan: ['x', 'left', 'right', 'y', 'up', 'down'] },\n                    ],\n                },\n            ],\n            /**\n             * User Select\n             * @see https://tailwindcss.com/docs/user-select\n             */\n            select: [{ select: ['none', 'text', 'all', 'auto'] }],\n            /**\n             * Will Change\n             * @see https://tailwindcss.com/docs/will-change\n             */\n            'will-change': [\n                { 'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue] },\n            ],\n            // SVG\n            /**\n             * Fill\n             * @see https://tailwindcss.com/docs/fill\n             */\n            fill: [{ fill: [colors, 'none'] }],\n            /**\n             * Stroke Width\n             * @see https://tailwindcss.com/docs/stroke-width\n             */\n            'stroke-w': [{ stroke: [isLength, isArbitraryNumber] }],\n            /**\n             * Stroke\n             * @see https://tailwindcss.com/docs/stroke\n             */\n            stroke: [{ stroke: [colors, 'none'] }],\n            // Accessibility\n            /**\n             * Screen Readers\n             * @see https://tailwindcss.com/docs/screen-readers\n             */\n            sr: ['sr-only', 'not-sr-only'],\n        },\n        conflictingClassGroups: {\n            overflow: ['overflow-x', 'overflow-y'],\n            overscroll: ['overscroll-x', 'overscroll-y'],\n            inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n            'inset-x': ['right', 'left'],\n            'inset-y': ['top', 'bottom'],\n            flex: ['basis', 'grow', 'shrink'],\n            gap: ['gap-x', 'gap-y'],\n            p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n            px: ['pr', 'pl'],\n            py: ['pt', 'pb'],\n            m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n            mx: ['mr', 'ml'],\n            my: ['mt', 'mb'],\n            'font-size': ['leading'],\n            'fvn-normal': [\n                'fvn-ordinal',\n                'fvn-slashed-zero',\n                'fvn-figure',\n                'fvn-spacing',\n                'fvn-fraction',\n            ],\n            'fvn-ordinal': ['fvn-normal'],\n            'fvn-slashed-zero': ['fvn-normal'],\n            'fvn-figure': ['fvn-normal'],\n            'fvn-spacing': ['fvn-normal'],\n            'fvn-fraction': ['fvn-normal'],\n            rounded: [\n                'rounded-s',\n                'rounded-e',\n                'rounded-t',\n                'rounded-r',\n                'rounded-b',\n                'rounded-l',\n                'rounded-ss',\n                'rounded-se',\n                'rounded-ee',\n                'rounded-es',\n                'rounded-tl',\n                'rounded-tr',\n                'rounded-br',\n                'rounded-bl',\n            ],\n            'rounded-s': ['rounded-ss', 'rounded-es'],\n            'rounded-e': ['rounded-se', 'rounded-ee'],\n            'rounded-t': ['rounded-tl', 'rounded-tr'],\n            'rounded-r': ['rounded-tr', 'rounded-br'],\n            'rounded-b': ['rounded-br', 'rounded-bl'],\n            'rounded-l': ['rounded-tl', 'rounded-bl'],\n            'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n            'border-w': [\n                'border-w-s',\n                'border-w-e',\n                'border-w-t',\n                'border-w-r',\n                'border-w-b',\n                'border-w-l',\n            ],\n            'border-w-x': ['border-w-r', 'border-w-l'],\n            'border-w-y': ['border-w-t', 'border-w-b'],\n            'border-color': [\n                'border-color-t',\n                'border-color-r',\n                'border-color-b',\n                'border-color-l',\n            ],\n            'border-color-x': ['border-color-r', 'border-color-l'],\n            'border-color-y': ['border-color-t', 'border-color-b'],\n            'scroll-m': [\n                'scroll-mx',\n                'scroll-my',\n                'scroll-ms',\n                'scroll-me',\n                'scroll-mt',\n                'scroll-mr',\n                'scroll-mb',\n                'scroll-ml',\n            ],\n            'scroll-mx': ['scroll-mr', 'scroll-ml'],\n            'scroll-my': ['scroll-mt', 'scroll-mb'],\n            'scroll-p': [\n                'scroll-px',\n                'scroll-py',\n                'scroll-ps',\n                'scroll-pe',\n                'scroll-pt',\n                'scroll-pr',\n                'scroll-pb',\n                'scroll-pl',\n            ],\n            'scroll-px': ['scroll-pr', 'scroll-pl'],\n            'scroll-py': ['scroll-pt', 'scroll-pb'],\n        },\n        conflictingClassGroupModifiers: {\n            'font-size': ['leading'],\n        },\n    } as const satisfies Config\n}\n", "import { Config } from './types'\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nexport function mergeConfigs(baseConfig: Config, configExtension: Partial<Config>) {\n    for (const key in configExtension) {\n        mergePropertyRecursively(baseConfig as any, key, configExtension[key as keyof Config])\n    }\n\n    return baseConfig\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst overrideTypes = new Set(['string', 'number', 'boolean'])\n\nfunction mergePropertyRecursively(\n    baseObject: Record<string, unknown>,\n    mergeKey: string,\n    mergeValue: unknown,\n) {\n    if (\n        !hasOwnProperty.call(baseObject, mergeKey) ||\n        overrideTypes.has(typeof mergeValue) ||\n        mergeValue === null\n    ) {\n        baseObject[mergeKey] = mergeValue\n        return\n    }\n\n    if (Array.isArray(mergeValue) && Array.isArray(baseObject[mergeKey])) {\n        baseObject[mergeKey] = (baseObject[mergeKey] as unknown[]).concat(mergeValue)\n        return\n    }\n\n    if (typeof mergeValue === 'object' && typeof baseObject[mergeKey] === 'object') {\n        if (baseObject[mergeKey] === null) {\n            baseObject[mergeKey] = mergeValue\n            return\n        }\n\n        for (const nextKey in mergeValue) {\n            mergePropertyRecursively(\n                baseObject[mergeKey] as Record<string, unknown>,\n                nextKey,\n                mergeValue[nextKey as keyof object],\n            )\n        }\n    }\n}\n", "import { createTailwindMerge } from './create-tailwind-merge'\nimport { getDefaultConfig } from './default-config'\nimport { mergeConfigs } from './merge-configs'\nimport { Config } from './types'\n\ntype CreateConfigSubsequent = (config: Config) => Config\n\nexport function extendTailwindMerge(\n    configExtension: Partial<Config> | CreateConfigSubsequent,\n    ...createConfig: CreateConfigSubsequent[]\n) {\n    return typeof configExtension === 'function'\n        ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig)\n        : createTailwindMerge(\n              () => mergeConfigs(getDefaultConfig(), configExtension),\n              ...createConfig,\n          )\n}\n", "import { createTailwindMerge } from './create-tailwind-merge'\nimport { getDefaultConfig } from './default-config'\n\nexport const twMerge = createTailwindMerge(getDefaultConfig)\n", "import { d, b, f, c, e, a, g } from './chunk-FHRYMRZ3.js';\nimport { twMerge, extendTailwindMerge } from 'tailwind-merge';\n\nvar re={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Z=i=>i||void 0,j=(...i)=>Z(d(i).filter(Boolean).join(\" \")),B=null,O={},R=!1,A=(...i)=>v=>v.twMerge?((!B||R)&&(R=!1,B=b(O)?twMerge:extendTailwindMerge(O)),Z(B(j(i)))):j(i),Y=(i,v)=>{for(let e in v)i.hasOwnProperty(e)?i[e]=j(i[e],v[e]):i[e]=v[e];return i},ce=(i,v)=>{let{extend:e$1=null,slots:N={},variants:q={},compoundVariants:C=[],compoundSlots:V=[],defaultVariants:F={}}=i,m={...re,...v},M=e$1!=null&&e$1.base?j(e$1.base,i==null?void 0:i.base):i==null?void 0:i.base,g$1=e$1!=null&&e$1.variants&&!b(e$1.variants)?f(q,e$1.variants):q,h=e$1!=null&&e$1.defaultVariants&&!b(e$1.defaultVariants)?{...e$1.defaultVariants,...F}:F;!b(m.twMergeConfig)&&!c(m.twMergeConfig,O)&&(R=!0,O=m.twMergeConfig);let $=b(N)?{}:{base:i==null?void 0:i.base,...N},w=b(e$1==null?void 0:e$1.slots)?$:Y(e$1==null?void 0:e$1.slots,b($)?{base:i==null?void 0:i.base}:$),d=f=>{if(b(g$1)&&b(N)&&b(e$1==null?void 0:e$1.slots))return A(M,f==null?void 0:f.class,f==null?void 0:f.className)(m);if(C&&!Array.isArray(C))throw new TypeError(`The \"compoundVariants\" prop must be an array. Received: ${typeof C}`);if(V&&!Array.isArray(V))throw new TypeError(`The \"compoundSlots\" prop must be an array. Received: ${typeof V}`);let K=(t,n,a=[],s)=>{let r=a;if(typeof n==\"string\")r=r.concat(g(n).split(\" \").map(l=>`${t}:${l}`));else if(Array.isArray(n))r=r.concat(n.reduce((l,c)=>l.concat(`${t}:${c}`),[]));else if(typeof n==\"object\"&&typeof s==\"string\"){for(let l in n)if(n.hasOwnProperty(l)&&l===s){let c=n[l];if(c&&typeof c==\"string\"){let y=g(c);r[s]?r[s]=r[s].concat(y.split(\" \").map(u=>`${t}:${u}`)):r[s]=y.split(\" \").map(u=>`${t}:${u}`);}else Array.isArray(c)&&c.length>0&&(r[s]=c.reduce((y,u)=>y.concat(`${t}:${u}`),[]));}}return r},U=(t,n=g$1,a$1=null,s=null)=>{var H;let r=n[t];if(!r||b(r))return null;let l=(H=s==null?void 0:s[t])!=null?H:f==null?void 0:f[t];if(l===null)return null;let c=a(l),y=Array.isArray(m.responsiveVariants)&&m.responsiveVariants.length>0||m.responsiveVariants===!0,u=h==null?void 0:h[t],b$1=[];if(typeof c==\"object\"&&y)for(let[k,I]of Object.entries(c)){let te=r[I];if(k===\"initial\"){u=I;continue}Array.isArray(m.responsiveVariants)&&!m.responsiveVariants.includes(k)||(b$1=K(k,te,b$1,a$1));}let S=r[c]||r[a(u)];return typeof b$1==\"object\"&&typeof a$1==\"string\"&&b$1[a$1]?Y(b$1,S):b$1.length>0?(b$1.push(S),b$1):S},x=()=>g$1?Object.keys(g$1).map(t=>U(t,g$1)):null,P=(t,n)=>{if(!g$1||typeof g$1!=\"object\")return null;let a=new Array;for(let s in g$1){let r=U(s,g$1,t,n),l=t===\"base\"&&typeof r==\"string\"?r:r&&r[t];l&&(a[a.length]=l);}return a},W={};for(let t in f)f[t]!==void 0&&(W[t]=f[t]);let z=(t,n)=>{var s;let a=typeof(f==null?void 0:f[t])==\"object\"?{[t]:(s=f[t])==null?void 0:s.initial}:{};return {...h,...W,...a,...n}},D=(t=[],n)=>{let a=[];for(let{class:s,className:r,...l}of t){let c=!0;for(let[y,u]of Object.entries(l)){let b=z(y,n);if(Array.isArray(u)){if(!u.includes(b[y])){c=!1;break}}else if(b[y]!==u){c=!1;break}}c&&(s&&a.push(s),r&&a.push(r));}return a},G=t=>{let n=D(C,t),a=D(e$1==null?void 0:e$1.compoundVariants,t);return e(a,n)},p=t=>{let n=G(t);if(!Array.isArray(n))return n;let a={};for(let s of n)if(typeof s==\"string\"&&(a.base=A(a.base,s)(m)),typeof s==\"object\")for(let[r,l]of Object.entries(s))a[r]=A(a[r],l)(m);return a},ee=t=>{if(V.length<1)return null;let n={};for(let{slots:a=[],class:s,className:r,...l}of V){if(!b(l)){let c=!0;for(let y of Object.keys(l)){let u=z(y,t)[y];if(u===void 0||u!==l[y]){c=!1;break}}if(!c)continue}for(let c of a)n[c]=n[c]||[],n[c].push([s,r]);}return n};if(!b(N)||!b(e$1==null?void 0:e$1.slots)){let t={};if(typeof w==\"object\"&&!b(w))for(let n of Object.keys(w))t[n]=a=>{var s,r;return A(w[n],P(n,a),((s=p(a))!=null?s:[])[n],((r=ee(a))!=null?r:[])[n],a==null?void 0:a.class,a==null?void 0:a.className)(m)};return t}return A(M,x(),G(),f==null?void 0:f.class,f==null?void 0:f.className)(m)},_=()=>{if(!(!g$1||typeof g$1!=\"object\"))return Object.keys(g$1)};return d.variantKeys=_(),d.extend=e$1,d.base=M,d.slots=w,d.variants=g$1,d.defaultVariants=h,d.compoundSlots=V,d.compoundVariants=C,d};\n\nexport { A as cn, j as cnBase, re as defaultConfig, ce as tv, Z as voidEmpty };\n", "import { i as set_current_component, r as run_all, j as current_component, o as onDestroy, k as get_store_value, b as createEventDispatcher, s as setContext, l as getContext, c as create_ssr_component, h as subscribe, p as compute_rest_props, q as spread, t as escape_object, u as escape_attribute_value, v as validate_component, w as split_css_unit, x as identity, a as add_attribute, e as each, g as escape } from \"../../../chunks/ssr.js\";\nimport { p as page } from \"../../../chunks/stores.js\";\nimport { d as derived, w as writable, r as readable, a as readonly } from \"../../../chunks/index2.js\";\nimport { clsx } from \"clsx\";\nimport { tv } from \"tailwind-variants\";\nimport \"../../../chunks/Toaster.svelte_svelte_type_style_lang.js\";\nimport { twMerge } from \"tailwind-merge\";\nconst dirty_components = [];\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n  if (!update_scheduled) {\n    update_scheduled = true;\n    resolved_promise.then(flush);\n  }\n}\nfunction tick() {\n  schedule_update();\n  return resolved_promise;\n}\nfunction add_render_callback(fn) {\n  render_callbacks.push(fn);\n}\nconst seen_callbacks = /* @__PURE__ */ new Set();\nlet flushidx = 0;\nfunction flush() {\n  if (flushidx !== 0) {\n    return;\n  }\n  const saved_component = current_component;\n  do {\n    try {\n      while (flushidx < dirty_components.length) {\n        const component = dirty_components[flushidx];\n        flushidx++;\n        set_current_component(component);\n        update(component.$$);\n      }\n    } catch (e) {\n      dirty_components.length = 0;\n      flushidx = 0;\n      throw e;\n    }\n    set_current_component(null);\n    dirty_components.length = 0;\n    flushidx = 0;\n    while (binding_callbacks.length)\n      binding_callbacks.pop()();\n    for (let i = 0; i < render_callbacks.length; i += 1) {\n      const callback = render_callbacks[i];\n      if (!seen_callbacks.has(callback)) {\n        seen_callbacks.add(callback);\n        callback();\n      }\n    }\n    render_callbacks.length = 0;\n  } while (dirty_components.length);\n  while (flush_callbacks.length) {\n    flush_callbacks.pop()();\n  }\n  update_scheduled = false;\n  seen_callbacks.clear();\n  set_current_component(saved_component);\n}\nfunction update($$) {\n  if ($$.fragment !== null) {\n    $$.update();\n    run_all($$.before_update);\n    const dirty = $$.dirty;\n    $$.dirty = [-1];\n    $$.fragment && $$.fragment.p($$.ctx, dirty);\n    $$.after_update.forEach(add_render_callback);\n  }\n}\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name2) {\n  return void_element_names.test(name2) || name2.toLowerCase() === \"!doctype\";\n}\nfunction client_method(key) {\n  {\n    if (key === \"before_navigate\" || key === \"after_navigate\" || key === \"on_navigate\") {\n      return () => {\n      };\n    } else {\n      const name_lookup = {\n        disable_scroll_handling: \"disableScrollHandling\",\n        preload_data: \"preloadData\",\n        preload_code: \"preloadCode\",\n        invalidate_all: \"invalidateAll\"\n      };\n      return () => {\n        throw new Error(`Cannot call ${name_lookup[key] ?? key}(...) on the server`);\n      };\n    }\n  }\n}\nconst afterNavigate = /* @__PURE__ */ client_method(\"after_navigate\");\nfunction last(array) {\n  return array[array.length - 1];\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction lightable(value) {\n  function subscribe2(run) {\n    run(value);\n    return () => {\n    };\n  }\n  return { subscribe: subscribe2 };\n}\nconst hiddenAction = (obj) => {\n  return new Proxy(obj, {\n    get(target, prop, receiver) {\n      return Reflect.get(target, prop, receiver);\n    },\n    ownKeys(target) {\n      return Reflect.ownKeys(target).filter((key) => key !== \"action\");\n    }\n  });\n};\nconst isFunctionWithParams = (fn) => {\n  return typeof fn === \"function\";\n};\nfunction builder(name2, args) {\n  const { stores, action, returned } = args ?? {};\n  const derivedStore = (() => {\n    if (stores && returned) {\n      return derived(stores, (values) => {\n        const result = returned(values);\n        if (isFunctionWithParams(result)) {\n          const fn = (...args2) => {\n            return hiddenAction({\n              ...result(...args2),\n              [`data-melt-${name2}`]: \"\",\n              action: action ?? noop\n            });\n          };\n          fn.action = action ?? noop;\n          return fn;\n        }\n        return hiddenAction({\n          ...result,\n          [`data-melt-${name2}`]: \"\",\n          action: action ?? noop\n        });\n      });\n    } else {\n      const returnedFn = returned;\n      const result = returnedFn?.();\n      if (isFunctionWithParams(result)) {\n        const resultFn = (...args2) => {\n          return hiddenAction({\n            ...result(...args2),\n            [`data-melt-${name2}`]: \"\",\n            action: action ?? noop\n          });\n        };\n        resultFn.action = action ?? noop;\n        return lightable(resultFn);\n      }\n      return lightable(hiddenAction({\n        ...result,\n        [`data-melt-${name2}`]: \"\",\n        action: action ?? noop\n      }));\n    }\n  })();\n  const actionFn = action ?? (() => {\n  });\n  actionFn.subscribe = derivedStore.subscribe;\n  return actionFn;\n}\nfunction createElHelpers(prefix) {\n  const name2 = (part) => part ? `${prefix}-${part}` : prefix;\n  const attribute = (part) => `data-melt-${prefix}${part ? `-${part}` : \"\"}`;\n  const selector2 = (part) => `[data-melt-${prefix}${part ? `-${part}` : \"\"}]`;\n  const getEl = (part) => document.querySelector(selector2(part));\n  return {\n    name: name2,\n    attribute,\n    selector: selector2,\n    getEl\n  };\n}\nconst isBrowser$1 = typeof document !== \"undefined\";\nconst isFunction = (v) => typeof v === \"function\";\nfunction isHTMLElement$1(element) {\n  return element instanceof HTMLElement;\n}\nfunction isElementDisabled(element) {\n  const ariaDisabled = element.getAttribute(\"aria-disabled\");\n  const disabled = element.getAttribute(\"disabled\");\n  const dataDisabled = element.hasAttribute(\"data-disabled\");\n  if (ariaDisabled === \"true\" || disabled !== null || dataDisabled) {\n    return true;\n  }\n  return false;\n}\nfunction isTouch(event) {\n  return event.pointerType === \"touch\";\n}\nfunction isLeftClick(event) {\n  return event.button === 0 && event.ctrlKey === false && event.metaKey === false;\n}\nfunction executeCallbacks(...callbacks) {\n  return (...args) => {\n    for (const callback of callbacks) {\n      if (typeof callback === \"function\") {\n        callback(...args);\n      }\n    }\n  };\n}\nfunction noop() {\n}\nfunction addEventListener(target, event, handler, options) {\n  const events = Array.isArray(event) ? event : [event];\n  events.forEach((_event) => target.addEventListener(_event, handler, options));\n  return () => {\n    events.forEach((_event) => target.removeEventListener(_event, handler, options));\n  };\n}\nfunction addMeltEventListener(target, event, handler, options) {\n  const events = Array.isArray(event) ? event : [event];\n  if (typeof handler === \"function\") {\n    const handlerWithMelt = withMelt((_event) => handler(_event));\n    events.forEach((_event) => target.addEventListener(_event, handlerWithMelt, options));\n    return () => {\n      events.forEach((_event) => target.removeEventListener(_event, handlerWithMelt, options));\n    };\n  }\n  return () => noop();\n}\nfunction dispatchMeltEvent(originalEvent) {\n  const node = originalEvent.currentTarget;\n  if (!isHTMLElement$1(node))\n    return null;\n  const customMeltEvent = new CustomEvent(`m-${originalEvent.type}`, {\n    detail: {\n      originalEvent\n    },\n    cancelable: true\n  });\n  node.dispatchEvent(customMeltEvent);\n  return customMeltEvent;\n}\nfunction withMelt(handler) {\n  return (event) => {\n    const customEvent = dispatchMeltEvent(event);\n    if (customEvent?.defaultPrevented)\n      return;\n    return handler(event);\n  };\n}\nfunction addHighlight(element) {\n  element.setAttribute(\"data-highlighted\", \"\");\n}\nfunction removeHighlight(element) {\n  element.removeAttribute(\"data-highlighted\");\n}\nfunction omit(obj, ...keys) {\n  const result = {};\n  for (const key of Object.keys(obj)) {\n    if (!keys.includes(key)) {\n      result[key] = obj[key];\n    }\n  }\n  return result;\n}\nconst overridable = (store, onChange) => {\n  const update2 = (updater, sideEffect) => {\n    store.update((curr) => {\n      const next = updater(curr);\n      let res = next;\n      if (onChange) {\n        res = onChange({ curr, next });\n      }\n      sideEffect?.(res);\n      return res;\n    });\n  };\n  const set2 = (curr) => {\n    update2(() => curr);\n  };\n  return {\n    ...store,\n    update: update2,\n    set: set2\n  };\n};\nfunction sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\nfunction styleToString(style) {\n  return Object.keys(style).reduce((str, key) => {\n    if (style[key] === void 0)\n      return str;\n    return str + `${key}:${style[key]};`;\n  }, \"\");\n}\nlet urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nlet nanoid = (size2 = 21) => {\n  let id = \"\";\n  let i = size2;\n  while (i--) {\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n  return id;\n};\nfunction generateId$1() {\n  return nanoid(10);\n}\nconst kbd = {\n  ALT: \"Alt\",\n  ARROW_DOWN: \"ArrowDown\",\n  ARROW_LEFT: \"ArrowLeft\",\n  ARROW_RIGHT: \"ArrowRight\",\n  ARROW_UP: \"ArrowUp\",\n  BACKSPACE: \"Backspace\",\n  CAPS_LOCK: \"CapsLock\",\n  CONTROL: \"Control\",\n  DELETE: \"Delete\",\n  END: \"End\",\n  ENTER: \"Enter\",\n  ESCAPE: \"Escape\",\n  F1: \"F1\",\n  F10: \"F10\",\n  F11: \"F11\",\n  F12: \"F12\",\n  F2: \"F2\",\n  F3: \"F3\",\n  F4: \"F4\",\n  F5: \"F5\",\n  F6: \"F6\",\n  F7: \"F7\",\n  F8: \"F8\",\n  F9: \"F9\",\n  HOME: \"Home\",\n  META: \"Meta\",\n  PAGE_DOWN: \"PageDown\",\n  PAGE_UP: \"PageUp\",\n  SHIFT: \"Shift\",\n  SPACE: \" \",\n  TAB: \"Tab\",\n  CTRL: \"Control\"\n};\nconst FIRST_KEYS = [kbd.ARROW_DOWN, kbd.PAGE_UP, kbd.HOME];\nconst LAST_KEYS = [kbd.ARROW_UP, kbd.PAGE_DOWN, kbd.END];\nconst FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nconst SELECTION_KEYS = [kbd.ENTER, kbd.SPACE];\nfunction debounce(fn, wait = 500) {\n  let timeout = null;\n  return function(...args) {\n    const later = () => {\n      timeout = null;\n      fn(...args);\n    };\n    timeout && clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\nconst isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nconst pt = (v) => isDom() && v.test(getPlatform());\nconst isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nconst isMac = () => pt(/^Mac/) && !isTouchDevice();\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\nconst isIos = () => isApple() && !isMac();\nfunction makeHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort(POINT_COMPARATOR);\n  return makeHullPresorted(newPoints);\n}\nfunction makeHullPresorted(points) {\n  if (points.length <= 1)\n    return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x))\n        upperHull.pop();\n      else\n        break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x))\n        lowerHull.pop();\n      else\n        break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length == 1 && lowerHull.length == 1 && upperHull[0].x == lowerHull[0].x && upperHull[0].y == lowerHull[0].y)\n    return upperHull;\n  else\n    return upperHull.concat(lowerHull);\n}\nfunction POINT_COMPARATOR(a, b) {\n  if (a.x < b.x)\n    return -1;\n  else if (a.x > b.x)\n    return 1;\n  else if (a.y < b.y)\n    return -1;\n  else if (a.y > b.y)\n    return 1;\n  else\n    return 0;\n}\nfunction getPointsFromEl(el) {\n  const rect = el.getBoundingClientRect();\n  return [\n    { x: rect.left, y: rect.top },\n    { x: rect.right, y: rect.top },\n    { x: rect.right, y: rect.bottom },\n    { x: rect.left, y: rect.bottom }\n  ];\n}\nfunction makeHullFromElements(els) {\n  const points = els.flatMap((el) => getPointsFromEl(el));\n  return makeHull(points);\n}\nfunction pointInPolygon(point, polygon) {\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const intersect = yi > point.y !== yj > point.y && point.x < (xj - xi) * (point.y - yi) / (yj - yi) + xi;\n    if (intersect)\n      inside = !inside;\n  }\n  return inside;\n}\nconst LOCK_CLASSNAME = \"data-melt-scroll-lock\";\nfunction assignStyle(el, style) {\n  if (!el)\n    return;\n  const previousStyle = el.style.cssText;\n  Object.assign(el.style, style);\n  return () => {\n    el.style.cssText = previousStyle;\n  };\n}\nfunction setCSSProperty(el, property, value) {\n  if (!el)\n    return;\n  const previousValue = el.style.getPropertyValue(property);\n  el.style.setProperty(property, value);\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue);\n    } else {\n      el.style.removeProperty(property);\n    }\n  };\n}\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction removeScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const { documentElement, body } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked)\n    return noop;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const scrollbarSidePadding = win.getComputedStyle(body)[paddingProperty];\n  const setStyle = () => assignStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `calc(${scrollbarSidePadding} + ${scrollbarWidth}px)`\n  });\n  const setIOSStyle = () => {\n    const { scrollX, scrollY, visualViewport } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `calc(${scrollbarSidePadding} + ${scrollbarWidth}px)`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo(scrollX, scrollY);\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()];\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\nfunction derivedVisible(obj) {\n  const { open, forceVisible, activeTrigger } = obj;\n  return derived([open, forceVisible, activeTrigger], ([$open, $forceVisible, $activeTrigger]) => ($open || $forceVisible) && $activeTrigger !== null);\n}\nfunction derivedWithUnsubscribe(stores, fn) {\n  let unsubscribers = [];\n  const onUnsubscribe = (cb) => {\n    unsubscribers.push(cb);\n  };\n  const unsubscribe = () => {\n    unsubscribers.forEach((fn2) => fn2());\n    unsubscribers = [];\n  };\n  const derivedStore = derived(stores, ($storeValues) => {\n    unsubscribe();\n    return fn($storeValues, onUnsubscribe);\n  });\n  onDestroy(unsubscribe);\n  const subscribe2 = (...args) => {\n    const unsub = derivedStore.subscribe(...args);\n    return () => {\n      unsub();\n      unsubscribe();\n    };\n  };\n  return {\n    ...derivedStore,\n    subscribe: subscribe2\n  };\n}\nfunction effect(stores, fn) {\n  const unsub = derivedWithUnsubscribe(stores, (stores2, onUnsubscribe) => {\n    return {\n      stores: stores2,\n      onUnsubscribe\n    };\n  }).subscribe(({ stores: stores2, onUnsubscribe }) => {\n    const returned = fn(stores2);\n    if (returned) {\n      onUnsubscribe(returned);\n    }\n  });\n  onDestroy(unsub);\n  return unsub;\n}\nfunction toWritableStores(properties) {\n  const result = {};\n  Object.keys(properties).forEach((key) => {\n    const propertyKey = key;\n    const value = properties[propertyKey];\n    result[propertyKey] = writable(value);\n  });\n  return result;\n}\nfunction handleRovingFocus(nextElement) {\n  if (!isBrowser$1)\n    return;\n  const currentFocusedElement = document.activeElement;\n  if (!isHTMLElement$1(currentFocusedElement))\n    return;\n  if (currentFocusedElement === nextElement)\n    return;\n  currentFocusedElement.tabIndex = -1;\n  nextElement.tabIndex = 0;\n  sleep(1).then(() => nextElement.focus());\n}\nfunction getFocusableElements() {\n  return Array.from(document.querySelectorAll('a[href]:not([tabindex=\"-1\"]), button:not([disabled]):not([tabindex=\"-1\"]), input:not([disabled]):not([tabindex=\"-1\"]), select:not([disabled]):not([tabindex=\"-1\"]), textarea:not([disabled]):not([tabindex=\"-1\"]), [tabindex]:not([tabindex=\"-1\"])'));\n}\nfunction getNextFocusable(currentElement) {\n  const focusableElements = getFocusableElements();\n  const currentIndex = focusableElements.indexOf(currentElement);\n  const nextIndex = currentIndex + 1;\n  const nextElement = focusableElements[nextIndex];\n  if (nextIndex < focusableElements.length && isHTMLElement$1(nextElement)) {\n    return nextElement;\n  }\n  return null;\n}\nfunction getPreviousFocusable(currentElement) {\n  const focusableElements = getFocusableElements();\n  const currentIndex = focusableElements.indexOf(currentElement);\n  const previousIndex = currentIndex - 1;\n  const prevElement = focusableElements[previousIndex];\n  if (previousIndex >= 0 && isHTMLElement$1(prevElement)) {\n    return prevElement;\n  }\n  return null;\n}\nconst defaults$6 = {\n  onMatch: handleRovingFocus\n};\nfunction createTypeaheadSearch(args = {}) {\n  const withDefaults = { ...defaults$6, ...args };\n  const typed = writable([]);\n  const resetTyped = debounce(() => {\n    typed.update(() => []);\n  });\n  const handleTypeaheadSearch = (key, items) => {\n    const currentItem = document.activeElement;\n    if (!isHTMLElement$1(currentItem))\n      return;\n    const $typed = get_store_value(typed);\n    if (!Array.isArray($typed)) {\n      return;\n    }\n    $typed.push(key.toLowerCase());\n    typed.update(() => $typed);\n    const candidateItems = items.filter((item) => {\n      if (item.getAttribute(\"disabled\") === \"true\" || item.getAttribute(\"aria-disabled\") === \"true\" || item.hasAttribute(\"data-disabled\")) {\n        return false;\n      }\n      return true;\n    });\n    const isRepeated = $typed.length > 1 && $typed.every((char) => char === $typed[0]);\n    const normalizeSearch = isRepeated ? $typed[0] : $typed.join(\"\");\n    const currentItemIndex = currentItem ? candidateItems.indexOf(currentItem) : -1;\n    let wrappedItems = wrapArray(candidateItems, Math.max(currentItemIndex, 0));\n    const excludeCurrentItem = normalizeSearch.length === 1;\n    if (excludeCurrentItem) {\n      wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n    }\n    const nextItem = wrappedItems.find((item) => item.innerText.toLowerCase().startsWith(normalizeSearch.toLowerCase()));\n    if (isHTMLElement$1(nextItem) && nextItem !== currentItem) {\n      withDefaults.onMatch(nextItem);\n    }\n    resetTyped();\n  };\n  return {\n    typed,\n    resetTyped,\n    handleTypeaheadSearch\n  };\n}\nfunction getPortalParent(node) {\n  let parent = node.parentElement;\n  while (isHTMLElement$1(parent) && !parent.hasAttribute(\"data-portal\")) {\n    parent = parent.parentElement;\n  }\n  return parent || \"body\";\n}\nfunction getPortalDestination(node, portalProp) {\n  const portalParent = getPortalParent(node);\n  if (portalProp !== void 0)\n    return portalProp;\n  if (portalParent === \"body\")\n    return document.body;\n  return null;\n}\nconst documentClickStore = readable(void 0, (set2) => {\n  function clicked(event) {\n    set2(event);\n    set2(void 0);\n  }\n  const unsubscribe = addEventListener(document, \"pointerdown\", clicked, {\n    passive: false,\n    capture: true\n  });\n  return unsubscribe;\n});\nconst useClickOutside = (node, config = {}) => {\n  let options = { enabled: true, ...config };\n  function isEnabled() {\n    return typeof options.enabled === \"boolean\" ? options.enabled : get_store_value(options.enabled);\n  }\n  const unsubscribe = documentClickStore.subscribe((e) => {\n    if (!isEnabled() || !e || e.target === node) {\n      return;\n    }\n    const composedPath = e.composedPath();\n    if (composedPath.includes(node))\n      return;\n    if (options.ignore) {\n      if (isFunction(options.ignore)) {\n        if (options.ignore(e))\n          return;\n      } else if (Array.isArray(options.ignore)) {\n        if (options.ignore.length > 0 && options.ignore.some((ignoreEl) => {\n          return ignoreEl && (e.target === ignoreEl || composedPath.includes(ignoreEl));\n        }))\n          return;\n      }\n    }\n    options.handler?.(e);\n  });\n  return {\n    update(params) {\n      options = { ...options, ...params };\n    },\n    destroy() {\n      unsubscribe();\n    }\n  };\n};\nconst documentEscapeKeyStore = readable(void 0, (set2) => {\n  function keydown(event) {\n    if (event && event.key === kbd.ESCAPE) {\n      set2(event);\n    }\n    set2(void 0);\n  }\n  const unsubscribe = addEventListener(document, \"keydown\", keydown, {\n    passive: false,\n    capture: true\n  });\n  return unsubscribe;\n});\nconst useEscapeKeydown = (node, config = {}) => {\n  node.dataset.escapee = \"\";\n  let options = { enabled: true, ...config };\n  function isEnabled() {\n    return typeof options.enabled === \"boolean\" ? options.enabled : get_store_value(options.enabled);\n  }\n  const unsubscribe = documentEscapeKeyStore.subscribe((e) => {\n    if (!e || !isEnabled())\n      return;\n    const target = e.target;\n    if (!isHTMLElement$1(target) || target.closest(\"[data-escapee]\") !== node) {\n      return;\n    }\n    if (options.ignore) {\n      if (isFunction(options.ignore)) {\n        if (options.ignore(e))\n          return;\n      } else if (Array.isArray(options.ignore)) {\n        if (options.ignore.length > 0 && options.ignore.some((ignoreEl) => {\n          return ignoreEl && target === ignoreEl;\n        }))\n          return;\n      }\n    }\n    options.handler?.(e);\n  });\n  return {\n    update(params) {\n      options = { ...options, ...params };\n    },\n    destroy() {\n      node.removeAttribute(\"data-escapee\");\n      unsubscribe();\n    }\n  };\n};\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = (v) => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: \"right\",\n  right: \"left\",\n  bottom: \"top\",\n  top: \"bottom\"\n};\nconst oppositeAlignmentMap = {\n  start: \"end\",\n  end: \"start\"\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === \"function\" ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split(\"-\")[0];\n}\nfunction getAlignment(placement) {\n  return placement.split(\"-\")[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === \"x\" ? \"y\" : \"x\";\n}\nfunction getAxisLength(axis) {\n  return axis === \"y\" ? \"height\" : \"width\";\n}\nfunction getSideAxis(placement) {\n  return [\"top\", \"bottom\"].includes(getSide(placement)) ? \"y\" : \"x\";\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === \"x\" ? alignment === (rtl ? \"end\" : \"start\") ? \"right\" : \"left\" : alignment === \"start\" ? \"bottom\" : \"top\";\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = [\"left\", \"right\"];\n  const rl = [\"right\", \"left\"];\n  const tb = [\"top\", \"bottom\"];\n  const bt = [\"bottom\", \"top\"];\n  switch (side) {\n    case \"top\":\n    case \"bottom\":\n      if (rtl)\n        return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case \"left\":\n    case \"right\":\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === \"start\", rtl);\n  if (alignment) {\n    list = list.map((side) => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== \"number\" ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === \"y\";\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case \"top\":\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case \"bottom\":\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case \"right\":\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case \"left\":\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case \"start\":\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case \"end\":\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\nconst computePosition$1 = async (reference, floating, config) => {\n  const {\n    placement = \"bottom\",\n    strategy = \"absolute\",\n    middleware = [],\n    platform: platform2\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));\n  let rects = await platform2.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name: name2,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: platform2,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name2]: {\n        ...middlewareData[name2],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === \"object\") {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform2.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform: platform2,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = \"clippingAncestors\",\n    rootBoundary = \"viewport\",\n    elementContext = \"floating\",\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === \"floating\" ? \"reference\" : \"floating\";\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform2.getClippingRect({\n    element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === \"floating\" ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));\n  const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\nconst arrow = (options) => ({\n  name: \"arrow\",\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform: platform2,\n      elements,\n      middlewareData\n    } = state;\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform2.getDimensions(element);\n    const isYAxis = axis === \"y\";\n    const minProp = isYAxis ? \"top\" : \"left\";\n    const maxProp = isYAxis ? \"bottom\" : \"right\";\n    const clientProp = isYAxis ? \"clientHeight\" : \"clientWidth\";\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n    if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n    const min$1 = minPadding;\n    const max2 = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset2 = clamp(min$1, center, max2);\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center != offset2 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset2,\n        centerOffset: center - offset2 - alignmentOffset,\n        ...shouldAddOffset && {\n          alignmentOffset\n        }\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\nconst flip = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"flip\",\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform: platform2,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = \"bestFit\",\n        fallbackAxisSideDirection = \"none\",\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== \"none\") {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n      if (!overflows.every((side2) => side2 <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case \"bestFit\": {\n              var _overflowsData$map$so;\n              const placement2 = (_overflowsData$map$so = overflowsData.map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n              if (placement2) {\n                resetPlacement = placement2;\n              }\n              break;\n            }\n            case \"initialPlacement\":\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform: platform2,\n    elements\n  } = state;\n  const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === \"y\";\n  const mainAxisMulti = [\"left\", \"top\"].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === \"number\" ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === \"number\") {\n    crossAxis = alignment === \"end\" ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\nconst offset = function(options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: \"offset\",\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\nconst shift = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"shift\",\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: (_ref) => {\n            let {\n              x: x2,\n              y: y2\n            } = _ref;\n            return {\n              x: x2,\n              y: y2\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === \"y\" ? \"top\" : \"left\";\n        const maxSide = mainAxis === \"y\" ? \"bottom\" : \"right\";\n        const min2 = mainAxisCoord + overflow[minSide];\n        const max2 = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min2, mainAxisCoord, max2);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === \"y\" ? \"top\" : \"left\";\n        const maxSide = crossAxis === \"y\" ? \"bottom\" : \"right\";\n        const min2 = crossAxisCoord + overflow[minSide];\n        const max2 = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min2, crossAxisCoord, max2);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\nconst size = function(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: \"size\",\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform: platform2,\n        elements\n      } = state;\n      const {\n        apply = () => {\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === \"y\";\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === \"top\" || side === \"bottom\") {\n        heightSide = side;\n        widthSide = alignment === (await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating)) ? \"start\" : \"end\") ? \"left\" : \"right\";\n      } else {\n        widthSide = side;\n        heightSide = alignment === \"end\" ? \"top\" : \"bottom\";\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform2.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || \"\").toLowerCase();\n  }\n  return \"#document\";\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null ? void 0 : (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (typeof ShadowRoot === \"undefined\") {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle$1(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isTableElement(element) {\n  return [\"table\", \"td\", \"th\"].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle$1(element);\n  return css.transform !== \"none\" || css.perspective !== \"none\" || (css.containerType ? css.containerType !== \"normal\" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== \"none\" : false) || !webkit && (css.filter ? css.filter !== \"none\" : false) || [\"transform\", \"perspective\", \"filter\"].some((value) => (css.willChange || \"\").includes(value)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((value) => (css.contain || \"\").includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === \"undefined\" || !CSS.supports)\n    return false;\n  return CSS.supports(\"-webkit-backdrop-filter\", \"none\");\n}\nfunction isLastTraversableNode(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nfunction getComputedStyle$1(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") {\n    return node;\n  }\n  const result = (\n    // Step into the shadow DOM of the parent of a slotted node.\n    node.assignedSlot || // DOM Element detected.\n    node.parentNode || // ShadowRoot detected.\n    isShadowRoot(node) && node.host || // Fallback.\n    getDocumentElement(node)\n  );\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\nconst noOffsets = /* @__PURE__ */ createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== \"fixed\") {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\nfunction getWindowScrollBarX(element) {\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === \"rtl\") {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === \"fixed\") {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === \"fixed\");\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === \"viewport\") {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === \"document\") {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === \"fixed\" || hasFixedPositionAncestor(parentNode, stopNode);\n}\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== \"body\");\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === \"fixed\";\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === \"fixed\") {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === \"static\" && !!currentContainingBlockComputedStyle && [\"absolute\", \"fixed\"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      result = result.filter((ancestor) => ancestor !== currentNode);\n    } else {\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === \"clippingAncestors\" ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === \"fixed\";\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== \"body\" || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === \"fixed\") {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\nfunction getOffsetParent(element, polyfill) {\n  const window2 = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window2;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === \"static\") {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === \"html\" || getNodeName(offsetParent) === \"body\" && getComputedStyle$1(offsetParent).position === \"static\" && !isContainingBlock(offsetParent))) {\n    return window2;\n  }\n  return offsetParent || getContainingBlock(element) || window2;\n}\nconst getElementRects = async function(_ref) {\n  let {\n    reference,\n    floating,\n    strategy\n  } = _ref;\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...await getDimensionsFn(floating)\n    }\n  };\n};\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === \"rtl\";\n}\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    clearTimeout(timeoutId);\n    io && io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\nfunction autoUpdate(reference, floating, update2, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === \"function\",\n    layoutShift = typeof IntersectionObserver === \"function\",\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach((ancestor) => {\n    ancestorScroll && ancestor.addEventListener(\"scroll\", update2, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener(\"resize\", update2);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update2) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver((_ref) => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          resizeObserver && resizeObserver.observe(floating);\n        });\n      }\n      update2();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update2();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update2();\n  return () => {\n    ancestors.forEach((ancestor) => {\n      ancestorScroll && ancestor.removeEventListener(\"scroll\", update2);\n      ancestorResize && ancestor.removeEventListener(\"resize\", update2);\n    });\n    cleanupIo && cleanupIo();\n    resizeObserver && resizeObserver.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\nconst computePosition = (reference, floating, options) => {\n  const cache = /* @__PURE__ */ new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\nconst defaultConfig$1 = {\n  strategy: \"absolute\",\n  placement: \"top\",\n  gutter: 5,\n  flip: true,\n  sameWidth: false,\n  overflowPadding: 8\n};\nconst ARROW_TRANSFORM = {\n  bottom: \"rotate(45deg)\",\n  left: \"rotate(135deg)\",\n  top: \"rotate(225deg)\",\n  right: \"rotate(315deg)\"\n};\nfunction useFloating(reference, floating, opts = {}) {\n  if (!floating || !reference)\n    return {\n      destroy: noop\n    };\n  const options = { ...defaultConfig$1, ...opts };\n  const arrowEl = floating.querySelector(\"[data-arrow=true]\");\n  const middleware = [];\n  if (options.flip) {\n    middleware.push(flip({\n      boundary: options.boundary,\n      padding: options.overflowPadding\n    }));\n  }\n  const arrowOffset = isHTMLElement$1(arrowEl) ? arrowEl.offsetHeight / 2 : 0;\n  if (options.gutter || options.offset) {\n    const data = options.gutter ? { mainAxis: options.gutter } : options.offset;\n    if (data?.mainAxis != null) {\n      data.mainAxis += arrowOffset;\n    }\n    middleware.push(offset(data));\n  }\n  middleware.push(shift({\n    boundary: options.boundary,\n    crossAxis: options.overlap,\n    padding: options.overflowPadding\n  }));\n  if (arrowEl) {\n    middleware.push(arrow({ element: arrowEl, padding: 8 }));\n  }\n  middleware.push(size({\n    padding: options.overflowPadding,\n    apply({ rects, availableHeight, availableWidth }) {\n      if (options.sameWidth) {\n        Object.assign(floating.style, {\n          width: `${Math.round(rects.reference.width)}px`,\n          minWidth: \"unset\"\n        });\n      }\n      if (options.fitViewport) {\n        Object.assign(floating.style, {\n          maxWidth: `${availableWidth}px`,\n          maxHeight: `${availableHeight}px`\n        });\n      }\n    }\n  }));\n  function compute() {\n    if (!reference || !floating)\n      return;\n    const { placement, strategy } = options;\n    computePosition(reference, floating, {\n      placement,\n      middleware,\n      strategy\n    }).then((data) => {\n      const x = Math.round(data.x);\n      const y = Math.round(data.y);\n      Object.assign(floating.style, {\n        top: `${y}px`,\n        left: `${x}px`\n      });\n      if (isHTMLElement$1(arrowEl) && data.middlewareData.arrow) {\n        const { x: x2, y: y2 } = data.middlewareData.arrow;\n        const dir = data.placement.split(\"-\")[0];\n        Object.assign(arrowEl.style, {\n          position: \"absolute\",\n          left: x2 != null ? `${x2}px` : \"\",\n          top: y2 != null ? `${y2}px` : \"\",\n          [dir]: `calc(100% - ${arrowOffset}px)`,\n          transform: ARROW_TRANSFORM[dir],\n          backgroundColor: \"inherit\",\n          zIndex: \"inherit\"\n        });\n      }\n      return data;\n    });\n  }\n  Object.assign(floating.style, {\n    position: options.strategy\n  });\n  return {\n    destroy: autoUpdate(reference, floating, compute)\n  };\n}\n/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = [\"input:not([inert])\", \"select:not([inert])\", \"textarea:not([inert])\", \"a[href]:not([inert])\", \"button:not([inert])\", \"[tabindex]:not(slot):not([inert])\", \"audio[controls]:not([inert])\", \"video[controls]:not([inert])\", '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', \"details>summary:first-of-type:not([inert])\", \"details:not([inert])\"];\nvar candidateSelector = /* @__PURE__ */ candidateSelectors.join(\",\");\nvar NoElement = typeof Element === \"undefined\";\nvar matches = NoElement ? function() {\n} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function(element) {\n  var _element$getRootNode;\n  return element === null || element === void 0 ? void 0 : (_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element);\n} : function(element) {\n  return element === null || element === void 0 ? void 0 : element.ownerDocument;\n};\nvar isInert = function isInert2(node, lookUp) {\n  var _node$getAttribute;\n  if (lookUp === void 0) {\n    lookUp = true;\n  }\n  var inertAtt = node === null || node === void 0 ? void 0 : (_node$getAttribute = node.getAttribute) === null || _node$getAttribute === void 0 ? void 0 : _node$getAttribute.call(node, \"inert\");\n  var inert = inertAtt === \"\" || inertAtt === \"true\";\n  var result = inert || lookUp && node && isInert2(node.parentNode);\n  return result;\n};\nvar isContentEditable = function isContentEditable2(node) {\n  var _node$getAttribute2;\n  var attValue = node === null || node === void 0 ? void 0 : (_node$getAttribute2 = node.getAttribute) === null || _node$getAttribute2 === void 0 ? void 0 : _node$getAttribute2.call(node, \"contenteditable\");\n  return attValue === \"\" || attValue === \"true\";\n};\nvar getCandidates = function getCandidates2(el, includeContainer, filter) {\n  if (isInert(el)) {\n    return [];\n  }\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\nvar getCandidatesIteratively = function getCandidatesIteratively2(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      continue;\n    }\n    if (element.tagName === \"SLOT\") {\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively2(content, true, options);\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      var validCandidate = matches.call(element, candidateSelector);\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      }\n      var shadowRoot = element.shadowRoot || // check for an undisclosed shadow\n      typeof options.getShadowRoot === \"function\" && options.getShadowRoot(element);\n      var validShadowRoot = !isInert(shadowRoot, false) && (!options.shadowRootFilter || options.shadowRootFilter(element));\n      if (shadowRoot && validShadowRoot) {\n        var _nestedCandidates = getCandidatesIteratively2(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n  return candidates;\n};\nvar hasTabIndex = function hasTabIndex2(node) {\n  return !isNaN(parseInt(node.getAttribute(\"tabindex\"), 10));\n};\nvar getTabIndex = function getTabIndex2(node) {\n  if (!node) {\n    throw new Error(\"No node provided\");\n  }\n  if (node.tabIndex < 0) {\n    if ((/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || isContentEditable(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\nvar getSortOrderTabIndex = function getSortOrderTabIndex2(node, isScope) {\n  var tabIndex = getTabIndex(node);\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n  return tabIndex;\n};\nvar sortOrderedTabbables = function sortOrderedTabbables2(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\nvar isInput = function isInput2(node) {\n  return node.tagName === \"INPUT\";\n};\nvar isHiddenInput = function isHiddenInput2(node) {\n  return isInput(node) && node.type === \"hidden\";\n};\nvar isDetailsWithSummary = function isDetailsWithSummary2(node) {\n  var r = node.tagName === \"DETAILS\" && Array.prototype.slice.apply(node.children).some(function(child) {\n    return child.tagName === \"SUMMARY\";\n  });\n  return r;\n};\nvar getCheckedRadio = function getCheckedRadio2(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\nvar isTabbableRadio = function isTabbableRadio2(node) {\n  if (!node.name) {\n    return true;\n  }\n  var radioScope = node.form || getRootNode(node);\n  var queryRadios = function queryRadios2(name2) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name2 + '\"]');\n  };\n  var radioSet;\n  if (typeof window !== \"undefined\" && typeof window.CSS !== \"undefined\" && typeof window.CSS.escape === \"function\") {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      console.error(\"Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s\", err.message);\n      return false;\n    }\n  }\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\nvar isRadio = function isRadio2(node) {\n  return isInput(node) && node.type === \"radio\";\n};\nvar isNonTabbableRadio = function isNonTabbableRadio2(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\nvar isNodeAttached = function isNodeAttached2(node) {\n  var _nodeRoot;\n  var nodeRoot = node && getRootNode(node);\n  var nodeRootHost = (_nodeRoot = nodeRoot) === null || _nodeRoot === void 0 ? void 0 : _nodeRoot.host;\n  var attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    var _nodeRootHost, _nodeRootHost$ownerDo, _node$ownerDocument;\n    attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && (_nodeRootHost$ownerDo = _nodeRootHost.ownerDocument) !== null && _nodeRootHost$ownerDo !== void 0 && _nodeRootHost$ownerDo.contains(nodeRootHost) || node !== null && node !== void 0 && (_node$ownerDocument = node.ownerDocument) !== null && _node$ownerDocument !== void 0 && _node$ownerDocument.contains(node));\n    while (!attached && nodeRootHost) {\n      var _nodeRoot2, _nodeRootHost2, _nodeRootHost2$ownerD;\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = (_nodeRoot2 = nodeRoot) === null || _nodeRoot2 === void 0 ? void 0 : _nodeRoot2.host;\n      attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && (_nodeRootHost2$ownerD = _nodeRootHost2.ownerDocument) !== null && _nodeRootHost2$ownerD !== void 0 && _nodeRootHost2$ownerD.contains(nodeRootHost));\n    }\n  }\n  return attached;\n};\nvar isZeroArea = function isZeroArea2(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(), width = _node$getBoundingClie.width, height = _node$getBoundingClie.height;\n  return width === 0 && height === 0;\n};\nvar isHidden = function isHidden2(node, _ref) {\n  var displayCheck = _ref.displayCheck, getShadowRoot = _ref.getShadowRoot;\n  if (getComputedStyle(node).visibility === \"hidden\") {\n    return true;\n  }\n  var isDirectSummary = matches.call(node, \"details>summary:first-of-type\");\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, \"details:not([open]) *\")) {\n    return true;\n  }\n  if (!displayCheck || displayCheck === \"full\" || displayCheck === \"legacy-full\") {\n    if (typeof getShadowRoot === \"function\") {\n      var originalNode = node;\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true) {\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          node = rootNode.host;\n        } else {\n          node = parentElement;\n        }\n      }\n      node = originalNode;\n    }\n    if (isNodeAttached(node)) {\n      return !node.getClientRects().length;\n    }\n    if (displayCheck !== \"legacy-full\") {\n      return true;\n    }\n  } else if (displayCheck === \"non-zero-area\") {\n    return isZeroArea(node);\n  }\n  return false;\n};\nvar isDisabledFromFieldset = function isDisabledFromFieldset2(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement;\n    while (parentNode) {\n      if (parentNode.tagName === \"FIELDSET\" && parentNode.disabled) {\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i);\n          if (child.tagName === \"LEGEND\") {\n            return matches.call(parentNode, \"fieldset[disabled] *\") ? true : !child.contains(node);\n          }\n        }\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n  return false;\n};\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable2(options, node) {\n  if (node.disabled || // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  isInert(node) || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n  return true;\n};\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable2(options, node) {\n  if (isNonTabbableRadio(node) || getTabIndex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n  return true;\n};\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable2(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute(\"tabindex\"), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  return false;\n};\nvar sortByOrder = function sortByOrder2(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function(item, i) {\n    var isScope = !!item.scopeParent;\n    var element = isScope ? item.scopeParent : item;\n    var candidateTabindex = getSortOrderTabIndex(element, isScope);\n    var elements = isScope ? sortByOrder2(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item,\n        isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function(acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\nvar tabbable = function tabbable2(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n  return sortByOrder(candidates);\n};\nvar focusable = function focusable2(container, options) {\n  options = options || {};\n  var candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([container], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(container, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n  return candidates;\n};\nvar isTabbable = function isTabbable2(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error(\"No node provided\");\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\nvar focusableCandidateSelector = /* @__PURE__ */ candidateSelectors.concat(\"iframe\").join(\",\");\nvar isFocusable = function isFocusable2(node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error(\"No node provided\");\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n/*!\n* focus-trap 7.5.2\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nvar activeFocusTraps = {\n  activateTrap: function activateTrap(trapStack, trap) {\n    if (trapStack.length > 0) {\n      var activeTrap = trapStack[trapStack.length - 1];\n      if (activeTrap !== trap) {\n        activeTrap.pause();\n      }\n    }\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex === -1) {\n      trapStack.push(trap);\n    } else {\n      trapStack.splice(trapIndex, 1);\n      trapStack.push(trap);\n    }\n  },\n  deactivateTrap: function deactivateTrap(trapStack, trap) {\n    var trapIndex = trapStack.indexOf(trap);\n    if (trapIndex !== -1) {\n      trapStack.splice(trapIndex, 1);\n    }\n    if (trapStack.length > 0) {\n      trapStack[trapStack.length - 1].unpause();\n    }\n  }\n};\nvar isSelectableInput = function isSelectableInput2(node) {\n  return node.tagName && node.tagName.toLowerCase() === \"input\" && typeof node.select === \"function\";\n};\nvar isEscapeEvent = function isEscapeEvent2(e) {\n  return (e === null || e === void 0 ? void 0 : e.key) === \"Escape\" || (e === null || e === void 0 ? void 0 : e.key) === \"Esc\" || (e === null || e === void 0 ? void 0 : e.keyCode) === 27;\n};\nvar isTabEvent = function isTabEvent2(e) {\n  return (e === null || e === void 0 ? void 0 : e.key) === \"Tab\" || (e === null || e === void 0 ? void 0 : e.keyCode) === 9;\n};\nvar isKeyForward = function isKeyForward2(e) {\n  return isTabEvent(e) && !e.shiftKey;\n};\nvar isKeyBackward = function isKeyBackward2(e) {\n  return isTabEvent(e) && e.shiftKey;\n};\nvar delay = function delay2(fn) {\n  return setTimeout(fn, 0);\n};\nvar findIndex = function findIndex2(arr, fn) {\n  var idx = -1;\n  arr.every(function(value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false;\n    }\n    return true;\n  });\n  return idx;\n};\nvar valueOrHandler = function valueOrHandler2(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n  return typeof value === \"function\" ? value.apply(void 0, params) : value;\n};\nvar getActualTarget = function getActualTarget2(event) {\n  return event.target.shadowRoot && typeof event.composedPath === \"function\" ? event.composedPath()[0] : event.target;\n};\nvar internalTrapStack = [];\nvar createFocusTrap$1 = function createFocusTrap(elements, userOptions) {\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n  var trapStack = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.trapStack) || internalTrapStack;\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true,\n    isKeyForward,\n    isKeyBackward\n  }, userOptions);\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   posTabIndexesFound: boolean,\n    //   firstTabbableNode: HTMLElement|undefined,\n    //   lastTabbableNode: HTMLElement|undefined,\n    //   firstDomTabbableNode: HTMLElement|undefined,\n    //   lastDomTabbableNode: HTMLElement|undefined,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: void 0,\n    // the most recent KeyboardEvent for the configured nav key (typically [SHIFT+]TAB), if any\n    recentNavEvent: void 0\n  };\n  var trap;\n  var getOption = function getOption2(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== void 0 ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n  var findContainerIndex = function findContainerIndex2(element, event) {\n    var composedPath = typeof (event === null || event === void 0 ? void 0 : event.composedPath) === \"function\" ? event.composedPath() : void 0;\n    return state.containerGroups.findIndex(function(_ref) {\n      var container = _ref.container, tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      (composedPath === null || composedPath === void 0 ? void 0 : composedPath.includes(container)) || tabbableNodes.find(function(node) {\n        return node === element;\n      });\n    });\n  };\n  var getNodeForOption = function getNodeForOption2(optionName) {\n    var optionValue = config[optionName];\n    if (typeof optionValue === \"function\") {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n      optionValue = optionValue.apply(void 0, params);\n    }\n    if (optionValue === true) {\n      optionValue = void 0;\n    }\n    if (!optionValue) {\n      if (optionValue === void 0 || optionValue === false) {\n        return optionValue;\n      }\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n    var node = optionValue;\n    if (typeof optionValue === \"string\") {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n    return node;\n  };\n  var getInitialFocusNode = function getInitialFocusNode2() {\n    var node = getNodeForOption(\"initialFocus\");\n    if (node === false) {\n      return false;\n    }\n    if (node === void 0 || !isFocusable(node, config.tabbableOptions)) {\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode;\n        node = firstTabbableNode || getNodeForOption(\"fallbackFocus\");\n      }\n    }\n    if (!node) {\n      throw new Error(\"Your focus-trap needs to have at least one focusable element\");\n    }\n    return node;\n  };\n  var updateTabbableNodes = function updateTabbableNodes2() {\n    state.containerGroups = state.containers.map(function(container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions);\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      var firstTabbableNode = tabbableNodes.length > 0 ? tabbableNodes[0] : void 0;\n      var lastTabbableNode = tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : void 0;\n      var firstDomTabbableNode = focusableNodes.find(function(node) {\n        return isTabbable(node);\n      });\n      var lastDomTabbableNode = focusableNodes.slice().reverse().find(function(node) {\n        return isTabbable(node);\n      });\n      var posTabIndexesFound = !!tabbableNodes.find(function(node) {\n        return getTabIndex(node) > 0;\n      });\n      return {\n        container,\n        tabbableNodes,\n        focusableNodes,\n        /** True if at least one node with positive `tabindex` was found in this container. */\n        posTabIndexesFound,\n        /** First tabbable node in container, __tabindex__ order; `undefined` if none. */\n        firstTabbableNode,\n        /** Last tabbable node in container, __tabindex__ order; `undefined` if none. */\n        lastTabbableNode,\n        // NOTE: DOM order is NOT NECESSARILY \"document position\" order, but figuring that out\n        //  would require more than just https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n        //  because that API doesn't work with Shadow DOM as well as it should (@see\n        //  https://github.com/whatwg/dom/issues/320) and since this first/last is only needed, so far,\n        //  to address an edge case related to positive tabindex support, this seems like a much easier,\n        //  \"close enough most of the time\" alternative for positive tabindexes which should generally\n        //  be avoided anyway...\n        /** First tabbable node in container, __DOM__ order; `undefined` if none. */\n        firstDomTabbableNode,\n        /** Last tabbable node in container, __DOM__ order; `undefined` if none. */\n        lastDomTabbableNode,\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n          var nodeIdx = tabbableNodes.indexOf(node);\n          if (nodeIdx < 0) {\n            if (forward) {\n              return focusableNodes.slice(focusableNodes.indexOf(node) + 1).find(function(el) {\n                return isTabbable(el);\n              });\n            }\n            return focusableNodes.slice(0, focusableNodes.indexOf(node)).reverse().find(function(el) {\n              return isTabbable(el);\n            });\n          }\n          return tabbableNodes[nodeIdx + (forward ? 1 : -1)];\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function(group) {\n      return group.tabbableNodes.length > 0;\n    });\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption(\"fallbackFocus\")) {\n      throw new Error(\"Your focus-trap must have at least one container with at least one tabbable node in it at all times\");\n    }\n    if (state.containerGroups.find(function(g) {\n      return g.posTabIndexesFound;\n    }) && state.containerGroups.length > 1) {\n      throw new Error(\"At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.\");\n    }\n  };\n  var tryFocus = function tryFocus2(node) {\n    if (node === false) {\n      return;\n    }\n    if (node === doc.activeElement) {\n      return;\n    }\n    if (!node || !node.focus) {\n      tryFocus2(getInitialFocusNode());\n      return;\n    }\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n  var getReturnFocusNode = function getReturnFocusNode2(previousActiveElement) {\n    var node = getNodeForOption(\"setReturnFocus\", previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  };\n  var findNextNavNode = function findNextNavNode2(_ref2) {\n    var target = _ref2.target, event = _ref2.event, _ref2$isBackward = _ref2.isBackward, isBackward = _ref2$isBackward === void 0 ? false : _ref2$isBackward;\n    target = target || getActualTarget(event);\n    updateTabbableNodes();\n    var destinationNode = null;\n    if (state.tabbableGroups.length > 0) {\n      var containerIndex = findContainerIndex(target, event);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : void 0;\n      if (containerIndex < 0) {\n        if (isBackward) {\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (isBackward) {\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function(_ref3) {\n          var firstTabbableNode = _ref3.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          startOfGroupIndex = containerIndex;\n        }\n        if (startOfGroupIndex >= 0) {\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = getTabIndex(target) >= 0 ? destinationGroup.lastTabbableNode : destinationGroup.lastDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          destinationNode = containerGroup.nextTabbableNode(target, false);\n        }\n      } else {\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function(_ref4) {\n          var lastTabbableNode = _ref4.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          lastOfGroupIndex = containerIndex;\n        }\n        if (lastOfGroupIndex >= 0) {\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = getTabIndex(target) >= 0 ? _destinationGroup.firstTabbableNode : _destinationGroup.firstDomTabbableNode;\n        } else if (!isTabEvent(event)) {\n          destinationNode = containerGroup.nextTabbableNode(target);\n        }\n      }\n    } else {\n      destinationNode = getNodeForOption(\"fallbackFocus\");\n    }\n    return destinationNode;\n  };\n  var checkPointerDown = function checkPointerDown2(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      trap.deactivate({\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked (and if not focusable, to \"nothing\"); by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node), whether the\n        //  outside click was on a focusable node or not\n        returnFocus: config.returnFocusOnDeactivate\n      });\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n  };\n  var checkFocusIn = function checkFocusIn2(event) {\n    var target = getActualTarget(event);\n    var targetContained = findContainerIndex(target, event) >= 0;\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      event.stopImmediatePropagation();\n      var nextNode;\n      var navAcrossContainers = true;\n      if (state.mostRecentlyFocusedNode) {\n        if (getTabIndex(state.mostRecentlyFocusedNode) > 0) {\n          var mruContainerIdx = findContainerIndex(state.mostRecentlyFocusedNode);\n          var tabbableNodes = state.containerGroups[mruContainerIdx].tabbableNodes;\n          if (tabbableNodes.length > 0) {\n            var mruTabIdx = tabbableNodes.findIndex(function(node) {\n              return node === state.mostRecentlyFocusedNode;\n            });\n            if (mruTabIdx >= 0) {\n              if (config.isKeyForward(state.recentNavEvent)) {\n                if (mruTabIdx + 1 < tabbableNodes.length) {\n                  nextNode = tabbableNodes[mruTabIdx + 1];\n                  navAcrossContainers = false;\n                }\n              } else {\n                if (mruTabIdx - 1 >= 0) {\n                  nextNode = tabbableNodes[mruTabIdx - 1];\n                  navAcrossContainers = false;\n                }\n              }\n            }\n          }\n        } else {\n          if (!state.containerGroups.some(function(g) {\n            return g.tabbableNodes.some(function(n) {\n              return getTabIndex(n) > 0;\n            });\n          })) {\n            navAcrossContainers = false;\n          }\n        }\n      } else {\n        navAcrossContainers = false;\n      }\n      if (navAcrossContainers) {\n        nextNode = findNextNavNode({\n          // move FROM the MRU node, not event-related node (which will be the node that is\n          //  outside the trap causing the focus escape we're trying to fix)\n          target: state.mostRecentlyFocusedNode,\n          isBackward: config.isKeyBackward(state.recentNavEvent)\n        });\n      }\n      if (nextNode) {\n        tryFocus(nextNode);\n      } else {\n        tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n      }\n    }\n    state.recentNavEvent = void 0;\n  };\n  var checkKeyNav = function checkKeyNav2(event) {\n    var isBackward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    state.recentNavEvent = event;\n    var destinationNode = findNextNavNode({\n      event,\n      isBackward\n    });\n    if (destinationNode) {\n      if (isTabEvent(event)) {\n        event.preventDefault();\n      }\n      tryFocus(destinationNode);\n    }\n  };\n  var checkKey = function checkKey2(event) {\n    if (isEscapeEvent(event) && valueOrHandler(config.escapeDeactivates, event) !== false) {\n      event.preventDefault();\n      trap.deactivate();\n      return;\n    }\n    if (config.isKeyForward(event) || config.isKeyBackward(event)) {\n      checkKeyNav(event, config.isKeyBackward(event));\n    }\n  };\n  var checkClick = function checkClick2(e) {\n    var target = getActualTarget(e);\n    if (findContainerIndex(target, e) >= 0) {\n      return;\n    }\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  };\n  var addListeners = function addListeners2() {\n    if (!state.active) {\n      return;\n    }\n    activeFocusTraps.activateTrap(trapStack, trap);\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function() {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener(\"focusin\", checkFocusIn, true);\n    doc.addEventListener(\"mousedown\", checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"touchstart\", checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"click\", checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener(\"keydown\", checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n  var removeListeners = function removeListeners2() {\n    if (!state.active) {\n      return;\n    }\n    doc.removeEventListener(\"focusin\", checkFocusIn, true);\n    doc.removeEventListener(\"mousedown\", checkPointerDown, true);\n    doc.removeEventListener(\"touchstart\", checkPointerDown, true);\n    doc.removeEventListener(\"click\", checkClick, true);\n    doc.removeEventListener(\"keydown\", checkKey, true);\n    return trap;\n  };\n  var checkDomRemoval = function checkDomRemoval2(mutations) {\n    var isFocusedNodeRemoved = mutations.some(function(mutation) {\n      var removedNodes = Array.from(mutation.removedNodes);\n      return removedNodes.some(function(node) {\n        return node === state.mostRecentlyFocusedNode;\n      });\n    });\n    if (isFocusedNodeRemoved) {\n      tryFocus(getInitialFocusNode());\n    }\n  };\n  var mutationObserver = typeof window !== \"undefined\" && \"MutationObserver\" in window ? new MutationObserver(checkDomRemoval) : void 0;\n  var updateObservedNodes = function updateObservedNodes2() {\n    if (!mutationObserver) {\n      return;\n    }\n    mutationObserver.disconnect();\n    if (state.active && !state.paused) {\n      state.containers.map(function(container) {\n        mutationObserver.observe(container, {\n          subtree: true,\n          childList: true\n        });\n      });\n    }\n  };\n  trap = {\n    get active() {\n      return state.active;\n    },\n    get paused() {\n      return state.paused;\n    },\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n      var onActivate = getOption(activateOptions, \"onActivate\");\n      var onPostActivate = getOption(activateOptions, \"onPostActivate\");\n      var checkCanFocusTrap = getOption(activateOptions, \"checkCanFocusTrap\");\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n      onActivate === null || onActivate === void 0 ? void 0 : onActivate();\n      var finishActivation = function finishActivation2() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n        addListeners();\n        updateObservedNodes();\n        onPostActivate === null || onPostActivate === void 0 ? void 0 : onPostActivate();\n      };\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n      clearTimeout(state.delayInitialFocusTimer);\n      state.delayInitialFocusTimer = void 0;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      updateObservedNodes();\n      activeFocusTraps.deactivateTrap(trapStack, trap);\n      var onDeactivate = getOption(options, \"onDeactivate\");\n      var onPostDeactivate = getOption(options, \"onPostDeactivate\");\n      var checkCanReturnFocus = getOption(options, \"checkCanReturnFocus\");\n      var returnFocus = getOption(options, \"returnFocus\", \"returnFocusOnDeactivate\");\n      onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate();\n      var finishDeactivation = function finishDeactivation2() {\n        delay(function() {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n          onPostDeactivate === null || onPostDeactivate === void 0 ? void 0 : onPostDeactivate();\n        });\n      };\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause(pauseOptions) {\n      if (state.paused || !state.active) {\n        return this;\n      }\n      var onPause = getOption(pauseOptions, \"onPause\");\n      var onPostPause = getOption(pauseOptions, \"onPostPause\");\n      state.paused = true;\n      onPause === null || onPause === void 0 ? void 0 : onPause();\n      removeListeners();\n      updateObservedNodes();\n      onPostPause === null || onPostPause === void 0 ? void 0 : onPostPause();\n      return this;\n    },\n    unpause: function unpause(unpauseOptions) {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n      var onUnpause = getOption(unpauseOptions, \"onUnpause\");\n      var onPostUnpause = getOption(unpauseOptions, \"onPostUnpause\");\n      state.paused = false;\n      onUnpause === null || onUnpause === void 0 ? void 0 : onUnpause();\n      updateTabbableNodes();\n      addListeners();\n      updateObservedNodes();\n      onPostUnpause === null || onPostUnpause === void 0 ? void 0 : onPostUnpause();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function(element) {\n        return typeof element === \"string\" ? doc.querySelector(element) : element;\n      });\n      if (state.active) {\n        updateTabbableNodes();\n      }\n      updateObservedNodes();\n      return this;\n    }\n  };\n  trap.updateContainerElements(elements);\n  return trap;\n};\nfunction createFocusTrap2(config = {}) {\n  let trap;\n  const { immediate, ...focusTrapOptions } = config;\n  const hasFocus = writable(false);\n  const isPaused = writable(false);\n  const activate = (opts) => trap?.activate(opts);\n  const deactivate = (opts) => {\n    trap?.deactivate(opts);\n  };\n  const pause = () => {\n    if (trap) {\n      trap.pause();\n      isPaused.set(true);\n    }\n  };\n  const unpause = () => {\n    if (trap) {\n      trap.unpause();\n      isPaused.set(false);\n    }\n  };\n  const useFocusTrap = (node) => {\n    trap = createFocusTrap$1(node, {\n      ...focusTrapOptions,\n      onActivate() {\n        hasFocus.set(true);\n        config.onActivate?.();\n      },\n      onDeactivate() {\n        hasFocus.set(false);\n        config.onDeactivate?.();\n      }\n    });\n    if (immediate) {\n      activate();\n    }\n    return {\n      destroy() {\n        deactivate();\n        trap = void 0;\n      }\n    };\n  };\n  return {\n    useFocusTrap,\n    hasFocus: readonly(hasFocus),\n    isPaused: readonly(isPaused),\n    activate,\n    deactivate,\n    pause,\n    unpause\n  };\n}\nconst defaultConfig = {\n  floating: {},\n  focusTrap: {},\n  clickOutside: {},\n  escapeKeydown: {},\n  portal: \"body\"\n};\nconst usePopper = (popperElement, args) => {\n  popperElement.dataset.escapee = \"\";\n  const { anchorElement, open, options } = args;\n  if (!anchorElement || !open || !options) {\n    return { destroy: noop };\n  }\n  const opts = { ...defaultConfig, ...options };\n  const callbacks = [];\n  if (opts.portal !== null) {\n    const portal = usePortal(popperElement, opts.portal);\n    if (portal?.destroy) {\n      callbacks.push(portal.destroy);\n    }\n  }\n  callbacks.push(useFloating(anchorElement, popperElement, opts.floating).destroy);\n  if (opts.focusTrap !== null) {\n    const { useFocusTrap } = createFocusTrap2({\n      immediate: true,\n      escapeDeactivates: false,\n      allowOutsideClick: true,\n      returnFocusOnDeactivate: false,\n      fallbackFocus: popperElement,\n      ...opts.focusTrap\n    });\n    const usedFocusTrap = useFocusTrap(popperElement);\n    if (usedFocusTrap?.destroy) {\n      callbacks.push(usedFocusTrap.destroy);\n    }\n  }\n  if (opts.clickOutside !== null) {\n    callbacks.push(useClickOutside(popperElement, {\n      enabled: open,\n      handler: (e) => {\n        if (e.defaultPrevented)\n          return;\n        if (isHTMLElement$1(anchorElement) && !anchorElement.contains(e.target)) {\n          open.set(false);\n          anchorElement.focus();\n        }\n      },\n      ...opts.clickOutside\n    }).destroy);\n  }\n  if (opts.escapeKeydown !== null) {\n    callbacks.push(useEscapeKeydown(popperElement, {\n      enabled: open,\n      handler: (e) => {\n        if (e.defaultPrevented)\n          return;\n        open.set(false);\n      },\n      ...opts.escapeKeydown\n    }).destroy);\n  }\n  const unsubscribe = executeCallbacks(...callbacks);\n  return {\n    destroy() {\n      unsubscribe();\n    }\n  };\n};\nconst usePortal = (el, target = \"body\") => {\n  let targetEl;\n  if (!isHTMLElement$1(target) && typeof target !== \"string\") {\n    return {\n      destroy: noop\n    };\n  }\n  async function update2(newTarget) {\n    target = newTarget;\n    if (typeof target === \"string\") {\n      targetEl = document.querySelector(target);\n      if (targetEl === null) {\n        await tick();\n        targetEl = document.querySelector(target);\n      }\n      if (targetEl === null) {\n        throw new Error(`No element found matching css selector: \"${target}\"`);\n      }\n    } else if (target instanceof HTMLElement) {\n      targetEl = target;\n    } else {\n      throw new TypeError(`Unknown portal target type: ${target === null ? \"null\" : typeof target}. Allowed types: string (CSS selector) or HTMLElement.`);\n    }\n    el.dataset.portal = \"\";\n    targetEl.appendChild(el);\n    el.hidden = false;\n  }\n  function destroy() {\n    el.remove();\n  }\n  update2(target);\n  return {\n    update: update2,\n    destroy\n  };\n};\nfunction createLabel() {\n  const root = builder(\"label\", {\n    action: (node) => {\n      const mouseDown = addMeltEventListener(node, \"mousedown\", (e) => {\n        if (!e.defaultPrevented && e.detail > 1) {\n          e.preventDefault();\n        }\n      });\n      return {\n        destroy: mouseDown\n      };\n    }\n  });\n  return {\n    elements: {\n      root\n    }\n  };\n}\nconst SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, kbd.ARROW_RIGHT],\n  rtl: [...SELECTION_KEYS, kbd.ARROW_LEFT]\n};\nconst SUB_CLOSE_KEYS = {\n  ltr: [kbd.ARROW_LEFT],\n  rtl: [kbd.ARROW_RIGHT]\n};\nconst defaults$5 = {\n  arrowSize: 8,\n  positioning: {\n    placement: \"bottom\"\n  },\n  preventScroll: true,\n  closeOnEscape: true,\n  closeOnOutsideClick: true,\n  portal: \"body\",\n  loop: false,\n  dir: \"ltr\",\n  defaultOpen: false,\n  typeahead: true\n};\nfunction createMenuBuilder(opts) {\n  const { name: name2, selector: selector2 } = createElHelpers(opts.selector);\n  const { preventScroll, arrowSize, positioning, closeOnEscape, closeOnOutsideClick, portal, forceVisible, typeahead } = opts.rootOptions;\n  const rootOpen = opts.rootOpen;\n  const rootActiveTrigger = opts.rootActiveTrigger;\n  const nextFocusable = opts.nextFocusable;\n  const prevFocusable = opts.prevFocusable;\n  const isUsingKeyboard = writable(false);\n  const lastPointerX = writable(0);\n  const pointerGraceIntent = writable(null);\n  const pointerDir = writable(\"right\");\n  const currentFocusedItem = writable(null);\n  const pointerMovingToSubmenu = derivedWithUnsubscribe([pointerDir, pointerGraceIntent], ([$pointerDir, $pointerGraceIntent]) => {\n    return (e) => {\n      const isMovingTowards = $pointerDir === $pointerGraceIntent?.side;\n      return isMovingTowards && isPointerInGraceArea(e, $pointerGraceIntent?.area);\n    };\n  });\n  const { typed, handleTypeaheadSearch } = createTypeaheadSearch();\n  const rootIds = {\n    menu: generateId$1(),\n    trigger: generateId$1()\n  };\n  const isVisible = derivedVisible({\n    open: rootOpen,\n    forceVisible,\n    activeTrigger: rootActiveTrigger\n  });\n  const rootMenu = builder(name2(), {\n    stores: [isVisible, portal],\n    returned: ([$isVisible, $portal]) => {\n      return {\n        role: \"menu\",\n        hidden: $isVisible ? void 0 : true,\n        style: styleToString({\n          display: $isVisible ? void 0 : \"none\"\n        }),\n        id: rootIds.menu,\n        \"aria-labelledby\": rootIds.trigger,\n        \"data-state\": $isVisible ? \"open\" : \"closed\",\n        \"data-portal\": $portal ? \"\" : void 0,\n        tabindex: -1\n      };\n    },\n    action: (node) => {\n      let unsubPopper = noop;\n      const unsubDerived = effect([isVisible, rootActiveTrigger, positioning, closeOnOutsideClick, portal, closeOnEscape], ([$isVisible, $rootActiveTrigger, $positioning, $closeOnOutsideClick, $portal, $closeOnEscape]) => {\n        unsubPopper();\n        if (!$isVisible || !$rootActiveTrigger)\n          return;\n        tick().then(() => {\n          setMeltMenuAttribute(node, selector2);\n          const popper = usePopper(node, {\n            anchorElement: $rootActiveTrigger,\n            open: rootOpen,\n            options: {\n              floating: $positioning,\n              clickOutside: $closeOnOutsideClick ? void 0 : null,\n              portal: getPortalDestination(node, $portal),\n              escapeKeydown: $closeOnEscape ? void 0 : null\n            }\n          });\n          if (popper && popper.destroy) {\n            unsubPopper = popper.destroy;\n          }\n        });\n      });\n      const unsubEvents = executeCallbacks(addMeltEventListener(node, \"keydown\", (e) => {\n        const target = e.target;\n        const menuEl = e.currentTarget;\n        if (!isHTMLElement$1(target) || !isHTMLElement$1(menuEl))\n          return;\n        const isKeyDownInside = target.closest('[role=\"menu\"]') === menuEl;\n        if (!isKeyDownInside)\n          return;\n        if (FIRST_LAST_KEYS.includes(e.key)) {\n          handleMenuNavigation(e);\n        }\n        if (e.key === kbd.TAB) {\n          e.preventDefault();\n          rootOpen.set(false);\n          handleTabNavigation(e, nextFocusable, prevFocusable);\n          return;\n        }\n        const isCharacterKey = e.key.length === 1;\n        const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n        if (!isModifierKey && isCharacterKey && get_store_value(typeahead) === true) {\n          handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n        }\n      }));\n      return {\n        destroy() {\n          unsubDerived();\n          unsubEvents();\n          unsubPopper();\n        }\n      };\n    }\n  });\n  const rootTrigger = builder(name2(\"trigger\"), {\n    stores: [rootOpen],\n    returned: ([$rootOpen]) => {\n      return {\n        \"aria-controls\": rootIds.menu,\n        \"aria-expanded\": $rootOpen,\n        \"data-state\": $rootOpen ? \"open\" : \"closed\",\n        id: rootIds.trigger,\n        tabindex: 0\n      };\n    },\n    action: (node) => {\n      applyAttrsIfDisabled(node);\n      const unsub = executeCallbacks(addMeltEventListener(node, \"click\", (e) => {\n        const $rootOpen = get_store_value(rootOpen);\n        const triggerEl = e.currentTarget;\n        if (!isHTMLElement$1(triggerEl))\n          return;\n        handleOpen(triggerEl);\n        if (!$rootOpen)\n          e.preventDefault();\n      }), addMeltEventListener(node, \"keydown\", (e) => {\n        const triggerEl = e.currentTarget;\n        if (!isHTMLElement$1(triggerEl))\n          return;\n        if (!(SELECTION_KEYS.includes(e.key) || e.key === kbd.ARROW_DOWN))\n          return;\n        e.preventDefault();\n        handleOpen(triggerEl);\n        const menuId = triggerEl.getAttribute(\"aria-controls\");\n        if (!menuId)\n          return;\n        const menu = document.getElementById(menuId);\n        if (!menu)\n          return;\n        const menuItems = getMenuItems(menu);\n        if (!menuItems.length)\n          return;\n        handleRovingFocus(menuItems[0]);\n      }));\n      return {\n        destroy: unsub\n      };\n    }\n  });\n  const rootArrow = builder(name2(\"arrow\"), {\n    stores: arrowSize,\n    returned: ($arrowSize) => ({\n      \"data-arrow\": true,\n      style: styleToString({\n        position: \"absolute\",\n        width: `var(--arrow-size, ${$arrowSize}px)`,\n        height: `var(--arrow-size, ${$arrowSize}px)`\n      })\n    })\n  });\n  const item = builder(name2(\"item\"), {\n    returned: () => {\n      return {\n        role: \"menuitem\",\n        tabindex: -1,\n        \"data-orientation\": \"vertical\"\n      };\n    },\n    action: (node) => {\n      setMeltMenuAttribute(node, selector2);\n      applyAttrsIfDisabled(node);\n      const unsub = executeCallbacks(addMeltEventListener(node, \"pointerdown\", (e) => {\n        const itemEl = e.currentTarget;\n        if (!isHTMLElement$1(itemEl))\n          return;\n        if (isElementDisabled(itemEl)) {\n          e.preventDefault();\n          return;\n        }\n      }), addMeltEventListener(node, \"click\", (e) => {\n        const itemEl = e.currentTarget;\n        if (!isHTMLElement$1(itemEl))\n          return;\n        if (isElementDisabled(itemEl)) {\n          e.preventDefault();\n          return;\n        }\n        if (e.defaultPrevented) {\n          handleRovingFocus(itemEl);\n          return;\n        }\n        sleep(1).then(() => {\n          rootOpen.set(false);\n        });\n      }), addMeltEventListener(node, \"keydown\", (e) => {\n        onItemKeyDown(e);\n      }), addMeltEventListener(node, \"pointermove\", (e) => {\n        onMenuItemPointerMove(e);\n      }), addMeltEventListener(node, \"pointerleave\", (e) => {\n        onMenuItemPointerLeave(e);\n      }), addMeltEventListener(node, \"focusin\", (e) => {\n        onItemFocusIn(e);\n      }), addMeltEventListener(node, \"focusout\", (e) => {\n        onItemFocusOut(e);\n      }));\n      return {\n        destroy: unsub\n      };\n    }\n  });\n  const group = builder(name2(\"group\"), {\n    returned: () => {\n      return (groupId) => ({\n        role: \"group\",\n        \"aria-labelledby\": groupId\n      });\n    }\n  });\n  const groupLabel = builder(name2(\"group-label\"), {\n    returned: () => {\n      return (groupId) => ({\n        id: groupId\n      });\n    }\n  });\n  const checkboxItemDefaults = {\n    defaultChecked: false,\n    disabled: false\n  };\n  const createCheckboxItem = (props) => {\n    const withDefaults = { ...checkboxItemDefaults, ...props };\n    const checkedWritable = withDefaults.checked ?? writable(withDefaults.defaultChecked ?? null);\n    const checked = overridable(checkedWritable, withDefaults.onCheckedChange);\n    const disabled = writable(withDefaults.disabled);\n    const checkboxItem = builder(name2(\"checkbox-item\"), {\n      stores: [checked, disabled],\n      returned: ([$checked, $disabled]) => {\n        return {\n          role: \"menuitemcheckbox\",\n          tabindex: -1,\n          \"data-orientation\": \"vertical\",\n          \"aria-checked\": isIndeterminate($checked) ? \"mixed\" : $checked ? \"true\" : \"false\",\n          \"data-disabled\": $disabled ? \"\" : void 0,\n          \"data-state\": getCheckedState($checked)\n        };\n      },\n      action: (node) => {\n        setMeltMenuAttribute(node, selector2);\n        applyAttrsIfDisabled(node);\n        const unsub = executeCallbacks(addMeltEventListener(node, \"pointerdown\", (e) => {\n          const itemEl = e.currentTarget;\n          if (!isHTMLElement$1(itemEl))\n            return;\n          if (isElementDisabled(itemEl)) {\n            e.preventDefault();\n            return;\n          }\n        }), addMeltEventListener(node, \"click\", (e) => {\n          const itemEl = e.currentTarget;\n          if (!isHTMLElement$1(itemEl))\n            return;\n          if (isElementDisabled(itemEl)) {\n            e.preventDefault();\n            return;\n          }\n          if (e.defaultPrevented) {\n            handleRovingFocus(itemEl);\n            return;\n          }\n          checked.update((prev) => {\n            if (isIndeterminate(prev))\n              return true;\n            return !prev;\n          });\n          tick().then(() => {\n            rootOpen.set(false);\n          });\n        }), addMeltEventListener(node, \"keydown\", (e) => {\n          onItemKeyDown(e);\n        }), addMeltEventListener(node, \"pointermove\", (e) => {\n          const itemEl = e.currentTarget;\n          if (!isHTMLElement$1(itemEl))\n            return;\n          if (isElementDisabled(itemEl)) {\n            onItemLeave(e);\n            return;\n          }\n          onMenuItemPointerMove(e, itemEl);\n        }), addMeltEventListener(node, \"pointerleave\", (e) => {\n          onMenuItemPointerLeave(e);\n        }), addMeltEventListener(node, \"focusin\", (e) => {\n          onItemFocusIn(e);\n        }), addMeltEventListener(node, \"focusout\", (e) => {\n          onItemFocusOut(e);\n        }));\n        return {\n          destroy: unsub\n        };\n      }\n    });\n    return {\n      elements: {\n        checkboxItem\n      },\n      states: {\n        checked\n      },\n      options: {\n        disabled\n      }\n    };\n  };\n  const createMenuRadioGroup = (args = {}) => {\n    const valueWritable = args.value ?? writable(args.defaultValue ?? null);\n    const value = overridable(valueWritable, args.onValueChange);\n    const radioGroup = builder(name2(\"radio-group\"), {\n      returned: () => ({\n        role: \"group\"\n      })\n    });\n    const radioItemDefaults = {\n      disabled: false\n    };\n    const radioItem = builder(name2(\"radio-item\"), {\n      stores: [value],\n      returned: ([$value]) => {\n        return (itemProps) => {\n          const { value: itemValue, disabled } = { ...radioItemDefaults, ...itemProps };\n          const checked = $value === itemValue;\n          return {\n            disabled,\n            role: \"menuitemradio\",\n            \"data-state\": checked ? \"checked\" : \"unchecked\",\n            \"aria-checked\": checked,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            \"data-value\": itemValue,\n            \"data-orientation\": \"vertical\",\n            tabindex: -1\n          };\n        };\n      },\n      action: (node) => {\n        setMeltMenuAttribute(node, selector2);\n        const unsub = executeCallbacks(addMeltEventListener(node, \"pointerdown\", (e) => {\n          const itemEl = e.currentTarget;\n          if (!isHTMLElement$1(itemEl))\n            return;\n          const itemValue = node.dataset.value;\n          const disabled = node.dataset.disabled;\n          if (disabled || itemValue === void 0) {\n            e.preventDefault();\n            return;\n          }\n        }), addMeltEventListener(node, \"click\", (e) => {\n          const itemEl = e.currentTarget;\n          if (!isHTMLElement$1(itemEl))\n            return;\n          const itemValue = node.dataset.value;\n          const disabled = node.dataset.disabled;\n          if (disabled || itemValue === void 0) {\n            e.preventDefault();\n            return;\n          }\n          if (e.defaultPrevented) {\n            if (!isHTMLElement$1(itemEl))\n              return;\n            handleRovingFocus(itemEl);\n            return;\n          }\n          value.set(itemValue);\n          tick().then(() => {\n            rootOpen.set(false);\n          });\n        }), addMeltEventListener(node, \"keydown\", (e) => {\n          onItemKeyDown(e);\n        }), addMeltEventListener(node, \"pointermove\", (e) => {\n          const itemEl = e.currentTarget;\n          if (!isHTMLElement$1(itemEl))\n            return;\n          const itemValue = node.dataset.value;\n          const disabled = node.dataset.disabled;\n          if (disabled || itemValue === void 0) {\n            onItemLeave(e);\n            return;\n          }\n          onMenuItemPointerMove(e, itemEl);\n        }), addMeltEventListener(node, \"pointerleave\", (e) => {\n          onMenuItemPointerLeave(e);\n        }), addMeltEventListener(node, \"focusin\", (e) => {\n          onItemFocusIn(e);\n        }), addMeltEventListener(node, \"focusout\", (e) => {\n          onItemFocusOut(e);\n        }));\n        return {\n          destroy: unsub\n        };\n      }\n    });\n    const isChecked = derived(value, ($value) => {\n      return (itemValue) => {\n        return $value === itemValue;\n      };\n    });\n    return {\n      elements: {\n        radioGroup,\n        radioItem\n      },\n      states: {\n        value\n      },\n      helpers: {\n        isChecked\n      }\n    };\n  };\n  const { elements: { root: separator } } = createSeparator({\n    orientation: \"horizontal\"\n  });\n  const subMenuDefaults = {\n    ...defaults$5,\n    disabled: false,\n    positioning: {\n      placement: \"right-start\",\n      gutter: 8\n    }\n  };\n  const createSubmenu = (args) => {\n    const withDefaults = { ...subMenuDefaults, ...args };\n    const subOpen = writable(false);\n    const options = toWritableStores(withDefaults);\n    const { positioning: positioning2, arrowSize: arrowSize2, disabled } = options;\n    const subActiveTrigger = writable(null);\n    const subOpenTimer = writable(null);\n    const pointerGraceTimer = writable(0);\n    const subIds = {\n      menu: generateId$1(),\n      trigger: generateId$1()\n    };\n    const subIsVisible = derivedVisible({\n      open: subOpen,\n      forceVisible,\n      activeTrigger: subActiveTrigger\n    });\n    const subMenu = builder(name2(\"submenu\"), {\n      stores: [subIsVisible],\n      returned: ([$subIsVisible]) => {\n        return {\n          role: \"menu\",\n          hidden: $subIsVisible ? void 0 : true,\n          style: styleToString({\n            display: $subIsVisible ? void 0 : \"none\"\n          }),\n          id: subIds.menu,\n          \"aria-labelledby\": subIds.trigger,\n          \"data-state\": $subIsVisible ? \"open\" : \"closed\",\n          tabindex: -1\n        };\n      },\n      action: (node) => {\n        let unsubPopper = noop;\n        const unsubDerived = effect([subIsVisible, positioning2], ([$subIsVisible, $positioning]) => {\n          unsubPopper();\n          if (!$subIsVisible)\n            return;\n          const activeTrigger = get_store_value(subActiveTrigger);\n          if (!activeTrigger)\n            return;\n          tick().then(() => {\n            const parentMenuEl = getParentMenu(activeTrigger);\n            const popper = usePopper(node, {\n              anchorElement: activeTrigger,\n              open: subOpen,\n              options: {\n                floating: $positioning,\n                portal: isHTMLElement$1(parentMenuEl) ? parentMenuEl : void 0,\n                clickOutside: null,\n                focusTrap: null\n              }\n            });\n            if (popper && popper.destroy) {\n              unsubPopper = popper.destroy;\n            }\n          });\n        });\n        const unsubEvents = executeCallbacks(addMeltEventListener(node, \"keydown\", (e) => {\n          if (e.key === kbd.ESCAPE) {\n            return;\n          }\n          const target = e.target;\n          const menuEl = e.currentTarget;\n          if (!isHTMLElement$1(target) || !isHTMLElement$1(menuEl))\n            return;\n          const isKeyDownInside = target.closest('[role=\"menu\"]') === menuEl;\n          if (!isKeyDownInside)\n            return;\n          if (FIRST_LAST_KEYS.includes(e.key)) {\n            e.stopImmediatePropagation();\n            handleMenuNavigation(e);\n            return;\n          }\n          const isCloseKey = SUB_CLOSE_KEYS[\"ltr\"].includes(e.key);\n          const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n          const isCharacterKey = e.key.length === 1;\n          if (isCloseKey) {\n            const $subActiveTrigger = get_store_value(subActiveTrigger);\n            e.preventDefault();\n            subOpen.update(() => {\n              if ($subActiveTrigger) {\n                handleRovingFocus($subActiveTrigger);\n              }\n              return false;\n            });\n            return;\n          }\n          if (e.key === kbd.TAB) {\n            e.preventDefault();\n            rootOpen.set(false);\n            handleTabNavigation(e, nextFocusable, prevFocusable);\n            return;\n          }\n          if (!isModifierKey && isCharacterKey && get_store_value(typeahead) === true) {\n            handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n          }\n        }), addMeltEventListener(node, \"pointermove\", (e) => {\n          onMenuPointerMove(e);\n        }), addMeltEventListener(node, \"focusout\", (e) => {\n          const $subActiveTrigger = get_store_value(subActiveTrigger);\n          if (get_store_value(isUsingKeyboard)) {\n            const target = e.target;\n            const submenuEl = document.getElementById(subIds.menu);\n            if (!isHTMLElement$1(submenuEl) || !isHTMLElement$1(target))\n              return;\n            if (!submenuEl.contains(target) && target !== $subActiveTrigger) {\n              subOpen.set(false);\n            }\n          } else {\n            const menuEl = e.currentTarget;\n            const relatedTarget = e.relatedTarget;\n            if (!isHTMLElement$1(relatedTarget) || !isHTMLElement$1(menuEl))\n              return;\n            if (!menuEl.contains(relatedTarget) && relatedTarget !== $subActiveTrigger) {\n              subOpen.set(false);\n            }\n          }\n        }));\n        return {\n          destroy() {\n            unsubDerived();\n            unsubPopper();\n            unsubEvents();\n          }\n        };\n      }\n    });\n    const subTrigger = builder(name2(\"subtrigger\"), {\n      stores: [subOpen, disabled],\n      returned: ([$subOpen, $disabled]) => {\n        return {\n          role: \"menuitem\",\n          id: subIds.trigger,\n          tabindex: -1,\n          \"aria-controls\": subIds.menu,\n          \"aria-expanded\": $subOpen,\n          \"data-state\": $subOpen ? \"open\" : \"closed\",\n          \"data-disabled\": $disabled ? \"\" : void 0,\n          \"aria-haspopop\": \"menu\"\n        };\n      },\n      action: (node) => {\n        setMeltMenuAttribute(node, selector2);\n        applyAttrsIfDisabled(node);\n        const unsubTimer = () => {\n          clearTimerStore(subOpenTimer);\n          window.clearTimeout(get_store_value(pointerGraceTimer));\n          pointerGraceIntent.set(null);\n        };\n        const unsubEvents = executeCallbacks(addMeltEventListener(node, \"click\", (e) => {\n          if (e.defaultPrevented)\n            return;\n          const triggerEl = e.currentTarget;\n          if (!isHTMLElement$1(triggerEl) || isElementDisabled(triggerEl))\n            return;\n          handleRovingFocus(triggerEl);\n          if (!get_store_value(subOpen)) {\n            subOpen.update((prev) => {\n              const isAlreadyOpen = prev;\n              if (!isAlreadyOpen) {\n                subActiveTrigger.set(triggerEl);\n                return !prev;\n              }\n              return prev;\n            });\n          }\n        }), addMeltEventListener(node, \"keydown\", (e) => {\n          const $typed = get_store_value(typed);\n          const triggerEl = e.currentTarget;\n          if (!isHTMLElement$1(triggerEl) || isElementDisabled(triggerEl))\n            return;\n          const isTypingAhead = $typed.length > 0;\n          if (isTypingAhead && e.key === kbd.SPACE)\n            return;\n          if (SUB_OPEN_KEYS[\"ltr\"].includes(e.key)) {\n            if (!get_store_value(subOpen)) {\n              triggerEl.click();\n              e.preventDefault();\n              return;\n            }\n            const menuId = triggerEl.getAttribute(\"aria-controls\");\n            if (!menuId)\n              return;\n            const menuEl = document.getElementById(menuId);\n            if (!isHTMLElement$1(menuEl))\n              return;\n            const firstItem = getMenuItems(menuEl)[0];\n            handleRovingFocus(firstItem);\n          }\n        }), addMeltEventListener(node, \"pointermove\", (e) => {\n          if (!isMouse(e))\n            return;\n          onItemEnter(e);\n          if (e.defaultPrevented)\n            return;\n          const triggerEl = e.currentTarget;\n          if (!isHTMLElement$1(triggerEl))\n            return;\n          handleRovingFocus(triggerEl);\n          const openTimer = get_store_value(subOpenTimer);\n          if (!get_store_value(subOpen) && !openTimer && !isElementDisabled(triggerEl)) {\n            subOpenTimer.set(window.setTimeout(() => {\n              subOpen.update(() => {\n                subActiveTrigger.set(triggerEl);\n                return true;\n              });\n              clearTimerStore(subOpenTimer);\n            }, 100));\n          }\n        }), addMeltEventListener(node, \"pointerleave\", (e) => {\n          if (!isMouse(e))\n            return;\n          clearTimerStore(subOpenTimer);\n          const submenuEl = document.getElementById(subIds.menu);\n          const contentRect = submenuEl?.getBoundingClientRect();\n          if (contentRect) {\n            const side = submenuEl?.dataset.side;\n            const rightSide = side === \"right\";\n            const bleed = rightSide ? -5 : 5;\n            const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n            const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n            pointerGraceIntent.set({\n              area: [\n                // Apply a bleed on clientX to ensure that our exit point is\n                // consistently within polygon bounds\n                { x: e.clientX + bleed, y: e.clientY },\n                { x: contentNearEdge, y: contentRect.top },\n                { x: contentFarEdge, y: contentRect.top },\n                { x: contentFarEdge, y: contentRect.bottom },\n                { x: contentNearEdge, y: contentRect.bottom }\n              ],\n              side\n            });\n            window.clearTimeout(get_store_value(pointerGraceTimer));\n            pointerGraceTimer.set(window.setTimeout(() => {\n              pointerGraceIntent.set(null);\n            }, 300));\n          } else {\n            onTriggerLeave(e);\n            if (e.defaultPrevented)\n              return;\n            pointerGraceIntent.set(null);\n          }\n        }), addMeltEventListener(node, \"focusout\", (e) => {\n          const triggerEl = e.currentTarget;\n          if (!isHTMLElement$1(triggerEl))\n            return;\n          removeHighlight(triggerEl);\n          const relatedTarget = e.relatedTarget;\n          if (!isHTMLElement$1(relatedTarget))\n            return;\n          const menuId = triggerEl.getAttribute(\"aria-controls\");\n          if (!menuId)\n            return;\n          const menu = document.getElementById(menuId);\n          if (menu && !menu.contains(relatedTarget)) {\n            subOpen.set(false);\n          }\n        }), addMeltEventListener(node, \"focusin\", (e) => {\n          onItemFocusIn(e);\n        }));\n        return {\n          destroy() {\n            unsubTimer();\n            unsubEvents();\n          }\n        };\n      }\n    });\n    const subArrow = builder(name2(\"subarrow\"), {\n      stores: arrowSize2,\n      returned: ($arrowSize) => ({\n        \"data-arrow\": true,\n        style: styleToString({\n          position: \"absolute\",\n          width: `var(--arrow-size, ${$arrowSize}px)`,\n          height: `var(--arrow-size, ${$arrowSize}px)`\n        })\n      })\n    });\n    effect([rootOpen], ([$rootOpen]) => {\n      if (!$rootOpen) {\n        subActiveTrigger.set(null);\n        subOpen.set(false);\n      }\n    });\n    effect([pointerGraceIntent], ([$pointerGraceIntent]) => {\n      if (!isBrowser$1 || $pointerGraceIntent)\n        return;\n      window.clearTimeout(get_store_value(pointerGraceTimer));\n    });\n    effect([subOpen], ([$subOpen]) => {\n      if (!isBrowser$1)\n        return;\n      sleep(1).then(() => {\n        const menuEl = document.getElementById(subIds.menu);\n        if (!menuEl)\n          return;\n        if ($subOpen && get_store_value(isUsingKeyboard)) {\n          const menuItems = getMenuItems(menuEl);\n          if (!menuItems.length)\n            return;\n          handleRovingFocus(menuItems[0]);\n        }\n        if (!$subOpen) {\n          const focusedItem = get_store_value(currentFocusedItem);\n          if (focusedItem && menuEl.contains(focusedItem)) {\n            removeHighlight(focusedItem);\n          }\n        }\n        if (menuEl && !$subOpen) {\n          const subTriggerEl = document.getElementById(subIds.trigger);\n          if (!subTriggerEl || document.activeElement === subTriggerEl)\n            return;\n          removeHighlight(subTriggerEl);\n        }\n      });\n    });\n    return {\n      elements: {\n        subTrigger,\n        subMenu,\n        subArrow\n      },\n      states: {\n        subOpen\n      },\n      options\n    };\n  };\n  effect([rootOpen, currentFocusedItem], ([$rootOpen, $currentFocusedItem]) => {\n    if (!$rootOpen && $currentFocusedItem) {\n      removeHighlight($currentFocusedItem);\n    }\n  });\n  effect([rootOpen, rootActiveTrigger, preventScroll], ([$rootOpen, $rootActiveTrigger, $preventScroll]) => {\n    if (!isBrowser$1)\n      return;\n    const unsubs = [];\n    if (opts.removeScroll && $rootOpen && $preventScroll) {\n      unsubs.push(removeScroll());\n    }\n    if (!$rootOpen && $rootActiveTrigger) {\n      handleRovingFocus($rootActiveTrigger);\n    }\n    sleep(1).then(() => {\n      const menuEl = document.getElementById(rootIds.menu);\n      if (menuEl && $rootOpen && get_store_value(isUsingKeyboard)) {\n        if (opts.disableFocusFirstItem) {\n          handleRovingFocus(menuEl);\n          return;\n        }\n        const menuItems = getMenuItems(menuEl);\n        if (!menuItems.length)\n          return;\n        handleRovingFocus(menuItems[0]);\n      } else if ($rootActiveTrigger) {\n        handleRovingFocus($rootActiveTrigger);\n      } else {\n        if (opts.disableTriggerRefocus) {\n          return;\n        }\n        const triggerEl = document.getElementById(rootIds.trigger);\n        if (!triggerEl)\n          return;\n        handleRovingFocus(triggerEl);\n      }\n    });\n    return () => {\n      unsubs.forEach((unsub) => unsub());\n    };\n  });\n  effect(rootOpen, ($rootOpen) => {\n    if (!isBrowser$1)\n      return;\n    const handlePointer = () => isUsingKeyboard.set(false);\n    const handleKeyDown = (e) => {\n      isUsingKeyboard.set(true);\n      if (e.key === kbd.ESCAPE && $rootOpen) {\n        rootOpen.set(false);\n        return;\n      }\n    };\n    return executeCallbacks(addEventListener(document, \"pointerdown\", handlePointer, { capture: true, once: true }), addEventListener(document, \"pointermove\", handlePointer, { capture: true, once: true }), addEventListener(document, \"keydown\", handleKeyDown, { capture: true }));\n  });\n  function handleOpen(triggerEl) {\n    rootOpen.update((prev) => {\n      const isOpen = !prev;\n      if (isOpen) {\n        nextFocusable.set(getNextFocusable(triggerEl));\n        prevFocusable.set(getPreviousFocusable(triggerEl));\n        rootActiveTrigger.set(triggerEl);\n      }\n      return isOpen;\n    });\n  }\n  function onItemFocusIn(e) {\n    const itemEl = e.currentTarget;\n    if (!isHTMLElement$1(itemEl))\n      return;\n    const $currentFocusedItem = get_store_value(currentFocusedItem);\n    if ($currentFocusedItem) {\n      removeHighlight($currentFocusedItem);\n    }\n    addHighlight(itemEl);\n    currentFocusedItem.set(itemEl);\n  }\n  function onItemFocusOut(e) {\n    const itemEl = e.currentTarget;\n    if (!isHTMLElement$1(itemEl))\n      return;\n    removeHighlight(itemEl);\n  }\n  function onItemEnter(e) {\n    if (isPointerMovingToSubmenu(e)) {\n      e.preventDefault();\n    }\n  }\n  function onItemLeave(e) {\n    if (isPointerMovingToSubmenu(e)) {\n      return;\n    }\n    const target = e.target;\n    if (!isHTMLElement$1(target))\n      return;\n    const parentMenuEl = getParentMenu(target);\n    if (!parentMenuEl)\n      return;\n    handleRovingFocus(parentMenuEl);\n  }\n  function onTriggerLeave(e) {\n    if (isPointerMovingToSubmenu(e)) {\n      e.preventDefault();\n    }\n  }\n  function onMenuPointerMove(e) {\n    if (!isMouse(e))\n      return;\n    const target = e.target;\n    const currentTarget = e.currentTarget;\n    if (!isHTMLElement$1(currentTarget) || !isHTMLElement$1(target))\n      return;\n    const $lastPointerX = get_store_value(lastPointerX);\n    const pointerXHasChanged = $lastPointerX !== e.clientX;\n    if (currentTarget.contains(target) && pointerXHasChanged) {\n      const newDir = e.clientX > $lastPointerX ? \"right\" : \"left\";\n      pointerDir.set(newDir);\n      lastPointerX.set(e.clientX);\n    }\n  }\n  function onMenuItemPointerMove(e, currTarget = null) {\n    if (!isMouse(e))\n      return;\n    onItemEnter(e);\n    if (e.defaultPrevented)\n      return;\n    if (currTarget) {\n      handleRovingFocus(currTarget);\n      return;\n    }\n    const currentTarget = e.currentTarget;\n    if (!isHTMLElement$1(currentTarget))\n      return;\n    handleRovingFocus(currentTarget);\n  }\n  function onMenuItemPointerLeave(e) {\n    if (!isMouse(e))\n      return;\n    onItemLeave(e);\n  }\n  function onItemKeyDown(e) {\n    const $typed = get_store_value(typed);\n    const isTypingAhead = $typed.length > 0;\n    if (isTypingAhead && e.key === kbd.SPACE) {\n      e.preventDefault();\n      return;\n    }\n    if (SELECTION_KEYS.includes(e.key)) {\n      e.preventDefault();\n      const itemEl = e.currentTarget;\n      if (!isHTMLElement$1(itemEl))\n        return;\n      itemEl.click();\n    }\n  }\n  function isIndeterminate(checked) {\n    return checked === \"indeterminate\";\n  }\n  function getCheckedState(checked) {\n    return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n  }\n  function isPointerMovingToSubmenu(e) {\n    return get_store_value(pointerMovingToSubmenu)(e);\n  }\n  function getParentMenu(element) {\n    const parentMenuEl = element.closest('[role=\"menu\"]');\n    if (!isHTMLElement$1(parentMenuEl))\n      return null;\n    return parentMenuEl;\n  }\n  return {\n    trigger: rootTrigger,\n    menu: rootMenu,\n    open: rootOpen,\n    item,\n    group,\n    groupLabel,\n    arrow: rootArrow,\n    options: opts.rootOptions,\n    createCheckboxItem,\n    createSubmenu,\n    createMenuRadioGroup,\n    separator,\n    rootIds,\n    handleTypeaheadSearch\n  };\n}\nfunction handleTabNavigation(e, nextFocusable, prevFocusable) {\n  if (e.shiftKey) {\n    const $prevFocusable = get_store_value(prevFocusable);\n    if ($prevFocusable) {\n      e.preventDefault();\n      $prevFocusable.focus();\n      prevFocusable.set(null);\n    }\n  } else {\n    const $nextFocusable = get_store_value(nextFocusable);\n    if ($nextFocusable) {\n      e.preventDefault();\n      $nextFocusable.focus();\n      nextFocusable.set(null);\n    }\n  }\n}\nfunction getMenuItems(menuElement) {\n  return Array.from(menuElement.querySelectorAll(`[data-melt-menu-id=\"${menuElement.id}\"]`)).filter((item) => isHTMLElement$1(item));\n}\nfunction applyAttrsIfDisabled(element) {\n  if (!element || !isElementDisabled(element))\n    return;\n  element.setAttribute(\"data-disabled\", \"\");\n  element.setAttribute(\"aria-disabled\", \"true\");\n}\nfunction clearTimerStore(timerStore) {\n  if (!isBrowser$1)\n    return;\n  const timer = get_store_value(timerStore);\n  if (timer) {\n    window.clearTimeout(timer);\n    timerStore.set(null);\n  }\n}\nfunction isMouse(e) {\n  return e.pointerType === \"mouse\";\n}\nfunction setMeltMenuAttribute(element, selector2) {\n  if (!element)\n    return;\n  const menuEl = element.closest(`${selector2()}, ${selector2(\"submenu\")}`);\n  if (!isHTMLElement$1(menuEl))\n    return;\n  element.setAttribute(\"data-melt-menu-id\", menuEl.id);\n}\nfunction handleMenuNavigation(e) {\n  e.preventDefault();\n  const currentFocusedItem = document.activeElement;\n  const currentTarget = e.currentTarget;\n  if (!isHTMLElement$1(currentFocusedItem) || !isHTMLElement$1(currentTarget))\n    return;\n  const menuItems = getMenuItems(currentTarget);\n  if (!menuItems.length)\n    return;\n  const candidateNodes = menuItems.filter((item) => {\n    if (item.hasAttribute(\"data-disabled\") || item.getAttribute(\"disabled\") === \"true\") {\n      return false;\n    }\n    return true;\n  });\n  const currentIndex = candidateNodes.indexOf(currentFocusedItem);\n  let nextIndex;\n  switch (e.key) {\n    case kbd.ARROW_DOWN:\n      nextIndex = currentIndex < candidateNodes.length - 1 ? currentIndex + 1 : currentIndex;\n      break;\n    case kbd.ARROW_UP:\n      nextIndex = currentIndex > 0 ? currentIndex - 1 : 0;\n      break;\n    case kbd.HOME:\n      nextIndex = 0;\n      break;\n    case kbd.END:\n      nextIndex = candidateNodes.length - 1;\n      break;\n    default:\n      return;\n  }\n  handleRovingFocus(candidateNodes[nextIndex]);\n}\nfunction isPointerInGraceArea(e, area) {\n  if (!area)\n    return false;\n  const cursorPos = { x: e.clientX, y: e.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect)\n      inside = !inside;\n  }\n  return inside;\n}\nconst defaults$4 = {\n  arrowSize: 8,\n  positioning: {\n    placement: \"bottom-start\"\n  },\n  preventScroll: true,\n  closeOnEscape: true,\n  closeOnOutsideClick: true,\n  portal: void 0,\n  loop: false,\n  dir: \"ltr\",\n  defaultOpen: false,\n  forceVisible: false,\n  typeahead: true\n};\nconst { name: name$2, selector } = createElHelpers(\"context-menu\");\nfunction createContextMenu(props) {\n  const withDefaults = { ...defaults$4, ...props };\n  const rootOptions = toWritableStores(withDefaults);\n  const { positioning, closeOnOutsideClick, portal, forceVisible, closeOnEscape } = rootOptions;\n  const openWritable = withDefaults.open ?? writable(withDefaults.defaultOpen);\n  const rootOpen = overridable(openWritable, withDefaults?.onOpenChange);\n  const rootActiveTrigger = writable(null);\n  const nextFocusable = writable(null);\n  const prevFocusable = writable(null);\n  const { item, createCheckboxItem, arrow: arrow2, createSubmenu, createMenuRadioGroup, rootIds, separator, handleTypeaheadSearch, group, groupLabel } = createMenuBuilder({\n    rootOpen,\n    rootActiveTrigger,\n    rootOptions,\n    nextFocusable,\n    prevFocusable,\n    disableFocusFirstItem: true,\n    disableTriggerRefocus: true,\n    selector: \"context-menu\",\n    removeScroll: true\n  });\n  const point = writable(null);\n  const virtual = derivedWithUnsubscribe([point], ([$point]) => {\n    if ($point === null)\n      return null;\n    return {\n      getBoundingClientRect: () => DOMRect.fromRect({\n        width: 0,\n        height: 0,\n        ...$point\n      })\n    };\n  });\n  const longPressTimer = writable(0);\n  function handleClickOutside(e) {\n    if (e.defaultPrevented)\n      return;\n    const target = e.target;\n    if (!(target instanceof Element))\n      return;\n    if (target.id === rootIds.trigger && isLeftClick(e)) {\n      rootOpen.set(false);\n      return;\n    }\n    if (target.id !== rootIds.trigger && !target.closest(selector())) {\n      rootOpen.set(false);\n    }\n  }\n  const isVisible = derivedVisible({\n    open: rootOpen,\n    forceVisible,\n    activeTrigger: rootActiveTrigger\n  });\n  const menu = builder(name$2(), {\n    stores: [isVisible, portal],\n    returned: ([$isVisible, $portal]) => {\n      return {\n        role: \"menu\",\n        hidden: $isVisible ? void 0 : true,\n        style: styleToString({\n          display: $isVisible ? void 0 : \"none\"\n        }),\n        id: rootIds.menu,\n        \"aria-labelledby\": rootIds.trigger,\n        \"data-state\": $isVisible ? \"open\" : \"closed\",\n        \"data-portal\": $portal ? \"\" : void 0,\n        tabindex: -1\n      };\n    },\n    action: (node) => {\n      let unsubPopper = noop;\n      const unsubDerived = effect([isVisible, rootActiveTrigger, positioning, closeOnOutsideClick, portal, closeOnEscape], ([$isVisible, $rootActiveTrigger, $positioning, $closeOnOutsideClick, $portal, $closeOnEscape]) => {\n        unsubPopper();\n        if (!$isVisible || !$rootActiveTrigger)\n          return;\n        tick().then(() => {\n          setMeltMenuAttribute(node, selector);\n          const $virtual = get_store_value(virtual);\n          const popper = usePopper(node, {\n            anchorElement: $virtual ? $virtual : $rootActiveTrigger,\n            open: rootOpen,\n            options: {\n              floating: $positioning,\n              clickOutside: $closeOnOutsideClick ? {\n                handler: handleClickOutside\n              } : null,\n              portal: getPortalDestination(node, $portal),\n              escapeKeydown: $closeOnEscape ? void 0 : null\n            }\n          });\n          if (!popper || !popper.destroy)\n            return;\n          unsubPopper = popper.destroy;\n        });\n      });\n      const unsubEvents = executeCallbacks(addMeltEventListener(node, \"keydown\", (e) => {\n        const target = e.target;\n        const menuEl = e.currentTarget;\n        if (!isHTMLElement$1(target) || !isHTMLElement$1(menuEl))\n          return;\n        const isKeyDownInside = target.closest(\"[role='menu']\") === menuEl;\n        if (!isKeyDownInside)\n          return;\n        if (FIRST_LAST_KEYS.includes(e.key)) {\n          handleMenuNavigation(e);\n        }\n        if (e.key === kbd.TAB) {\n          e.preventDefault();\n          rootOpen.set(false);\n          handleTabNavigation(e, nextFocusable, prevFocusable);\n          return;\n        }\n        const isCharacterKey = e.key.length === 1;\n        const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n        if (!isModifierKey && isCharacterKey) {\n          handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n        }\n      }));\n      return {\n        destroy() {\n          unsubDerived();\n          unsubEvents();\n          unsubPopper();\n        }\n      };\n    }\n  });\n  const trigger = builder(name$2(\"trigger\"), {\n    stores: rootOpen,\n    returned: ($rootOpen) => {\n      return {\n        \"aria-controls\": rootIds.menu,\n        \"aria-expanded\": $rootOpen,\n        \"data-state\": $rootOpen ? \"open\" : \"closed\",\n        id: rootIds.trigger,\n        style: styleToString({\n          WebkitTouchCallout: \"none\"\n        })\n      };\n    },\n    action: (node) => {\n      applyAttrsIfDisabled(node);\n      const handleOpen = (e) => {\n        point.set({\n          x: e.clientX,\n          y: e.clientY\n        });\n        nextFocusable.set(getNextFocusable(node));\n        prevFocusable.set(getPreviousFocusable(node));\n        rootActiveTrigger.set(node);\n        rootOpen.set(true);\n      };\n      const unsubTimer = () => {\n        clearTimerStore(longPressTimer);\n      };\n      const unsub = executeCallbacks(addMeltEventListener(node, \"contextmenu\", (e) => {\n        clearTimerStore(longPressTimer);\n        handleOpen(e);\n        e.preventDefault();\n      }), addMeltEventListener(node, \"pointerdown\", (e) => {\n        if (!isTouchOrPen(e))\n          return;\n        clearTimerStore(longPressTimer);\n        longPressTimer.set(window.setTimeout(() => handleOpen(e), 700));\n      }), addMeltEventListener(node, \"pointermove\", (e) => {\n        if (!isTouchOrPen(e))\n          return;\n        clearTimerStore(longPressTimer);\n      }), addMeltEventListener(node, \"pointercancel\", (e) => {\n        if (!isTouchOrPen(e))\n          return;\n        clearTimerStore(longPressTimer);\n      }), addMeltEventListener(node, \"pointerup\", (e) => {\n        if (!isTouchOrPen(e))\n          return;\n        clearTimerStore(longPressTimer);\n      }));\n      return {\n        destroy() {\n          unsubTimer();\n          unsub();\n        }\n      };\n    }\n  });\n  return {\n    elements: {\n      menu,\n      trigger,\n      item,\n      arrow: arrow2,\n      separator,\n      group,\n      groupLabel\n    },\n    states: {\n      open: rootOpen\n    },\n    builders: {\n      createSubmenu,\n      createCheckboxItem,\n      createMenuRadioGroup\n    },\n    options: rootOptions\n  };\n}\nfunction isTouchOrPen(e) {\n  return e.pointerType !== \"mouse\";\n}\nconst { name: name$1 } = createElHelpers(\"dialog\");\nconst defaults$3 = {\n  preventScroll: true,\n  closeOnEscape: true,\n  closeOnOutsideClick: true,\n  role: \"dialog\",\n  defaultOpen: false,\n  portal: \"body\",\n  forceVisible: false\n};\nconst openDialogIds = writable([]);\nfunction createDialog(props) {\n  const withDefaults = { ...defaults$3, ...props };\n  const options = toWritableStores(withDefaults);\n  const { preventScroll, closeOnEscape, closeOnOutsideClick, role, portal, forceVisible } = options;\n  const activeTrigger = writable(null);\n  const ids = {\n    content: generateId$1(),\n    title: generateId$1(),\n    description: generateId$1(),\n    trigger: generateId$1()\n  };\n  const openWritable = withDefaults.open ?? writable(withDefaults.defaultOpen);\n  const open = overridable(openWritable, withDefaults?.onOpenChange);\n  const isVisible = derived([open, forceVisible], ([$open, $forceVisible]) => {\n    return $open || $forceVisible;\n  });\n  function handleOpen(e) {\n    const el = e.currentTarget;\n    const triggerEl = e.currentTarget;\n    if (!isHTMLElement$1(el) || !isHTMLElement$1(triggerEl))\n      return;\n    open.set(true);\n    activeTrigger.set(triggerEl);\n  }\n  function handleClose() {\n    open.set(false);\n    const triggerEl = document.getElementById(ids.trigger);\n    if (triggerEl) {\n      tick().then(() => {\n        triggerEl.focus();\n      });\n    }\n  }\n  effect([open], ([$open]) => {\n    sleep(100).then(() => {\n      if ($open) {\n        openDialogIds.update((prev) => {\n          prev.push(ids.content);\n          return prev;\n        });\n      } else {\n        openDialogIds.update((prev) => prev.filter((id) => id !== ids.content));\n      }\n    });\n  });\n  const trigger = builder(name$1(\"trigger\"), {\n    stores: open,\n    returned: ($open) => {\n      return {\n        id: ids.trigger,\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": $open,\n        \"aria-controls\": ids.content,\n        type: \"button\"\n      };\n    },\n    action: (node) => {\n      const unsub = executeCallbacks(addMeltEventListener(node, \"click\", (e) => {\n        handleOpen(e);\n      }), addMeltEventListener(node, \"keydown\", (e) => {\n        if (e.key !== kbd.ENTER && e.key !== kbd.SPACE)\n          return;\n        e.preventDefault();\n        handleOpen(e);\n      }));\n      return {\n        destroy: unsub\n      };\n    }\n  });\n  const overlay = builder(name$1(\"overlay\"), {\n    stores: [isVisible],\n    returned: ([$isVisible]) => {\n      return {\n        hidden: $isVisible ? void 0 : true,\n        tabindex: -1,\n        style: styleToString({\n          display: $isVisible ? void 0 : \"none\"\n        }),\n        \"aria-hidden\": true,\n        \"data-state\": $isVisible ? \"open\" : \"closed\"\n      };\n    },\n    action: (node) => {\n      let unsubEscapeKeydown = noop;\n      if (get_store_value(closeOnEscape)) {\n        const escapeKeydown = useEscapeKeydown(node, {\n          handler: () => {\n            handleClose();\n          }\n        });\n        if (escapeKeydown && escapeKeydown.destroy) {\n          unsubEscapeKeydown = escapeKeydown.destroy;\n        }\n      }\n      return {\n        destroy() {\n          unsubEscapeKeydown();\n        }\n      };\n    }\n  });\n  const content = builder(name$1(\"content\"), {\n    stores: [isVisible],\n    returned: ([$isVisible]) => {\n      return {\n        id: ids.content,\n        role: get_store_value(role),\n        \"aria-describedby\": ids.description,\n        \"aria-labelledby\": ids.title,\n        \"data-state\": $isVisible ? \"open\" : \"closed\",\n        tabindex: -1,\n        hidden: $isVisible ? void 0 : true,\n        style: styleToString({\n          display: $isVisible ? void 0 : \"none\"\n        })\n      };\n    },\n    action: (node) => {\n      let activate = noop;\n      let deactivate = noop;\n      const destroy = executeCallbacks(effect([open], ([$open]) => {\n        if (!$open)\n          return;\n        const focusTrap = createFocusTrap2({\n          immediate: false,\n          escapeDeactivates: false,\n          returnFocusOnDeactivate: false,\n          fallbackFocus: node\n        });\n        activate = focusTrap.activate;\n        deactivate = focusTrap.deactivate;\n        const ac = focusTrap.useFocusTrap(node);\n        if (ac && ac.destroy) {\n          return ac.destroy;\n        } else {\n          return focusTrap.deactivate;\n        }\n      }), effect([closeOnOutsideClick, open], ([$closeOnOutsideClick, $open]) => {\n        return useClickOutside(node, {\n          enabled: $open,\n          handler: (e) => {\n            if (e.defaultPrevented)\n              return;\n            const $openDialogIds = get_store_value(openDialogIds);\n            const isLast = last($openDialogIds) === ids.content;\n            if ($closeOnOutsideClick && isLast) {\n              handleClose();\n            }\n          }\n        }).destroy;\n      }), effect([closeOnEscape], ([$closeOnEscape]) => {\n        if (!$closeOnEscape)\n          return noop;\n        const escapeKeydown = useEscapeKeydown(node, {\n          handler: () => {\n            handleClose();\n          }\n        });\n        if (escapeKeydown && escapeKeydown.destroy) {\n          return escapeKeydown.destroy;\n        }\n        return noop;\n      }), effect([isVisible], ([$isVisible]) => {\n        tick().then(() => {\n          if (!$isVisible) {\n            deactivate();\n          } else {\n            activate();\n          }\n        });\n      }));\n      return {\n        destroy\n      };\n    }\n  });\n  const portalled = builder(name$1(\"portalled\"), {\n    stores: portal,\n    returned: ($portal) => ({\n      \"data-portal\": $portal ? \"\" : void 0\n    }),\n    action: (node) => {\n      const unsubPortal = effect([portal], ([$portal]) => {\n        if (!$portal)\n          return noop;\n        const portalDestination = getPortalDestination(node, $portal);\n        if (portalDestination === null)\n          return noop;\n        const portalAction = usePortal(node, portalDestination);\n        if (portalAction && portalAction.destroy) {\n          return portalAction.destroy;\n        } else {\n          return noop;\n        }\n      });\n      return {\n        destroy() {\n          unsubPortal();\n        }\n      };\n    }\n  });\n  const title = builder(name$1(\"title\"), {\n    returned: () => ({\n      id: ids.title\n    })\n  });\n  const description = builder(name$1(\"description\"), {\n    returned: () => ({\n      id: ids.description\n    })\n  });\n  const close = builder(name$1(\"close\"), {\n    returned: () => ({\n      type: \"button\"\n    }),\n    action: (node) => {\n      const unsub = executeCallbacks(addMeltEventListener(node, \"click\", () => {\n        handleClose();\n      }), addMeltEventListener(node, \"keydown\", (e) => {\n        if (e.key !== kbd.SPACE && e.key !== kbd.ENTER)\n          return;\n        e.preventDefault();\n        handleClose();\n      }));\n      return {\n        destroy: unsub\n      };\n    }\n  });\n  effect([open, preventScroll], ([$open, $preventScroll]) => {\n    if (!isBrowser$1)\n      return;\n    const unsubs = [];\n    if ($preventScroll && $open)\n      unsubs.push(removeScroll());\n    return () => {\n      unsubs.forEach((unsub) => unsub());\n    };\n  });\n  return {\n    elements: {\n      content,\n      trigger,\n      title,\n      description,\n      overlay,\n      close,\n      portalled\n    },\n    states: {\n      open\n    },\n    options\n  };\n}\nconst defaults$2 = {\n  arrowSize: 8,\n  positioning: {\n    placement: \"bottom\"\n  },\n  preventScroll: true,\n  closeOnEscape: true,\n  closeOnOutsideClick: true,\n  portal: void 0,\n  loop: false,\n  dir: \"ltr\",\n  defaultOpen: false,\n  forceVisible: false,\n  typeahead: true\n};\nfunction createDropdownMenu(props) {\n  const withDefaults = { ...defaults$2, ...props };\n  const rootOptions = toWritableStores(withDefaults);\n  const openWritable = withDefaults.open ?? writable(withDefaults.defaultOpen);\n  const rootOpen = overridable(openWritable, withDefaults?.onOpenChange);\n  const rootActiveTrigger = writable(null);\n  const nextFocusable = writable(null);\n  const prevFocusable = writable(null);\n  const { trigger, menu, item, arrow: arrow2, createSubmenu, createCheckboxItem, createMenuRadioGroup, separator, group, groupLabel } = createMenuBuilder({\n    rootOptions,\n    rootOpen,\n    rootActiveTrigger,\n    nextFocusable,\n    prevFocusable,\n    disableTriggerRefocus: true,\n    selector: \"dropdown-menu\",\n    removeScroll: true\n  });\n  return {\n    elements: {\n      trigger,\n      menu,\n      item,\n      arrow: arrow2,\n      separator,\n      group,\n      groupLabel\n    },\n    states: {\n      open: rootOpen\n    },\n    builders: {\n      createCheckboxItem,\n      createSubmenu,\n      createMenuRadioGroup\n    },\n    options: rootOptions\n  };\n}\nconst defaults$1 = {\n  orientation: \"horizontal\",\n  decorative: false\n};\nconst createSeparator = (props) => {\n  const withDefaults = { ...defaults$1, ...props };\n  const options = toWritableStores(withDefaults);\n  const { orientation, decorative } = options;\n  const root = builder(\"separator\", {\n    stores: [orientation, decorative],\n    returned: ([$orientation, $decorative]) => {\n      const ariaOrientation = $orientation === \"vertical\" ? $orientation : void 0;\n      return {\n        role: $decorative ? \"none\" : \"separator\",\n        \"aria-orientation\": ariaOrientation,\n        \"aria-hidden\": $decorative,\n        \"data-orientation\": $orientation\n      };\n    }\n  });\n  return {\n    elements: {\n      root\n    },\n    options\n  };\n};\nconst defaults = {\n  positioning: {\n    placement: \"bottom\"\n  },\n  arrowSize: 8,\n  defaultOpen: false,\n  closeOnPointerDown: true,\n  openDelay: 1e3,\n  closeDelay: 0,\n  forceVisible: false,\n  portal: \"body\",\n  closeOnEscape: true\n};\nconst { name } = createElHelpers(\"tooltip\");\nfunction createTooltip(props) {\n  const withDefaults = { ...defaults, ...props };\n  const options = toWritableStores(omit(withDefaults, \"open\"));\n  const { positioning, arrowSize, closeOnPointerDown, openDelay, closeDelay, forceVisible, portal, closeOnEscape } = options;\n  const openWritable = withDefaults.open ?? writable(withDefaults.defaultOpen);\n  const open = overridable(openWritable, withDefaults?.onOpenChange);\n  const activeTrigger = writable(null);\n  const ids = {\n    content: generateId$1(),\n    trigger: generateId$1()\n  };\n  let clickedTrigger = false;\n  let openTimeout = null;\n  let closeTimeout = null;\n  function openTooltip() {\n    if (closeTimeout) {\n      window.clearTimeout(closeTimeout);\n      closeTimeout = null;\n    }\n    if (!openTimeout) {\n      openTimeout = window.setTimeout(() => {\n        open.set(true);\n        openTimeout = null;\n      }, get_store_value(openDelay));\n    }\n  }\n  function closeTooltip(isBlur) {\n    if (openTimeout) {\n      window.clearTimeout(openTimeout);\n      openTimeout = null;\n    }\n    if (isBlur && isMouseInTooltipArea)\n      return;\n    if (!closeTimeout) {\n      closeTimeout = window.setTimeout(() => {\n        open.set(false);\n        if (isBlur)\n          clickedTrigger = false;\n        closeTimeout = null;\n      }, get_store_value(closeDelay));\n    }\n  }\n  const trigger = builder(name(\"trigger\"), {\n    returned: () => {\n      return {\n        \"aria-describedby\": ids.content\n      };\n    },\n    action: (node) => {\n      const unsub = executeCallbacks(addMeltEventListener(node, \"pointerdown\", () => {\n        const $closeOnPointerDown = get_store_value(closeOnPointerDown);\n        if (!$closeOnPointerDown)\n          return;\n        open.set(false);\n        clickedTrigger = true;\n        if (openTimeout) {\n          window.clearTimeout(openTimeout);\n          openTimeout = null;\n        }\n      }), addMeltEventListener(node, \"pointerenter\", (e) => {\n        if (isTouch(e))\n          return;\n        openTooltip();\n      }), addMeltEventListener(node, \"pointerleave\", (e) => {\n        if (isTouch(e))\n          return;\n        if (openTimeout) {\n          window.clearTimeout(openTimeout);\n          openTimeout = null;\n        }\n      }), addMeltEventListener(node, \"focus\", () => {\n        if (clickedTrigger)\n          return;\n        openTooltip();\n      }), addMeltEventListener(node, \"blur\", () => closeTooltip(true)), addMeltEventListener(node, \"keydown\", (e) => {\n        if (get_store_value(closeOnEscape) && e.key === kbd.ESCAPE) {\n          if (openTimeout) {\n            window.clearTimeout(openTimeout);\n            openTimeout = null;\n          }\n          open.set(false);\n        }\n      }));\n      return {\n        destroy: unsub\n      };\n    }\n  });\n  const isVisible = derivedVisible({ open, activeTrigger, forceVisible });\n  const content = builder(name(\"content\"), {\n    stores: [isVisible, portal],\n    returned: ([$isVisible, $portal]) => {\n      return {\n        role: \"tooltip\",\n        hidden: $isVisible ? void 0 : true,\n        tabindex: -1,\n        style: styleToString({\n          display: $isVisible ? void 0 : \"none\"\n        }),\n        id: ids.content,\n        \"data-portal\": $portal ? \"\" : void 0\n      };\n    },\n    action: (node) => {\n      let unsubFloating = noop;\n      let unsubPortal = noop;\n      const unsubDerived = effect([isVisible, activeTrigger, positioning, portal], ([$isVisible, $activeTrigger, $positioning, $portal]) => {\n        if (!$isVisible || !$activeTrigger) {\n          unsubPortal();\n          unsubFloating();\n          return;\n        }\n        tick().then(() => {\n          const floatingReturn = useFloating($activeTrigger, node, $positioning);\n          unsubFloating = floatingReturn.destroy;\n          if (!$portal) {\n            unsubPortal();\n            return;\n          }\n          const portalDest = getPortalDestination(node, $portal);\n          if (portalDest) {\n            const portalReturn = usePortal(node, portalDest);\n            if (portalReturn && portalReturn.destroy) {\n              unsubPortal = portalReturn.destroy;\n            }\n          }\n        });\n      });\n      const unsubEvents = executeCallbacks(addMeltEventListener(node, \"pointerenter\", openTooltip), addMeltEventListener(node, \"pointerdown\", openTooltip));\n      return {\n        destroy() {\n          unsubEvents();\n          unsubPortal();\n          unsubFloating();\n          unsubDerived();\n        }\n      };\n    }\n  });\n  const arrow2 = builder(name(\"arrow\"), {\n    stores: arrowSize,\n    returned: ($arrowSize) => ({\n      \"data-arrow\": true,\n      style: styleToString({\n        position: \"absolute\",\n        width: `var(--arrow-size, ${$arrowSize}px)`,\n        height: `var(--arrow-size, ${$arrowSize}px)`\n      })\n    })\n  });\n  let isMouseInTooltipArea = false;\n  effect([isVisible, activeTrigger], ([$isVisible, $activeTrigger]) => {\n    if (!$isVisible || !$activeTrigger)\n      return;\n    return executeCallbacks(addEventListener(document, \"mousemove\", (e) => {\n      const contentEl = document.getElementById(ids.content);\n      if (!contentEl)\n        return;\n      const polygon = makeHullFromElements([$activeTrigger, contentEl]);\n      isMouseInTooltipArea = pointInPolygon({\n        x: e.clientX,\n        y: e.clientY\n      }, polygon);\n      if (isMouseInTooltipArea || document.activeElement === $activeTrigger && !clickedTrigger) {\n        openTooltip();\n      } else {\n        closeTooltip();\n      }\n    }));\n  });\n  return {\n    elements: {\n      trigger,\n      content,\n      arrow: arrow2\n    },\n    states: { open },\n    options\n  };\n}\nconst isBrowser = typeof document !== \"undefined\";\nfunction generateId() {\n  return nanoid(10);\n}\nfunction removeUndefined(obj) {\n  const result = {};\n  for (const key in obj) {\n    const value = obj[key];\n    if (value !== void 0) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\nfunction getOptionUpdater(options) {\n  return function(key, value) {\n    if (value === void 0)\n      return;\n    const store = options[key];\n    store.set(value);\n  };\n}\nfunction getAttrs(builders) {\n  const attrs = {};\n  builders.forEach((builder2) => {\n    Object.keys(builder2).forEach((key) => {\n      if (key !== \"action\") {\n        attrs[key] = builder2[key];\n      }\n    });\n  });\n  return attrs;\n}\nfunction disabledAttrs(disabled) {\n  return disabled ? { \"aria-disabled\": true, \"data-disabled\": \"\" } : {};\n}\nfunction setTransitionTimes(transitionTimes, transitionsObj) {\n  if (!isBrowser)\n    return;\n  const { transition, transitionConfig, inTransition, inTransitionConfig, outTransition, outTransitionConfig } = transitionsObj;\n  if (transition) {\n    if (transitionConfig) {\n      const { delay: delay4, duration: duration2 } = transition(document.body, transitionConfig);\n      const time2 = calcTime(delay4, duration2);\n      transitionTimes.set({\n        in: time2,\n        out: time2\n      });\n      return;\n    }\n    const { delay: delay3, duration } = transition(document.body);\n    const time = calcTime(delay3, duration);\n    transitionTimes.set({\n      in: time,\n      out: time\n    });\n    return;\n  }\n  let inTime = 0;\n  let outTime = 0;\n  if (inTransition) {\n    if (inTransitionConfig) {\n      const { delay: delay3, duration } = inTransition(document.body, inTransitionConfig);\n      inTime = calcTime(delay3, duration);\n    } else {\n      const { delay: delay3, duration } = inTransition(document.body);\n      inTime = calcTime(delay3, duration);\n    }\n  }\n  if (outTransition) {\n    if (outTransitionConfig) {\n      const { delay: delay3, duration } = outTransition(document.body, outTransitionConfig);\n      outTime = calcTime(delay3, duration);\n    } else {\n      const { delay: delay3, duration } = outTransition(document.body);\n      outTime = calcTime(delay3, duration);\n    }\n  }\n  transitionTimes.set({\n    in: inTime,\n    out: outTime\n  });\n}\nfunction calcTime(delay3, duration) {\n  const numDelay = delay3 ?? 0;\n  const numDuration = duration ?? 0;\n  return numDelay + numDuration;\n}\nfunction createDispatcher() {\n  const dispatch = createEventDispatcher();\n  return (e) => {\n    const { originalEvent } = e.detail;\n    const { cancelable } = e;\n    const type = originalEvent.type;\n    const shouldContinue = dispatch(type, { originalEvent, currentTarget: originalEvent.currentTarget }, { cancelable });\n    if (!shouldContinue) {\n      e.preventDefault();\n    }\n  };\n}\nconst NAME$4 = \"AlertDialog\";\nfunction set$4(props) {\n  const alertDialog = createDialog({\n    ...removeUndefined(props),\n    role: \"alertdialog\"\n  });\n  setContext(NAME$4, {\n    ...alertDialog,\n    transitionTimes: props.transitionTimes,\n    tOpen: props.tOpen\n  });\n  return {\n    ...alertDialog,\n    updateOption: getOptionUpdater(alertDialog.options)\n  };\n}\nfunction get$4() {\n  return getContext(NAME$4);\n}\nconst ctx$5 = {\n  set: set$4,\n  get: get$4\n};\nconst AlertDialog = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $transitionTimes, $$unsubscribe_transitionTimes;\n  let $tOpen, $$unsubscribe_tOpen;\n  let { preventScroll = void 0 } = $$props;\n  let { closeOnEscape = void 0 } = $$props;\n  let { closeOnOutsideClick = false } = $$props;\n  let { portal = void 0 } = $$props;\n  let { forceVisible = true } = $$props;\n  let { open = void 0 } = $$props;\n  let { onOpenChange = void 0 } = $$props;\n  const transitionTimes = writable({});\n  $$unsubscribe_transitionTimes = subscribe(transitionTimes, (value) => $transitionTimes = value);\n  const tOpen = writable(open);\n  $$unsubscribe_tOpen = subscribe(tOpen, (value) => $tOpen = value);\n  let timeout = 0;\n  const { states: { open: localOpen }, updateOption } = ctx$5.set({\n    closeOnEscape,\n    preventScroll,\n    closeOnOutsideClick,\n    portal,\n    forceVisible,\n    defaultOpen: open,\n    transitionTimes,\n    tOpen,\n    onOpenChange: ({ next }) => {\n      if (open !== next) {\n        onOpenChange?.(next);\n      }\n      if (next !== $tOpen) {\n        tOpen.set(next);\n        if (!next) {\n          window.clearTimeout(timeout);\n          timeout = window.setTimeout(\n            () => {\n              localOpen.set(next);\n            },\n            $transitionTimes.out ? $transitionTimes.out * 0.6 : 0\n          );\n          open = !next;\n          return !next;\n        } else {\n          open = next;\n          return next;\n        }\n      }\n      open = next;\n      return next;\n    }\n  });\n  onDestroy(() => {\n    if (isBrowser) {\n      window.clearTimeout(timeout);\n    }\n  });\n  if ($$props.preventScroll === void 0 && $$bindings.preventScroll && preventScroll !== void 0)\n    $$bindings.preventScroll(preventScroll);\n  if ($$props.closeOnEscape === void 0 && $$bindings.closeOnEscape && closeOnEscape !== void 0)\n    $$bindings.closeOnEscape(closeOnEscape);\n  if ($$props.closeOnOutsideClick === void 0 && $$bindings.closeOnOutsideClick && closeOnOutsideClick !== void 0)\n    $$bindings.closeOnOutsideClick(closeOnOutsideClick);\n  if ($$props.portal === void 0 && $$bindings.portal && portal !== void 0)\n    $$bindings.portal(portal);\n  if ($$props.forceVisible === void 0 && $$bindings.forceVisible && forceVisible !== void 0)\n    $$bindings.forceVisible(forceVisible);\n  if ($$props.open === void 0 && $$bindings.open && open !== void 0)\n    $$bindings.open(open);\n  if ($$props.onOpenChange === void 0 && $$bindings.onOpenChange && onOpenChange !== void 0)\n    $$bindings.onOpenChange(onOpenChange);\n  open !== void 0 && localOpen.set(open);\n  {\n    updateOption(\"preventScroll\", preventScroll);\n  }\n  {\n    updateOption(\"closeOnEscape\", closeOnEscape);\n  }\n  {\n    updateOption(\"closeOnOutsideClick\", closeOnOutsideClick);\n  }\n  {\n    updateOption(\"portal\", portal);\n  }\n  {\n    updateOption(\"forceVisible\", forceVisible);\n  }\n  $$unsubscribe_transitionTimes();\n  $$unsubscribe_tOpen();\n  return `${slots.default ? slots.default({}) : ``}`;\n});\nconst AlertDialogTitle = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"level\", \"asChild\"]);\n  let $title, $$unsubscribe_title;\n  let { level = \"h2\" } = $$props;\n  let { asChild = false } = $$props;\n  const title = ctx$5.get().elements.title;\n  $$unsubscribe_title = subscribe(title, (value) => $title = value);\n  if ($$props.level === void 0 && $$bindings.level && level !== void 0)\n    $$bindings.level(level);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_title();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $title }) : ``}` : (() => {\n    let builder2 = $title;\n    return ` ${((tag) => {\n      return tag ? `<${level}${spread([escape_object(builder2), escape_object($$restProps)], {})}>${is_void(tag) ? \"\" : `${slots.default ? slots.default({ builder: builder2 }) : ``}`}${is_void(tag) ? \"\" : `</${tag}>`}` : \"\";\n    })(level)}`;\n  })()}`;\n});\nconst AlertDialogAction = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $close, $$unsubscribe_close;\n  let { asChild = false } = $$props;\n  const { elements: { close } } = ctx$5.get();\n  $$unsubscribe_close = subscribe(close, (value) => $close = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_close();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $close }) : ``}` : (() => {\n    let builder2 = $close;\n    return ` <button${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</button>`;\n  })()}`;\n});\nconst AlertDialogCancel = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $close, $$unsubscribe_close;\n  let { asChild = false } = $$props;\n  const { elements: { close } } = ctx$5.get();\n  $$unsubscribe_close = subscribe(close, (value) => $close = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_close();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $close }) : ``}` : (() => {\n    let builder2 = $close;\n    return ` <button${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</button>`;\n  })()}`;\n});\nconst AlertDialogPortal = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $portalled, $$unsubscribe_portalled;\n  let { asChild = false } = $$props;\n  const { elements: { portalled }, states: { open } } = ctx$5.get();\n  $$unsubscribe_portalled = subscribe(portalled, (value) => $portalled = value);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_portalled();\n  return `${asChild ? (() => {\n    let builder2 = $portalled;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : (() => {\n    let builder2 = $portalled;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst AlertDialogContent = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\"\n  ]);\n  let $tOpen, $$unsubscribe_tOpen;\n  let $content, $$unsubscribe_content;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  const { elements: { content }, transitionTimes, tOpen } = ctx$5.get();\n  $$unsubscribe_content = subscribe(content, (value) => $content = value);\n  $$unsubscribe_tOpen = subscribe(tOpen, (value) => $tOpen = value);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  {\n    setTransitionTimes(transitionTimes, {\n      transition,\n      transitionConfig,\n      inTransition,\n      inTransitionConfig,\n      outTransition,\n      outTransitionConfig\n    });\n  }\n  $$unsubscribe_tOpen();\n  $$unsubscribe_content();\n  return `${asChild && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && outTransition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${outTransition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${$tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst AlertDialogOverlay = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\"\n  ]);\n  let $tOpen, $$unsubscribe_tOpen;\n  let $overlay, $$unsubscribe_overlay;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  const { elements: { overlay }, tOpen } = ctx$5.get();\n  $$unsubscribe_overlay = subscribe(overlay, (value) => $overlay = value);\n  $$unsubscribe_tOpen = subscribe(tOpen, (value) => $tOpen = value);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_tOpen();\n  $$unsubscribe_overlay();\n  return `${asChild && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${inTransition && outTransition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${inTransition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${outTransition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${$tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst AlertDialogDescription = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $description, $$unsubscribe_description;\n  let { asChild = false } = $$props;\n  const { elements: { description } } = ctx$5.get();\n  $$unsubscribe_description = subscribe(description, (value) => $description = value);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_description();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $description }) : ``}` : (() => {\n    let builder2 = $description;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst Button$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"href\", \"type\", \"builders\"]);\n  let { href = void 0 } = $$props;\n  let { type = void 0 } = $$props;\n  let { builders = [] } = $$props;\n  if ($$props.href === void 0 && $$bindings.href && href !== void 0)\n    $$bindings.href(href);\n  if ($$props.type === void 0 && $$bindings.type && type !== void 0)\n    $$bindings.type(type);\n  if ($$props.builders === void 0 && $$bindings.builders && builders !== void 0)\n    $$bindings.builders(builders);\n  return `${builders && builders.length ? ` ${((tag) => {\n    return tag ? `<${href ? \"a\" : \"button\"}${spread(\n      [\n        {\n          type: escape_attribute_value(href ? void 0 : type)\n        },\n        { href: escape_attribute_value(href) },\n        { tabindex: \"0\" },\n        escape_object(getAttrs(builders)),\n        escape_object($$restProps)\n      ],\n      {}\n    )}>${is_void(tag) ? \"\" : `${slots.default ? slots.default({}) : ``}`}${is_void(tag) ? \"\" : `</${tag}>`}` : \"\";\n  })(href ? \"a\" : \"button\")}` : ` ${((tag) => {\n    return tag ? `<${href ? \"a\" : \"button\"}${spread(\n      [\n        {\n          type: escape_attribute_value(href ? void 0 : type)\n        },\n        { href: escape_attribute_value(href) },\n        { tabindex: \"0\" },\n        escape_object($$restProps)\n      ],\n      {}\n    )}>${is_void(tag) ? \"\" : `${slots.default ? slots.default({}) : ``}`}${is_void(tag) ? \"\" : `</${tag}>`}` : \"\";\n  })(href ? \"a\" : \"button\")}`}`;\n});\nconst NAME$3 = \"ContextMenu\";\nconst SUB_NAME$1 = \"ContextSubmenu\";\nconst RADIO_GROUP_NAME$1 = \"ContextRadioGroup\";\nconst CHECKBOX_ITEM_NAME$1 = \"ContextCheckboxItem\";\nconst RADIO_ITEM_NAME$1 = \"ContextRadioItem\";\nconst GROUP_NAME$1 = \"ContextGroup\";\nconst ctx$4 = {\n  get: get$3,\n  set: set$3,\n  setSub: setSub$1,\n  getSub,\n  getContent: getContent$1,\n  setRadioGroup: setRadioGroup$1,\n  setRadioItem: setRadioItem$1,\n  getSubTrigger: getSubTrigger$1,\n  getSubContent: getSubContent$1,\n  setCheckboxItem: setCheckboxItem$1,\n  getCheckboxIndicator: getCheckboxIndicator$1,\n  getRadioIndicator: getRadioIndicator$1,\n  setGroup: setGroup$1,\n  getGroupLabel: getGroupLabel$1,\n  setArrow: setArrow$2\n};\nfunction set$3(props) {\n  const contextMenu = createContextMenu(removeUndefined(props));\n  setContext(NAME$3, contextMenu);\n  return {\n    ...contextMenu,\n    updateOption: getOptionUpdater(contextMenu.options)\n  };\n}\nfunction get$3() {\n  return getContext(NAME$3);\n}\nfunction setSub$1(props) {\n  const { builders: { createSubmenu } } = get$3();\n  const sub = createSubmenu(removeUndefined(props));\n  setContext(SUB_NAME$1, sub);\n  return {\n    ...sub,\n    updateOption: getOptionUpdater(sub.options)\n  };\n}\nfunction getSub() {\n  return getContext(SUB_NAME$1);\n}\nfunction setRadioGroup$1(props) {\n  const { builders: { createMenuRadioGroup } } = get$3();\n  const radioGroup = createMenuRadioGroup(removeUndefined(props));\n  setContext(RADIO_GROUP_NAME$1, radioGroup);\n  return radioGroup;\n}\nfunction setRadioItem$1(value) {\n  const radioGroup = getContext(RADIO_GROUP_NAME$1);\n  setContext(RADIO_ITEM_NAME$1, {\n    isChecked: radioGroup.helpers.isChecked,\n    value\n  });\n  return radioGroup;\n}\nfunction getRadioIndicator$1() {\n  return getContext(RADIO_ITEM_NAME$1);\n}\nfunction getSubTrigger$1() {\n  return getContext(SUB_NAME$1);\n}\nfunction getContent$1(sideoffset = 5) {\n  const menu = get$3();\n  menu.options.positioning.update((prev) => ({ ...prev, gutter: sideoffset }));\n  return menu;\n}\nfunction getSubContent$1(sideOffset = -1) {\n  const submenu = getContext(SUB_NAME$1);\n  const { options: { positioning } } = submenu;\n  positioning.update((prev) => ({ ...prev, gutter: sideOffset }));\n  return submenu;\n}\nfunction setCheckboxItem$1(props) {\n  const { builders: { createCheckboxItem } } = get$3();\n  const checkboxItem = createCheckboxItem(removeUndefined(props));\n  setContext(CHECKBOX_ITEM_NAME$1, checkboxItem.states.checked);\n  return {\n    ...checkboxItem,\n    updateOption: getOptionUpdater(checkboxItem.options)\n  };\n}\nfunction getCheckboxIndicator$1() {\n  return getContext(CHECKBOX_ITEM_NAME$1);\n}\nfunction setGroup$1() {\n  const { elements: { group } } = get$3();\n  const id = generateId();\n  setContext(GROUP_NAME$1, id);\n  return { group, id };\n}\nfunction getGroupLabel$1() {\n  const id = getContext(GROUP_NAME$1) ?? generateId();\n  const { elements: { groupLabel } } = get$3();\n  return { groupLabel, id };\n}\nfunction setArrow$2(size2 = 8) {\n  const menu = get$3();\n  menu.options.arrowSize.set(size2);\n  return menu;\n}\nconst ContextMenu = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { closeOnOutsideClick = void 0 } = $$props;\n  let { closeOnEscape = void 0 } = $$props;\n  let { portal = void 0 } = $$props;\n  let { forceVisible = true } = $$props;\n  let { open = void 0 } = $$props;\n  let { onOpenChange = void 0 } = $$props;\n  let { preventScroll = void 0 } = $$props;\n  let { arrowSize = void 0 } = $$props;\n  let { positioning = void 0 } = $$props;\n  let { loop = void 0 } = $$props;\n  let { dir = void 0 } = $$props;\n  const { states: { open: localOpen }, updateOption } = ctx$4.set({\n    closeOnOutsideClick,\n    closeOnEscape,\n    portal,\n    forceVisible,\n    defaultOpen: open,\n    preventScroll,\n    arrowSize,\n    positioning,\n    loop,\n    dir,\n    onOpenChange: ({ next }) => {\n      if (open !== next) {\n        onOpenChange?.(next);\n        open = next;\n      }\n      return next;\n    }\n  });\n  if ($$props.closeOnOutsideClick === void 0 && $$bindings.closeOnOutsideClick && closeOnOutsideClick !== void 0)\n    $$bindings.closeOnOutsideClick(closeOnOutsideClick);\n  if ($$props.closeOnEscape === void 0 && $$bindings.closeOnEscape && closeOnEscape !== void 0)\n    $$bindings.closeOnEscape(closeOnEscape);\n  if ($$props.portal === void 0 && $$bindings.portal && portal !== void 0)\n    $$bindings.portal(portal);\n  if ($$props.forceVisible === void 0 && $$bindings.forceVisible && forceVisible !== void 0)\n    $$bindings.forceVisible(forceVisible);\n  if ($$props.open === void 0 && $$bindings.open && open !== void 0)\n    $$bindings.open(open);\n  if ($$props.onOpenChange === void 0 && $$bindings.onOpenChange && onOpenChange !== void 0)\n    $$bindings.onOpenChange(onOpenChange);\n  if ($$props.preventScroll === void 0 && $$bindings.preventScroll && preventScroll !== void 0)\n    $$bindings.preventScroll(preventScroll);\n  if ($$props.arrowSize === void 0 && $$bindings.arrowSize && arrowSize !== void 0)\n    $$bindings.arrowSize(arrowSize);\n  if ($$props.positioning === void 0 && $$bindings.positioning && positioning !== void 0)\n    $$bindings.positioning(positioning);\n  if ($$props.loop === void 0 && $$bindings.loop && loop !== void 0)\n    $$bindings.loop(loop);\n  if ($$props.dir === void 0 && $$bindings.dir && dir !== void 0)\n    $$bindings.dir(dir);\n  open !== void 0 && localOpen.set(open);\n  {\n    updateOption(\"closeOnOutsideClick\", closeOnOutsideClick);\n  }\n  {\n    updateOption(\"closeOnEscape\", closeOnEscape);\n  }\n  {\n    updateOption(\"portal\", portal);\n  }\n  {\n    updateOption(\"forceVisible\", forceVisible);\n  }\n  {\n    updateOption(\"preventScroll\", preventScroll);\n  }\n  {\n    updateOption(\"arrowSize\", arrowSize);\n  }\n  {\n    updateOption(\"positioning\", positioning);\n  }\n  {\n    updateOption(\"loop\", loop);\n  }\n  {\n    updateOption(\"dir\", dir);\n  }\n  return `${slots.default ? slots.default({}) : ``}`;\n});\nconst ContextMenuItem = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\", \"disabled\"]);\n  let $item, $$unsubscribe_item;\n  let { asChild = false } = $$props;\n  let { disabled = false } = $$props;\n  const { elements: { item } } = ctx$4.get();\n  $$unsubscribe_item = subscribe(item, (value) => $item = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  if ($$props.disabled === void 0 && $$bindings.disabled && disabled !== void 0)\n    $$bindings.disabled(disabled);\n  $$unsubscribe_item();\n  return ` ${asChild ? `${slots.default ? slots.default({ builder: $item }) : ``}` : (() => {\n    let builder2 = $item;\n    return ` <div${spread(\n      [\n        escape_object(builder2),\n        escape_object($$restProps),\n        escape_object(disabledAttrs(disabled))\n      ],\n      {}\n    )}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst ContextMenuContent = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"sideOffset\",\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\"\n  ]);\n  let $open, $$unsubscribe_open;\n  let $menu, $$unsubscribe_menu;\n  let { sideOffset = 5 } = $$props;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  const { elements: { menu }, states: { open } } = ctx$4.getContent(sideOffset);\n  $$unsubscribe_menu = subscribe(menu, (value) => $menu = value);\n  $$unsubscribe_open = subscribe(open, (value) => $open = value);\n  createDispatcher();\n  if ($$props.sideOffset === void 0 && $$bindings.sideOffset && sideOffset !== void 0)\n    $$bindings.sideOffset(sideOffset);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_open();\n  $$unsubscribe_menu();\n  return `${asChild && $open ? (() => {\n    let builder2 = $menu;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && outTransition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${outTransition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${$open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst ContextMenuTrigger = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $trigger, $$unsubscribe_trigger;\n  let { asChild = false } = $$props;\n  const { elements: { trigger } } = ctx$4.get();\n  $$unsubscribe_trigger = subscribe(trigger, (value) => $trigger = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_trigger();\n  return ` ${asChild ? `${slots.default ? slots.default({ builder: $trigger }) : ``}` : (() => {\n    let builder2 = $trigger;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst ContextMenuSeparator = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $separator, $$unsubscribe_separator;\n  let { asChild = false } = $$props;\n  const separator = ctx$4.get().elements.separator;\n  $$unsubscribe_separator = subscribe(separator, (value) => $separator = value);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_separator();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $separator }) : ``}` : `<div${spread([escape_object($separator), escape_object($$restProps)], {})}></div>`}`;\n});\nconst NAME$2 = \"Dialog\";\nconst ctx$3 = {\n  set: set$2,\n  get: get$2\n};\nfunction set$2(props) {\n  const dialog = createDialog({ ...removeUndefined(props), role: \"dialog\" });\n  setContext(NAME$2, {\n    ...dialog,\n    transitionTimes: props.transitionTimes,\n    tOpen: props.tOpen\n  });\n  return {\n    ...dialog,\n    updateOption: getOptionUpdater(dialog.options)\n  };\n}\nfunction get$2() {\n  return getContext(NAME$2);\n}\nconst Dialog = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $transitionTimes, $$unsubscribe_transitionTimes;\n  let $tOpen, $$unsubscribe_tOpen;\n  let { preventScroll = void 0 } = $$props;\n  let { closeOnEscape = void 0 } = $$props;\n  let { closeOnOutsideClick = void 0 } = $$props;\n  let { portal = void 0 } = $$props;\n  let { forceVisible = true } = $$props;\n  let { open = void 0 } = $$props;\n  let { onOpenChange = void 0 } = $$props;\n  const transitionTimes = writable({});\n  $$unsubscribe_transitionTimes = subscribe(transitionTimes, (value) => $transitionTimes = value);\n  const tOpen = writable(open);\n  $$unsubscribe_tOpen = subscribe(tOpen, (value) => $tOpen = value);\n  let timeout = 0;\n  const { states: { open: localOpen }, updateOption } = ctx$3.set({\n    closeOnEscape,\n    preventScroll,\n    closeOnOutsideClick,\n    portal,\n    forceVisible,\n    defaultOpen: open,\n    transitionTimes,\n    tOpen,\n    onOpenChange: ({ next }) => {\n      if (!isBrowser) {\n        return next;\n      }\n      window.clearTimeout(timeout);\n      if (open !== next) {\n        onOpenChange?.(next);\n      }\n      if (next !== $tOpen) {\n        tOpen.set(next);\n        if (!next) {\n          timeout = window.setTimeout(\n            () => {\n              localOpen.set(next);\n            },\n            $transitionTimes.out ? $transitionTimes.out * 0.6 : 0\n          );\n          open = !next;\n          return !next;\n        } else {\n          open = next;\n          return next;\n        }\n      }\n      open = next;\n      return next;\n    }\n  });\n  onDestroy(() => {\n    if (isBrowser) {\n      window.clearTimeout(timeout);\n    }\n  });\n  if ($$props.preventScroll === void 0 && $$bindings.preventScroll && preventScroll !== void 0)\n    $$bindings.preventScroll(preventScroll);\n  if ($$props.closeOnEscape === void 0 && $$bindings.closeOnEscape && closeOnEscape !== void 0)\n    $$bindings.closeOnEscape(closeOnEscape);\n  if ($$props.closeOnOutsideClick === void 0 && $$bindings.closeOnOutsideClick && closeOnOutsideClick !== void 0)\n    $$bindings.closeOnOutsideClick(closeOnOutsideClick);\n  if ($$props.portal === void 0 && $$bindings.portal && portal !== void 0)\n    $$bindings.portal(portal);\n  if ($$props.forceVisible === void 0 && $$bindings.forceVisible && forceVisible !== void 0)\n    $$bindings.forceVisible(forceVisible);\n  if ($$props.open === void 0 && $$bindings.open && open !== void 0)\n    $$bindings.open(open);\n  if ($$props.onOpenChange === void 0 && $$bindings.onOpenChange && onOpenChange !== void 0)\n    $$bindings.onOpenChange(onOpenChange);\n  open !== void 0 && localOpen.set(open);\n  {\n    updateOption(\"preventScroll\", preventScroll);\n  }\n  {\n    updateOption(\"closeOnEscape\", closeOnEscape);\n  }\n  {\n    updateOption(\"closeOnOutsideClick\", closeOnOutsideClick);\n  }\n  {\n    updateOption(\"portal\", portal);\n  }\n  {\n    updateOption(\"forceVisible\", forceVisible);\n  }\n  $$unsubscribe_transitionTimes();\n  $$unsubscribe_tOpen();\n  return `${slots.default ? slots.default({}) : ``}`;\n});\nconst DialogTitle = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"level\", \"asChild\"]);\n  let $title, $$unsubscribe_title;\n  let { level = \"h2\" } = $$props;\n  let { asChild = false } = $$props;\n  const title = ctx$3.get().elements.title;\n  $$unsubscribe_title = subscribe(title, (value) => $title = value);\n  if ($$props.level === void 0 && $$bindings.level && level !== void 0)\n    $$bindings.level(level);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_title();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $title }) : ``}` : (() => {\n    let builder2 = $title;\n    return ` ${((tag) => {\n      return tag ? `<${level}${spread([escape_object(builder2), escape_object($$restProps)], {})}>${is_void(tag) ? \"\" : `${slots.default ? slots.default({ builder: builder2 }) : ``}`}${is_void(tag) ? \"\" : `</${tag}>`}` : \"\";\n    })(level)}`;\n  })()}`;\n});\nconst DialogPortal = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $portalled, $$unsubscribe_portalled;\n  let { asChild = false } = $$props;\n  const { elements: { portalled }, states: { open } } = ctx$3.get();\n  $$unsubscribe_portalled = subscribe(portalled, (value) => $portalled = value);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_portalled();\n  return `${asChild ? (() => {\n    let builder2 = $portalled;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : (() => {\n    let builder2 = $portalled;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst DialogContent = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\"\n  ]);\n  let $tOpen, $$unsubscribe_tOpen;\n  let $content, $$unsubscribe_content;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  const { elements: { content }, transitionTimes, tOpen } = ctx$3.get();\n  $$unsubscribe_content = subscribe(content, (value) => $content = value);\n  $$unsubscribe_tOpen = subscribe(tOpen, (value) => $tOpen = value);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  {\n    setTransitionTimes(transitionTimes, {\n      transition,\n      transitionConfig,\n      inTransition,\n      inTransitionConfig,\n      outTransition,\n      outTransitionConfig\n    });\n  }\n  $$unsubscribe_tOpen();\n  $$unsubscribe_content();\n  return `${asChild && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && outTransition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${outTransition && $tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${$tOpen ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst DialogOverlay = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\"\n  ]);\n  let $tOpen, $$unsubscribe_tOpen;\n  let $overlay, $$unsubscribe_overlay;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  const { elements: { overlay }, tOpen } = ctx$3.get();\n  $$unsubscribe_overlay = subscribe(overlay, (value) => $overlay = value);\n  $$unsubscribe_tOpen = subscribe(tOpen, (value) => $tOpen = value);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_tOpen();\n  $$unsubscribe_overlay();\n  return `${asChild && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${inTransition && outTransition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${inTransition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${outTransition && $tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : `${$tOpen ? (() => {\n    let builder2 = $overlay;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}></div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst NAME$1 = \"DropdownMenu\";\nconst SUB_NAME = \"DropdownSubmenu\";\nconst RADIO_GROUP_NAME = \"DropdownRadioGroup\";\nconst CHECKBOX_ITEM_NAME = \"DropdownCheckboxItem\";\nconst RADIO_ITEM_NAME = \"DropdownRadioItem\";\nconst GROUP_NAME = \"DropdownGroup\";\nconst ctx$2 = {\n  get: get$1,\n  set: set$1,\n  setSub,\n  getContent,\n  setRadioGroup,\n  setRadioItem,\n  getSubTrigger,\n  getSubContent,\n  setCheckboxItem,\n  getCheckboxIndicator,\n  getRadioIndicator,\n  setGroup,\n  getGroupLabel,\n  setArrow: setArrow$1\n};\nfunction get$1() {\n  return getContext(NAME$1);\n}\nfunction set$1(props) {\n  const dropdownMenu = createDropdownMenu({ ...removeUndefined(props), forceVisible: true });\n  setContext(NAME$1, dropdownMenu);\n  return {\n    ...dropdownMenu,\n    updateOption: getOptionUpdater(dropdownMenu.options)\n  };\n}\nfunction setSub(props) {\n  const { builders: { createSubmenu } } = get$1();\n  const sub = createSubmenu(removeUndefined(props));\n  setContext(SUB_NAME, sub);\n  return {\n    ...sub,\n    updateOption: getOptionUpdater(sub.options)\n  };\n}\nfunction setRadioGroup(props) {\n  const { builders: { createMenuRadioGroup } } = get$1();\n  const radioGroup = createMenuRadioGroup(props);\n  setContext(RADIO_GROUP_NAME, radioGroup);\n  return radioGroup;\n}\nfunction setRadioItem(value) {\n  const dropdownMenu = getContext(RADIO_GROUP_NAME);\n  setContext(RADIO_ITEM_NAME, { isChecked: dropdownMenu.helpers.isChecked, value });\n  return dropdownMenu;\n}\nfunction getRadioIndicator() {\n  return getContext(RADIO_ITEM_NAME);\n}\nfunction getSubTrigger() {\n  const submenu = getContext(SUB_NAME);\n  return submenu;\n}\nfunction getContent(sideoffset = 5) {\n  const menu = get$1();\n  menu.options.positioning.update((prev) => ({ ...prev, gutter: sideoffset }));\n  return menu;\n}\nfunction getSubContent(sideOffset = -1) {\n  const submenu = getContext(SUB_NAME);\n  submenu.options.positioning.update((prev) => ({ ...prev, gutter: sideOffset }));\n  return submenu;\n}\nfunction setCheckboxItem(props) {\n  const { builders: { createCheckboxItem } } = get$1();\n  const checkboxItem = createCheckboxItem(removeUndefined(props));\n  setContext(CHECKBOX_ITEM_NAME, checkboxItem.states.checked);\n  return {\n    ...checkboxItem,\n    updateOption: getOptionUpdater(checkboxItem.options)\n  };\n}\nfunction getCheckboxIndicator() {\n  return getContext(CHECKBOX_ITEM_NAME);\n}\nfunction setGroup() {\n  const { elements: { group } } = get$1();\n  const id = generateId();\n  setContext(GROUP_NAME, id);\n  return { group, id };\n}\nfunction getGroupLabel() {\n  const id = getContext(GROUP_NAME) ?? generateId();\n  const { elements: { groupLabel } } = get$1();\n  return { groupLabel, id };\n}\nfunction setArrow$1(size2 = 8) {\n  const menu = get$1();\n  menu.options.arrowSize.set(size2);\n  return menu;\n}\nconst DropdownMenu = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { closeOnOutsideClick = void 0 } = $$props;\n  let { closeOnEscape = void 0 } = $$props;\n  let { portal = void 0 } = $$props;\n  let { forceVisible = void 0 } = $$props;\n  let { open = void 0 } = $$props;\n  let { onOpenChange = void 0 } = $$props;\n  let { preventScroll = void 0 } = $$props;\n  let { arrowSize = void 0 } = $$props;\n  let { positioning = void 0 } = $$props;\n  let { loop = void 0 } = $$props;\n  let { dir = void 0 } = $$props;\n  const { states: { open: localOpen }, updateOption } = ctx$2.set({\n    closeOnOutsideClick,\n    closeOnEscape,\n    portal,\n    forceVisible,\n    defaultOpen: open,\n    preventScroll,\n    arrowSize,\n    positioning,\n    loop,\n    dir,\n    onOpenChange: ({ next }) => {\n      if (open !== next) {\n        onOpenChange?.(next);\n        open = next;\n      }\n      return next;\n    }\n  });\n  if ($$props.closeOnOutsideClick === void 0 && $$bindings.closeOnOutsideClick && closeOnOutsideClick !== void 0)\n    $$bindings.closeOnOutsideClick(closeOnOutsideClick);\n  if ($$props.closeOnEscape === void 0 && $$bindings.closeOnEscape && closeOnEscape !== void 0)\n    $$bindings.closeOnEscape(closeOnEscape);\n  if ($$props.portal === void 0 && $$bindings.portal && portal !== void 0)\n    $$bindings.portal(portal);\n  if ($$props.forceVisible === void 0 && $$bindings.forceVisible && forceVisible !== void 0)\n    $$bindings.forceVisible(forceVisible);\n  if ($$props.open === void 0 && $$bindings.open && open !== void 0)\n    $$bindings.open(open);\n  if ($$props.onOpenChange === void 0 && $$bindings.onOpenChange && onOpenChange !== void 0)\n    $$bindings.onOpenChange(onOpenChange);\n  if ($$props.preventScroll === void 0 && $$bindings.preventScroll && preventScroll !== void 0)\n    $$bindings.preventScroll(preventScroll);\n  if ($$props.arrowSize === void 0 && $$bindings.arrowSize && arrowSize !== void 0)\n    $$bindings.arrowSize(arrowSize);\n  if ($$props.positioning === void 0 && $$bindings.positioning && positioning !== void 0)\n    $$bindings.positioning(positioning);\n  if ($$props.loop === void 0 && $$bindings.loop && loop !== void 0)\n    $$bindings.loop(loop);\n  if ($$props.dir === void 0 && $$bindings.dir && dir !== void 0)\n    $$bindings.dir(dir);\n  open !== void 0 && localOpen.set(open);\n  {\n    updateOption(\"closeOnOutsideClick\", closeOnOutsideClick);\n  }\n  {\n    updateOption(\"closeOnEscape\", closeOnEscape);\n  }\n  {\n    updateOption(\"portal\", portal);\n  }\n  {\n    updateOption(\"forceVisible\", forceVisible);\n  }\n  {\n    updateOption(\"preventScroll\", preventScroll);\n  }\n  {\n    updateOption(\"arrowSize\", arrowSize);\n  }\n  {\n    updateOption(\"positioning\", positioning);\n  }\n  {\n    updateOption(\"loop\", loop);\n  }\n  {\n    updateOption(\"dir\", dir);\n  }\n  return `${slots.default ? slots.default({}) : ``}`;\n});\nconst DropdownMenuItem = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\", \"disabled\"]);\n  let $item, $$unsubscribe_item;\n  let { asChild = false } = $$props;\n  let { disabled = false } = $$props;\n  const { elements: { item } } = ctx$2.get();\n  $$unsubscribe_item = subscribe(item, (value) => $item = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  if ($$props.disabled === void 0 && $$bindings.disabled && disabled !== void 0)\n    $$bindings.disabled(disabled);\n  $$unsubscribe_item();\n  return ` ${asChild ? `${slots.default ? slots.default({ builder: $item }) : ``}` : (() => {\n    let builder2 = $item;\n    return ` <div${spread(\n      [\n        escape_object(builder2),\n        escape_object($$restProps),\n        escape_object(disabledAttrs(disabled))\n      ],\n      {}\n    )}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst DropdownMenuGroup = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $group, $$unsubscribe_group;\n  let { asChild = false } = $$props;\n  const { group, id } = ctx$2.setGroup();\n  $$unsubscribe_group = subscribe(group, (value) => $group = value);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_group();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $group(id) }) : ``}` : (() => {\n    let builder2 = $group(id);\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })()}`;\n});\nconst DropdownMenuContent = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"sideOffset\",\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\"\n  ]);\n  let $open, $$unsubscribe_open;\n  let $menu, $$unsubscribe_menu;\n  let { sideOffset = 5 } = $$props;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  const { elements: { menu }, states: { open } } = ctx$2.getContent(sideOffset);\n  $$unsubscribe_menu = subscribe(menu, (value) => $menu = value);\n  $$unsubscribe_open = subscribe(open, (value) => $open = value);\n  createDispatcher();\n  if ($$props.sideOffset === void 0 && $$bindings.sideOffset && sideOffset !== void 0)\n    $$bindings.sideOffset(sideOffset);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_open();\n  $$unsubscribe_menu();\n  return ` ${asChild && $open ? (() => {\n    let builder2 = $menu;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && outTransition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${outTransition && $open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${$open ? (() => {\n    let builder2 = $menu;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst DropdownMenuTrigger = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $trigger, $$unsubscribe_trigger;\n  let { asChild = false } = $$props;\n  const { elements: { trigger } } = ctx$2.get();\n  $$unsubscribe_trigger = subscribe(trigger, (value) => $trigger = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_trigger();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $trigger }) : ``}` : (() => {\n    let builder2 = $trigger;\n    return ` <button${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</button>`;\n  })()}`;\n});\nconst DropdownMenuSeparator = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $separator, $$unsubscribe_separator;\n  let { asChild = false } = $$props;\n  const separator = ctx$2.get().elements.separator;\n  $$unsubscribe_separator = subscribe(separator, (value) => $separator = value);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_separator();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $separator }) : ``}` : `<div${spread([escape_object($separator), escape_object($$restProps)], {})}></div>`}`;\n});\nconst ctx$1 = {\n  get: () => createLabel()\n};\nconst Label$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $root, $$unsubscribe_root;\n  let { asChild = false } = $$props;\n  const { elements: { root } } = ctx$1.get();\n  $$unsubscribe_root = subscribe(root, (value) => $root = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_root();\n  return ` ${asChild ? `${slots.default ? slots.default({ builder: $root }) : ``}` : (() => {\n    let builder2 = $root;\n    return ` <label${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</label>`;\n  })()}`;\n});\nconst NAME = \"Tooltip\";\nconst ctx = {\n  set,\n  get,\n  setArrow\n};\nfunction set(props) {\n  const tooltip = createTooltip({\n    positioning: {\n      placement: \"top\"\n    },\n    openDelay: 700,\n    ...removeUndefined(props)\n  });\n  setContext(NAME, tooltip);\n  return {\n    ...tooltip,\n    updateOption: getOptionUpdater(tooltip.options)\n  };\n}\nfunction get(sideOffset = 0) {\n  const tooltip = getContext(NAME);\n  const { options: { positioning } } = tooltip;\n  positioning.update((prev) => ({ ...prev, gutter: sideOffset }));\n  return tooltip;\n}\nfunction setArrow(size2 = 8) {\n  const tooltip = get();\n  tooltip.options.arrowSize.set(size2);\n  return tooltip;\n}\nconst Tooltip = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { positioning = void 0 } = $$props;\n  let { arrowSize = void 0 } = $$props;\n  let { closeOnEscape = void 0 } = $$props;\n  let { portal = void 0 } = $$props;\n  let { closeOnPointerDown = void 0 } = $$props;\n  let { openDelay = void 0 } = $$props;\n  let { closeDelay = void 0 } = $$props;\n  let { open = void 0 } = $$props;\n  let { onOpenChange = void 0 } = $$props;\n  let { forceVisible = true } = $$props;\n  const { states: { open: localOpen }, updateOption } = ctx.set({\n    positioning,\n    arrowSize,\n    closeOnEscape,\n    portal,\n    closeOnPointerDown,\n    openDelay,\n    closeDelay,\n    forceVisible,\n    defaultOpen: open,\n    onOpenChange: ({ next }) => {\n      if (open !== next) {\n        onOpenChange?.(next);\n        open = next;\n      }\n      return next;\n    }\n  });\n  if ($$props.positioning === void 0 && $$bindings.positioning && positioning !== void 0)\n    $$bindings.positioning(positioning);\n  if ($$props.arrowSize === void 0 && $$bindings.arrowSize && arrowSize !== void 0)\n    $$bindings.arrowSize(arrowSize);\n  if ($$props.closeOnEscape === void 0 && $$bindings.closeOnEscape && closeOnEscape !== void 0)\n    $$bindings.closeOnEscape(closeOnEscape);\n  if ($$props.portal === void 0 && $$bindings.portal && portal !== void 0)\n    $$bindings.portal(portal);\n  if ($$props.closeOnPointerDown === void 0 && $$bindings.closeOnPointerDown && closeOnPointerDown !== void 0)\n    $$bindings.closeOnPointerDown(closeOnPointerDown);\n  if ($$props.openDelay === void 0 && $$bindings.openDelay && openDelay !== void 0)\n    $$bindings.openDelay(openDelay);\n  if ($$props.closeDelay === void 0 && $$bindings.closeDelay && closeDelay !== void 0)\n    $$bindings.closeDelay(closeDelay);\n  if ($$props.open === void 0 && $$bindings.open && open !== void 0)\n    $$bindings.open(open);\n  if ($$props.onOpenChange === void 0 && $$bindings.onOpenChange && onOpenChange !== void 0)\n    $$bindings.onOpenChange(onOpenChange);\n  if ($$props.forceVisible === void 0 && $$bindings.forceVisible && forceVisible !== void 0)\n    $$bindings.forceVisible(forceVisible);\n  open !== void 0 && localOpen.set(open);\n  {\n    updateOption(\"positioning\", positioning);\n  }\n  {\n    updateOption(\"arrowSize\", arrowSize);\n  }\n  {\n    updateOption(\"closeOnEscape\", closeOnEscape);\n  }\n  {\n    updateOption(\"portal\", portal);\n  }\n  {\n    updateOption(\"closeOnPointerDown\", closeOnPointerDown);\n  }\n  {\n    updateOption(\"openDelay\", openDelay);\n  }\n  {\n    updateOption(\"closeDelay\", closeDelay);\n  }\n  {\n    updateOption(\"forceVisible\", forceVisible);\n  }\n  return `${slots.default ? slots.default({}) : ``}`;\n});\nconst TooltipContent = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"transition\",\n    \"transitionConfig\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\",\n    \"asChild\",\n    \"sideOffset\"\n  ]);\n  let $open, $$unsubscribe_open;\n  let $content, $$unsubscribe_content;\n  let { transition = void 0 } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  let { inTransition = void 0 } = $$props;\n  let { inTransitionConfig = void 0 } = $$props;\n  let { outTransition = void 0 } = $$props;\n  let { outTransitionConfig = void 0 } = $$props;\n  let { asChild = false } = $$props;\n  let { sideOffset = 4 } = $$props;\n  const { elements: { content }, states: { open } } = ctx.get(sideOffset);\n  $$unsubscribe_content = subscribe(content, (value) => $content = value);\n  $$unsubscribe_open = subscribe(open, (value) => $open = value);\n  createDispatcher();\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  if ($$props.sideOffset === void 0 && $$bindings.sideOffset && sideOffset !== void 0)\n    $$bindings.sideOffset(sideOffset);\n  $$unsubscribe_open();\n  $$unsubscribe_content();\n  return `${asChild && $open ? (() => {\n    let builder2 = $content;\n    return ` ${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n  })() : `${transition && $open ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && outTransition && $open ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${inTransition && $open ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${outTransition && $open ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : `${$open ? (() => {\n    let builder2 = $content;\n    return ` <div${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</div>`;\n  })() : ``}`}`}`}`}`}`;\n});\nconst TooltipTrigger = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"asChild\"]);\n  let $trigger, $$unsubscribe_trigger;\n  let { asChild = false } = $$props;\n  const trigger = ctx.get().elements.trigger;\n  $$unsubscribe_trigger = subscribe(trigger, (value) => $trigger = value);\n  createDispatcher();\n  if ($$props.asChild === void 0 && $$bindings.asChild && asChild !== void 0)\n    $$bindings.asChild(asChild);\n  $$unsubscribe_trigger();\n  return `${asChild ? `${slots.default ? slots.default({ builder: $trigger }) : ``}` : (() => {\n    let builder2 = $trigger;\n    return ` <button${spread([escape_object(builder2), escape_object($$restProps)], {})}>${slots.default ? slots.default({ builder: builder2 }) : ``}</button>`;\n  })()}`;\n});\nfunction cubicOut(t) {\n  const f = t - 1;\n  return f * f * f + 1;\n}\nfunction cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\nconst flyAndScale = (node, params = { y: -8, x: 0, start: 0.95, duration: 150 }) => {\n  const style = getComputedStyle(node);\n  const transform = style.transform === \"none\" ? \"\" : style.transform;\n  const scaleConversion = (valueA, scaleA, scaleB) => {\n    const [minA, maxA] = scaleA;\n    const [minB, maxB] = scaleB;\n    const percentage = (valueA - minA) / (maxA - minA);\n    const valueB = percentage * (maxB - minB) + minB;\n    return valueB;\n  };\n  const styleToString2 = (style2) => {\n    return Object.keys(style2).reduce((str, key) => {\n      if (style2[key] === void 0)\n        return str;\n      return str + `${key}:${style2[key]};`;\n    }, \"\");\n  };\n  return {\n    duration: params.duration ?? 200,\n    delay: 0,\n    css: (t) => {\n      const y = scaleConversion(t, [0, 1], [params.y ?? 5, 0]);\n      const x = scaleConversion(t, [0, 1], [params.x ?? 0, 0]);\n      const scale = scaleConversion(t, [0, 1], [params.start ?? 0.95, 1]);\n      return styleToString2({\n        transform: `${transform} translate3d(${x}px, ${y}px, 0) scale(${scale})`,\n        opacity: t\n      });\n    },\n    easing: cubicOut\n  };\n};\nconst Alert_dialog_title = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"level\"]);\n  let { class: className = void 0 } = $$props;\n  let { level = \"h3\" } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.level === void 0 && $$bindings.level && level !== void 0)\n    $$bindings.level(level);\n  return `${validate_component(AlertDialogTitle, \"AlertDialogPrimitive.Title\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"text-lg font-semibold\", className)\n      },\n      { level },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Button = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"variant\", \"size\", \"builders\"]);\n  let { class: className = void 0 } = $$props;\n  let { variant = \"default\" } = $$props;\n  let { size: size2 = \"default\" } = $$props;\n  let { builders = [] } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.variant === void 0 && $$bindings.variant && variant !== void 0)\n    $$bindings.variant(variant);\n  if ($$props.size === void 0 && $$bindings.size && size2 !== void 0)\n    $$bindings.size(size2);\n  if ($$props.builders === void 0 && $$bindings.builders && builders !== void 0)\n    $$bindings.builders(builders);\n  return `${validate_component(Button$1, \"ButtonPrimitive.Root\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { builders },\n      {\n        class: cn(buttonVariants({ variant, size: size2, className }))\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst buttonVariants = tv({\n  base: \"inline-flex items-center justify-center rounded-md text-sm font-medium whitespace-nowrap transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\n  variants: {\n    variant: {\n      default: \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n      destructive: \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n      outline: \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      secondary: \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n      ghost: \"hover:bg-accent hover:text-accent-foreground\",\n      link: \"text-primary underline-offset-4 hover:underline\"\n    },\n    size: {\n      default: \"h-9 px-4 py-2\",\n      sm: \"h-8 rounded-md px-3 text-xs\",\n      lg: \"h-10 rounded-md px-8\",\n      icon: \"h-9 w-9\",\n      xs: \"h-6 px-2 py-1 text-xs\"\n    }\n  },\n  defaultVariants: {\n    variant: \"default\",\n    size: \"default\"\n  }\n});\nconst Alert_dialog_action = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(AlertDialogAction, \"AlertDialogPrimitive.Action\").$$render($$result, Object.assign({}, { class: cn(buttonVariants(), className) }, $$restProps), {}, {\n    default: ({ builder: builder2 }) => {\n      return `${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n    }\n  })}`;\n});\nconst Alert_dialog_cancel = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(AlertDialogCancel, \"AlertDialogPrimitive.Cancel\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: ({ builder: builder2 }) => {\n        return `${slots.default ? slots.default({ builder: builder2 }) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Alert_dialog_portal = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, []);\n  return `${validate_component(AlertDialogPortal, \"AlertDialogPrimitive.Portal\").$$render($$result, Object.assign({}, $$restProps), {}, {\n    default: () => {\n      return `${slots.default ? slots.default({}) : ``}`;\n    }\n  })}`;\n});\nconst Alert_dialog_footer = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `<div${spread(\n    [\n      {\n        class: escape_attribute_value(cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className))\n      },\n      escape_object($$restProps)\n    ],\n    {}\n  )}>${slots.default ? slots.default({}) : ``}</div>`;\n});\nconst Alert_dialog_header = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `<div${spread(\n    [\n      {\n        class: escape_attribute_value(cn(\"flex flex-col space-y-2 text-center sm:text-left\", className))\n      },\n      escape_object($$restProps)\n    ],\n    {}\n  )}>${slots.default ? slots.default({}) : ``}</div>`;\n});\nfunction fade(node, { delay: delay3 = 0, duration = 400, easing = identity } = {}) {\n  const o = +getComputedStyle(node).opacity;\n  return {\n    delay: delay3,\n    duration,\n    easing,\n    css: (t) => `opacity: ${t * o}`\n  };\n}\nfunction fly(node, { delay: delay3 = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n  const style = getComputedStyle(node);\n  const target_opacity = +style.opacity;\n  const transform = style.transform === \"none\" ? \"\" : style.transform;\n  const od = target_opacity * (1 - opacity);\n  const [xValue, xUnit] = split_css_unit(x);\n  const [yValue, yUnit] = split_css_unit(y);\n  return {\n    delay: delay3,\n    duration,\n    easing,\n    css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n  };\n}\nconst Alert_dialog_overlay = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = fade } = $$props;\n  let { transitionConfig = { duration: 150 } } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(AlertDialogOverlay, \"AlertDialogPrimitive.Overlay\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { transition },\n      { transitionConfig },\n      {\n        class: cn(\"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {}\n  )}`;\n});\nconst Alert_dialog_content = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = flyAndScale } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(Alert_dialog_portal, \"AlertDialog.Portal\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Alert_dialog_overlay, \"AlertDialog.Overlay\").$$render($$result, {}, {}, {})} ${validate_component(AlertDialogContent, \"AlertDialogPrimitive.Content\").$$render(\n        $$result,\n        Object.assign(\n          {},\n          { transition },\n          { transitionConfig },\n          {\n            class: cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg  sm:rounded-lg md:w-full\", className)\n          },\n          $$restProps\n        ),\n        {},\n        {\n          default: () => {\n            return `${slots.default ? slots.default({}) : ``}`;\n          }\n        }\n      )}`;\n    }\n  })}`;\n});\nconst Alert_dialog_description = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(AlertDialogDescription, \"AlertDialogPrimitive.Description\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"text-sm text-muted-foreground\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Root$5 = AlertDialog;\nconst alertDialogDeleteItemId = writable(null);\nconst DeleteItemAlertDialog = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $alertDialogDeleteItemId, $$unsubscribe_alertDialogDeleteItemId;\n  let $$unsubscribe_page;\n  $$unsubscribe_alertDialogDeleteItemId = subscribe(alertDialogDeleteItemId, (value) => $alertDialogDeleteItemId = value);\n  $$unsubscribe_page = subscribe(page, (value) => value);\n  let open = false;\n  let loading = false;\n  alertDialogDeleteItemId.subscribe((value) => {\n    open = !!value;\n  });\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `${validate_component(Root$5, \"AlertDialog.Root\").$$render(\n      $$result,\n      { open },\n      {\n        open: ($$value) => {\n          open = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(Alert_dialog_content, \"AlertDialog.Content\").$$render($$result, {}, {}, {\n            default: () => {\n              return `${validate_component(Alert_dialog_header, \"AlertDialog.Header\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Alert_dialog_title, \"AlertDialog.Title\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `Are you absolutely sure?`;\n                    }\n                  })} ${validate_component(Alert_dialog_description, \"AlertDialog.Description\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `This action cannot be undone. This will permanently delete the item and all the nested\n\t\t\t\titems.`;\n                    }\n                  })}`;\n                }\n              })} ${validate_component(Alert_dialog_footer, \"AlertDialog.Footer\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Alert_dialog_cancel, \"AlertDialog.Cancel\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `Cancel`;\n                    }\n                  })} <form method=\"POST\" action=\"/?/delete-item\"><input type=\"hidden\"${add_attribute(\"value\", $alertDialogDeleteItemId, 0)} name=\"itemId\"> ${validate_component(Alert_dialog_action, \"AlertDialog.Action\").$$render($$result, { type: \"submit\", disabled: loading }, {}, {\n                    default: () => {\n                      return `Continue`;\n                    }\n                  })}</form>`;\n                }\n              })}`;\n            }\n          })}`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  $$unsubscribe_alertDialogDeleteItemId();\n  $$unsubscribe_page();\n  return $$rendered;\n});\nconst Dialog_title = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(DialogTitle, \"DialogPrimitive.Title\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"text-lg font-semibold leading-none tracking-tight\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Dialog_portal = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, []);\n  return `${validate_component(DialogPortal, \"DialogPrimitive.Portal\").$$render($$result, Object.assign({}, $$restProps), {}, {\n    default: () => {\n      return `${slots.default ? slots.default({}) : ``}`;\n    }\n  })}`;\n});\nconst Dialog_footer = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `<div${spread(\n    [\n      {\n        class: escape_attribute_value(cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className))\n      },\n      escape_object($$restProps)\n    ],\n    {}\n  )}>${slots.default ? slots.default({}) : ``}</div>`;\n});\nconst Dialog_header = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `<div${spread(\n    [\n      {\n        class: escape_attribute_value(cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className))\n      },\n      escape_object($$restProps)\n    ],\n    {}\n  )}>${slots.default ? slots.default({}) : ``}</div>`;\n});\nconst Dialog_overlay = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = fade } = $$props;\n  let { transitionConfig = { duration: 150 } } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(DialogOverlay, \"DialogPrimitive.Overlay\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { transition },\n      { transitionConfig },\n      {\n        class: cn(\"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm \", className)\n      },\n      $$restProps\n    ),\n    {},\n    {}\n  )}`;\n});\nconst Dialog_content = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = flyAndScale } = $$props;\n  let { transitionConfig = { duration: 200 } } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(Dialog_portal, \"Dialog.Portal\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Dialog_overlay, \"Dialog.Overlay\").$$render($$result, {}, {}, {})} ${validate_component(DialogContent, \"DialogPrimitive.Content\").$$render(\n        $$result,\n        Object.assign(\n          {},\n          { transition },\n          { transitionConfig },\n          {\n            class: cn(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg sm:rounded-lg md:w-full\", className)\n          },\n          $$restProps\n        ),\n        {},\n        {\n          default: () => {\n            return `${slots.default ? slots.default({}) : ``}`;\n          }\n        }\n      )}`;\n    }\n  })}`;\n});\nconst Root$4 = Dialog;\nconst Input = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"value\"]);\n  let { class: className = void 0 } = $$props;\n  let { value = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.value === void 0 && $$bindings.value && value !== void 0)\n    $$bindings.value(value);\n  return `<input${spread(\n    [\n      {\n        class: escape_attribute_value(cn(\"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\", className))\n      },\n      escape_object($$restProps)\n    ],\n    {}\n  )}${add_attribute(\"value\", value, 0)}>`;\n});\nconst Label = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(Label$1, \"LabelPrimitive.Root\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst dialogRenameItem = writable(null);\nconst RenameItemDialog = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_dialogRenameItem;\n  $$unsubscribe_dialogRenameItem = subscribe(dialogRenameItem, (value) => value);\n  let open = false;\n  let name2;\n  dialogRenameItem.subscribe((value) => {\n    open = !!value;\n    name2 = value?.name ?? \"\";\n  });\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `${validate_component(Root$4, \"Dialog.Root\").$$render(\n      $$result,\n      { open },\n      {\n        open: ($$value) => {\n          open = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(Dialog_content, \"Dialog.Content\").$$render($$result, { class: \"sm:max-w-[425px]\" }, {}, {\n            default: () => {\n              return `${validate_component(Dialog_header, \"Dialog.Header\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Dialog_title, \"Dialog.Title\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `Rename Item`;\n                    }\n                  })}`;\n                }\n              })} <div class=\"grid gap-4 py-4\"><div class=\"grid grid-cols-4 items-center gap-4\">${validate_component(Label, \"Label\").$$render($$result, { class: \"text-right\" }, {}, {\n                default: () => {\n                  return `Name`;\n                }\n              })} ${validate_component(Input, \"Input\").$$render(\n                $$result,\n                {\n                  id: \"name\",\n                  class: \"col-span-3\",\n                  value: name2\n                },\n                {\n                  value: ($$value) => {\n                    name2 = $$value;\n                    $$settled = false;\n                  }\n                },\n                {}\n              )}</div></div> ${validate_component(Dialog_footer, \"Dialog.Footer\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Button, \"Button\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `Save changes`;\n                    }\n                  })}`;\n                }\n              })}`;\n            }\n          })}`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  $$unsubscribe_dialogRenameItem();\n  return $$rendered;\n});\nconst searchDialogOpen = writable(false);\nconst SearchCommand = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let filteredItems;\n  let $searchDialogOpen, $$unsubscribe_searchDialogOpen;\n  $$unsubscribe_searchDialogOpen = subscribe(searchDialogOpen, (value) => $searchDialogOpen = value);\n  let { items = [] } = $$props;\n  let query = \"\";\n  if ($$props.items === void 0 && $$bindings.items && items !== void 0)\n    $$bindings.items(items);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    filteredItems = items.filter((item) => {\n      if (item.type === \"folder\")\n        return false;\n      return true;\n    });\n    $$rendered = `${validate_component(Root$4, \"Dialog.Root\").$$render(\n      $$result,\n      { open: $searchDialogOpen },\n      {\n        open: ($$value) => {\n          $searchDialogOpen = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(Dialog_content, \"Dialog.Content\").$$render(\n            $$result,\n            {\n              class: \"md:w-[56vw] w-[80vw] p-0 rounded-md\"\n            },\n            {},\n            {\n              default: () => {\n                return `<input type=\"text\" class=\"bg-transparent outline-none px-4 text-lg py-2.5 w-full border-b border-b-accent\" placeholder=\"Search through your notes...\"${add_attribute(\"value\", query, 0)}> <div class=\"md:h-[250px] h-[50vh] w-full px-4 overflow-y-scroll pb-1\">${filteredItems.length === 0 ? `<div class=\"flex items-center justify-center w-full h-full\" data-svelte-h=\"svelte-1kmyor1\"><p class=\"text-center text-popover-foreground\">No results found.</p></div>` : `${each(filteredItems, (item) => {\n                  return `<a href=\"${\"/\" + escape(item.id, true)}\"><div class=\"px-2 py-1.5 hover:bg-accent hover:bg-opacity-10 rounded-md\"><span class=\"block text-popover-foreground\">${escape(item.name)}</span></div> </a>`;\n                })}`}</div>`;\n              }\n            }\n          )}`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  $$unsubscribe_searchDialogOpen();\n  return $$rendered;\n});\nconst Sheet_portal = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(DialogPortal, \"SheetPrimitive.Portal\").$$render($$result, Object.assign({}, { class: cn(className) }, $$restProps), {}, {\n    default: () => {\n      return `${slots.default ? slots.default({}) : ``}`;\n    }\n  })}`;\n});\nconst Sheet_overlay = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = fade } = $$props;\n  let { transitionConfig = { duration: 150 } } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(DialogOverlay, \"SheetPrimitive.Overlay\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { transition },\n      { transitionConfig },\n      {\n        class: cn(\"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {}\n  )}`;\n});\nconst Sheet_content = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\n    \"class\",\n    \"side\",\n    \"inTransition\",\n    \"inTransitionConfig\",\n    \"outTransition\",\n    \"outTransitionConfig\"\n  ]);\n  let { class: className = void 0 } = $$props;\n  let { side = \"right\" } = $$props;\n  let { inTransition = fly } = $$props;\n  let { inTransitionConfig = sheetTransitions[side ? side : \"right\"][\"in\"] } = $$props;\n  let { outTransition = fly } = $$props;\n  let { outTransitionConfig = sheetTransitions[side ? side : \"right\"][\"out\"] } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.side === void 0 && $$bindings.side && side !== void 0)\n    $$bindings.side(side);\n  if ($$props.inTransition === void 0 && $$bindings.inTransition && inTransition !== void 0)\n    $$bindings.inTransition(inTransition);\n  if ($$props.inTransitionConfig === void 0 && $$bindings.inTransitionConfig && inTransitionConfig !== void 0)\n    $$bindings.inTransitionConfig(inTransitionConfig);\n  if ($$props.outTransition === void 0 && $$bindings.outTransition && outTransition !== void 0)\n    $$bindings.outTransition(outTransition);\n  if ($$props.outTransitionConfig === void 0 && $$bindings.outTransitionConfig && outTransitionConfig !== void 0)\n    $$bindings.outTransitionConfig(outTransitionConfig);\n  return `${validate_component(Sheet_portal, \"SheetPortal\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Sheet_overlay, \"SheetOverlay\").$$render($$result, {}, {}, {})} ${validate_component(DialogContent, \"SheetPrimitive.Content\").$$render(\n        $$result,\n        Object.assign(\n          {},\n          { inTransition },\n          { inTransitionConfig },\n          { outTransition },\n          { outTransitionConfig },\n          {\n            class: cn(sheetVariants({ side }), className)\n          },\n          $$restProps\n        ),\n        {},\n        {\n          default: () => {\n            return `${slots.default ? slots.default({}) : ``} `;\n          }\n        }\n      )}`;\n    }\n  })}`;\n});\nconst Root$3 = Dialog;\nconst sheetVariants = tv({\n  base: \"fixed z-50 gap-4 bg-background p-6 shadow-lg\",\n  variants: {\n    side: {\n      top: \"inset-x-0 top-0 border-b \",\n      bottom: \"inset-x-0 bottom-0 border-t\",\n      left: \"inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n      right: \"inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\"\n    }\n  },\n  defaultVariants: {\n    side: \"right\"\n  }\n});\nconst sheetTransitions = {\n  top: {\n    in: {\n      y: \"-100%\",\n      duration: 500,\n      opacity: 1\n    },\n    out: {\n      y: \"-100%\",\n      duration: 300,\n      opacity: 1\n    }\n  },\n  bottom: {\n    in: {\n      y: \"100%\",\n      duration: 500,\n      opacity: 1\n    },\n    out: {\n      y: \"100%\",\n      duration: 300,\n      opacity: 1\n    }\n  },\n  left: {\n    in: {\n      x: \"-100%\",\n      duration: 500,\n      opacity: 1\n    },\n    out: {\n      x: \"-100%\",\n      duration: 300,\n      opacity: 1\n    }\n  },\n  right: {\n    in: {\n      x: \"100%\",\n      duration: 500,\n      opacity: 1\n    },\n    out: {\n      x: \"100%\",\n      duration: 300,\n      opacity: 1\n    }\n  }\n};\nconst sortOrder = writable(\"name_asc\");\nconst Tooltip_content = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"sideOffset\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { sideOffset = 4 } = $$props;\n  let { transition = flyAndScale } = $$props;\n  let { transitionConfig = { y: 2, duration: 150 } } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.sideOffset === void 0 && $$bindings.sideOffset && sideOffset !== void 0)\n    $$bindings.sideOffset(sideOffset);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(TooltipContent, \"TooltipPrimitive.Content\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { sideOffset },\n      { transition },\n      { transitionConfig },\n      {\n        class: cn(\"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Root$2 = Tooltip;\nconst Trigger$2 = TooltipTrigger;\nconst SidebarNewFolderButton = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let loading = false;\n  return `${validate_component(Root$2, \"Tooltip.Root\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Trigger$2, \"Tooltip.Trigger\").$$render($$result, {}, {}, {\n        default: () => {\n          return `<form method=\"POST\" action=\"/?/create-item\"><input type=\"hidden\" value=\"folder\" name=\"type\"> ${validate_component(Button, \"Button\").$$render(\n            $$result,\n            {\n              size: \"xs\",\n              variant: \"outline\",\n              disabled: loading,\n              type: \"submit\",\n              class: \"py-2 px-1.5 rounded-md md:hidden hover:bg-white/5\"\n            },\n            {},\n            {\n              default: () => {\n                return `New Folder`;\n              }\n            }\n          )} <button ${\"\"} type=\"submit\" class=\"py-2 px-1.5 rounded-md hidden md:block hover:bg-white/5\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-folder-plus\"><path d=\"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z\"></path><line x1=\"12\" x2=\"12\" y1=\"10\" y2=\"16\"></line><line x1=\"9\" x2=\"15\" y1=\"13\" y2=\"13\"></line></svg></button></form>`;\n        }\n      })} ${validate_component(Tooltip_content, \"Tooltip.Content\").$$render($$result, {}, {}, {\n        default: () => {\n          return `<p data-svelte-h=\"svelte-wqdoh6\">New Folder</p>`;\n        }\n      })}`;\n    }\n  })}`;\n});\nconst SidebarNewNoteButton = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let loading = false;\n  return `${validate_component(Root$2, \"Tooltip.Root\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Trigger$2, \"Tooltip.Trigger\").$$render($$result, {}, {}, {\n        default: () => {\n          return `<form method=\"POST\" action=\"/?/create-item\"><input type=\"hidden\" value=\"file\" name=\"type\"> ${validate_component(Button, \"Button\").$$render(\n            $$result,\n            {\n              size: \"xs\",\n              disabled: loading,\n              type: \"submit\",\n              class: \"py-2 px-1.5 rounded-md hover:bg-white/5 md:hidden\"\n            },\n            {},\n            {\n              default: () => {\n                return `New Note`;\n              }\n            }\n          )} <button ${\"\"} type=\"submit\" class=\"py-2 px-1.5 rounded-md hover:bg-white/5 hidden md:block\" id=\"create-new-note-form-submit\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-file-edit\"><path d=\"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5\"></path><polyline points=\"14 2 14 8 20 8\"></polyline><path d=\"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z\"></path></svg></button></form>`;\n        }\n      })} ${validate_component(Tooltip_content, \"Tooltip.Content\").$$render($$result, {}, {}, {\n        default: () => {\n          return `<p data-svelte-h=\"svelte-8wuyqi\">New Note</p>`;\n        }\n      })}`;\n    }\n  })}`;\n});\nconst SidebarSearchButton = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `${validate_component(Root$2, \"Tooltip.Root\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Trigger$2, \"Tooltip.Trigger\").$$render($$result, {}, {}, {\n        default: () => {\n          return `<button class=\"py-2 px-1.5 rounded-md hover:bg-white/5\" data-svelte-h=\"svelte-sqryf9\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-search\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><path d=\"m21 21-4.3-4.3\"></path></svg></button>`;\n        }\n      })} ${validate_component(Tooltip_content, \"Tooltip.Content\").$$render($$result, {}, {}, {\n        default: () => {\n          return `<p data-svelte-h=\"svelte-1a6y03c\">Search</p>`;\n        }\n      })}`;\n    }\n  })}`;\n});\nconst Dropdown_menu_item = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"inset\"]);\n  let { class: className = void 0 } = $$props;\n  let { inset = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.inset === void 0 && $$bindings.inset && inset !== void 0)\n    $$bindings.inset(inset);\n  return `${validate_component(DropdownMenuItem, \"DropdownMenuPrimitive.Item\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-[0.8rem] outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", inset && \"pl-8\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Dropdown_menu_content = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = flyAndScale } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(DropdownMenuContent, \"DropdownMenuPrimitive.Content\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { transition },\n      { transitionConfig },\n      {\n        class: cn(\"z-50 min-w-[8rem] rounded-md border bg-popover p-1 text-popover-foreground shadow-md focus:outline-none\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Check = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"color\", \"size\"]);\n  let { color = \"currentColor\" } = $$props;\n  let { size: size2 = 15 } = $$props;\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  if ($$props.size === void 0 && $$bindings.size && size2 !== void 0)\n    $$bindings.size(size2);\n  return `<svg${spread(\n    [\n      { width: escape_attribute_value(size2) },\n      { height: escape_attribute_value(size2) },\n      { viewBox: \"0 0 15 15\" },\n      { fill: \"none\" },\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      escape_object($$restProps)\n    ],\n    {}\n  )}><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z\"${add_attribute(\"fill\", color, 0)}></path></svg>`;\n});\nconst Check$1 = Check;\nconst ChevronRight = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"color\", \"size\"]);\n  let { color = \"currentColor\" } = $$props;\n  let { size: size2 = 15 } = $$props;\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  if ($$props.size === void 0 && $$bindings.size && size2 !== void 0)\n    $$bindings.size(size2);\n  return `<svg${spread(\n    [\n      { width: escape_attribute_value(size2) },\n      { height: escape_attribute_value(size2) },\n      { viewBox: \"0 0 15 15\" },\n      { fill: \"none\" },\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      escape_object($$restProps)\n    ],\n    {}\n  )}><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z\"${add_attribute(\"fill\", color, 0)}></path></svg>`;\n});\nconst ChevronRight$1 = ChevronRight;\nconst Pencil2 = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"color\", \"size\"]);\n  let { color = \"currentColor\" } = $$props;\n  let { size: size2 = 15 } = $$props;\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  if ($$props.size === void 0 && $$bindings.size && size2 !== void 0)\n    $$bindings.size(size2);\n  return `<svg${spread(\n    [\n      { width: escape_attribute_value(size2) },\n      { height: escape_attribute_value(size2) },\n      { viewBox: \"0 0 15 15\" },\n      { fill: \"none\" },\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      escape_object($$restProps)\n    ],\n    {}\n  )}><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z\"${add_attribute(\"fill\", color, 0)}></path></svg>`;\n});\nconst Pencil2$1 = Pencil2;\nconst Trash = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"color\", \"size\"]);\n  let { color = \"currentColor\" } = $$props;\n  let { size: size2 = 15 } = $$props;\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  if ($$props.size === void 0 && $$bindings.size && size2 !== void 0)\n    $$bindings.size(size2);\n  return `<svg${spread(\n    [\n      { width: escape_attribute_value(size2) },\n      { height: escape_attribute_value(size2) },\n      { viewBox: \"0 0 15 15\" },\n      { fill: \"none\" },\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      escape_object($$restProps)\n    ],\n    {}\n  )}><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z\"${add_attribute(\"fill\", color, 0)}></path></svg>`;\n});\nconst Trash$1 = Trash;\nconst Dropdown_menu_separator = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(DropdownMenuSeparator, \"DropdownMenuPrimitive.Separator\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"-mx-1 my-1 h-px bg-neutral-700\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {}\n  )}`;\n});\nconst Root$1 = DropdownMenu;\nconst Trigger$1 = DropdownMenuTrigger;\nconst Group = DropdownMenuGroup;\nconst SidebarSortButton = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $sortOrder, $$unsubscribe_sortOrder;\n  $$unsubscribe_sortOrder = subscribe(sortOrder, (value) => $sortOrder = value);\n  let open = false;\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    $$rendered = `${validate_component(Root$1, \"DropdownMenu.Root\").$$render(\n      $$result,\n      { open },\n      {\n        open: ($$value) => {\n          open = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(Trigger$1, \"DropdownMenu.Trigger\").$$render($$result, { asChild: true }, {}, {\n            default: ({ builder: builder2 }) => {\n              return `${validate_component(Root$2, \"Tooltip.Root\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Trigger$2, \"Tooltip.Trigger\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `${validate_component(Button, \"Button\").$$render(\n                        $$result,\n                        {\n                          builders: [builder2],\n                          size: \"icon\",\n                          class: \"px-1.5 py-2 w-auto h-auto\",\n                          variant: \"ghost\"\n                        },\n                        {},\n                        {\n                          default: () => {\n                            return `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-arrow-up-narrow-wide\"><path d=\"m3 8 4-4 4 4\"></path><path d=\"M7 4v16\"></path><path d=\"M11 12h4\"></path><path d=\"M11 16h7\"></path><path d=\"M11 20h10\"></path></svg>`;\n                          }\n                        }\n                      )}`;\n                    }\n                  })} ${validate_component(Tooltip_content, \"Tooltip.Content\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `<p data-svelte-h=\"svelte-1czr6x\">Sort By</p>`;\n                    }\n                  })}`;\n                }\n              })}`;\n            }\n          })} ${validate_component(Dropdown_menu_content, \"DropdownMenu.Content\").$$render($$result, { class: \"w-52\" }, {}, {\n            default: () => {\n              return `${validate_component(Group, \"DropdownMenu.Group\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Dropdown_menu_item, \"DropdownMenu.Item\").$$render(\n                    $$result,\n                    {\n                      class: \"flex items-center justify-between\"\n                    },\n                    {},\n                    {\n                      default: () => {\n                        return `<span data-svelte-h=\"svelte-184uid8\">File name (A to Z)</span> ${$sortOrder === \"name_asc\" ? `${validate_component(Check$1, \"Check\").$$render($$result, { size: 18 }, {}, {})}` : ``}`;\n                      }\n                    }\n                  )} ${validate_component(Dropdown_menu_item, \"DropdownMenu.Item\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `<span data-svelte-h=\"svelte-14m5xq2\">File name (Z to A)</span> ${$sortOrder === \"name_desc\" ? `${validate_component(Check$1, \"Check\").$$render($$result, { size: 18 }, {}, {})}` : ``}`;\n                    }\n                  })}`;\n                }\n              })} ${validate_component(Dropdown_menu_separator, \"DropdownMenu.Separator\").$$render($$result, {}, {}, {})} ${validate_component(Group, \"DropdownMenu.Group\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Dropdown_menu_item, \"DropdownMenu.Item\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `<span data-svelte-h=\"svelte-1p43zu7\">Modified time (new to old)</span> ${$sortOrder === \"updated_at_asc\" ? `${validate_component(Check$1, \"Check\").$$render($$result, { size: 18 }, {}, {})}` : ``}`;\n                    }\n                  })} ${validate_component(Dropdown_menu_item, \"DropdownMenu.Item\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `<span data-svelte-h=\"svelte-16xd4jt\">Modified time (old to new)</span> ${$sortOrder === \"updated_at_desc\" ? `${validate_component(Check$1, \"Check\").$$render($$result, { size: 18 }, {}, {})}` : ``}`;\n                    }\n                  })}`;\n                }\n              })} ${validate_component(Dropdown_menu_separator, \"DropdownMenu.Separator\").$$render($$result, {}, {}, {})} ${validate_component(Group, \"DropdownMenu.Group\").$$render($$result, {}, {}, {\n                default: () => {\n                  return `${validate_component(Dropdown_menu_item, \"DropdownMenu.Item\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `<span data-svelte-h=\"svelte-ilf1jk\">Created time (new to old)</span> ${$sortOrder === \"created_at_asc\" ? `${validate_component(Check$1, \"Check\").$$render($$result, { size: 18 }, {}, {})}` : ``}`;\n                    }\n                  })} ${validate_component(Dropdown_menu_item, \"DropdownMenu.Item\").$$render($$result, {}, {}, {\n                    default: () => {\n                      return `<span data-svelte-h=\"svelte-obtjpa\">Created time (old to new)</span> ${$sortOrder === \"created_at_desc\" ? `${validate_component(Check$1, \"Check\").$$render($$result, { size: 18 }, {}, {})}` : ``}`;\n                    }\n                  })}`;\n                }\n              })}`;\n            }\n          })}`;\n        }\n      }\n    )}`;\n  } while (!$$settled);\n  $$unsubscribe_sortOrder();\n  return $$rendered;\n});\nconst Context_menu_item = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"inset\"]);\n  let { class: className = void 0 } = $$props;\n  let { inset = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.inset === void 0 && $$bindings.inset && inset !== void 0)\n    $$bindings.inset(inset);\n  return `${validate_component(ContextMenuItem, \"ContextMenuPrimitive.Item\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", inset && \"pl-8\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Context_menu_content = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\", \"transition\", \"transitionConfig\"]);\n  let { class: className = void 0 } = $$props;\n  let { transition = flyAndScale } = $$props;\n  let { transitionConfig = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  if ($$props.transition === void 0 && $$bindings.transition && transition !== void 0)\n    $$bindings.transition(transition);\n  if ($$props.transitionConfig === void 0 && $$bindings.transitionConfig && transitionConfig !== void 0)\n    $$bindings.transitionConfig(transitionConfig);\n  return `${validate_component(ContextMenuContent, \"ContextMenuPrimitive.Content\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      { transition },\n      { transitionConfig },\n      {\n        class: cn(\"z-50 min-w-[8rem] rounded-md border bg-popover p-1 text-popover-foreground shadow-md focus:outline-none\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {\n      default: () => {\n        return `${slots.default ? slots.default({}) : ``}`;\n      }\n    }\n  )}`;\n});\nconst Context_menu_separator = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"class\"]);\n  let { class: className = void 0 } = $$props;\n  if ($$props.class === void 0 && $$bindings.class && className !== void 0)\n    $$bindings.class(className);\n  return `${validate_component(ContextMenuSeparator, \"ContextMenuPrimitive.Separator\").$$render(\n    $$result,\n    Object.assign(\n      {},\n      {\n        class: cn(\"-mx-1 my-1 h-px bg-border\", className)\n      },\n      $$restProps\n    ),\n    {},\n    {}\n  )}`;\n});\nconst Root = ContextMenu;\nconst Trigger = ContextMenuTrigger;\nconst TreeView = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let active;\n  let $sortOrder, $$unsubscribe_sortOrder;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_sortOrder = subscribe(sortOrder, (value) => $sortOrder = value);\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { item } = $$props;\n  let { isRoot = false } = $$props;\n  if ($$props.item === void 0 && $$bindings.item && item !== void 0)\n    $$bindings.item(item);\n  if ($$props.isRoot === void 0 && $$bindings.isRoot && isRoot !== void 0)\n    $$bindings.isRoot(isRoot);\n  active = item.id === $page.params.itemId;\n  item.children?.sort((a, b) => {\n    if (a.type === \"folder\" && b.type === \"file\")\n      return -1;\n    if (a.type === \"file\" && b.type === \"folder\")\n      return 1;\n    if ($sortOrder === \"name_desc\")\n      return b.name.localeCompare(a.name);\n    else if ($sortOrder === \"created_at_asc\")\n      return a.createdAt.getTime() - b.createdAt.getTime();\n    else if ($sortOrder === \"created_at_desc\")\n      return b.createdAt.getTime() - a.createdAt.getTime();\n    else if ($sortOrder === \"updated_at_asc\")\n      return a.updatedAt.getTime() - b.updatedAt.getTime();\n    else if ($sortOrder === \"updated_at_desc\")\n      return b.updatedAt.getTime() - a.updatedAt.getTime();\n    return a.name.localeCompare(b.name);\n  }) ?? [];\n  $$unsubscribe_sortOrder();\n  $$unsubscribe_page();\n  return `<ul class=\"${\"m-0 list-none p-0 \" + escape(isRoot ? \"\" : \"pl-[1.2rem]\", true) + \" select-none text-sm text-neutral-300\"}\" style=\"margin-block-start: 0;\"><li class=\"mb-0.5\">  ${validate_component(Root, \"ContextMenu.Root\").$$render($$result, {}, {}, {\n    default: () => {\n      return `${validate_component(Trigger, \"ContextMenu.Trigger\").$$render($$result, {}, {}, {\n        default: () => {\n          return `${item.type === \"folder\" ? `<div class=\"flex items-center gap-2 px-2 py-1.5 rounded-md hover:cursor-pointer hover:bg-white/5\">${`${validate_component(ChevronRight$1, \"ChevronRight\").$$render($$result, { size: 16 }, {}, {})}`} ${escape(item.name)}</div>` : `<a class=\"${\"flex items-center gap-2 px-2 py-1 rounded-md hover:cursor-pointer \" + escape(active ? \"bg-white/5\" : \"hover:bg-white/5\", true)}\" href=\"${\"/\" + escape(item.id, true)}\"><div class=\"w-4 h-4\"></div> ${escape(item.name)}</a>`}`;\n        }\n      })} ${validate_component(Context_menu_content, \"ContextMenu.Content\").$$render($$result, {}, {}, {\n        default: () => {\n          return `${item.type === \"folder\" ? `<form method=\"POST\" action=\"/?/create-item\"><input type=\"hidden\" name=\"type\" value=\"file\"> <input type=\"hidden\" name=\"parentId\"${add_attribute(\"value\", item.id, 0)}> <button type=\"submit\" class=\"w-full\" ${\"\"}>${validate_component(Context_menu_item, \"ContextMenu.Item\").$$render($$result, { class: \"flex items-center gap-2\" }, {}, {\n            default: () => {\n              return `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-file-edit\"><path d=\"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5\"></path><polyline points=\"14 2 14 8 20 8\"></polyline><path d=\"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z\"></path></svg>\n\t\t\t\t\t\t\t\tNew note`;\n            }\n          })}</button></form> <form method=\"POST\" action=\"/?/create-item\"><input type=\"hidden\" name=\"type\" value=\"folder\"> <input type=\"hidden\" name=\"parentId\"${add_attribute(\"value\", item.id, 0)}> <button type=\"submit\" class=\"w-full\" ${\"\"}>${validate_component(Context_menu_item, \"ContextMenu.Item\").$$render($$result, { class: \"flex items-center gap-2\" }, {}, {\n            default: () => {\n              return `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-folder-plus\"><path d=\"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z\"></path><line x1=\"12\" x2=\"12\" y1=\"10\" y2=\"16\"></line><line x1=\"9\" x2=\"15\" y1=\"13\" y2=\"13\"></line></svg>\n\t\t\t\t\t\t\t\tNew folder`;\n            }\n          })}</button></form> ${validate_component(Context_menu_separator, \"ContextMenu.Separator\").$$render($$result, {}, {}, {})}` : ``} <button class=\"w-full\">${validate_component(Context_menu_item, \"ContextMenu.Item\").$$render($$result, { class: \"flex items-center gap-2\" }, {}, {\n            default: () => {\n              return `${validate_component(Pencil2$1, \"Pencil2\").$$render($$result, { size: 16 }, {}, {})}\n\t\t\t\t\t\tRename`;\n            }\n          })}</button> <button class=\"w-full\">${validate_component(Context_menu_item, \"ContextMenu.Item\").$$render(\n            $$result,\n            {\n              class: \"flex items-center gap-2 hover:!text-red-500\"\n            },\n            {},\n            {\n              default: () => {\n                return `${validate_component(Trash$1, \"Trash\").$$render($$result, { size: 18 }, {}, {})}\n\t\t\t\t\t\tDelete`;\n              }\n            }\n          )}</button>`;\n        }\n      })}`;\n    }\n  })} ${``}</li></ul>`;\n});\nconst Sidebar = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let sortedItems;\n  let $sortOrder, $$unsubscribe_sortOrder;\n  $$unsubscribe_sortOrder = subscribe(sortOrder, (value) => $sortOrder = value);\n  let { items } = $$props;\n  let sheetOpen = false;\n  afterNavigate(() => {\n    sheetOpen = false;\n    searchDialogOpen.set(false);\n  });\n  if ($$props.items === void 0 && $$bindings.items && items !== void 0)\n    $$bindings.items(items);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    sortedItems = items.sort((a, b) => {\n      if (a.type === \"folder\" && b.type === \"file\")\n        return -1;\n      if (a.type === \"file\" && b.type === \"folder\")\n        return 1;\n      if ($sortOrder === \"name_desc\")\n        return b.name.localeCompare(a.name);\n      else if ($sortOrder === \"created_at_asc\")\n        return a.createdAt.getTime() - b.createdAt.getTime();\n      else if ($sortOrder === \"created_at_desc\")\n        return b.createdAt.getTime() - a.createdAt.getTime();\n      else if ($sortOrder === \"updated_at_asc\")\n        return a.updatedAt.getTime() - b.updatedAt.getTime();\n      else if ($sortOrder === \"updated_at_desc\")\n        return b.updatedAt.getTime() - a.updatedAt.getTime();\n      return a.name.localeCompare(b.name);\n    });\n    $$rendered = `<aside class=\"w-72 bg-popover border-r border-r-[#313131] h-full fixed inset-0 hidden md:block\"><div class=\"w-full p-4 h-full flex flex-col overflow-y-scroll\"><div class=\"flex items-center justify-between\"><a href=\"/\" class=\"font-semibold text-xl text-white\" data-svelte-h=\"svelte-160a0a6\">Vault</a> <div class=\"flex items-center text-popover-foreground\">${validate_component(SidebarSearchButton, \"SidebarSearchButton\").$$render($$result, {}, {}, {})} ${validate_component(SidebarNewNoteButton, \"SidebarNewNoteButton\").$$render($$result, {}, {}, {})} ${validate_component(SidebarNewFolderButton, \"SidebarNewFolderButton\").$$render($$result, {}, {}, {})} ${validate_component(SidebarSortButton, \"SidebarSortButton\").$$render($$result, {}, {}, {})}</div></div> <div class=\"flex flex-col mt-4\">${each(sortedItems, (item) => {\n      return `${validate_component(TreeView, \"TreeView\").$$render($$result, { isRoot: true, item }, {}, {})}`;\n    })}</div></div></aside> <header class=\"md:hidden fixed top-0 left-0 w-screen h-12 px-4 flex items-center bg-popover justify-between\">${validate_component(Button, \"Button\").$$render($$result, { variant: \"ghost\", size: \"sm\" }, {}, {\n      default: () => {\n        return `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-menu\"><line x1=\"4\" x2=\"20\" y1=\"12\" y2=\"12\"></line><line x1=\"4\" x2=\"20\" y1=\"6\" y2=\"6\"></line><line x1=\"4\" x2=\"20\" y1=\"18\" y2=\"18\"></line></svg>`;\n      }\n    })} ${validate_component(Button, \"Button\").$$render($$result, { variant: \"ghost\", size: \"sm\" }, {}, {\n      default: () => {\n        return `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-search\"><circle cx=\"11\" cy=\"11\" r=\"8\"></circle><path d=\"m21 21-4.3-4.3\"></path></svg>`;\n      }\n    })}</header> ${validate_component(Root$3, \"Sheet.Root\").$$render(\n      $$result,\n      { open: sheetOpen },\n      {\n        open: ($$value) => {\n          sheetOpen = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(Sheet_content, \"Sheet.Content\").$$render(\n            $$result,\n            {\n              class: \"h-[80vh] py-6 px-0 md:hidden\",\n              side: \"bottom\"\n            },\n            {},\n            {\n              default: () => {\n                return `<div class=\"w-full h-full flex flex-col overflow-y-scroll px-2.5\"><div class=\"flex items-center justify-between\"><a href=\"/\" class=\"font-semibold text-xl text-white\" data-svelte-h=\"svelte-160a0a6\">Vault</a> <div class=\"flex items-center text-popover-foreground gap-2\">${validate_component(SidebarNewNoteButton, \"SidebarNewNoteButton\").$$render($$result, {}, {}, {})} ${validate_component(SidebarNewFolderButton, \"SidebarNewFolderButton\").$$render($$result, {}, {}, {})}</div></div> <div class=\"flex flex-col mt-4\">${each(sortedItems, (item) => {\n                  return `${validate_component(TreeView, \"TreeView\").$$render($$result, { isRoot: true, item }, {}, {})}`;\n                })}</div></div>`;\n              }\n            }\n          )}`;\n        }\n      }\n    )} ${validate_component(SearchCommand, \"SearchCommand\").$$render($$result, { items }, {}, {})} ${validate_component(DeleteItemAlertDialog, \"DeleteItemAlertDialog\").$$render($$result, {}, {}, {})} ${validate_component(RenameItemDialog, \"RenameItemDialog\").$$render($$result, {}, {}, {})} <form method=\"POST\" action=\"/?/delete-item\" class=\"hidden\" data-svelte-h=\"svelte-1oeqcww\"><input type=\"hidden\" name=\"itemId\" id=\"delete-item-id-input\"> <button type=\"submit\" id=\"delete-item-submit-button\"></button></form>`;\n  } while (!$$settled);\n  $$unsubscribe_sortOrder();\n  return $$rendered;\n});\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  return `${validate_component(Sidebar, \"Sidebar\").$$render($$result, { items: data.items }, {}, {})} <div class=\"md:ml-72 md:w-[calc(100vw-18rem)] md:mt-0 mt-12 w-screen h-full\">${slots.default ? slots.default({}) : ``}</div>`;\n});\nexport {\n  Layout as default\n};\n", "import * as server from '../entries/pages/(authed)/_layout.server.ts.js';\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(authed)/_layout.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(authed)/+layout.server.ts\";\nexport const imports = [\"_app/immutable/nodes/2.47e542c7.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/each.ed497e26.js\",\"_app/immutable/chunks/forms.74b24cae.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/singletons.844f0d64.js\",\"_app/immutable/chunks/index.6cb2aa35.js\",\"_app/immutable/chunks/navigation.2b543295.js\",\"_app/immutable/chunks/stores.7848577e.js\",\"_app/immutable/chunks/Toaster.svelte_svelte_type_style_lang.7ad7c14e.js\",\"_app/immutable/chunks/spread.8a54911c.js\",\"_app/immutable/chunks/search.65bc8b44.js\"];\nexport const stylesheets = [\"_app/immutable/assets/Toaster.37b6ac62.css\"];\nexport const fonts = [];\n", "function number(n: number) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nfunction bool(b: boolean) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nfunction bytes(b: Uint8Array | undefined, ...lengths: number[]) {\n  if (!(b instanceof Uint8Array)) throw new Error('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length))\n    throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\ntype Hash = {\n  (data: Uint8Array): Uint8Array;\n  blockLen: number;\n  outputLen: number;\n  create: any;\n};\nfunction hash(hash: Hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function')\n    throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nfunction exists(instance: any, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\nfunction output(out: any, instance: any) {\n  bytes(out);\n  const min = instance.outputLen;\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexport { number, bool, bytes, hash, exists, output };\n\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n", "const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n: bigint, le = false) {\n  if (le) return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n  return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\n\nfunction split(lst: bigint[], le = false) {\n  let Ah = new Uint32Array(lst.length);\n  let Al = new Uint32Array(lst.length);\n  for (let i = 0; i < lst.length; i++) {\n    const { h, l } = fromBig(lst[i], le);\n    [Ah[i], Al[i]] = [h, l];\n  }\n  return [Ah, Al];\n}\n\nconst toBig = (h: number, l: number) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\n// for Shift in [0, 32)\nconst shrSH = (h: number, _l: number, s: number) => h >>> s;\nconst shrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h: number, l: number, s: number) => (h >>> s) | (l << (32 - s));\nconst rotrSL = (h: number, l: number, s: number) => (h << (32 - s)) | (l >>> s);\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h: number, l: number, s: number) => (h << (64 - s)) | (l >>> (s - 32));\nconst rotrBL = (h: number, l: number, s: number) => (h >>> (s - 32)) | (l << (64 - s));\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h: number, l: number) => l;\nconst rotr32L = (h: number, _l: number) => h;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h: number, l: number, s: number) => (h << s) | (l >>> (32 - s));\nconst rotlSL = (h: number, l: number, s: number) => (l << s) | (h >>> (32 - s));\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h: number, l: number, s: number) => (l << (s - 32)) | (h >>> (64 - s));\nconst rotlBL = (h: number, l: number, s: number) => (h << (s - 32)) | (l >>> (64 - s));\n\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah: number, Al: number, Bh: number, Bl: number) {\n  const l = (Al >>> 0) + (Bl >>> 0);\n  return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al: number, Bl: number, Cl: number) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nconst add3H = (low: number, Ah: number, Bh: number, Ch: number) =>\n  (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nconst add4L = (Al: number, Bl: number, Cl: number, Dl: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nconst add4H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number) =>\n  (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nconst add5L = (Al: number, Bl: number, Cl: number, Dl: number, El: number) =>\n  (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nconst add5H = (low: number, Ah: number, Bh: number, Ch: number, Dh: number, Eh: number) =>\n  (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\n\n// prettier-ignore\nexport {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\n// prettier-ignore\nconst u64 = {\n  fromBig, split, toBig,\n  shrSH, shrSL,\n  rotrSH, rotrSL, rotrBH, rotrBL,\n  rotr32H, rotr32L,\n  rotlSH, rotlSL, rotlBH, rotlBL,\n  add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexport default u64;\n", "// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// See utils.ts for details.\ndeclare const globalThis: Record<string, any> | undefined;\nexport const crypto =\n  typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n", "/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n\n// prettier-ignore\nexport type TypedArray = Int8Array | Uint8ClampedArray | Uint8Array |\n  Uint16Array | Int16Array | Uint32Array | Int32Array;\n\nconst u8a = (a: any): a is Uint8Array => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr: TypedArray) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr: TypedArray) =>\n  new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n\n// Cast array to view\nexport const createView = (arr: TypedArray) =>\n  new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word: number, shift: number) => (word << (32 - shift)) | (word >>> shift);\n\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE) throw new Error('Non little-endian hardware is not supported');\n\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) =>\n  i.toString(16).padStart(2, '0')\n);\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes: Uint8Array): string {\n  if (!u8a(bytes)) throw new Error('Uint8Array expected');\n  // pre-caching improves the speed 6x\n  let hex = '';\n  for (let i = 0; i < bytes.length; i++) {\n    hex += hexes[bytes[i]];\n  }\n  return hex;\n}\n\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex: string): Uint8Array {\n  if (typeof hex !== 'string') throw new Error('hex string expected, got ' + typeof hex);\n  const len = hex.length;\n  if (len % 2) throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n  const array = new Uint8Array(len / 2);\n  for (let i = 0; i < array.length; i++) {\n    const j = i * 2;\n    const hexByte = hex.slice(j, j + 2);\n    const byte = Number.parseInt(hexByte, 16);\n    if (Number.isNaN(byte) || byte < 0) throw new Error('Invalid byte sequence');\n    array[i] = byte;\n  }\n  return array;\n}\n\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => {};\n\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters: number, tick: number, cb: (i: number) => void) {\n  let ts = Date.now();\n  for (let i = 0; i < iters; i++) {\n    cb(i);\n    // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n    const diff = Date.now() - ts;\n    if (diff >= 0 && diff < tick) continue;\n    await nextTick();\n    ts += diff;\n  }\n}\n\n// Global symbols in both browsers and Node.js since v11\n// See https://github.com/microsoft/TypeScript/issues/31535\ndeclare const TextEncoder: any;\n\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str: string): Uint8Array {\n  if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n  return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n\nexport type Input = Uint8Array | string;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data: Input): Uint8Array {\n  if (typeof data === 'string') data = utf8ToBytes(data);\n  if (!u8a(data)) throw new Error(`expected Uint8Array, got ${typeof data}`);\n  return data;\n}\n\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays: Uint8Array[]): Uint8Array {\n  const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n  let pad = 0; // walk through each item, ensure they have proper type\n  arrays.forEach((a) => {\n    if (!u8a(a)) throw new Error('Uint8Array expected');\n    r.set(a, pad);\n    pad += a.length;\n  });\n  return r;\n}\n\n// For runtime check if class implements interface\nexport abstract class Hash<T extends Hash<T>> {\n  abstract blockLen: number; // Bytes per block\n  abstract outputLen: number; // Bytes in output\n  abstract update(buf: Input): this;\n  // Writes digest into buf\n  abstract digestInto(buf: Uint8Array): void;\n  abstract digest(): Uint8Array;\n  /**\n   * Resets internal state. Makes Hash instance unusable.\n   * Reset is impossible for keyed hashes if key is consumed into state. If digest is not consumed\n   * by user, they will need to manually call `destroy()` when zeroing is necessary.\n   */\n  abstract destroy(): void;\n  /**\n   * Clones hash instance. Unsafe: doesn't check whether `to` is valid. Can be used as `clone()`\n   * when no options are passed.\n   * Reasons to use `_cloneInto` instead of clone: 1) performance 2) reuse instance => all internal\n   * buffers are overwritten => causes buffer overwrite which is used for digest in some cases.\n   * There are no guarantees for clean-up because it's impossible in JS.\n   */\n  abstract _cloneInto(to?: T): T;\n  // Safe version that clones internal state\n  clone(): T {\n    return this._cloneInto();\n  }\n}\n\n/**\n * XOF: streaming API to read digest in chunks.\n * Same as 'squeeze' in keccak/k12 and 'seek' in blake3, but more generic name.\n * When hash used in XOF mode it is up to user to call '.destroy' afterwards, since we cannot\n * destroy state, next call can require more bytes.\n */\nexport type HashXOF<T extends Hash<T>> = Hash<T> & {\n  xof(bytes: number): Uint8Array; // Read 'bytes' bytes from digest stream\n  xofInto(buf: Uint8Array): Uint8Array; // read buf.length bytes from digest stream into buf\n};\n\nconst toStr = {}.toString;\ntype EmptyObj = {};\nexport function checkOpts<T1 extends EmptyObj, T2 extends EmptyObj>(\n  defaults: T1,\n  opts?: T2\n): T1 & T2 {\n  if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n    throw new Error('Options should be object or undefined');\n  const merged = Object.assign(defaults, opts);\n  return merged as T1 & T2;\n}\n\nexport type CHash = ReturnType<typeof wrapConstructor>;\n\nexport function wrapConstructor<T extends Hash<T>>(hashCons: () => Hash<T>) {\n  const hashC = (msg: Input): Uint8Array => hashCons().update(toBytes(msg)).digest();\n  const tmp = hashCons();\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = () => hashCons();\n  return hashC;\n}\n\nexport function wrapConstructorWithOpts<H extends Hash<H>, T extends Object>(\n  hashCons: (opts?: T) => Hash<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\nexport function wrapXOFConstructorWithOpts<H extends HashXOF<H>, T extends Object>(\n  hashCons: (opts?: T) => HashXOF<H>\n) {\n  const hashC = (msg: Input, opts?: T): Uint8Array => hashCons(opts).update(toBytes(msg)).digest();\n  const tmp = hashCons({} as T);\n  hashC.outputLen = tmp.outputLen;\n  hashC.blockLen = tmp.blockLen;\n  hashC.create = (opts: T) => hashCons(opts);\n  return hashC;\n}\n\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32): Uint8Array {\n  if (crypto && typeof crypto.getRandomValues === 'function') {\n    return crypto.getRandomValues(new Uint8Array(bytesLength));\n  }\n  throw new Error('crypto.getRandomValues must be defined');\n}\n", "import { bytes, exists, number, output } from './_assert.js';\nimport { rotlBH, rotlBL, rotlSH, rotlSL, split } from './_u64.js';\nimport {\n  Hash,\n  u32,\n  Input,\n  toBytes,\n  wrapConstructor,\n  wrapXOFConstructorWithOpts,\n  HashXOF,\n} from './utils.js';\n\n// SHA3 (keccak) is based on a new design: basically, the internal state is bigger than output size.\n// It's called a sponge function.\n\n// Various per round constants calculations\nconst [SHA3_PI, SHA3_ROTL, _SHA3_IOTA]: [number[], number[], bigint[]] = [[], [], []];\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nconst _7n = /* @__PURE__ */ BigInt(7);\nconst _256n = /* @__PURE__ */ BigInt(256);\nconst _0x71n = /* @__PURE__ */ BigInt(0x71);\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n  // Pi\n  [x, y] = [y, (2 * x + 3 * y) % 5];\n  SHA3_PI.push(2 * (5 * y + x));\n  // Rotational\n  SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n  // Iota\n  let t = _0n;\n  for (let j = 0; j < 7; j++) {\n    R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n    if (R & _2n) t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);\n  }\n  _SHA3_IOTA.push(t);\n}\nconst [SHA3_IOTA_H, SHA3_IOTA_L] = /* @__PURE__ */ split(_SHA3_IOTA, true);\n\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h: number, l: number, s: number) => (s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s));\nconst rotlL = (h: number, l: number, s: number) => (s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s));\n\n// Same as keccakf1600, but allows to skip some rounds\nexport function keccakP(s: Uint32Array, rounds: number = 24) {\n  const B = new Uint32Array(5 * 2);\n  // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n  for (let round = 24 - rounds; round < 24; round++) {\n    // Theta \u03B8\n    for (let x = 0; x < 10; x++) B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n    for (let x = 0; x < 10; x += 2) {\n      const idx1 = (x + 8) % 10;\n      const idx0 = (x + 2) % 10;\n      const B0 = B[idx0];\n      const B1 = B[idx0 + 1];\n      const Th = rotlH(B0, B1, 1) ^ B[idx1];\n      const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n      for (let y = 0; y < 50; y += 10) {\n        s[x + y] ^= Th;\n        s[x + y + 1] ^= Tl;\n      }\n    }\n    // Rho (\u03C1) and Pi (\u03C0)\n    let curH = s[2];\n    let curL = s[3];\n    for (let t = 0; t < 24; t++) {\n      const shift = SHA3_ROTL[t];\n      const Th = rotlH(curH, curL, shift);\n      const Tl = rotlL(curH, curL, shift);\n      const PI = SHA3_PI[t];\n      curH = s[PI];\n      curL = s[PI + 1];\n      s[PI] = Th;\n      s[PI + 1] = Tl;\n    }\n    // Chi (\u03C7)\n    for (let y = 0; y < 50; y += 10) {\n      for (let x = 0; x < 10; x++) B[x] = s[y + x];\n      for (let x = 0; x < 10; x++) s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n    }\n    // Iota (\u03B9)\n    s[0] ^= SHA3_IOTA_H[round];\n    s[1] ^= SHA3_IOTA_L[round];\n  }\n  B.fill(0);\n}\n\nexport class Keccak extends Hash<Keccak> implements HashXOF<Keccak> {\n  protected state: Uint8Array;\n  protected pos = 0;\n  protected posOut = 0;\n  protected finished = false;\n  protected state32: Uint32Array;\n  protected destroyed = false;\n  // NOTE: we accept arguments in bytes instead of bits here.\n  constructor(\n    public blockLen: number,\n    public suffix: number,\n    public outputLen: number,\n    protected enableXOF = false,\n    protected rounds: number = 24\n  ) {\n    super();\n    // Can be passed from user as dkLen\n    number(outputLen);\n    // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n    if (0 >= this.blockLen || this.blockLen >= 200)\n      throw new Error('Sha3 supports only keccak-f1600 function');\n    this.state = new Uint8Array(200);\n    this.state32 = u32(this.state);\n  }\n  protected keccak() {\n    keccakP(this.state32, this.rounds);\n    this.posOut = 0;\n    this.pos = 0;\n  }\n  update(data: Input) {\n    exists(this);\n    const { blockLen, state } = this;\n    data = toBytes(data);\n    const len = data.length;\n    for (let pos = 0; pos < len; ) {\n      const take = Math.min(blockLen - this.pos, len - pos);\n      for (let i = 0; i < take; i++) state[this.pos++] ^= data[pos++];\n      if (this.pos === blockLen) this.keccak();\n    }\n    return this;\n  }\n  protected finish() {\n    if (this.finished) return;\n    this.finished = true;\n    const { state, suffix, pos, blockLen } = this;\n    // Do the padding\n    state[pos] ^= suffix;\n    if ((suffix & 0x80) !== 0 && pos === blockLen - 1) this.keccak();\n    state[blockLen - 1] ^= 0x80;\n    this.keccak();\n  }\n  protected writeInto(out: Uint8Array): Uint8Array {\n    exists(this, false);\n    bytes(out);\n    this.finish();\n    const bufferOut = this.state;\n    const { blockLen } = this;\n    for (let pos = 0, len = out.length; pos < len; ) {\n      if (this.posOut >= blockLen) this.keccak();\n      const take = Math.min(blockLen - this.posOut, len - pos);\n      out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n      this.posOut += take;\n      pos += take;\n    }\n    return out;\n  }\n  xofInto(out: Uint8Array): Uint8Array {\n    // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n    if (!this.enableXOF) throw new Error('XOF is not possible for this instance');\n    return this.writeInto(out);\n  }\n  xof(bytes: number): Uint8Array {\n    number(bytes);\n    return this.xofInto(new Uint8Array(bytes));\n  }\n  digestInto(out: Uint8Array) {\n    output(out, this);\n    if (this.finished) throw new Error('digest() was already called');\n    this.writeInto(out);\n    this.destroy();\n    return out;\n  }\n  digest() {\n    return this.digestInto(new Uint8Array(this.outputLen));\n  }\n  destroy() {\n    this.destroyed = true;\n    this.state.fill(0);\n  }\n  _cloneInto(to?: Keccak): Keccak {\n    const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n    to ||= new Keccak(blockLen, suffix, outputLen, enableXOF, rounds);\n    to.state32.set(this.state32);\n    to.pos = this.pos;\n    to.posOut = this.posOut;\n    to.finished = this.finished;\n    to.rounds = rounds;\n    // Suffix can change in cSHAKE\n    to.suffix = suffix;\n    to.outputLen = outputLen;\n    to.enableXOF = enableXOF;\n    to.destroyed = this.destroyed;\n    return to;\n  }\n}\n\nconst gen = (suffix: number, blockLen: number, outputLen: number) =>\n  wrapConstructor(() => new Keccak(blockLen, suffix, outputLen));\n\nexport const sha3_224 = /* @__PURE__ */ gen(0x06, 144, 224 / 8);\n/**\n * SHA3-256 hash function\n * @param message - that would be hashed\n */\nexport const sha3_256 = /* @__PURE__ */ gen(0x06, 136, 256 / 8);\nexport const sha3_384 = /* @__PURE__ */ gen(0x06, 104, 384 / 8);\nexport const sha3_512 = /* @__PURE__ */ gen(0x06, 72, 512 / 8);\nexport const keccak_224 = /* @__PURE__ */ gen(0x01, 144, 224 / 8);\n/**\n * keccak-256 hash function. Different from SHA3-256.\n * @param message - that would be hashed\n */\nexport const keccak_256 = /* @__PURE__ */ gen(0x01, 136, 256 / 8);\nexport const keccak_384 = /* @__PURE__ */ gen(0x01, 104, 384 / 8);\nexport const keccak_512 = /* @__PURE__ */ gen(0x01, 72, 512 / 8);\n\nexport type ShakeOpts = { dkLen?: number };\n\nconst genShake = (suffix: number, blockLen: number, outputLen: number) =>\n  wrapXOFConstructorWithOpts<HashXOF<Keccak>, ShakeOpts>(\n    (opts: ShakeOpts = {}) =>\n      new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true)\n  );\n\nexport const shake128 = /* @__PURE__ */ genShake(0x1f, 168, 128 / 8);\nexport const shake256 = /* @__PURE__ */ genShake(0x1f, 136, 256 / 8);\n", "/* global global, window, module */\nconst { sha3_512: sha3 } = require(\"@noble/hashes/sha3\");\n\nconst defaultLength = 24;\nconst bigLength = 32;\n\nconst createEntropy = (length = 4, random = Math.random) => {\n  let entropy = \"\";\n\n  while (entropy.length < length) {\n    entropy = entropy + Math.floor(random() * 36).toString(36);\n  }\n  return entropy;\n};\n\n/*\n * Adapted from https://github.com/juanelas/bigint-conversion\n * MIT License Copyright (c) 2018 Juan Hern\u00E1ndez Serrano\n */\nfunction bufToBigInt(buf) {\n  let bits = 8n;\n\n  let value = 0n;\n  for (const i of buf.values()) {\n    const bi = BigInt(i);\n    value = (value << bits) + bi;\n  }\n  return value;\n}\n\nconst hash = (input = \"\") => {\n  // Drop the first character because it will bias the histogram\n  // to the left.\n  return bufToBigInt(sha3(input)).toString(36).slice(1);\n};\n\nconst alphabet = Array.from({ length: 26 }, (x, i) =>\n  String.fromCharCode(i + 97)\n);\n\nconst randomLetter = (random) =>\n  alphabet[Math.floor(random() * alphabet.length)];\n\n/*\nThis is a fingerprint of the host environment. It is used to help\nprevent collisions when generating ids in a distributed system.\nIf no global object is available, you can pass in your own, or fall back\non a random string.\n*/\nconst createFingerprint = ({\n  globalObj = typeof global !== \"undefined\"\n    ? global\n    : typeof window !== \"undefined\"\n    ? window\n    : {},\n  random = Math.random,\n} = {}) => {\n  const globals = Object.keys(globalObj).toString();\n  const sourceString = globals.length\n    ? globals + createEntropy(bigLength, random)\n    : createEntropy(bigLength, random);\n\n  return hash(sourceString).substring(0, bigLength);\n};\n\nconst createCounter = (count) => () => {\n  return count++;\n};\n\n// ~22k hosts before 50% chance of initial counter collision\n// with a remaining counter range of 9.0e+15 in JavaScript.\nconst initialCountMax = 476782367;\n\nconst init = ({\n  // Fallback if the user does not pass in a CSPRNG. This should be OK\n  // because we don't rely solely on the random number generator for entropy.\n  // We also use the host fingerprint, current time, and a session counter.\n  random = Math.random,\n  counter = createCounter(Math.floor(random() * initialCountMax)),\n  length = defaultLength,\n  fingerprint = createFingerprint({ random }),\n} = {}) => {\n  return function cuid2() {\n    const firstLetter = randomLetter(random);\n\n    // If we're lucky, the `.toString(36)` calls may reduce hashing rounds\n    // by shortening the input to the hash function a little.\n    const time = Date.now().toString(36);\n    const count = counter().toString(36);\n\n    // The salt should be long enough to be globally unique across the full\n    // length of the hash. For simplicity, we use the same length as the\n    // intended id output.\n    const salt = createEntropy(length, random);\n    const hashInput = `${time + salt + count + fingerprint}`;\n\n    return `${firstLetter + hash(hashInput).substring(1, length)}`;\n  };\n};\n\nconst createId = init();\n\nconst isCuid = (id, { minLength = 2, maxLength = bigLength } = {}) => {\n  const length = id.length;\n  const regex = /^[0-9a-z]+$/;\n\n  try {\n    if (\n      typeof id === \"string\" &&\n      length >= minLength &&\n      length <= maxLength &&\n      regex.test(id)\n    )\n      return true;\n  } finally {\n  }\n\n  return false;\n};\n\nmodule.exports.getConstants = () => ({ defaultLength, bigLength });\nmodule.exports.init = init;\nmodule.exports.createId = createId;\nmodule.exports.bufToBigInt = bufToBigInt;\nmodule.exports.createCounter = createCounter;\nmodule.exports.createFingerprint = createFingerprint;\nmodule.exports.isCuid = isCuid;\n", "const { createId, init, getConstants, isCuid } = require(\"./src/index\");\n\nmodule.exports.createId = createId;\nmodule.exports.init = init;\nmodule.exports.getConstants = getConstants;\nmodule.exports.isCuid = isCuid;\n", "var util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    get errors() {\n        return this.issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: issueData.message || errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap,\n            ctx.schemaErrorMap,\n            getErrorMap(),\n            errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            syncPairs.push({\n                key: await pair.key,\n                value: await pair.value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        if (typeof ctx.data === \"undefined\") {\n            return { message: required_error !== null && required_error !== void 0 ? required_error : ctx.defaultError };\n        }\n        return { message: invalid_type_error !== null && invalid_type_error !== void 0 ? invalid_type_error : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n    }\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this, this._def);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[a-z][a-z0-9]*$/;\nconst ulidRegex = /[0-9A-HJKMNP-TV-Z]{26}/;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^([A-Z0-9_+-]+\\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst emojiRegex = /^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$/u;\nconst ipv4Regex = /^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/;\nconst ipv6Regex = /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\n// Adapted from https://stackoverflow.com/a/3143231\nconst datetimeRegex = (args) => {\n    if (args.precision) {\n        if (args.offset) {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${args.precision}}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        }\n        else {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${args.precision}}Z$`);\n        }\n    }\n    else if (args.precision === 0) {\n        if (args.offset) {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        }\n        else {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$`);\n        }\n    }\n    else {\n        if (args.offset) {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        }\n        else {\n            return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$`);\n        }\n    }\n};\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._regex = (regex, validation, message) => this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n        /**\n         * @deprecated Use z.string().min(1) instead.\n         * @see {@link ZodString.min}\n         */\n        this.nonempty = (message) => this.min(1, errorUtil.errToObj(message));\n        this.trim = () => new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n        this.toLowerCase = () => new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n        this.toUpperCase = () => new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            }\n            //\n            );\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = BigInt(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.bigint,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    syncPairs.push({\n                        key,\n                        value: await pair.value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return Object.keys(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else {\n        return null;\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (this._def.values.indexOf(input.data) === -1) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values) {\n        return ZodEnum.create(values);\n    }\n    exclude(values) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)));\n    }\n}\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (nativeEnumValues.indexOf(input.data) === -1) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.issues.length) {\n                return {\n                    status: \"dirty\",\n                    value: ctx.data,\n                };\n            }\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then((processed) => {\n                    return this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                });\n            }\n            else {\n                return this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc\n            // effect: RefinementEffect<any>\n            ) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        if (isValid(result)) {\n            result.value = Object.freeze(result.value);\n        }\n        return result;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\nconst custom = (check, params = {}, \n/*\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) => {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            if (!check(data)) {\n                const p = typeof params === \"function\"\n                    ? params(data)\n                    : typeof params === \"string\"\n                        ? { message: params }\n                        : params;\n                const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                const p2 = typeof p === \"string\" ? { message: p } : p;\n                ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n            }\n        });\n    return ZodAny.create();\n};\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\nexport { BRAND, DIRTY, EMPTY_PATH, INVALID, NEVER, OK, ParseStatus, ZodType as Schema, ZodAny, ZodArray, ZodBigInt, ZodBoolean, ZodBranded, ZodCatch, ZodDate, ZodDefault, ZodDiscriminatedUnion, ZodEffects, ZodEnum, ZodError, ZodFirstPartyTypeKind, ZodFunction, ZodIntersection, ZodIssueCode, ZodLazy, ZodLiteral, ZodMap, ZodNaN, ZodNativeEnum, ZodNever, ZodNull, ZodNullable, ZodNumber, ZodObject, ZodOptional, ZodParsedType, ZodPipeline, ZodPromise, ZodReadonly, ZodRecord, ZodType as ZodSchema, ZodSet, ZodString, ZodSymbol, ZodEffects as ZodTransformer, ZodTuple, ZodType, ZodUndefined, ZodUnion, ZodUnknown, ZodVoid, addIssueToContext, anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, coerce, custom, dateType as date, z as default, errorMap as defaultErrorMap, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, getErrorMap, getParsedType, instanceOfType as instanceof, intersectionType as intersection, isAborted, isAsync, isDirty, isValid, late, lazyType as lazy, literalType as literal, makeIssue, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, objectUtil, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, quotelessJson, recordType as record, setType as set, setErrorMap, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, util, voidType as void, z };\n", "import { d as db, i as itemsTable, f as filesTable } from \"../../../chunks/index3.js\";\nimport { createId } from \"@paralleldrive/cuid2\";\nimport { e as error } from \"../../../chunks/index.js\";\nimport { and, eq, inArray } from \"drizzle-orm\";\nimport { z } from \"zod\";\nconst createItemSchema = z.object({\n  type: z.enum([\"file\", \"folder\"]),\n  parentId: z.string().optional()\n});\nconst deleteItemSchema = z.object({\n  itemId: z.string().min(1)\n});\nconst actions = {\n  \"create-item\": async ({ locals, request }) => {\n    const session = await locals.auth.validate();\n    if (!session)\n      throw error(401, \"Unauthorized\");\n    const userId = session.user.userId;\n    const body = Object.fromEntries(await request.formData());\n    const parsedBody = createItemSchema.safeParse(body);\n    if (!parsedBody.success) {\n      throw error(400, parsedBody.error.message);\n    }\n    const itemId = createId();\n    await db.insert(itemsTable).values({\n      id: itemId,\n      type: parsedBody.data.type,\n      userId,\n      parentId: parsedBody.data.parentId,\n      name: parsedBody.data.type === \"folder\" ? \"Untitled Folder\" : \"Untitled Note\"\n    });\n    return {\n      itemId\n    };\n  },\n  \"delete-item\": async ({ locals, request }) => {\n    const session = await locals.auth.validate();\n    if (!session)\n      throw error(401, \"Unauthorized\");\n    const userId = session.user.userId;\n    const body = Object.fromEntries(await request.formData());\n    const parsedBody = deleteItemSchema.safeParse(body);\n    if (!parsedBody.success) {\n      throw error(400, parsedBody.error.message);\n    }\n    const items = await db.query.itemsTable.findMany({\n      where: (table, { eq: eq2 }) => eq2(table.userId, userId)\n    });\n    const item = items.find((item2) => item2.id === parsedBody.data.itemId);\n    if (!item)\n      throw error(400, \"Item does not exist\");\n    if (item.type === \"file\")\n      await Promise.all([\n        db.delete(itemsTable).where(and(eq(itemsTable.id, parsedBody.data.itemId), eq(itemsTable.userId, userId))),\n        db.delete(filesTable).where(eq(filesTable.itemId, parsedBody.data.itemId))\n      ]);\n    else {\n      const childrenIds = getChildrenIdsFromRootId(items, parsedBody.data.itemId);\n      await Promise.all([\n        db.delete(itemsTable).where(and(inArray(itemsTable.id, childrenIds), eq(itemsTable.userId, userId))),\n        db.delete(filesTable).where(inArray(filesTable.itemId, childrenIds))\n      ]);\n    }\n  }\n};\nfunction getChildrenIdsFromRootId(items, rootId) {\n  const childrenIds = [rootId];\n  let added = 1;\n  while (added > 0) {\n    added = 0;\n    for (const item of items) {\n      if (item.parentId && childrenIds.includes(item.parentId) && !childrenIds.includes(item.id)) {\n        childrenIds.push(item.id);\n        added++;\n      }\n    }\n  }\n  return childrenIds;\n}\nexport {\n  actions\n};\n", "import { c as create_ssr_component } from \"../../../chunks/ssr.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<div class=\"w-full h-screen flex items-center justify-center flex-col gap-5\"><h2 class=\"font-bold\" data-svelte-h=\"svelte-1tb4jtj\">No File is Open</h2> <div class=\"flex flex-col gap-2 items-center text-purple-400\"><button data-svelte-h=\"svelte-1s9jr7d\">Create new file (Ctrl + J)</button> <button data-svelte-h=\"svelte-jg5bek\">Search Files (Ctrl + O)</button></div></div> ${$$result.head += `<!-- HEAD_svelte-1fbok04_START -->${$$result.title = `<title>Vault</title>`, \"\"}<!-- HEAD_svelte-1fbok04_END -->`, \"\"}`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/(authed)/_page.server.ts.js';\n\nexport const index = 3;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(authed)/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(authed)/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/3.784b143d.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/search.65bc8b44.js\",\"_app/immutable/chunks/index.6cb2aa35.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { d as db } from \"../../../../chunks/index3.js\";\nimport { r as redirect } from \"../../../../chunks/index.js\";\nconst load = async ({ locals, params }) => {\n  if (!params.itemId)\n    throw redirect(302, \"/\");\n  const session = await locals.auth.validate();\n  if (!session)\n    throw redirect(302, \"/signin\");\n  const note = await db.query.itemsTable.findFirst({\n    where: (table, { eq, and }) => and(eq(table.userId, session.user.userId), eq(table.id, params.itemId)),\n    with: {\n      file: true\n    }\n  });\n  if (!note)\n    throw redirect(302, \"/\");\n  return {\n    note\n  };\n};\nexport {\n  load\n};\n", "import OrderedMap from 'orderedmap';\n\nfunction findDiffStart(a, b, pos) {\n    for (let i = 0;; i++) {\n        if (i == a.childCount || i == b.childCount)\n            return a.childCount == b.childCount ? null : pos;\n        let childA = a.child(i), childB = b.child(i);\n        if (childA == childB) {\n            pos += childA.nodeSize;\n            continue;\n        }\n        if (!childA.sameMarkup(childB))\n            return pos;\n        if (childA.isText && childA.text != childB.text) {\n            for (let j = 0; childA.text[j] == childB.text[j]; j++)\n                pos++;\n            return pos;\n        }\n        if (childA.content.size || childB.content.size) {\n            let inner = findDiffStart(childA.content, childB.content, pos + 1);\n            if (inner != null)\n                return inner;\n        }\n        pos += childA.nodeSize;\n    }\n}\nfunction findDiffEnd(a, b, posA, posB) {\n    for (let iA = a.childCount, iB = b.childCount;;) {\n        if (iA == 0 || iB == 0)\n            return iA == iB ? null : { a: posA, b: posB };\n        let childA = a.child(--iA), childB = b.child(--iB), size = childA.nodeSize;\n        if (childA == childB) {\n            posA -= size;\n            posB -= size;\n            continue;\n        }\n        if (!childA.sameMarkup(childB))\n            return { a: posA, b: posB };\n        if (childA.isText && childA.text != childB.text) {\n            let same = 0, minSize = Math.min(childA.text.length, childB.text.length);\n            while (same < minSize && childA.text[childA.text.length - same - 1] == childB.text[childB.text.length - same - 1]) {\n                same++;\n                posA--;\n                posB--;\n            }\n            return { a: posA, b: posB };\n        }\n        if (childA.content.size || childB.content.size) {\n            let inner = findDiffEnd(childA.content, childB.content, posA - 1, posB - 1);\n            if (inner)\n                return inner;\n        }\n        posA -= size;\n        posB -= size;\n    }\n}\n\n/**\nA fragment represents a node's collection of child nodes.\n\nLike nodes, fragments are persistent data structures, and you\nshould not mutate them or their content. Rather, you create new\ninstances whenever needed. The API tries to make this easy.\n*/\nclass Fragment {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    content, size) {\n        this.content = content;\n        this.size = size || 0;\n        if (size == null)\n            for (let i = 0; i < content.length; i++)\n                this.size += content[i].nodeSize;\n    }\n    /**\n    Invoke a callback for all descendant nodes between the given two\n    positions (relative to start of this fragment). Doesn't descend\n    into a node when the callback returns `false`.\n    */\n    nodesBetween(from, to, f, nodeStart = 0, parent) {\n        for (let i = 0, pos = 0; pos < to; i++) {\n            let child = this.content[i], end = pos + child.nodeSize;\n            if (end > from && f(child, nodeStart + pos, parent || null, i) !== false && child.content.size) {\n                let start = pos + 1;\n                child.nodesBetween(Math.max(0, from - start), Math.min(child.content.size, to - start), f, nodeStart + start);\n            }\n            pos = end;\n        }\n    }\n    /**\n    Call the given callback for every descendant node. `pos` will be\n    relative to the start of the fragment. The callback may return\n    `false` to prevent traversal of a given node's children.\n    */\n    descendants(f) {\n        this.nodesBetween(0, this.size, f);\n    }\n    /**\n    Extract the text between `from` and `to`. See the same method on\n    [`Node`](https://prosemirror.net/docs/ref/#model.Node.textBetween).\n    */\n    textBetween(from, to, blockSeparator, leafText) {\n        let text = \"\", separated = true;\n        this.nodesBetween(from, to, (node, pos) => {\n            if (node.isText) {\n                text += node.text.slice(Math.max(from, pos) - pos, to - pos);\n                separated = !blockSeparator;\n            }\n            else if (node.isLeaf) {\n                if (leafText) {\n                    text += typeof leafText === \"function\" ? leafText(node) : leafText;\n                }\n                else if (node.type.spec.leafText) {\n                    text += node.type.spec.leafText(node);\n                }\n                separated = !blockSeparator;\n            }\n            else if (!separated && node.isBlock) {\n                text += blockSeparator;\n                separated = true;\n            }\n        }, 0);\n        return text;\n    }\n    /**\n    Create a new fragment containing the combined content of this\n    fragment and the other.\n    */\n    append(other) {\n        if (!other.size)\n            return this;\n        if (!this.size)\n            return other;\n        let last = this.lastChild, first = other.firstChild, content = this.content.slice(), i = 0;\n        if (last.isText && last.sameMarkup(first)) {\n            content[content.length - 1] = last.withText(last.text + first.text);\n            i = 1;\n        }\n        for (; i < other.content.length; i++)\n            content.push(other.content[i]);\n        return new Fragment(content, this.size + other.size);\n    }\n    /**\n    Cut out the sub-fragment between the two given positions.\n    */\n    cut(from, to = this.size) {\n        if (from == 0 && to == this.size)\n            return this;\n        let result = [], size = 0;\n        if (to > from)\n            for (let i = 0, pos = 0; pos < to; i++) {\n                let child = this.content[i], end = pos + child.nodeSize;\n                if (end > from) {\n                    if (pos < from || end > to) {\n                        if (child.isText)\n                            child = child.cut(Math.max(0, from - pos), Math.min(child.text.length, to - pos));\n                        else\n                            child = child.cut(Math.max(0, from - pos - 1), Math.min(child.content.size, to - pos - 1));\n                    }\n                    result.push(child);\n                    size += child.nodeSize;\n                }\n                pos = end;\n            }\n        return new Fragment(result, size);\n    }\n    /**\n    @internal\n    */\n    cutByIndex(from, to) {\n        if (from == to)\n            return Fragment.empty;\n        if (from == 0 && to == this.content.length)\n            return this;\n        return new Fragment(this.content.slice(from, to));\n    }\n    /**\n    Create a new fragment in which the node at the given index is\n    replaced by the given node.\n    */\n    replaceChild(index, node) {\n        let current = this.content[index];\n        if (current == node)\n            return this;\n        let copy = this.content.slice();\n        let size = this.size + node.nodeSize - current.nodeSize;\n        copy[index] = node;\n        return new Fragment(copy, size);\n    }\n    /**\n    Create a new fragment by prepending the given node to this\n    fragment.\n    */\n    addToStart(node) {\n        return new Fragment([node].concat(this.content), this.size + node.nodeSize);\n    }\n    /**\n    Create a new fragment by appending the given node to this\n    fragment.\n    */\n    addToEnd(node) {\n        return new Fragment(this.content.concat(node), this.size + node.nodeSize);\n    }\n    /**\n    Compare this fragment to another one.\n    */\n    eq(other) {\n        if (this.content.length != other.content.length)\n            return false;\n        for (let i = 0; i < this.content.length; i++)\n            if (!this.content[i].eq(other.content[i]))\n                return false;\n        return true;\n    }\n    /**\n    The first child of the fragment, or `null` if it is empty.\n    */\n    get firstChild() { return this.content.length ? this.content[0] : null; }\n    /**\n    The last child of the fragment, or `null` if it is empty.\n    */\n    get lastChild() { return this.content.length ? this.content[this.content.length - 1] : null; }\n    /**\n    The number of child nodes in this fragment.\n    */\n    get childCount() { return this.content.length; }\n    /**\n    Get the child node at the given index. Raise an error when the\n    index is out of range.\n    */\n    child(index) {\n        let found = this.content[index];\n        if (!found)\n            throw new RangeError(\"Index \" + index + \" out of range for \" + this);\n        return found;\n    }\n    /**\n    Get the child node at the given index, if it exists.\n    */\n    maybeChild(index) {\n        return this.content[index] || null;\n    }\n    /**\n    Call `f` for every child node, passing the node, its offset\n    into this parent node, and its index.\n    */\n    forEach(f) {\n        for (let i = 0, p = 0; i < this.content.length; i++) {\n            let child = this.content[i];\n            f(child, p, i);\n            p += child.nodeSize;\n        }\n    }\n    /**\n    Find the first position at which this fragment and another\n    fragment differ, or `null` if they are the same.\n    */\n    findDiffStart(other, pos = 0) {\n        return findDiffStart(this, other, pos);\n    }\n    /**\n    Find the first position, searching from the end, at which this\n    fragment and the given fragment differ, or `null` if they are\n    the same. Since this position will not be the same in both\n    nodes, an object with two separate positions is returned.\n    */\n    findDiffEnd(other, pos = this.size, otherPos = other.size) {\n        return findDiffEnd(this, other, pos, otherPos);\n    }\n    /**\n    Find the index and inner offset corresponding to a given relative\n    position in this fragment. The result object will be reused\n    (overwritten) the next time the function is called. (Not public.)\n    */\n    findIndex(pos, round = -1) {\n        if (pos == 0)\n            return retIndex(0, pos);\n        if (pos == this.size)\n            return retIndex(this.content.length, pos);\n        if (pos > this.size || pos < 0)\n            throw new RangeError(`Position ${pos} outside of fragment (${this})`);\n        for (let i = 0, curPos = 0;; i++) {\n            let cur = this.child(i), end = curPos + cur.nodeSize;\n            if (end >= pos) {\n                if (end == pos || round > 0)\n                    return retIndex(i + 1, end);\n                return retIndex(i, curPos);\n            }\n            curPos = end;\n        }\n    }\n    /**\n    Return a debugging string that describes this fragment.\n    */\n    toString() { return \"<\" + this.toStringInner() + \">\"; }\n    /**\n    @internal\n    */\n    toStringInner() { return this.content.join(\", \"); }\n    /**\n    Create a JSON-serializeable representation of this fragment.\n    */\n    toJSON() {\n        return this.content.length ? this.content.map(n => n.toJSON()) : null;\n    }\n    /**\n    Deserialize a fragment from its JSON representation.\n    */\n    static fromJSON(schema, value) {\n        if (!value)\n            return Fragment.empty;\n        if (!Array.isArray(value))\n            throw new RangeError(\"Invalid input for Fragment.fromJSON\");\n        return new Fragment(value.map(schema.nodeFromJSON));\n    }\n    /**\n    Build a fragment from an array of nodes. Ensures that adjacent\n    text nodes with the same marks are joined together.\n    */\n    static fromArray(array) {\n        if (!array.length)\n            return Fragment.empty;\n        let joined, size = 0;\n        for (let i = 0; i < array.length; i++) {\n            let node = array[i];\n            size += node.nodeSize;\n            if (i && node.isText && array[i - 1].sameMarkup(node)) {\n                if (!joined)\n                    joined = array.slice(0, i);\n                joined[joined.length - 1] = node\n                    .withText(joined[joined.length - 1].text + node.text);\n            }\n            else if (joined) {\n                joined.push(node);\n            }\n        }\n        return new Fragment(joined || array, size);\n    }\n    /**\n    Create a fragment from something that can be interpreted as a\n    set of nodes. For `null`, it returns the empty fragment. For a\n    fragment, the fragment itself. For a node or array of nodes, a\n    fragment containing those nodes.\n    */\n    static from(nodes) {\n        if (!nodes)\n            return Fragment.empty;\n        if (nodes instanceof Fragment)\n            return nodes;\n        if (Array.isArray(nodes))\n            return this.fromArray(nodes);\n        if (nodes.attrs)\n            return new Fragment([nodes], nodes.nodeSize);\n        throw new RangeError(\"Can not convert \" + nodes + \" to a Fragment\" +\n            (nodes.nodesBetween ? \" (looks like multiple versions of prosemirror-model were loaded)\" : \"\"));\n    }\n}\n/**\nAn empty fragment. Intended to be reused whenever a node doesn't\ncontain anything (rather than allocating a new empty fragment for\neach leaf node).\n*/\nFragment.empty = new Fragment([], 0);\nconst found = { index: 0, offset: 0 };\nfunction retIndex(index, offset) {\n    found.index = index;\n    found.offset = offset;\n    return found;\n}\n\nfunction compareDeep(a, b) {\n    if (a === b)\n        return true;\n    if (!(a && typeof a == \"object\") ||\n        !(b && typeof b == \"object\"))\n        return false;\n    let array = Array.isArray(a);\n    if (Array.isArray(b) != array)\n        return false;\n    if (array) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++)\n            if (!compareDeep(a[i], b[i]))\n                return false;\n    }\n    else {\n        for (let p in a)\n            if (!(p in b) || !compareDeep(a[p], b[p]))\n                return false;\n        for (let p in b)\n            if (!(p in a))\n                return false;\n    }\n    return true;\n}\n\n/**\nA mark is a piece of information that can be attached to a node,\nsuch as it being emphasized, in code font, or a link. It has a\ntype and optionally a set of attributes that provide further\ninformation (such as the target of the link). Marks are created\nthrough a `Schema`, which controls which types exist and which\nattributes they have.\n*/\nclass Mark {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The type of this mark.\n    */\n    type, \n    /**\n    The attributes associated with this mark.\n    */\n    attrs) {\n        this.type = type;\n        this.attrs = attrs;\n    }\n    /**\n    Given a set of marks, create a new set which contains this one as\n    well, in the right position. If this mark is already in the set,\n    the set itself is returned. If any marks that are set to be\n    [exclusive](https://prosemirror.net/docs/ref/#model.MarkSpec.excludes) with this mark are present,\n    those are replaced by this one.\n    */\n    addToSet(set) {\n        let copy, placed = false;\n        for (let i = 0; i < set.length; i++) {\n            let other = set[i];\n            if (this.eq(other))\n                return set;\n            if (this.type.excludes(other.type)) {\n                if (!copy)\n                    copy = set.slice(0, i);\n            }\n            else if (other.type.excludes(this.type)) {\n                return set;\n            }\n            else {\n                if (!placed && other.type.rank > this.type.rank) {\n                    if (!copy)\n                        copy = set.slice(0, i);\n                    copy.push(this);\n                    placed = true;\n                }\n                if (copy)\n                    copy.push(other);\n            }\n        }\n        if (!copy)\n            copy = set.slice();\n        if (!placed)\n            copy.push(this);\n        return copy;\n    }\n    /**\n    Remove this mark from the given set, returning a new set. If this\n    mark is not in the set, the set itself is returned.\n    */\n    removeFromSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (this.eq(set[i]))\n                return set.slice(0, i).concat(set.slice(i + 1));\n        return set;\n    }\n    /**\n    Test whether this mark is in the given set of marks.\n    */\n    isInSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (this.eq(set[i]))\n                return true;\n        return false;\n    }\n    /**\n    Test whether this mark has the same type and attributes as\n    another mark.\n    */\n    eq(other) {\n        return this == other ||\n            (this.type == other.type && compareDeep(this.attrs, other.attrs));\n    }\n    /**\n    Convert this mark to a JSON-serializeable representation.\n    */\n    toJSON() {\n        let obj = { type: this.type.name };\n        for (let _ in this.attrs) {\n            obj.attrs = this.attrs;\n            break;\n        }\n        return obj;\n    }\n    /**\n    Deserialize a mark from JSON.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            throw new RangeError(\"Invalid input for Mark.fromJSON\");\n        let type = schema.marks[json.type];\n        if (!type)\n            throw new RangeError(`There is no mark type ${json.type} in this schema`);\n        return type.create(json.attrs);\n    }\n    /**\n    Test whether two sets of marks are identical.\n    */\n    static sameSet(a, b) {\n        if (a == b)\n            return true;\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++)\n            if (!a[i].eq(b[i]))\n                return false;\n        return true;\n    }\n    /**\n    Create a properly sorted mark set from null, a single mark, or an\n    unsorted array of marks.\n    */\n    static setFrom(marks) {\n        if (!marks || Array.isArray(marks) && marks.length == 0)\n            return Mark.none;\n        if (marks instanceof Mark)\n            return [marks];\n        let copy = marks.slice();\n        copy.sort((a, b) => a.type.rank - b.type.rank);\n        return copy;\n    }\n}\n/**\nThe empty set of marks.\n*/\nMark.none = [];\n\n/**\nError type raised by [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) when\ngiven an invalid replacement.\n*/\nclass ReplaceError extends Error {\n}\n/*\nReplaceError = function(this: any, message: string) {\n  let err = Error.call(this, message)\n  ;(err as any).__proto__ = ReplaceError.prototype\n  return err\n} as any\n\nReplaceError.prototype = Object.create(Error.prototype)\nReplaceError.prototype.constructor = ReplaceError\nReplaceError.prototype.name = \"ReplaceError\"\n*/\n/**\nA slice represents a piece cut out of a larger document. It\nstores not only a fragment, but also the depth up to which nodes on\nboth side are \u2018open\u2019 (cut through).\n*/\nclass Slice {\n    /**\n    Create a slice. When specifying a non-zero open depth, you must\n    make sure that there are nodes of at least that depth at the\n    appropriate side of the fragment\u2014i.e. if the fragment is an\n    empty paragraph node, `openStart` and `openEnd` can't be greater\n    than 1.\n    \n    It is not necessary for the content of open nodes to conform to\n    the schema's content constraints, though it should be a valid\n    start/end/middle for such a node, depending on which sides are\n    open.\n    */\n    constructor(\n    /**\n    The slice's content.\n    */\n    content, \n    /**\n    The open depth at the start of the fragment.\n    */\n    openStart, \n    /**\n    The open depth at the end.\n    */\n    openEnd) {\n        this.content = content;\n        this.openStart = openStart;\n        this.openEnd = openEnd;\n    }\n    /**\n    The size this slice would add when inserted into a document.\n    */\n    get size() {\n        return this.content.size - this.openStart - this.openEnd;\n    }\n    /**\n    @internal\n    */\n    insertAt(pos, fragment) {\n        let content = insertInto(this.content, pos + this.openStart, fragment);\n        return content && new Slice(content, this.openStart, this.openEnd);\n    }\n    /**\n    @internal\n    */\n    removeBetween(from, to) {\n        return new Slice(removeRange(this.content, from + this.openStart, to + this.openStart), this.openStart, this.openEnd);\n    }\n    /**\n    Tests whether this slice is equal to another slice.\n    */\n    eq(other) {\n        return this.content.eq(other.content) && this.openStart == other.openStart && this.openEnd == other.openEnd;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return this.content + \"(\" + this.openStart + \",\" + this.openEnd + \")\";\n    }\n    /**\n    Convert a slice to a JSON-serializable representation.\n    */\n    toJSON() {\n        if (!this.content.size)\n            return null;\n        let json = { content: this.content.toJSON() };\n        if (this.openStart > 0)\n            json.openStart = this.openStart;\n        if (this.openEnd > 0)\n            json.openEnd = this.openEnd;\n        return json;\n    }\n    /**\n    Deserialize a slice from its JSON representation.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            return Slice.empty;\n        let openStart = json.openStart || 0, openEnd = json.openEnd || 0;\n        if (typeof openStart != \"number\" || typeof openEnd != \"number\")\n            throw new RangeError(\"Invalid input for Slice.fromJSON\");\n        return new Slice(Fragment.fromJSON(schema, json.content), openStart, openEnd);\n    }\n    /**\n    Create a slice from a fragment by taking the maximum possible\n    open value on both side of the fragment.\n    */\n    static maxOpen(fragment, openIsolating = true) {\n        let openStart = 0, openEnd = 0;\n        for (let n = fragment.firstChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.firstChild)\n            openStart++;\n        for (let n = fragment.lastChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.lastChild)\n            openEnd++;\n        return new Slice(fragment, openStart, openEnd);\n    }\n}\n/**\nThe empty slice.\n*/\nSlice.empty = new Slice(Fragment.empty, 0, 0);\nfunction removeRange(content, from, to) {\n    let { index, offset } = content.findIndex(from), child = content.maybeChild(index);\n    let { index: indexTo, offset: offsetTo } = content.findIndex(to);\n    if (offset == from || child.isText) {\n        if (offsetTo != to && !content.child(indexTo).isText)\n            throw new RangeError(\"Removing non-flat range\");\n        return content.cut(0, from).append(content.cut(to));\n    }\n    if (index != indexTo)\n        throw new RangeError(\"Removing non-flat range\");\n    return content.replaceChild(index, child.copy(removeRange(child.content, from - offset - 1, to - offset - 1)));\n}\nfunction insertInto(content, dist, insert, parent) {\n    let { index, offset } = content.findIndex(dist), child = content.maybeChild(index);\n    if (offset == dist || child.isText) {\n        if (parent && !parent.canReplace(index, index, insert))\n            return null;\n        return content.cut(0, dist).append(insert).append(content.cut(dist));\n    }\n    let inner = insertInto(child.content, dist - offset - 1, insert);\n    return inner && content.replaceChild(index, child.copy(inner));\n}\nfunction replace($from, $to, slice) {\n    if (slice.openStart > $from.depth)\n        throw new ReplaceError(\"Inserted content deeper than insertion position\");\n    if ($from.depth - slice.openStart != $to.depth - slice.openEnd)\n        throw new ReplaceError(\"Inconsistent open depths\");\n    return replaceOuter($from, $to, slice, 0);\n}\nfunction replaceOuter($from, $to, slice, depth) {\n    let index = $from.index(depth), node = $from.node(depth);\n    if (index == $to.index(depth) && depth < $from.depth - slice.openStart) {\n        let inner = replaceOuter($from, $to, slice, depth + 1);\n        return node.copy(node.content.replaceChild(index, inner));\n    }\n    else if (!slice.content.size) {\n        return close(node, replaceTwoWay($from, $to, depth));\n    }\n    else if (!slice.openStart && !slice.openEnd && $from.depth == depth && $to.depth == depth) { // Simple, flat case\n        let parent = $from.parent, content = parent.content;\n        return close(parent, content.cut(0, $from.parentOffset).append(slice.content).append(content.cut($to.parentOffset)));\n    }\n    else {\n        let { start, end } = prepareSliceForReplace(slice, $from);\n        return close(node, replaceThreeWay($from, start, end, $to, depth));\n    }\n}\nfunction checkJoin(main, sub) {\n    if (!sub.type.compatibleContent(main.type))\n        throw new ReplaceError(\"Cannot join \" + sub.type.name + \" onto \" + main.type.name);\n}\nfunction joinable($before, $after, depth) {\n    let node = $before.node(depth);\n    checkJoin(node, $after.node(depth));\n    return node;\n}\nfunction addNode(child, target) {\n    let last = target.length - 1;\n    if (last >= 0 && child.isText && child.sameMarkup(target[last]))\n        target[last] = child.withText(target[last].text + child.text);\n    else\n        target.push(child);\n}\nfunction addRange($start, $end, depth, target) {\n    let node = ($end || $start).node(depth);\n    let startIndex = 0, endIndex = $end ? $end.index(depth) : node.childCount;\n    if ($start) {\n        startIndex = $start.index(depth);\n        if ($start.depth > depth) {\n            startIndex++;\n        }\n        else if ($start.textOffset) {\n            addNode($start.nodeAfter, target);\n            startIndex++;\n        }\n    }\n    for (let i = startIndex; i < endIndex; i++)\n        addNode(node.child(i), target);\n    if ($end && $end.depth == depth && $end.textOffset)\n        addNode($end.nodeBefore, target);\n}\nfunction close(node, content) {\n    node.type.checkContent(content);\n    return node.copy(content);\n}\nfunction replaceThreeWay($from, $start, $end, $to, depth) {\n    let openStart = $from.depth > depth && joinable($from, $start, depth + 1);\n    let openEnd = $to.depth > depth && joinable($end, $to, depth + 1);\n    let content = [];\n    addRange(null, $from, depth, content);\n    if (openStart && openEnd && $start.index(depth) == $end.index(depth)) {\n        checkJoin(openStart, openEnd);\n        addNode(close(openStart, replaceThreeWay($from, $start, $end, $to, depth + 1)), content);\n    }\n    else {\n        if (openStart)\n            addNode(close(openStart, replaceTwoWay($from, $start, depth + 1)), content);\n        addRange($start, $end, depth, content);\n        if (openEnd)\n            addNode(close(openEnd, replaceTwoWay($end, $to, depth + 1)), content);\n    }\n    addRange($to, null, depth, content);\n    return new Fragment(content);\n}\nfunction replaceTwoWay($from, $to, depth) {\n    let content = [];\n    addRange(null, $from, depth, content);\n    if ($from.depth > depth) {\n        let type = joinable($from, $to, depth + 1);\n        addNode(close(type, replaceTwoWay($from, $to, depth + 1)), content);\n    }\n    addRange($to, null, depth, content);\n    return new Fragment(content);\n}\nfunction prepareSliceForReplace(slice, $along) {\n    let extra = $along.depth - slice.openStart, parent = $along.node(extra);\n    let node = parent.copy(slice.content);\n    for (let i = extra - 1; i >= 0; i--)\n        node = $along.node(i).copy(Fragment.from(node));\n    return { start: node.resolveNoCache(slice.openStart + extra),\n        end: node.resolveNoCache(node.content.size - slice.openEnd - extra) };\n}\n\n/**\nYou can [_resolve_](https://prosemirror.net/docs/ref/#model.Node.resolve) a position to get more\ninformation about it. Objects of this class represent such a\nresolved position, providing various pieces of context\ninformation, and some helper methods.\n\nThroughout this interface, methods that take an optional `depth`\nparameter will interpret undefined as `this.depth` and negative\nnumbers as `this.depth + value`.\n*/\nclass ResolvedPos {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position that was resolved.\n    */\n    pos, \n    /**\n    @internal\n    */\n    path, \n    /**\n    The offset this position has into its parent node.\n    */\n    parentOffset) {\n        this.pos = pos;\n        this.path = path;\n        this.parentOffset = parentOffset;\n        this.depth = path.length / 3 - 1;\n    }\n    /**\n    @internal\n    */\n    resolveDepth(val) {\n        if (val == null)\n            return this.depth;\n        if (val < 0)\n            return this.depth + val;\n        return val;\n    }\n    /**\n    The parent node that the position points into. Note that even if\n    a position points into a text node, that node is not considered\n    the parent\u2014text nodes are \u2018flat\u2019 in this model, and have no content.\n    */\n    get parent() { return this.node(this.depth); }\n    /**\n    The root node in which the position was resolved.\n    */\n    get doc() { return this.node(0); }\n    /**\n    The ancestor node at the given level. `p.node(p.depth)` is the\n    same as `p.parent`.\n    */\n    node(depth) { return this.path[this.resolveDepth(depth) * 3]; }\n    /**\n    The index into the ancestor at the given level. If this points\n    at the 3rd node in the 2nd paragraph on the top level, for\n    example, `p.index(0)` is 1 and `p.index(1)` is 2.\n    */\n    index(depth) { return this.path[this.resolveDepth(depth) * 3 + 1]; }\n    /**\n    The index pointing after this position into the ancestor at the\n    given level.\n    */\n    indexAfter(depth) {\n        depth = this.resolveDepth(depth);\n        return this.index(depth) + (depth == this.depth && !this.textOffset ? 0 : 1);\n    }\n    /**\n    The (absolute) position at the start of the node at the given\n    level.\n    */\n    start(depth) {\n        depth = this.resolveDepth(depth);\n        return depth == 0 ? 0 : this.path[depth * 3 - 1] + 1;\n    }\n    /**\n    The (absolute) position at the end of the node at the given\n    level.\n    */\n    end(depth) {\n        depth = this.resolveDepth(depth);\n        return this.start(depth) + this.node(depth).content.size;\n    }\n    /**\n    The (absolute) position directly before the wrapping node at the\n    given level, or, when `depth` is `this.depth + 1`, the original\n    position.\n    */\n    before(depth) {\n        depth = this.resolveDepth(depth);\n        if (!depth)\n            throw new RangeError(\"There is no position before the top-level node\");\n        return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1];\n    }\n    /**\n    The (absolute) position directly after the wrapping node at the\n    given level, or the original position when `depth` is `this.depth + 1`.\n    */\n    after(depth) {\n        depth = this.resolveDepth(depth);\n        if (!depth)\n            throw new RangeError(\"There is no position after the top-level node\");\n        return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1] + this.path[depth * 3].nodeSize;\n    }\n    /**\n    When this position points into a text node, this returns the\n    distance between the position and the start of the text node.\n    Will be zero for positions that point between nodes.\n    */\n    get textOffset() { return this.pos - this.path[this.path.length - 1]; }\n    /**\n    Get the node directly after the position, if any. If the position\n    points into a text node, only the part of that node after the\n    position is returned.\n    */\n    get nodeAfter() {\n        let parent = this.parent, index = this.index(this.depth);\n        if (index == parent.childCount)\n            return null;\n        let dOff = this.pos - this.path[this.path.length - 1], child = parent.child(index);\n        return dOff ? parent.child(index).cut(dOff) : child;\n    }\n    /**\n    Get the node directly before the position, if any. If the\n    position points into a text node, only the part of that node\n    before the position is returned.\n    */\n    get nodeBefore() {\n        let index = this.index(this.depth);\n        let dOff = this.pos - this.path[this.path.length - 1];\n        if (dOff)\n            return this.parent.child(index).cut(0, dOff);\n        return index == 0 ? null : this.parent.child(index - 1);\n    }\n    /**\n    Get the position at the given index in the parent node at the\n    given depth (which defaults to `this.depth`).\n    */\n    posAtIndex(index, depth) {\n        depth = this.resolveDepth(depth);\n        let node = this.path[depth * 3], pos = depth == 0 ? 0 : this.path[depth * 3 - 1] + 1;\n        for (let i = 0; i < index; i++)\n            pos += node.child(i).nodeSize;\n        return pos;\n    }\n    /**\n    Get the marks at this position, factoring in the surrounding\n    marks' [`inclusive`](https://prosemirror.net/docs/ref/#model.MarkSpec.inclusive) property. If the\n    position is at the start of a non-empty node, the marks of the\n    node after it (if any) are returned.\n    */\n    marks() {\n        let parent = this.parent, index = this.index();\n        // In an empty parent, return the empty array\n        if (parent.content.size == 0)\n            return Mark.none;\n        // When inside a text node, just return the text node's marks\n        if (this.textOffset)\n            return parent.child(index).marks;\n        let main = parent.maybeChild(index - 1), other = parent.maybeChild(index);\n        // If the `after` flag is true of there is no node before, make\n        // the node after this position the main reference.\n        if (!main) {\n            let tmp = main;\n            main = other;\n            other = tmp;\n        }\n        // Use all marks in the main node, except those that have\n        // `inclusive` set to false and are not present in the other node.\n        let marks = main.marks;\n        for (var i = 0; i < marks.length; i++)\n            if (marks[i].type.spec.inclusive === false && (!other || !marks[i].isInSet(other.marks)))\n                marks = marks[i--].removeFromSet(marks);\n        return marks;\n    }\n    /**\n    Get the marks after the current position, if any, except those\n    that are non-inclusive and not present at position `$end`. This\n    is mostly useful for getting the set of marks to preserve after a\n    deletion. Will return `null` if this position is at the end of\n    its parent node or its parent node isn't a textblock (in which\n    case no marks should be preserved).\n    */\n    marksAcross($end) {\n        let after = this.parent.maybeChild(this.index());\n        if (!after || !after.isInline)\n            return null;\n        let marks = after.marks, next = $end.parent.maybeChild($end.index());\n        for (var i = 0; i < marks.length; i++)\n            if (marks[i].type.spec.inclusive === false && (!next || !marks[i].isInSet(next.marks)))\n                marks = marks[i--].removeFromSet(marks);\n        return marks;\n    }\n    /**\n    The depth up to which this position and the given (non-resolved)\n    position share the same parent nodes.\n    */\n    sharedDepth(pos) {\n        for (let depth = this.depth; depth > 0; depth--)\n            if (this.start(depth) <= pos && this.end(depth) >= pos)\n                return depth;\n        return 0;\n    }\n    /**\n    Returns a range based on the place where this position and the\n    given position diverge around block content. If both point into\n    the same textblock, for example, a range around that textblock\n    will be returned. If they point into different blocks, the range\n    around those blocks in their shared ancestor is returned. You can\n    pass in an optional predicate that will be called with a parent\n    node to see if a range into that parent is acceptable.\n    */\n    blockRange(other = this, pred) {\n        if (other.pos < this.pos)\n            return other.blockRange(this);\n        for (let d = this.depth - (this.parent.inlineContent || this.pos == other.pos ? 1 : 0); d >= 0; d--)\n            if (other.pos <= this.end(d) && (!pred || pred(this.node(d))))\n                return new NodeRange(this, other, d);\n        return null;\n    }\n    /**\n    Query whether the given position shares the same parent node.\n    */\n    sameParent(other) {\n        return this.pos - this.parentOffset == other.pos - other.parentOffset;\n    }\n    /**\n    Return the greater of this and the given position.\n    */\n    max(other) {\n        return other.pos > this.pos ? other : this;\n    }\n    /**\n    Return the smaller of this and the given position.\n    */\n    min(other) {\n        return other.pos < this.pos ? other : this;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let str = \"\";\n        for (let i = 1; i <= this.depth; i++)\n            str += (str ? \"/\" : \"\") + this.node(i).type.name + \"_\" + this.index(i - 1);\n        return str + \":\" + this.parentOffset;\n    }\n    /**\n    @internal\n    */\n    static resolve(doc, pos) {\n        if (!(pos >= 0 && pos <= doc.content.size))\n            throw new RangeError(\"Position \" + pos + \" out of range\");\n        let path = [];\n        let start = 0, parentOffset = pos;\n        for (let node = doc;;) {\n            let { index, offset } = node.content.findIndex(parentOffset);\n            let rem = parentOffset - offset;\n            path.push(node, index, start + offset);\n            if (!rem)\n                break;\n            node = node.child(index);\n            if (node.isText)\n                break;\n            parentOffset = rem - 1;\n            start += offset + 1;\n        }\n        return new ResolvedPos(pos, path, parentOffset);\n    }\n    /**\n    @internal\n    */\n    static resolveCached(doc, pos) {\n        for (let i = 0; i < resolveCache.length; i++) {\n            let cached = resolveCache[i];\n            if (cached.pos == pos && cached.doc == doc)\n                return cached;\n        }\n        let result = resolveCache[resolveCachePos] = ResolvedPos.resolve(doc, pos);\n        resolveCachePos = (resolveCachePos + 1) % resolveCacheSize;\n        return result;\n    }\n}\nlet resolveCache = [], resolveCachePos = 0, resolveCacheSize = 12;\n/**\nRepresents a flat range of content, i.e. one that starts and\nends in the same node.\n*/\nclass NodeRange {\n    /**\n    Construct a node range. `$from` and `$to` should point into the\n    same node until at least the given `depth`, since a node range\n    denotes an adjacent set of nodes in a single parent node.\n    */\n    constructor(\n    /**\n    A resolved position along the start of the content. May have a\n    `depth` greater than this object's `depth` property, since\n    these are the positions that were used to compute the range,\n    not re-resolved positions directly at its boundaries.\n    */\n    $from, \n    /**\n    A position along the end of the content. See\n    caveat for [`$from`](https://prosemirror.net/docs/ref/#model.NodeRange.$from).\n    */\n    $to, \n    /**\n    The depth of the node that this range points into.\n    */\n    depth) {\n        this.$from = $from;\n        this.$to = $to;\n        this.depth = depth;\n    }\n    /**\n    The position at the start of the range.\n    */\n    get start() { return this.$from.before(this.depth + 1); }\n    /**\n    The position at the end of the range.\n    */\n    get end() { return this.$to.after(this.depth + 1); }\n    /**\n    The parent node that the range points into.\n    */\n    get parent() { return this.$from.node(this.depth); }\n    /**\n    The start index of the range in the parent node.\n    */\n    get startIndex() { return this.$from.index(this.depth); }\n    /**\n    The end index of the range in the parent node.\n    */\n    get endIndex() { return this.$to.indexAfter(this.depth); }\n}\n\nconst emptyAttrs = Object.create(null);\n/**\nThis class represents a node in the tree that makes up a\nProseMirror document. So a document is an instance of `Node`, with\nchildren that are also instances of `Node`.\n\nNodes are persistent data structures. Instead of changing them, you\ncreate new ones with the content you want. Old ones keep pointing\nat the old document shape. This is made cheaper by sharing\nstructure between the old and new data as much as possible, which a\ntree shape like this (without back pointers) makes easy.\n\n**Do not** directly mutate the properties of a `Node` object. See\n[the guide](/docs/guide/#doc) for more information.\n*/\nclass Node {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The type of node that this is.\n    */\n    type, \n    /**\n    An object mapping attribute names to values. The kind of\n    attributes allowed and required are\n    [determined](https://prosemirror.net/docs/ref/#model.NodeSpec.attrs) by the node type.\n    */\n    attrs, \n    // A fragment holding the node's children.\n    content, \n    /**\n    The marks (things like whether it is emphasized or part of a\n    link) applied to this node.\n    */\n    marks = Mark.none) {\n        this.type = type;\n        this.attrs = attrs;\n        this.marks = marks;\n        this.content = content || Fragment.empty;\n    }\n    /**\n    The size of this node, as defined by the integer-based [indexing\n    scheme](/docs/guide/#doc.indexing). For text nodes, this is the\n    amount of characters. For other leaf nodes, it is one. For\n    non-leaf nodes, it is the size of the content plus two (the\n    start and end token).\n    */\n    get nodeSize() { return this.isLeaf ? 1 : 2 + this.content.size; }\n    /**\n    The number of children that the node has.\n    */\n    get childCount() { return this.content.childCount; }\n    /**\n    Get the child node at the given index. Raises an error when the\n    index is out of range.\n    */\n    child(index) { return this.content.child(index); }\n    /**\n    Get the child node at the given index, if it exists.\n    */\n    maybeChild(index) { return this.content.maybeChild(index); }\n    /**\n    Call `f` for every child node, passing the node, its offset\n    into this parent node, and its index.\n    */\n    forEach(f) { this.content.forEach(f); }\n    /**\n    Invoke a callback for all descendant nodes recursively between\n    the given two positions that are relative to start of this\n    node's content. The callback is invoked with the node, its\n    position relative to the original node (method receiver),\n    its parent node, and its child index. When the callback returns\n    false for a given node, that node's children will not be\n    recursed over. The last parameter can be used to specify a\n    starting position to count from.\n    */\n    nodesBetween(from, to, f, startPos = 0) {\n        this.content.nodesBetween(from, to, f, startPos, this);\n    }\n    /**\n    Call the given callback for every descendant node. Doesn't\n    descend into a node when the callback returns `false`.\n    */\n    descendants(f) {\n        this.nodesBetween(0, this.content.size, f);\n    }\n    /**\n    Concatenates all the text nodes found in this fragment and its\n    children.\n    */\n    get textContent() {\n        return (this.isLeaf && this.type.spec.leafText)\n            ? this.type.spec.leafText(this)\n            : this.textBetween(0, this.content.size, \"\");\n    }\n    /**\n    Get all text between positions `from` and `to`. When\n    `blockSeparator` is given, it will be inserted to separate text\n    from different block nodes. If `leafText` is given, it'll be\n    inserted for every non-text leaf node encountered, otherwise\n    [`leafText`](https://prosemirror.net/docs/ref/#model.NodeSpec^leafText) will be used.\n    */\n    textBetween(from, to, blockSeparator, leafText) {\n        return this.content.textBetween(from, to, blockSeparator, leafText);\n    }\n    /**\n    Returns this node's first child, or `null` if there are no\n    children.\n    */\n    get firstChild() { return this.content.firstChild; }\n    /**\n    Returns this node's last child, or `null` if there are no\n    children.\n    */\n    get lastChild() { return this.content.lastChild; }\n    /**\n    Test whether two nodes represent the same piece of document.\n    */\n    eq(other) {\n        return this == other || (this.sameMarkup(other) && this.content.eq(other.content));\n    }\n    /**\n    Compare the markup (type, attributes, and marks) of this node to\n    those of another. Returns `true` if both have the same markup.\n    */\n    sameMarkup(other) {\n        return this.hasMarkup(other.type, other.attrs, other.marks);\n    }\n    /**\n    Check whether this node's markup correspond to the given type,\n    attributes, and marks.\n    */\n    hasMarkup(type, attrs, marks) {\n        return this.type == type &&\n            compareDeep(this.attrs, attrs || type.defaultAttrs || emptyAttrs) &&\n            Mark.sameSet(this.marks, marks || Mark.none);\n    }\n    /**\n    Create a new node with the same markup as this node, containing\n    the given content (or empty, if no content is given).\n    */\n    copy(content = null) {\n        if (content == this.content)\n            return this;\n        return new Node(this.type, this.attrs, content, this.marks);\n    }\n    /**\n    Create a copy of this node, with the given set of marks instead\n    of the node's own marks.\n    */\n    mark(marks) {\n        return marks == this.marks ? this : new Node(this.type, this.attrs, this.content, marks);\n    }\n    /**\n    Create a copy of this node with only the content between the\n    given positions. If `to` is not given, it defaults to the end of\n    the node.\n    */\n    cut(from, to = this.content.size) {\n        if (from == 0 && to == this.content.size)\n            return this;\n        return this.copy(this.content.cut(from, to));\n    }\n    /**\n    Cut out the part of the document between the given positions, and\n    return it as a `Slice` object.\n    */\n    slice(from, to = this.content.size, includeParents = false) {\n        if (from == to)\n            return Slice.empty;\n        let $from = this.resolve(from), $to = this.resolve(to);\n        let depth = includeParents ? 0 : $from.sharedDepth(to);\n        let start = $from.start(depth), node = $from.node(depth);\n        let content = node.content.cut($from.pos - start, $to.pos - start);\n        return new Slice(content, $from.depth - depth, $to.depth - depth);\n    }\n    /**\n    Replace the part of the document between the given positions with\n    the given slice. The slice must 'fit', meaning its open sides\n    must be able to connect to the surrounding content, and its\n    content nodes must be valid children for the node they are placed\n    into. If any of this is violated, an error of type\n    [`ReplaceError`](https://prosemirror.net/docs/ref/#model.ReplaceError) is thrown.\n    */\n    replace(from, to, slice) {\n        return replace(this.resolve(from), this.resolve(to), slice);\n    }\n    /**\n    Find the node directly after the given position.\n    */\n    nodeAt(pos) {\n        for (let node = this;;) {\n            let { index, offset } = node.content.findIndex(pos);\n            node = node.maybeChild(index);\n            if (!node)\n                return null;\n            if (offset == pos || node.isText)\n                return node;\n            pos -= offset + 1;\n        }\n    }\n    /**\n    Find the (direct) child node after the given offset, if any,\n    and return it along with its index and offset relative to this\n    node.\n    */\n    childAfter(pos) {\n        let { index, offset } = this.content.findIndex(pos);\n        return { node: this.content.maybeChild(index), index, offset };\n    }\n    /**\n    Find the (direct) child node before the given offset, if any,\n    and return it along with its index and offset relative to this\n    node.\n    */\n    childBefore(pos) {\n        if (pos == 0)\n            return { node: null, index: 0, offset: 0 };\n        let { index, offset } = this.content.findIndex(pos);\n        if (offset < pos)\n            return { node: this.content.child(index), index, offset };\n        let node = this.content.child(index - 1);\n        return { node, index: index - 1, offset: offset - node.nodeSize };\n    }\n    /**\n    Resolve the given position in the document, returning an\n    [object](https://prosemirror.net/docs/ref/#model.ResolvedPos) with information about its context.\n    */\n    resolve(pos) { return ResolvedPos.resolveCached(this, pos); }\n    /**\n    @internal\n    */\n    resolveNoCache(pos) { return ResolvedPos.resolve(this, pos); }\n    /**\n    Test whether a given mark or mark type occurs in this document\n    between the two given positions.\n    */\n    rangeHasMark(from, to, type) {\n        let found = false;\n        if (to > from)\n            this.nodesBetween(from, to, node => {\n                if (type.isInSet(node.marks))\n                    found = true;\n                return !found;\n            });\n        return found;\n    }\n    /**\n    True when this is a block (non-inline node)\n    */\n    get isBlock() { return this.type.isBlock; }\n    /**\n    True when this is a textblock node, a block node with inline\n    content.\n    */\n    get isTextblock() { return this.type.isTextblock; }\n    /**\n    True when this node allows inline content.\n    */\n    get inlineContent() { return this.type.inlineContent; }\n    /**\n    True when this is an inline node (a text node or a node that can\n    appear among text).\n    */\n    get isInline() { return this.type.isInline; }\n    /**\n    True when this is a text node.\n    */\n    get isText() { return this.type.isText; }\n    /**\n    True when this is a leaf node.\n    */\n    get isLeaf() { return this.type.isLeaf; }\n    /**\n    True when this is an atom, i.e. when it does not have directly\n    editable content. This is usually the same as `isLeaf`, but can\n    be configured with the [`atom` property](https://prosemirror.net/docs/ref/#model.NodeSpec.atom)\n    on a node's spec (typically used when the node is displayed as\n    an uneditable [node view](https://prosemirror.net/docs/ref/#view.NodeView)).\n    */\n    get isAtom() { return this.type.isAtom; }\n    /**\n    Return a string representation of this node for debugging\n    purposes.\n    */\n    toString() {\n        if (this.type.spec.toDebugString)\n            return this.type.spec.toDebugString(this);\n        let name = this.type.name;\n        if (this.content.size)\n            name += \"(\" + this.content.toStringInner() + \")\";\n        return wrapMarks(this.marks, name);\n    }\n    /**\n    Get the content match in this node at the given index.\n    */\n    contentMatchAt(index) {\n        let match = this.type.contentMatch.matchFragment(this.content, 0, index);\n        if (!match)\n            throw new Error(\"Called contentMatchAt on a node with invalid content\");\n        return match;\n    }\n    /**\n    Test whether replacing the range between `from` and `to` (by\n    child index) with the given replacement fragment (which defaults\n    to the empty fragment) would leave the node's content valid. You\n    can optionally pass `start` and `end` indices into the\n    replacement fragment.\n    */\n    canReplace(from, to, replacement = Fragment.empty, start = 0, end = replacement.childCount) {\n        let one = this.contentMatchAt(from).matchFragment(replacement, start, end);\n        let two = one && one.matchFragment(this.content, to);\n        if (!two || !two.validEnd)\n            return false;\n        for (let i = start; i < end; i++)\n            if (!this.type.allowsMarks(replacement.child(i).marks))\n                return false;\n        return true;\n    }\n    /**\n    Test whether replacing the range `from` to `to` (by index) with\n    a node of the given type would leave the node's content valid.\n    */\n    canReplaceWith(from, to, type, marks) {\n        if (marks && !this.type.allowsMarks(marks))\n            return false;\n        let start = this.contentMatchAt(from).matchType(type);\n        let end = start && start.matchFragment(this.content, to);\n        return end ? end.validEnd : false;\n    }\n    /**\n    Test whether the given node's content could be appended to this\n    node. If that node is empty, this will only return true if there\n    is at least one node type that can appear in both nodes (to avoid\n    merging completely incompatible nodes).\n    */\n    canAppend(other) {\n        if (other.content.size)\n            return this.canReplace(this.childCount, this.childCount, other.content);\n        else\n            return this.type.compatibleContent(other.type);\n    }\n    /**\n    Check whether this node and its descendants conform to the\n    schema, and raise error when they do not.\n    */\n    check() {\n        this.type.checkContent(this.content);\n        let copy = Mark.none;\n        for (let i = 0; i < this.marks.length; i++)\n            copy = this.marks[i].addToSet(copy);\n        if (!Mark.sameSet(copy, this.marks))\n            throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(m => m.type.name)}`);\n        this.content.forEach(node => node.check());\n    }\n    /**\n    Return a JSON-serializeable representation of this node.\n    */\n    toJSON() {\n        let obj = { type: this.type.name };\n        for (let _ in this.attrs) {\n            obj.attrs = this.attrs;\n            break;\n        }\n        if (this.content.size)\n            obj.content = this.content.toJSON();\n        if (this.marks.length)\n            obj.marks = this.marks.map(n => n.toJSON());\n        return obj;\n    }\n    /**\n    Deserialize a node from its JSON representation.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            throw new RangeError(\"Invalid input for Node.fromJSON\");\n        let marks = null;\n        if (json.marks) {\n            if (!Array.isArray(json.marks))\n                throw new RangeError(\"Invalid mark data for Node.fromJSON\");\n            marks = json.marks.map(schema.markFromJSON);\n        }\n        if (json.type == \"text\") {\n            if (typeof json.text != \"string\")\n                throw new RangeError(\"Invalid text node in JSON\");\n            return schema.text(json.text, marks);\n        }\n        let content = Fragment.fromJSON(schema, json.content);\n        return schema.nodeType(json.type).create(json.attrs, content, marks);\n    }\n}\nNode.prototype.text = undefined;\nclass TextNode extends Node {\n    /**\n    @internal\n    */\n    constructor(type, attrs, content, marks) {\n        super(type, attrs, null, marks);\n        if (!content)\n            throw new RangeError(\"Empty text nodes are not allowed\");\n        this.text = content;\n    }\n    toString() {\n        if (this.type.spec.toDebugString)\n            return this.type.spec.toDebugString(this);\n        return wrapMarks(this.marks, JSON.stringify(this.text));\n    }\n    get textContent() { return this.text; }\n    textBetween(from, to) { return this.text.slice(from, to); }\n    get nodeSize() { return this.text.length; }\n    mark(marks) {\n        return marks == this.marks ? this : new TextNode(this.type, this.attrs, this.text, marks);\n    }\n    withText(text) {\n        if (text == this.text)\n            return this;\n        return new TextNode(this.type, this.attrs, text, this.marks);\n    }\n    cut(from = 0, to = this.text.length) {\n        if (from == 0 && to == this.text.length)\n            return this;\n        return this.withText(this.text.slice(from, to));\n    }\n    eq(other) {\n        return this.sameMarkup(other) && this.text == other.text;\n    }\n    toJSON() {\n        let base = super.toJSON();\n        base.text = this.text;\n        return base;\n    }\n}\nfunction wrapMarks(marks, str) {\n    for (let i = marks.length - 1; i >= 0; i--)\n        str = marks[i].type.name + \"(\" + str + \")\";\n    return str;\n}\n\n/**\nInstances of this class represent a match state of a node type's\n[content expression](https://prosemirror.net/docs/ref/#model.NodeSpec.content), and can be used to\nfind out whether further content matches here, and whether a given\nposition is a valid end of the node.\n*/\nclass ContentMatch {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    True when this match state represents a valid end of the node.\n    */\n    validEnd) {\n        this.validEnd = validEnd;\n        /**\n        @internal\n        */\n        this.next = [];\n        /**\n        @internal\n        */\n        this.wrapCache = [];\n    }\n    /**\n    @internal\n    */\n    static parse(string, nodeTypes) {\n        let stream = new TokenStream(string, nodeTypes);\n        if (stream.next == null)\n            return ContentMatch.empty;\n        let expr = parseExpr(stream);\n        if (stream.next)\n            stream.err(\"Unexpected trailing text\");\n        let match = dfa(nfa(expr));\n        checkForDeadEnds(match, stream);\n        return match;\n    }\n    /**\n    Match a node type, returning a match after that node if\n    successful.\n    */\n    matchType(type) {\n        for (let i = 0; i < this.next.length; i++)\n            if (this.next[i].type == type)\n                return this.next[i].next;\n        return null;\n    }\n    /**\n    Try to match a fragment. Returns the resulting match when\n    successful.\n    */\n    matchFragment(frag, start = 0, end = frag.childCount) {\n        let cur = this;\n        for (let i = start; cur && i < end; i++)\n            cur = cur.matchType(frag.child(i).type);\n        return cur;\n    }\n    /**\n    @internal\n    */\n    get inlineContent() {\n        return this.next.length != 0 && this.next[0].type.isInline;\n    }\n    /**\n    Get the first matching node type at this match position that can\n    be generated.\n    */\n    get defaultType() {\n        for (let i = 0; i < this.next.length; i++) {\n            let { type } = this.next[i];\n            if (!(type.isText || type.hasRequiredAttrs()))\n                return type;\n        }\n        return null;\n    }\n    /**\n    @internal\n    */\n    compatible(other) {\n        for (let i = 0; i < this.next.length; i++)\n            for (let j = 0; j < other.next.length; j++)\n                if (this.next[i].type == other.next[j].type)\n                    return true;\n        return false;\n    }\n    /**\n    Try to match the given fragment, and if that fails, see if it can\n    be made to match by inserting nodes in front of it. When\n    successful, return a fragment of inserted nodes (which may be\n    empty if nothing had to be inserted). When `toEnd` is true, only\n    return a fragment if the resulting match goes to the end of the\n    content expression.\n    */\n    fillBefore(after, toEnd = false, startIndex = 0) {\n        let seen = [this];\n        function search(match, types) {\n            let finished = match.matchFragment(after, startIndex);\n            if (finished && (!toEnd || finished.validEnd))\n                return Fragment.from(types.map(tp => tp.createAndFill()));\n            for (let i = 0; i < match.next.length; i++) {\n                let { type, next } = match.next[i];\n                if (!(type.isText || type.hasRequiredAttrs()) && seen.indexOf(next) == -1) {\n                    seen.push(next);\n                    let found = search(next, types.concat(type));\n                    if (found)\n                        return found;\n                }\n            }\n            return null;\n        }\n        return search(this, []);\n    }\n    /**\n    Find a set of wrapping node types that would allow a node of the\n    given type to appear at this position. The result may be empty\n    (when it fits directly) and will be null when no such wrapping\n    exists.\n    */\n    findWrapping(target) {\n        for (let i = 0; i < this.wrapCache.length; i += 2)\n            if (this.wrapCache[i] == target)\n                return this.wrapCache[i + 1];\n        let computed = this.computeWrapping(target);\n        this.wrapCache.push(target, computed);\n        return computed;\n    }\n    /**\n    @internal\n    */\n    computeWrapping(target) {\n        let seen = Object.create(null), active = [{ match: this, type: null, via: null }];\n        while (active.length) {\n            let current = active.shift(), match = current.match;\n            if (match.matchType(target)) {\n                let result = [];\n                for (let obj = current; obj.type; obj = obj.via)\n                    result.push(obj.type);\n                return result.reverse();\n            }\n            for (let i = 0; i < match.next.length; i++) {\n                let { type, next } = match.next[i];\n                if (!type.isLeaf && !type.hasRequiredAttrs() && !(type.name in seen) && (!current.type || next.validEnd)) {\n                    active.push({ match: type.contentMatch, type, via: current });\n                    seen[type.name] = true;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n    The number of outgoing edges this node has in the finite\n    automaton that describes the content expression.\n    */\n    get edgeCount() {\n        return this.next.length;\n    }\n    /**\n    Get the _n_\u200Bth outgoing edge from this node in the finite\n    automaton that describes the content expression.\n    */\n    edge(n) {\n        if (n >= this.next.length)\n            throw new RangeError(`There's no ${n}th edge in this content match`);\n        return this.next[n];\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let seen = [];\n        function scan(m) {\n            seen.push(m);\n            for (let i = 0; i < m.next.length; i++)\n                if (seen.indexOf(m.next[i].next) == -1)\n                    scan(m.next[i].next);\n        }\n        scan(this);\n        return seen.map((m, i) => {\n            let out = i + (m.validEnd ? \"*\" : \" \") + \" \";\n            for (let i = 0; i < m.next.length; i++)\n                out += (i ? \", \" : \"\") + m.next[i].type.name + \"->\" + seen.indexOf(m.next[i].next);\n            return out;\n        }).join(\"\\n\");\n    }\n}\n/**\n@internal\n*/\nContentMatch.empty = new ContentMatch(true);\nclass TokenStream {\n    constructor(string, nodeTypes) {\n        this.string = string;\n        this.nodeTypes = nodeTypes;\n        this.inline = null;\n        this.pos = 0;\n        this.tokens = string.split(/\\s*(?=\\b|\\W|$)/);\n        if (this.tokens[this.tokens.length - 1] == \"\")\n            this.tokens.pop();\n        if (this.tokens[0] == \"\")\n            this.tokens.shift();\n    }\n    get next() { return this.tokens[this.pos]; }\n    eat(tok) { return this.next == tok && (this.pos++ || true); }\n    err(str) { throw new SyntaxError(str + \" (in content expression '\" + this.string + \"')\"); }\n}\nfunction parseExpr(stream) {\n    let exprs = [];\n    do {\n        exprs.push(parseExprSeq(stream));\n    } while (stream.eat(\"|\"));\n    return exprs.length == 1 ? exprs[0] : { type: \"choice\", exprs };\n}\nfunction parseExprSeq(stream) {\n    let exprs = [];\n    do {\n        exprs.push(parseExprSubscript(stream));\n    } while (stream.next && stream.next != \")\" && stream.next != \"|\");\n    return exprs.length == 1 ? exprs[0] : { type: \"seq\", exprs };\n}\nfunction parseExprSubscript(stream) {\n    let expr = parseExprAtom(stream);\n    for (;;) {\n        if (stream.eat(\"+\"))\n            expr = { type: \"plus\", expr };\n        else if (stream.eat(\"*\"))\n            expr = { type: \"star\", expr };\n        else if (stream.eat(\"?\"))\n            expr = { type: \"opt\", expr };\n        else if (stream.eat(\"{\"))\n            expr = parseExprRange(stream, expr);\n        else\n            break;\n    }\n    return expr;\n}\nfunction parseNum(stream) {\n    if (/\\D/.test(stream.next))\n        stream.err(\"Expected number, got '\" + stream.next + \"'\");\n    let result = Number(stream.next);\n    stream.pos++;\n    return result;\n}\nfunction parseExprRange(stream, expr) {\n    let min = parseNum(stream), max = min;\n    if (stream.eat(\",\")) {\n        if (stream.next != \"}\")\n            max = parseNum(stream);\n        else\n            max = -1;\n    }\n    if (!stream.eat(\"}\"))\n        stream.err(\"Unclosed braced range\");\n    return { type: \"range\", min, max, expr };\n}\nfunction resolveName(stream, name) {\n    let types = stream.nodeTypes, type = types[name];\n    if (type)\n        return [type];\n    let result = [];\n    for (let typeName in types) {\n        let type = types[typeName];\n        if (type.groups.indexOf(name) > -1)\n            result.push(type);\n    }\n    if (result.length == 0)\n        stream.err(\"No node type or group '\" + name + \"' found\");\n    return result;\n}\nfunction parseExprAtom(stream) {\n    if (stream.eat(\"(\")) {\n        let expr = parseExpr(stream);\n        if (!stream.eat(\")\"))\n            stream.err(\"Missing closing paren\");\n        return expr;\n    }\n    else if (!/\\W/.test(stream.next)) {\n        let exprs = resolveName(stream, stream.next).map(type => {\n            if (stream.inline == null)\n                stream.inline = type.isInline;\n            else if (stream.inline != type.isInline)\n                stream.err(\"Mixing inline and block content\");\n            return { type: \"name\", value: type };\n        });\n        stream.pos++;\n        return exprs.length == 1 ? exprs[0] : { type: \"choice\", exprs };\n    }\n    else {\n        stream.err(\"Unexpected token '\" + stream.next + \"'\");\n    }\n}\n/**\nConstruct an NFA from an expression as returned by the parser. The\nNFA is represented as an array of states, which are themselves\narrays of edges, which are `{term, to}` objects. The first state is\nthe entry state and the last node is the success state.\n\nNote that unlike typical NFAs, the edge ordering in this one is\nsignificant, in that it is used to contruct filler content when\nnecessary.\n*/\nfunction nfa(expr) {\n    let nfa = [[]];\n    connect(compile(expr, 0), node());\n    return nfa;\n    function node() { return nfa.push([]) - 1; }\n    function edge(from, to, term) {\n        let edge = { term, to };\n        nfa[from].push(edge);\n        return edge;\n    }\n    function connect(edges, to) {\n        edges.forEach(edge => edge.to = to);\n    }\n    function compile(expr, from) {\n        if (expr.type == \"choice\") {\n            return expr.exprs.reduce((out, expr) => out.concat(compile(expr, from)), []);\n        }\n        else if (expr.type == \"seq\") {\n            for (let i = 0;; i++) {\n                let next = compile(expr.exprs[i], from);\n                if (i == expr.exprs.length - 1)\n                    return next;\n                connect(next, from = node());\n            }\n        }\n        else if (expr.type == \"star\") {\n            let loop = node();\n            edge(from, loop);\n            connect(compile(expr.expr, loop), loop);\n            return [edge(loop)];\n        }\n        else if (expr.type == \"plus\") {\n            let loop = node();\n            connect(compile(expr.expr, from), loop);\n            connect(compile(expr.expr, loop), loop);\n            return [edge(loop)];\n        }\n        else if (expr.type == \"opt\") {\n            return [edge(from)].concat(compile(expr.expr, from));\n        }\n        else if (expr.type == \"range\") {\n            let cur = from;\n            for (let i = 0; i < expr.min; i++) {\n                let next = node();\n                connect(compile(expr.expr, cur), next);\n                cur = next;\n            }\n            if (expr.max == -1) {\n                connect(compile(expr.expr, cur), cur);\n            }\n            else {\n                for (let i = expr.min; i < expr.max; i++) {\n                    let next = node();\n                    edge(cur, next);\n                    connect(compile(expr.expr, cur), next);\n                    cur = next;\n                }\n            }\n            return [edge(cur)];\n        }\n        else if (expr.type == \"name\") {\n            return [edge(from, undefined, expr.value)];\n        }\n        else {\n            throw new Error(\"Unknown expr type\");\n        }\n    }\n}\nfunction cmp(a, b) { return b - a; }\n// Get the set of nodes reachable by null edges from `node`. Omit\n// nodes with only a single null-out-edge, since they may lead to\n// needless duplicated nodes.\nfunction nullFrom(nfa, node) {\n    let result = [];\n    scan(node);\n    return result.sort(cmp);\n    function scan(node) {\n        let edges = nfa[node];\n        if (edges.length == 1 && !edges[0].term)\n            return scan(edges[0].to);\n        result.push(node);\n        for (let i = 0; i < edges.length; i++) {\n            let { term, to } = edges[i];\n            if (!term && result.indexOf(to) == -1)\n                scan(to);\n        }\n    }\n}\n// Compiles an NFA as produced by `nfa` into a DFA, modeled as a set\n// of state objects (`ContentMatch` instances) with transitions\n// between them.\nfunction dfa(nfa) {\n    let labeled = Object.create(null);\n    return explore(nullFrom(nfa, 0));\n    function explore(states) {\n        let out = [];\n        states.forEach(node => {\n            nfa[node].forEach(({ term, to }) => {\n                if (!term)\n                    return;\n                let set;\n                for (let i = 0; i < out.length; i++)\n                    if (out[i][0] == term)\n                        set = out[i][1];\n                nullFrom(nfa, to).forEach(node => {\n                    if (!set)\n                        out.push([term, set = []]);\n                    if (set.indexOf(node) == -1)\n                        set.push(node);\n                });\n            });\n        });\n        let state = labeled[states.join(\",\")] = new ContentMatch(states.indexOf(nfa.length - 1) > -1);\n        for (let i = 0; i < out.length; i++) {\n            let states = out[i][1].sort(cmp);\n            state.next.push({ type: out[i][0], next: labeled[states.join(\",\")] || explore(states) });\n        }\n        return state;\n    }\n}\nfunction checkForDeadEnds(match, stream) {\n    for (let i = 0, work = [match]; i < work.length; i++) {\n        let state = work[i], dead = !state.validEnd, nodes = [];\n        for (let j = 0; j < state.next.length; j++) {\n            let { type, next } = state.next[j];\n            nodes.push(type.name);\n            if (dead && !(type.isText || type.hasRequiredAttrs()))\n                dead = false;\n            if (work.indexOf(next) == -1)\n                work.push(next);\n        }\n        if (dead)\n            stream.err(\"Only non-generatable nodes (\" + nodes.join(\", \") + \") in a required position (see https://prosemirror.net/docs/guide/#generatable)\");\n    }\n}\n\n// For node types where all attrs have a default value (or which don't\n// have any attributes), build up a single reusable default attribute\n// object, and use it for all nodes that don't specify specific\n// attributes.\nfunction defaultAttrs(attrs) {\n    let defaults = Object.create(null);\n    for (let attrName in attrs) {\n        let attr = attrs[attrName];\n        if (!attr.hasDefault)\n            return null;\n        defaults[attrName] = attr.default;\n    }\n    return defaults;\n}\nfunction computeAttrs(attrs, value) {\n    let built = Object.create(null);\n    for (let name in attrs) {\n        let given = value && value[name];\n        if (given === undefined) {\n            let attr = attrs[name];\n            if (attr.hasDefault)\n                given = attr.default;\n            else\n                throw new RangeError(\"No value supplied for attribute \" + name);\n        }\n        built[name] = given;\n    }\n    return built;\n}\nfunction initAttrs(attrs) {\n    let result = Object.create(null);\n    if (attrs)\n        for (let name in attrs)\n            result[name] = new Attribute(attrs[name]);\n    return result;\n}\n/**\nNode types are objects allocated once per `Schema` and used to\n[tag](https://prosemirror.net/docs/ref/#model.Node.type) `Node` instances. They contain information\nabout the node type, such as its name and what kind of node it\nrepresents.\n*/\nclass NodeType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name the node type has in this schema.\n    */\n    name, \n    /**\n    A link back to the `Schema` the node type belongs to.\n    */\n    schema, \n    /**\n    The spec that this type is based on\n    */\n    spec) {\n        this.name = name;\n        this.schema = schema;\n        this.spec = spec;\n        /**\n        The set of marks allowed in this node. `null` means all marks\n        are allowed.\n        */\n        this.markSet = null;\n        this.groups = spec.group ? spec.group.split(\" \") : [];\n        this.attrs = initAttrs(spec.attrs);\n        this.defaultAttrs = defaultAttrs(this.attrs);\n        this.contentMatch = null;\n        this.inlineContent = null;\n        this.isBlock = !(spec.inline || name == \"text\");\n        this.isText = name == \"text\";\n    }\n    /**\n    True if this is an inline type.\n    */\n    get isInline() { return !this.isBlock; }\n    /**\n    True if this is a textblock type, a block that contains inline\n    content.\n    */\n    get isTextblock() { return this.isBlock && this.inlineContent; }\n    /**\n    True for node types that allow no content.\n    */\n    get isLeaf() { return this.contentMatch == ContentMatch.empty; }\n    /**\n    True when this node is an atom, i.e. when it does not have\n    directly editable content.\n    */\n    get isAtom() { return this.isLeaf || !!this.spec.atom; }\n    /**\n    The node type's [whitespace](https://prosemirror.net/docs/ref/#model.NodeSpec.whitespace) option.\n    */\n    get whitespace() {\n        return this.spec.whitespace || (this.spec.code ? \"pre\" : \"normal\");\n    }\n    /**\n    Tells you whether this node type has any required attributes.\n    */\n    hasRequiredAttrs() {\n        for (let n in this.attrs)\n            if (this.attrs[n].isRequired)\n                return true;\n        return false;\n    }\n    /**\n    Indicates whether this node allows some of the same content as\n    the given node type.\n    */\n    compatibleContent(other) {\n        return this == other || this.contentMatch.compatible(other.contentMatch);\n    }\n    /**\n    @internal\n    */\n    computeAttrs(attrs) {\n        if (!attrs && this.defaultAttrs)\n            return this.defaultAttrs;\n        else\n            return computeAttrs(this.attrs, attrs);\n    }\n    /**\n    Create a `Node` of this type. The given attributes are\n    checked and defaulted (you can pass `null` to use the type's\n    defaults entirely, if no required attributes exist). `content`\n    may be a `Fragment`, a node, an array of nodes, or\n    `null`. Similarly `marks` may be `null` to default to the empty\n    set of marks.\n    */\n    create(attrs = null, content, marks) {\n        if (this.isText)\n            throw new Error(\"NodeType.create can't construct text nodes\");\n        return new Node(this, this.computeAttrs(attrs), Fragment.from(content), Mark.setFrom(marks));\n    }\n    /**\n    Like [`create`](https://prosemirror.net/docs/ref/#model.NodeType.create), but check the given content\n    against the node type's content restrictions, and throw an error\n    if it doesn't match.\n    */\n    createChecked(attrs = null, content, marks) {\n        content = Fragment.from(content);\n        this.checkContent(content);\n        return new Node(this, this.computeAttrs(attrs), content, Mark.setFrom(marks));\n    }\n    /**\n    Like [`create`](https://prosemirror.net/docs/ref/#model.NodeType.create), but see if it is\n    necessary to add nodes to the start or end of the given fragment\n    to make it fit the node. If no fitting wrapping can be found,\n    return null. Note that, due to the fact that required nodes can\n    always be created, this will always succeed if you pass null or\n    `Fragment.empty` as content.\n    */\n    createAndFill(attrs = null, content, marks) {\n        attrs = this.computeAttrs(attrs);\n        content = Fragment.from(content);\n        if (content.size) {\n            let before = this.contentMatch.fillBefore(content);\n            if (!before)\n                return null;\n            content = before.append(content);\n        }\n        let matched = this.contentMatch.matchFragment(content);\n        let after = matched && matched.fillBefore(Fragment.empty, true);\n        if (!after)\n            return null;\n        return new Node(this, attrs, content.append(after), Mark.setFrom(marks));\n    }\n    /**\n    Returns true if the given fragment is valid content for this node\n    type with the given attributes.\n    */\n    validContent(content) {\n        let result = this.contentMatch.matchFragment(content);\n        if (!result || !result.validEnd)\n            return false;\n        for (let i = 0; i < content.childCount; i++)\n            if (!this.allowsMarks(content.child(i).marks))\n                return false;\n        return true;\n    }\n    /**\n    Throws a RangeError if the given fragment is not valid content for this\n    node type.\n    @internal\n    */\n    checkContent(content) {\n        if (!this.validContent(content))\n            throw new RangeError(`Invalid content for node ${this.name}: ${content.toString().slice(0, 50)}`);\n    }\n    /**\n    Check whether the given mark type is allowed in this node.\n    */\n    allowsMarkType(markType) {\n        return this.markSet == null || this.markSet.indexOf(markType) > -1;\n    }\n    /**\n    Test whether the given set of marks are allowed in this node.\n    */\n    allowsMarks(marks) {\n        if (this.markSet == null)\n            return true;\n        for (let i = 0; i < marks.length; i++)\n            if (!this.allowsMarkType(marks[i].type))\n                return false;\n        return true;\n    }\n    /**\n    Removes the marks that are not allowed in this node from the given set.\n    */\n    allowedMarks(marks) {\n        if (this.markSet == null)\n            return marks;\n        let copy;\n        for (let i = 0; i < marks.length; i++) {\n            if (!this.allowsMarkType(marks[i].type)) {\n                if (!copy)\n                    copy = marks.slice(0, i);\n            }\n            else if (copy) {\n                copy.push(marks[i]);\n            }\n        }\n        return !copy ? marks : copy.length ? copy : Mark.none;\n    }\n    /**\n    @internal\n    */\n    static compile(nodes, schema) {\n        let result = Object.create(null);\n        nodes.forEach((name, spec) => result[name] = new NodeType(name, schema, spec));\n        let topType = schema.spec.topNode || \"doc\";\n        if (!result[topType])\n            throw new RangeError(\"Schema is missing its top node type ('\" + topType + \"')\");\n        if (!result.text)\n            throw new RangeError(\"Every schema needs a 'text' type\");\n        for (let _ in result.text.attrs)\n            throw new RangeError(\"The text node type should not have attributes\");\n        return result;\n    }\n}\n// Attribute descriptors\nclass Attribute {\n    constructor(options) {\n        this.hasDefault = Object.prototype.hasOwnProperty.call(options, \"default\");\n        this.default = options.default;\n    }\n    get isRequired() {\n        return !this.hasDefault;\n    }\n}\n// Marks\n/**\nLike nodes, marks (which are associated with nodes to signify\nthings like emphasis or being part of a link) are\n[tagged](https://prosemirror.net/docs/ref/#model.Mark.type) with type objects, which are\ninstantiated once per `Schema`.\n*/\nclass MarkType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name of the mark type.\n    */\n    name, \n    /**\n    @internal\n    */\n    rank, \n    /**\n    The schema that this mark type instance is part of.\n    */\n    schema, \n    /**\n    The spec on which the type is based.\n    */\n    spec) {\n        this.name = name;\n        this.rank = rank;\n        this.schema = schema;\n        this.spec = spec;\n        this.attrs = initAttrs(spec.attrs);\n        this.excluded = null;\n        let defaults = defaultAttrs(this.attrs);\n        this.instance = defaults ? new Mark(this, defaults) : null;\n    }\n    /**\n    Create a mark of this type. `attrs` may be `null` or an object\n    containing only some of the mark's attributes. The others, if\n    they have defaults, will be added.\n    */\n    create(attrs = null) {\n        if (!attrs && this.instance)\n            return this.instance;\n        return new Mark(this, computeAttrs(this.attrs, attrs));\n    }\n    /**\n    @internal\n    */\n    static compile(marks, schema) {\n        let result = Object.create(null), rank = 0;\n        marks.forEach((name, spec) => result[name] = new MarkType(name, rank++, schema, spec));\n        return result;\n    }\n    /**\n    When there is a mark of this type in the given set, a new set\n    without it is returned. Otherwise, the input set is returned.\n    */\n    removeFromSet(set) {\n        for (var i = 0; i < set.length; i++)\n            if (set[i].type == this) {\n                set = set.slice(0, i).concat(set.slice(i + 1));\n                i--;\n            }\n        return set;\n    }\n    /**\n    Tests whether there is a mark of this type in the given set.\n    */\n    isInSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (set[i].type == this)\n                return set[i];\n    }\n    /**\n    Queries whether a given mark type is\n    [excluded](https://prosemirror.net/docs/ref/#model.MarkSpec.excludes) by this one.\n    */\n    excludes(other) {\n        return this.excluded.indexOf(other) > -1;\n    }\n}\n/**\nA document schema. Holds [node](https://prosemirror.net/docs/ref/#model.NodeType) and [mark\ntype](https://prosemirror.net/docs/ref/#model.MarkType) objects for the nodes and marks that may\noccur in conforming documents, and provides functionality for\ncreating and deserializing such documents.\n\nWhen given, the type parameters provide the names of the nodes and\nmarks in this schema.\n*/\nclass Schema {\n    /**\n    Construct a schema from a schema [specification](https://prosemirror.net/docs/ref/#model.SchemaSpec).\n    */\n    constructor(spec) {\n        /**\n        An object for storing whatever values modules may want to\n        compute and cache per schema. (If you want to store something\n        in it, try to use property names unlikely to clash.)\n        */\n        this.cached = Object.create(null);\n        let instanceSpec = this.spec = {};\n        for (let prop in spec)\n            instanceSpec[prop] = spec[prop];\n        instanceSpec.nodes = OrderedMap.from(spec.nodes),\n            instanceSpec.marks = OrderedMap.from(spec.marks || {}),\n            this.nodes = NodeType.compile(this.spec.nodes, this);\n        this.marks = MarkType.compile(this.spec.marks, this);\n        let contentExprCache = Object.create(null);\n        for (let prop in this.nodes) {\n            if (prop in this.marks)\n                throw new RangeError(prop + \" can not be both a node and a mark\");\n            let type = this.nodes[prop], contentExpr = type.spec.content || \"\", markExpr = type.spec.marks;\n            type.contentMatch = contentExprCache[contentExpr] ||\n                (contentExprCache[contentExpr] = ContentMatch.parse(contentExpr, this.nodes));\n            type.inlineContent = type.contentMatch.inlineContent;\n            type.markSet = markExpr == \"_\" ? null :\n                markExpr ? gatherMarks(this, markExpr.split(\" \")) :\n                    markExpr == \"\" || !type.inlineContent ? [] : null;\n        }\n        for (let prop in this.marks) {\n            let type = this.marks[prop], excl = type.spec.excludes;\n            type.excluded = excl == null ? [type] : excl == \"\" ? [] : gatherMarks(this, excl.split(\" \"));\n        }\n        this.nodeFromJSON = this.nodeFromJSON.bind(this);\n        this.markFromJSON = this.markFromJSON.bind(this);\n        this.topNodeType = this.nodes[this.spec.topNode || \"doc\"];\n        this.cached.wrappings = Object.create(null);\n    }\n    /**\n    Create a node in this schema. The `type` may be a string or a\n    `NodeType` instance. Attributes will be extended with defaults,\n    `content` may be a `Fragment`, `null`, a `Node`, or an array of\n    nodes.\n    */\n    node(type, attrs = null, content, marks) {\n        if (typeof type == \"string\")\n            type = this.nodeType(type);\n        else if (!(type instanceof NodeType))\n            throw new RangeError(\"Invalid node type: \" + type);\n        else if (type.schema != this)\n            throw new RangeError(\"Node type from different schema used (\" + type.name + \")\");\n        return type.createChecked(attrs, content, marks);\n    }\n    /**\n    Create a text node in the schema. Empty text nodes are not\n    allowed.\n    */\n    text(text, marks) {\n        let type = this.nodes.text;\n        return new TextNode(type, type.defaultAttrs, text, Mark.setFrom(marks));\n    }\n    /**\n    Create a mark with the given type and attributes.\n    */\n    mark(type, attrs) {\n        if (typeof type == \"string\")\n            type = this.marks[type];\n        return type.create(attrs);\n    }\n    /**\n    Deserialize a node from its JSON representation. This method is\n    bound.\n    */\n    nodeFromJSON(json) {\n        return Node.fromJSON(this, json);\n    }\n    /**\n    Deserialize a mark from its JSON representation. This method is\n    bound.\n    */\n    markFromJSON(json) {\n        return Mark.fromJSON(this, json);\n    }\n    /**\n    @internal\n    */\n    nodeType(name) {\n        let found = this.nodes[name];\n        if (!found)\n            throw new RangeError(\"Unknown node type: \" + name);\n        return found;\n    }\n}\nfunction gatherMarks(schema, marks) {\n    let found = [];\n    for (let i = 0; i < marks.length; i++) {\n        let name = marks[i], mark = schema.marks[name], ok = mark;\n        if (mark) {\n            found.push(mark);\n        }\n        else {\n            for (let prop in schema.marks) {\n                let mark = schema.marks[prop];\n                if (name == \"_\" || (mark.spec.group && mark.spec.group.split(\" \").indexOf(name) > -1))\n                    found.push(ok = mark);\n            }\n        }\n        if (!ok)\n            throw new SyntaxError(\"Unknown mark type: '\" + marks[i] + \"'\");\n    }\n    return found;\n}\n\n/**\nA DOM parser represents a strategy for parsing DOM content into a\nProseMirror document conforming to a given schema. Its behavior is\ndefined by an array of [rules](https://prosemirror.net/docs/ref/#model.ParseRule).\n*/\nclass DOMParser {\n    /**\n    Create a parser that targets the given schema, using the given\n    parsing rules.\n    */\n    constructor(\n    /**\n    The schema into which the parser parses.\n    */\n    schema, \n    /**\n    The set of [parse rules](https://prosemirror.net/docs/ref/#model.ParseRule) that the parser\n    uses, in order of precedence.\n    */\n    rules) {\n        this.schema = schema;\n        this.rules = rules;\n        /**\n        @internal\n        */\n        this.tags = [];\n        /**\n        @internal\n        */\n        this.styles = [];\n        rules.forEach(rule => {\n            if (rule.tag)\n                this.tags.push(rule);\n            else if (rule.style)\n                this.styles.push(rule);\n        });\n        // Only normalize list elements when lists in the schema can't directly contain themselves\n        this.normalizeLists = !this.tags.some(r => {\n            if (!/^(ul|ol)\\b/.test(r.tag) || !r.node)\n                return false;\n            let node = schema.nodes[r.node];\n            return node.contentMatch.matchType(node);\n        });\n    }\n    /**\n    Parse a document from the content of a DOM node.\n    */\n    parse(dom, options = {}) {\n        let context = new ParseContext(this, options, false);\n        context.addAll(dom, options.from, options.to);\n        return context.finish();\n    }\n    /**\n    Parses the content of the given DOM node, like\n    [`parse`](https://prosemirror.net/docs/ref/#model.DOMParser.parse), and takes the same set of\n    options. But unlike that method, which produces a whole node,\n    this one returns a slice that is open at the sides, meaning that\n    the schema constraints aren't applied to the start of nodes to\n    the left of the input and the end of nodes at the end.\n    */\n    parseSlice(dom, options = {}) {\n        let context = new ParseContext(this, options, true);\n        context.addAll(dom, options.from, options.to);\n        return Slice.maxOpen(context.finish());\n    }\n    /**\n    @internal\n    */\n    matchTag(dom, context, after) {\n        for (let i = after ? this.tags.indexOf(after) + 1 : 0; i < this.tags.length; i++) {\n            let rule = this.tags[i];\n            if (matches(dom, rule.tag) &&\n                (rule.namespace === undefined || dom.namespaceURI == rule.namespace) &&\n                (!rule.context || context.matchesContext(rule.context))) {\n                if (rule.getAttrs) {\n                    let result = rule.getAttrs(dom);\n                    if (result === false)\n                        continue;\n                    rule.attrs = result || undefined;\n                }\n                return rule;\n            }\n        }\n    }\n    /**\n    @internal\n    */\n    matchStyle(prop, value, context, after) {\n        for (let i = after ? this.styles.indexOf(after) + 1 : 0; i < this.styles.length; i++) {\n            let rule = this.styles[i], style = rule.style;\n            if (style.indexOf(prop) != 0 ||\n                rule.context && !context.matchesContext(rule.context) ||\n                // Test that the style string either precisely matches the prop,\n                // or has an '=' sign after the prop, followed by the given\n                // value.\n                style.length > prop.length &&\n                    (style.charCodeAt(prop.length) != 61 || style.slice(prop.length + 1) != value))\n                continue;\n            if (rule.getAttrs) {\n                let result = rule.getAttrs(value);\n                if (result === false)\n                    continue;\n                rule.attrs = result || undefined;\n            }\n            return rule;\n        }\n    }\n    /**\n    @internal\n    */\n    static schemaRules(schema) {\n        let result = [];\n        function insert(rule) {\n            let priority = rule.priority == null ? 50 : rule.priority, i = 0;\n            for (; i < result.length; i++) {\n                let next = result[i], nextPriority = next.priority == null ? 50 : next.priority;\n                if (nextPriority < priority)\n                    break;\n            }\n            result.splice(i, 0, rule);\n        }\n        for (let name in schema.marks) {\n            let rules = schema.marks[name].spec.parseDOM;\n            if (rules)\n                rules.forEach(rule => {\n                    insert(rule = copy(rule));\n                    if (!(rule.mark || rule.ignore || rule.clearMark))\n                        rule.mark = name;\n                });\n        }\n        for (let name in schema.nodes) {\n            let rules = schema.nodes[name].spec.parseDOM;\n            if (rules)\n                rules.forEach(rule => {\n                    insert(rule = copy(rule));\n                    if (!(rule.node || rule.ignore || rule.mark))\n                        rule.node = name;\n                });\n        }\n        return result;\n    }\n    /**\n    Construct a DOM parser using the parsing rules listed in a\n    schema's [node specs](https://prosemirror.net/docs/ref/#model.NodeSpec.parseDOM), reordered by\n    [priority](https://prosemirror.net/docs/ref/#model.ParseRule.priority).\n    */\n    static fromSchema(schema) {\n        return schema.cached.domParser ||\n            (schema.cached.domParser = new DOMParser(schema, DOMParser.schemaRules(schema)));\n    }\n}\nconst blockTags = {\n    address: true, article: true, aside: true, blockquote: true, canvas: true,\n    dd: true, div: true, dl: true, fieldset: true, figcaption: true, figure: true,\n    footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true,\n    h6: true, header: true, hgroup: true, hr: true, li: true, noscript: true, ol: true,\n    output: true, p: true, pre: true, section: true, table: true, tfoot: true, ul: true\n};\nconst ignoreTags = {\n    head: true, noscript: true, object: true, script: true, style: true, title: true\n};\nconst listTags = { ol: true, ul: true };\n// Using a bitfield for node context options\nconst OPT_PRESERVE_WS = 1, OPT_PRESERVE_WS_FULL = 2, OPT_OPEN_LEFT = 4;\nfunction wsOptionsFor(type, preserveWhitespace, base) {\n    if (preserveWhitespace != null)\n        return (preserveWhitespace ? OPT_PRESERVE_WS : 0) |\n            (preserveWhitespace === \"full\" ? OPT_PRESERVE_WS_FULL : 0);\n    return type && type.whitespace == \"pre\" ? OPT_PRESERVE_WS | OPT_PRESERVE_WS_FULL : base & ~OPT_OPEN_LEFT;\n}\nclass NodeContext {\n    constructor(type, attrs, \n    // Marks applied to this node itself\n    marks, \n    // Marks that can't apply here, but will be used in children if possible\n    pendingMarks, solid, match, options) {\n        this.type = type;\n        this.attrs = attrs;\n        this.marks = marks;\n        this.pendingMarks = pendingMarks;\n        this.solid = solid;\n        this.options = options;\n        this.content = [];\n        // Marks applied to the node's children\n        this.activeMarks = Mark.none;\n        // Nested Marks with same type\n        this.stashMarks = [];\n        this.match = match || (options & OPT_OPEN_LEFT ? null : type.contentMatch);\n    }\n    findWrapping(node) {\n        if (!this.match) {\n            if (!this.type)\n                return [];\n            let fill = this.type.contentMatch.fillBefore(Fragment.from(node));\n            if (fill) {\n                this.match = this.type.contentMatch.matchFragment(fill);\n            }\n            else {\n                let start = this.type.contentMatch, wrap;\n                if (wrap = start.findWrapping(node.type)) {\n                    this.match = start;\n                    return wrap;\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        return this.match.findWrapping(node.type);\n    }\n    finish(openEnd) {\n        if (!(this.options & OPT_PRESERVE_WS)) { // Strip trailing whitespace\n            let last = this.content[this.content.length - 1], m;\n            if (last && last.isText && (m = /[ \\t\\r\\n\\u000c]+$/.exec(last.text))) {\n                let text = last;\n                if (last.text.length == m[0].length)\n                    this.content.pop();\n                else\n                    this.content[this.content.length - 1] = text.withText(text.text.slice(0, text.text.length - m[0].length));\n            }\n        }\n        let content = Fragment.from(this.content);\n        if (!openEnd && this.match)\n            content = content.append(this.match.fillBefore(Fragment.empty, true));\n        return this.type ? this.type.create(this.attrs, content, this.marks) : content;\n    }\n    popFromStashMark(mark) {\n        for (let i = this.stashMarks.length - 1; i >= 0; i--)\n            if (mark.eq(this.stashMarks[i]))\n                return this.stashMarks.splice(i, 1)[0];\n    }\n    applyPending(nextType) {\n        for (let i = 0, pending = this.pendingMarks; i < pending.length; i++) {\n            let mark = pending[i];\n            if ((this.type ? this.type.allowsMarkType(mark.type) : markMayApply(mark.type, nextType)) &&\n                !mark.isInSet(this.activeMarks)) {\n                this.activeMarks = mark.addToSet(this.activeMarks);\n                this.pendingMarks = mark.removeFromSet(this.pendingMarks);\n            }\n        }\n    }\n    inlineContext(node) {\n        if (this.type)\n            return this.type.inlineContent;\n        if (this.content.length)\n            return this.content[0].isInline;\n        return node.parentNode && !blockTags.hasOwnProperty(node.parentNode.nodeName.toLowerCase());\n    }\n}\nclass ParseContext {\n    constructor(\n    // The parser we are using.\n    parser, \n    // The options passed to this parse.\n    options, isOpen) {\n        this.parser = parser;\n        this.options = options;\n        this.isOpen = isOpen;\n        this.open = 0;\n        let topNode = options.topNode, topContext;\n        let topOptions = wsOptionsFor(null, options.preserveWhitespace, 0) | (isOpen ? OPT_OPEN_LEFT : 0);\n        if (topNode)\n            topContext = new NodeContext(topNode.type, topNode.attrs, Mark.none, Mark.none, true, options.topMatch || topNode.type.contentMatch, topOptions);\n        else if (isOpen)\n            topContext = new NodeContext(null, null, Mark.none, Mark.none, true, null, topOptions);\n        else\n            topContext = new NodeContext(parser.schema.topNodeType, null, Mark.none, Mark.none, true, null, topOptions);\n        this.nodes = [topContext];\n        this.find = options.findPositions;\n        this.needsBlock = false;\n    }\n    get top() {\n        return this.nodes[this.open];\n    }\n    // Add a DOM node to the content. Text is inserted as text node,\n    // otherwise, the node is passed to `addElement` or, if it has a\n    // `style` attribute, `addElementWithStyles`.\n    addDOM(dom) {\n        if (dom.nodeType == 3)\n            this.addTextNode(dom);\n        else if (dom.nodeType == 1)\n            this.addElement(dom);\n    }\n    withStyleRules(dom, f) {\n        let style = dom.getAttribute(\"style\");\n        if (!style)\n            return f();\n        let marks = this.readStyles(parseStyles(style));\n        if (!marks)\n            return; // A style with ignore: true\n        let [addMarks, removeMarks] = marks, top = this.top;\n        for (let i = 0; i < removeMarks.length; i++)\n            this.removePendingMark(removeMarks[i], top);\n        for (let i = 0; i < addMarks.length; i++)\n            this.addPendingMark(addMarks[i]);\n        f();\n        for (let i = 0; i < addMarks.length; i++)\n            this.removePendingMark(addMarks[i], top);\n        for (let i = 0; i < removeMarks.length; i++)\n            this.addPendingMark(removeMarks[i]);\n    }\n    addTextNode(dom) {\n        let value = dom.nodeValue;\n        let top = this.top;\n        if (top.options & OPT_PRESERVE_WS_FULL ||\n            top.inlineContext(dom) ||\n            /[^ \\t\\r\\n\\u000c]/.test(value)) {\n            if (!(top.options & OPT_PRESERVE_WS)) {\n                value = value.replace(/[ \\t\\r\\n\\u000c]+/g, \" \");\n                // If this starts with whitespace, and there is no node before it, or\n                // a hard break, or a text node that ends with whitespace, strip the\n                // leading space.\n                if (/^[ \\t\\r\\n\\u000c]/.test(value) && this.open == this.nodes.length - 1) {\n                    let nodeBefore = top.content[top.content.length - 1];\n                    let domNodeBefore = dom.previousSibling;\n                    if (!nodeBefore ||\n                        (domNodeBefore && domNodeBefore.nodeName == 'BR') ||\n                        (nodeBefore.isText && /[ \\t\\r\\n\\u000c]$/.test(nodeBefore.text)))\n                        value = value.slice(1);\n                }\n            }\n            else if (!(top.options & OPT_PRESERVE_WS_FULL)) {\n                value = value.replace(/\\r?\\n|\\r/g, \" \");\n            }\n            else {\n                value = value.replace(/\\r\\n?/g, \"\\n\");\n            }\n            if (value)\n                this.insertNode(this.parser.schema.text(value));\n            this.findInText(dom);\n        }\n        else {\n            this.findInside(dom);\n        }\n    }\n    // Try to find a handler for the given tag and use that to parse. If\n    // none is found, the element's content nodes are added directly.\n    addElement(dom, matchAfter) {\n        let name = dom.nodeName.toLowerCase(), ruleID;\n        if (listTags.hasOwnProperty(name) && this.parser.normalizeLists)\n            normalizeList(dom);\n        let rule = (this.options.ruleFromNode && this.options.ruleFromNode(dom)) ||\n            (ruleID = this.parser.matchTag(dom, this, matchAfter));\n        if (rule ? rule.ignore : ignoreTags.hasOwnProperty(name)) {\n            this.findInside(dom);\n            this.ignoreFallback(dom);\n        }\n        else if (!rule || rule.skip || rule.closeParent) {\n            if (rule && rule.closeParent)\n                this.open = Math.max(0, this.open - 1);\n            else if (rule && rule.skip.nodeType)\n                dom = rule.skip;\n            let sync, top = this.top, oldNeedsBlock = this.needsBlock;\n            if (blockTags.hasOwnProperty(name)) {\n                if (top.content.length && top.content[0].isInline && this.open) {\n                    this.open--;\n                    top = this.top;\n                }\n                sync = true;\n                if (!top.type)\n                    this.needsBlock = true;\n            }\n            else if (!dom.firstChild) {\n                this.leafFallback(dom);\n                return;\n            }\n            if (rule && rule.skip)\n                this.addAll(dom);\n            else\n                this.withStyleRules(dom, () => this.addAll(dom));\n            if (sync)\n                this.sync(top);\n            this.needsBlock = oldNeedsBlock;\n        }\n        else {\n            this.withStyleRules(dom, () => {\n                this.addElementByRule(dom, rule, rule.consuming === false ? ruleID : undefined);\n            });\n        }\n    }\n    // Called for leaf DOM nodes that would otherwise be ignored\n    leafFallback(dom) {\n        if (dom.nodeName == \"BR\" && this.top.type && this.top.type.inlineContent)\n            this.addTextNode(dom.ownerDocument.createTextNode(\"\\n\"));\n    }\n    // Called for ignored nodes\n    ignoreFallback(dom) {\n        // Ignored BR nodes should at least create an inline context\n        if (dom.nodeName == \"BR\" && (!this.top.type || !this.top.type.inlineContent))\n            this.findPlace(this.parser.schema.text(\"-\"));\n    }\n    // Run any style parser associated with the node's styles. Either\n    // return an array of marks, or null to indicate some of the styles\n    // had a rule with `ignore` set.\n    readStyles(styles) {\n        let add = Mark.none, remove = Mark.none;\n        for (let i = 0; i < styles.length; i += 2) {\n            for (let after = undefined;;) {\n                let rule = this.parser.matchStyle(styles[i], styles[i + 1], this, after);\n                if (!rule)\n                    break;\n                if (rule.ignore)\n                    return null;\n                if (rule.clearMark) {\n                    this.top.pendingMarks.concat(this.top.activeMarks).forEach(m => {\n                        if (rule.clearMark(m))\n                            remove = m.addToSet(remove);\n                    });\n                }\n                else {\n                    add = this.parser.schema.marks[rule.mark].create(rule.attrs).addToSet(add);\n                }\n                if (rule.consuming === false)\n                    after = rule;\n                else\n                    break;\n            }\n        }\n        return [add, remove];\n    }\n    // Look up a handler for the given node. If none are found, return\n    // false. Otherwise, apply it, use its return value to drive the way\n    // the node's content is wrapped, and return true.\n    addElementByRule(dom, rule, continueAfter) {\n        let sync, nodeType, mark;\n        if (rule.node) {\n            nodeType = this.parser.schema.nodes[rule.node];\n            if (!nodeType.isLeaf) {\n                sync = this.enter(nodeType, rule.attrs || null, rule.preserveWhitespace);\n            }\n            else if (!this.insertNode(nodeType.create(rule.attrs))) {\n                this.leafFallback(dom);\n            }\n        }\n        else {\n            let markType = this.parser.schema.marks[rule.mark];\n            mark = markType.create(rule.attrs);\n            this.addPendingMark(mark);\n        }\n        let startIn = this.top;\n        if (nodeType && nodeType.isLeaf) {\n            this.findInside(dom);\n        }\n        else if (continueAfter) {\n            this.addElement(dom, continueAfter);\n        }\n        else if (rule.getContent) {\n            this.findInside(dom);\n            rule.getContent(dom, this.parser.schema).forEach(node => this.insertNode(node));\n        }\n        else {\n            let contentDOM = dom;\n            if (typeof rule.contentElement == \"string\")\n                contentDOM = dom.querySelector(rule.contentElement);\n            else if (typeof rule.contentElement == \"function\")\n                contentDOM = rule.contentElement(dom);\n            else if (rule.contentElement)\n                contentDOM = rule.contentElement;\n            this.findAround(dom, contentDOM, true);\n            this.addAll(contentDOM);\n        }\n        if (sync && this.sync(startIn))\n            this.open--;\n        if (mark)\n            this.removePendingMark(mark, startIn);\n    }\n    // Add all child nodes between `startIndex` and `endIndex` (or the\n    // whole node, if not given). If `sync` is passed, use it to\n    // synchronize after every block element.\n    addAll(parent, startIndex, endIndex) {\n        let index = startIndex || 0;\n        for (let dom = startIndex ? parent.childNodes[startIndex] : parent.firstChild, end = endIndex == null ? null : parent.childNodes[endIndex]; dom != end; dom = dom.nextSibling, ++index) {\n            this.findAtPoint(parent, index);\n            this.addDOM(dom);\n        }\n        this.findAtPoint(parent, index);\n    }\n    // Try to find a way to fit the given node type into the current\n    // context. May add intermediate wrappers and/or leave non-solid\n    // nodes that we're in.\n    findPlace(node) {\n        let route, sync;\n        for (let depth = this.open; depth >= 0; depth--) {\n            let cx = this.nodes[depth];\n            let found = cx.findWrapping(node);\n            if (found && (!route || route.length > found.length)) {\n                route = found;\n                sync = cx;\n                if (!found.length)\n                    break;\n            }\n            if (cx.solid)\n                break;\n        }\n        if (!route)\n            return false;\n        this.sync(sync);\n        for (let i = 0; i < route.length; i++)\n            this.enterInner(route[i], null, false);\n        return true;\n    }\n    // Try to insert the given node, adjusting the context when needed.\n    insertNode(node) {\n        if (node.isInline && this.needsBlock && !this.top.type) {\n            let block = this.textblockFromContext();\n            if (block)\n                this.enterInner(block);\n        }\n        if (this.findPlace(node)) {\n            this.closeExtra();\n            let top = this.top;\n            top.applyPending(node.type);\n            if (top.match)\n                top.match = top.match.matchType(node.type);\n            let marks = top.activeMarks;\n            for (let i = 0; i < node.marks.length; i++)\n                if (!top.type || top.type.allowsMarkType(node.marks[i].type))\n                    marks = node.marks[i].addToSet(marks);\n            top.content.push(node.mark(marks));\n            return true;\n        }\n        return false;\n    }\n    // Try to start a node of the given type, adjusting the context when\n    // necessary.\n    enter(type, attrs, preserveWS) {\n        let ok = this.findPlace(type.create(attrs));\n        if (ok)\n            this.enterInner(type, attrs, true, preserveWS);\n        return ok;\n    }\n    // Open a node of the given type\n    enterInner(type, attrs = null, solid = false, preserveWS) {\n        this.closeExtra();\n        let top = this.top;\n        top.applyPending(type);\n        top.match = top.match && top.match.matchType(type);\n        let options = wsOptionsFor(type, preserveWS, top.options);\n        if ((top.options & OPT_OPEN_LEFT) && top.content.length == 0)\n            options |= OPT_OPEN_LEFT;\n        this.nodes.push(new NodeContext(type, attrs, top.activeMarks, top.pendingMarks, solid, null, options));\n        this.open++;\n    }\n    // Make sure all nodes above this.open are finished and added to\n    // their parents\n    closeExtra(openEnd = false) {\n        let i = this.nodes.length - 1;\n        if (i > this.open) {\n            for (; i > this.open; i--)\n                this.nodes[i - 1].content.push(this.nodes[i].finish(openEnd));\n            this.nodes.length = this.open + 1;\n        }\n    }\n    finish() {\n        this.open = 0;\n        this.closeExtra(this.isOpen);\n        return this.nodes[0].finish(this.isOpen || this.options.topOpen);\n    }\n    sync(to) {\n        for (let i = this.open; i >= 0; i--)\n            if (this.nodes[i] == to) {\n                this.open = i;\n                return true;\n            }\n        return false;\n    }\n    get currentPos() {\n        this.closeExtra();\n        let pos = 0;\n        for (let i = this.open; i >= 0; i--) {\n            let content = this.nodes[i].content;\n            for (let j = content.length - 1; j >= 0; j--)\n                pos += content[j].nodeSize;\n            if (i)\n                pos++;\n        }\n        return pos;\n    }\n    findAtPoint(parent, offset) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].node == parent && this.find[i].offset == offset)\n                    this.find[i].pos = this.currentPos;\n            }\n    }\n    findInside(parent) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].pos == null && parent.nodeType == 1 && parent.contains(this.find[i].node))\n                    this.find[i].pos = this.currentPos;\n            }\n    }\n    findAround(parent, content, before) {\n        if (parent != content && this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].pos == null && parent.nodeType == 1 && parent.contains(this.find[i].node)) {\n                    let pos = content.compareDocumentPosition(this.find[i].node);\n                    if (pos & (before ? 2 : 4))\n                        this.find[i].pos = this.currentPos;\n                }\n            }\n    }\n    findInText(textNode) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].node == textNode)\n                    this.find[i].pos = this.currentPos - (textNode.nodeValue.length - this.find[i].offset);\n            }\n    }\n    // Determines whether the given context string matches this context.\n    matchesContext(context) {\n        if (context.indexOf(\"|\") > -1)\n            return context.split(/\\s*\\|\\s*/).some(this.matchesContext, this);\n        let parts = context.split(\"/\");\n        let option = this.options.context;\n        let useRoot = !this.isOpen && (!option || option.parent.type == this.nodes[0].type);\n        let minDepth = -(option ? option.depth + 1 : 0) + (useRoot ? 0 : 1);\n        let match = (i, depth) => {\n            for (; i >= 0; i--) {\n                let part = parts[i];\n                if (part == \"\") {\n                    if (i == parts.length - 1 || i == 0)\n                        continue;\n                    for (; depth >= minDepth; depth--)\n                        if (match(i - 1, depth))\n                            return true;\n                    return false;\n                }\n                else {\n                    let next = depth > 0 || (depth == 0 && useRoot) ? this.nodes[depth].type\n                        : option && depth >= minDepth ? option.node(depth - minDepth).type\n                            : null;\n                    if (!next || (next.name != part && next.groups.indexOf(part) == -1))\n                        return false;\n                    depth--;\n                }\n            }\n            return true;\n        };\n        return match(parts.length - 1, this.open);\n    }\n    textblockFromContext() {\n        let $context = this.options.context;\n        if ($context)\n            for (let d = $context.depth; d >= 0; d--) {\n                let deflt = $context.node(d).contentMatchAt($context.indexAfter(d)).defaultType;\n                if (deflt && deflt.isTextblock && deflt.defaultAttrs)\n                    return deflt;\n            }\n        for (let name in this.parser.schema.nodes) {\n            let type = this.parser.schema.nodes[name];\n            if (type.isTextblock && type.defaultAttrs)\n                return type;\n        }\n    }\n    addPendingMark(mark) {\n        let found = findSameMarkInSet(mark, this.top.pendingMarks);\n        if (found)\n            this.top.stashMarks.push(found);\n        this.top.pendingMarks = mark.addToSet(this.top.pendingMarks);\n    }\n    removePendingMark(mark, upto) {\n        for (let depth = this.open; depth >= 0; depth--) {\n            let level = this.nodes[depth];\n            let found = level.pendingMarks.lastIndexOf(mark);\n            if (found > -1) {\n                level.pendingMarks = mark.removeFromSet(level.pendingMarks);\n            }\n            else {\n                level.activeMarks = mark.removeFromSet(level.activeMarks);\n                let stashMark = level.popFromStashMark(mark);\n                if (stashMark && level.type && level.type.allowsMarkType(stashMark.type))\n                    level.activeMarks = stashMark.addToSet(level.activeMarks);\n            }\n            if (level == upto)\n                break;\n        }\n    }\n}\n// Kludge to work around directly nested list nodes produced by some\n// tools and allowed by browsers to mean that the nested list is\n// actually part of the list item above it.\nfunction normalizeList(dom) {\n    for (let child = dom.firstChild, prevItem = null; child; child = child.nextSibling) {\n        let name = child.nodeType == 1 ? child.nodeName.toLowerCase() : null;\n        if (name && listTags.hasOwnProperty(name) && prevItem) {\n            prevItem.appendChild(child);\n            child = prevItem;\n        }\n        else if (name == \"li\") {\n            prevItem = child;\n        }\n        else if (name) {\n            prevItem = null;\n        }\n    }\n}\n// Apply a CSS selector.\nfunction matches(dom, selector) {\n    return (dom.matches || dom.msMatchesSelector || dom.webkitMatchesSelector || dom.mozMatchesSelector).call(dom, selector);\n}\n// Tokenize a style attribute into property/value pairs.\nfunction parseStyles(style) {\n    let re = /\\s*([\\w-]+)\\s*:\\s*([^;]+)/g, m, result = [];\n    while (m = re.exec(style))\n        result.push(m[1], m[2].trim());\n    return result;\n}\nfunction copy(obj) {\n    let copy = {};\n    for (let prop in obj)\n        copy[prop] = obj[prop];\n    return copy;\n}\n// Used when finding a mark at the top level of a fragment parse.\n// Checks whether it would be reasonable to apply a given mark type to\n// a given node, by looking at the way the mark occurs in the schema.\nfunction markMayApply(markType, nodeType) {\n    let nodes = nodeType.schema.nodes;\n    for (let name in nodes) {\n        let parent = nodes[name];\n        if (!parent.allowsMarkType(markType))\n            continue;\n        let seen = [], scan = (match) => {\n            seen.push(match);\n            for (let i = 0; i < match.edgeCount; i++) {\n                let { type, next } = match.edge(i);\n                if (type == nodeType)\n                    return true;\n                if (seen.indexOf(next) < 0 && scan(next))\n                    return true;\n            }\n        };\n        if (scan(parent.contentMatch))\n            return true;\n    }\n}\nfunction findSameMarkInSet(mark, set) {\n    for (let i = 0; i < set.length; i++) {\n        if (mark.eq(set[i]))\n            return set[i];\n    }\n}\n\n/**\nA DOM serializer knows how to convert ProseMirror nodes and\nmarks of various types to DOM nodes.\n*/\nclass DOMSerializer {\n    /**\n    Create a serializer. `nodes` should map node names to functions\n    that take a node and return a description of the corresponding\n    DOM. `marks` does the same for mark names, but also gets an\n    argument that tells it whether the mark's content is block or\n    inline content (for typical use, it'll always be inline). A mark\n    serializer may be `null` to indicate that marks of that type\n    should not be serialized.\n    */\n    constructor(\n    /**\n    The node serialization functions.\n    */\n    nodes, \n    /**\n    The mark serialization functions.\n    */\n    marks) {\n        this.nodes = nodes;\n        this.marks = marks;\n    }\n    /**\n    Serialize the content of this fragment to a DOM fragment. When\n    not in the browser, the `document` option, containing a DOM\n    document, should be passed so that the serializer can create\n    nodes.\n    */\n    serializeFragment(fragment, options = {}, target) {\n        if (!target)\n            target = doc(options).createDocumentFragment();\n        let top = target, active = [];\n        fragment.forEach(node => {\n            if (active.length || node.marks.length) {\n                let keep = 0, rendered = 0;\n                while (keep < active.length && rendered < node.marks.length) {\n                    let next = node.marks[rendered];\n                    if (!this.marks[next.type.name]) {\n                        rendered++;\n                        continue;\n                    }\n                    if (!next.eq(active[keep][0]) || next.type.spec.spanning === false)\n                        break;\n                    keep++;\n                    rendered++;\n                }\n                while (keep < active.length)\n                    top = active.pop()[1];\n                while (rendered < node.marks.length) {\n                    let add = node.marks[rendered++];\n                    let markDOM = this.serializeMark(add, node.isInline, options);\n                    if (markDOM) {\n                        active.push([add, top]);\n                        top.appendChild(markDOM.dom);\n                        top = markDOM.contentDOM || markDOM.dom;\n                    }\n                }\n            }\n            top.appendChild(this.serializeNodeInner(node, options));\n        });\n        return target;\n    }\n    /**\n    @internal\n    */\n    serializeNodeInner(node, options) {\n        let { dom, contentDOM } = DOMSerializer.renderSpec(doc(options), this.nodes[node.type.name](node));\n        if (contentDOM) {\n            if (node.isLeaf)\n                throw new RangeError(\"Content hole not allowed in a leaf node spec\");\n            this.serializeFragment(node.content, options, contentDOM);\n        }\n        return dom;\n    }\n    /**\n    Serialize this node to a DOM node. This can be useful when you\n    need to serialize a part of a document, as opposed to the whole\n    document. To serialize a whole document, use\n    [`serializeFragment`](https://prosemirror.net/docs/ref/#model.DOMSerializer.serializeFragment) on\n    its [content](https://prosemirror.net/docs/ref/#model.Node.content).\n    */\n    serializeNode(node, options = {}) {\n        let dom = this.serializeNodeInner(node, options);\n        for (let i = node.marks.length - 1; i >= 0; i--) {\n            let wrap = this.serializeMark(node.marks[i], node.isInline, options);\n            if (wrap) {\n                (wrap.contentDOM || wrap.dom).appendChild(dom);\n                dom = wrap.dom;\n            }\n        }\n        return dom;\n    }\n    /**\n    @internal\n    */\n    serializeMark(mark, inline, options = {}) {\n        let toDOM = this.marks[mark.type.name];\n        return toDOM && DOMSerializer.renderSpec(doc(options), toDOM(mark, inline));\n    }\n    /**\n    Render an [output spec](https://prosemirror.net/docs/ref/#model.DOMOutputSpec) to a DOM node. If\n    the spec has a hole (zero) in it, `contentDOM` will point at the\n    node with the hole.\n    */\n    static renderSpec(doc, structure, xmlNS = null) {\n        if (typeof structure == \"string\")\n            return { dom: doc.createTextNode(structure) };\n        if (structure.nodeType != null)\n            return { dom: structure };\n        if (structure.dom && structure.dom.nodeType != null)\n            return structure;\n        let tagName = structure[0], space = tagName.indexOf(\" \");\n        if (space > 0) {\n            xmlNS = tagName.slice(0, space);\n            tagName = tagName.slice(space + 1);\n        }\n        let contentDOM;\n        let dom = (xmlNS ? doc.createElementNS(xmlNS, tagName) : doc.createElement(tagName));\n        let attrs = structure[1], start = 1;\n        if (attrs && typeof attrs == \"object\" && attrs.nodeType == null && !Array.isArray(attrs)) {\n            start = 2;\n            for (let name in attrs)\n                if (attrs[name] != null) {\n                    let space = name.indexOf(\" \");\n                    if (space > 0)\n                        dom.setAttributeNS(name.slice(0, space), name.slice(space + 1), attrs[name]);\n                    else\n                        dom.setAttribute(name, attrs[name]);\n                }\n        }\n        for (let i = start; i < structure.length; i++) {\n            let child = structure[i];\n            if (child === 0) {\n                if (i < structure.length - 1 || i > start)\n                    throw new RangeError(\"Content hole must be the only child of its parent node\");\n                return { dom, contentDOM: dom };\n            }\n            else {\n                let { dom: inner, contentDOM: innerContent } = DOMSerializer.renderSpec(doc, child, xmlNS);\n                dom.appendChild(inner);\n                if (innerContent) {\n                    if (contentDOM)\n                        throw new RangeError(\"Multiple content holes\");\n                    contentDOM = innerContent;\n                }\n            }\n        }\n        return { dom, contentDOM };\n    }\n    /**\n    Build a serializer using the [`toDOM`](https://prosemirror.net/docs/ref/#model.NodeSpec.toDOM)\n    properties in a schema's node and mark specs.\n    */\n    static fromSchema(schema) {\n        return schema.cached.domSerializer ||\n            (schema.cached.domSerializer = new DOMSerializer(this.nodesFromSchema(schema), this.marksFromSchema(schema)));\n    }\n    /**\n    Gather the serializers in a schema's node specs into an object.\n    This can be useful as a base to build a custom serializer from.\n    */\n    static nodesFromSchema(schema) {\n        let result = gatherToDOM(schema.nodes);\n        if (!result.text)\n            result.text = node => node.text;\n        return result;\n    }\n    /**\n    Gather the serializers in a schema's mark specs into an object.\n    */\n    static marksFromSchema(schema) {\n        return gatherToDOM(schema.marks);\n    }\n}\nfunction gatherToDOM(obj) {\n    let result = {};\n    for (let name in obj) {\n        let toDOM = obj[name].spec.toDOM;\n        if (toDOM)\n            result[name] = toDOM;\n    }\n    return result;\n}\nfunction doc(options) {\n    return options.document || window.document;\n}\n\nexport { ContentMatch, DOMParser, DOMSerializer, Fragment, Mark, MarkType, Node, NodeRange, NodeType, ReplaceError, ResolvedPos, Schema, Slice };\n", "import { ReplaceError, Slice, Fragment, MarkType, Mark } from 'prosemirror-model';\n\n// Recovery values encode a range index and an offset. They are\n// represented as numbers, because tons of them will be created when\n// mapping, for example, a large number of decorations. The number's\n// lower 16 bits provide the index, the remaining bits the offset.\n//\n// Note: We intentionally don't use bit shift operators to en- and\n// decode these, since those clip to 32 bits, which we might in rare\n// cases want to overflow. A 64-bit float can represent 48-bit\n// integers precisely.\nconst lower16 = 0xffff;\nconst factor16 = Math.pow(2, 16);\nfunction makeRecover(index, offset) { return index + offset * factor16; }\nfunction recoverIndex(value) { return value & lower16; }\nfunction recoverOffset(value) { return (value - (value & lower16)) / factor16; }\nconst DEL_BEFORE = 1, DEL_AFTER = 2, DEL_ACROSS = 4, DEL_SIDE = 8;\n/**\nAn object representing a mapped position with extra\ninformation.\n*/\nclass MapResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The mapped version of the position.\n    */\n    pos, \n    /**\n    @internal\n    */\n    delInfo, \n    /**\n    @internal\n    */\n    recover) {\n        this.pos = pos;\n        this.delInfo = delInfo;\n        this.recover = recover;\n    }\n    /**\n    Tells you whether the position was deleted, that is, whether the\n    step removed the token on the side queried (via the `assoc`)\n    argument from the document.\n    */\n    get deleted() { return (this.delInfo & DEL_SIDE) > 0; }\n    /**\n    Tells you whether the token before the mapped position was deleted.\n    */\n    get deletedBefore() { return (this.delInfo & (DEL_BEFORE | DEL_ACROSS)) > 0; }\n    /**\n    True when the token after the mapped position was deleted.\n    */\n    get deletedAfter() { return (this.delInfo & (DEL_AFTER | DEL_ACROSS)) > 0; }\n    /**\n    Tells whether any of the steps mapped through deletes across the\n    position (including both the token before and after the\n    position).\n    */\n    get deletedAcross() { return (this.delInfo & DEL_ACROSS) > 0; }\n}\n/**\nA map describing the deletions and insertions made by a step, which\ncan be used to find the correspondence between positions in the\npre-step version of a document and the same position in the\npost-step version.\n*/\nclass StepMap {\n    /**\n    Create a position map. The modifications to the document are\n    represented as an array of numbers, in which each group of three\n    represents a modified chunk as `[start, oldSize, newSize]`.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    ranges, \n    /**\n    @internal\n    */\n    inverted = false) {\n        this.ranges = ranges;\n        this.inverted = inverted;\n        if (!ranges.length && StepMap.empty)\n            return StepMap.empty;\n    }\n    /**\n    @internal\n    */\n    recover(value) {\n        let diff = 0, index = recoverIndex(value);\n        if (!this.inverted)\n            for (let i = 0; i < index; i++)\n                diff += this.ranges[i * 3 + 2] - this.ranges[i * 3 + 1];\n        return this.ranges[index * 3] + diff + recoverOffset(value);\n    }\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    map(pos, assoc = 1) { return this._map(pos, assoc, true); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let diff = 0, oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex], end = start + oldSize;\n            if (pos <= end) {\n                let side = !oldSize ? assoc : pos == start ? -1 : pos == end ? 1 : assoc;\n                let result = start + diff + (side < 0 ? 0 : newSize);\n                if (simple)\n                    return result;\n                let recover = pos == (assoc < 0 ? start : end) ? null : makeRecover(i / 3, pos - start);\n                let del = pos == start ? DEL_AFTER : pos == end ? DEL_BEFORE : DEL_ACROSS;\n                if (assoc < 0 ? pos != start : pos != end)\n                    del |= DEL_SIDE;\n                return new MapResult(result, del, recover);\n            }\n            diff += newSize - oldSize;\n        }\n        return simple ? pos + diff : new MapResult(pos + diff, 0, null);\n    }\n    /**\n    @internal\n    */\n    touches(pos, recover) {\n        let diff = 0, index = recoverIndex(recover);\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], end = start + oldSize;\n            if (pos <= end && i == index * 3)\n                return true;\n            diff += this.ranges[i + newIndex] - oldSize;\n        }\n        return false;\n    }\n    /**\n    Calls the given function on each of the changed ranges included in\n    this map.\n    */\n    forEach(f) {\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0, diff = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i], oldStart = start - (this.inverted ? diff : 0), newStart = start + (this.inverted ? 0 : diff);\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex];\n            f(oldStart, oldStart + oldSize, newStart, newStart + newSize);\n            diff += newSize - oldSize;\n        }\n    }\n    /**\n    Create an inverted version of this map. The result can be used to\n    map positions in the post-step document to the pre-step document.\n    */\n    invert() {\n        return new StepMap(this.ranges, !this.inverted);\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return (this.inverted ? \"-\" : \"\") + JSON.stringify(this.ranges);\n    }\n    /**\n    Create a map that moves all positions by offset `n` (which may be\n    negative). This can be useful when applying steps meant for a\n    sub-document to a larger document, or vice-versa.\n    */\n    static offset(n) {\n        return n == 0 ? StepMap.empty : new StepMap(n < 0 ? [0, -n, 0] : [0, 0, n]);\n    }\n}\n/**\nA StepMap that contains no changed ranges.\n*/\nStepMap.empty = new StepMap([]);\n/**\nA mapping represents a pipeline of zero or more [step\nmaps](https://prosemirror.net/docs/ref/#transform.StepMap). It has special provisions for losslessly\nhandling mapping positions through a series of steps in which some\nsteps are inverted versions of earlier steps. (This comes up when\n\u2018[rebasing](/docs/guide/#transform.rebasing)\u2019 steps for\ncollaboration or history management.)\n*/\nclass Mapping {\n    /**\n    Create a new mapping with the given position maps.\n    */\n    constructor(\n    /**\n    The step maps in this mapping.\n    */\n    maps = [], \n    /**\n    @internal\n    */\n    mirror, \n    /**\n    The starting position in the `maps` array, used when `map` or\n    `mapResult` is called.\n    */\n    from = 0, \n    /**\n    The end position in the `maps` array.\n    */\n    to = maps.length) {\n        this.maps = maps;\n        this.mirror = mirror;\n        this.from = from;\n        this.to = to;\n    }\n    /**\n    Create a mapping that maps only through a part of this one.\n    */\n    slice(from = 0, to = this.maps.length) {\n        return new Mapping(this.maps, this.mirror, from, to);\n    }\n    /**\n    @internal\n    */\n    copy() {\n        return new Mapping(this.maps.slice(), this.mirror && this.mirror.slice(), this.from, this.to);\n    }\n    /**\n    Add a step map to the end of this mapping. If `mirrors` is\n    given, it should be the index of the step map that is the mirror\n    image of this one.\n    */\n    appendMap(map, mirrors) {\n        this.to = this.maps.push(map);\n        if (mirrors != null)\n            this.setMirror(this.maps.length - 1, mirrors);\n    }\n    /**\n    Add all the step maps in a given mapping to this one (preserving\n    mirroring information).\n    */\n    appendMapping(mapping) {\n        for (let i = 0, startSize = this.maps.length; i < mapping.maps.length; i++) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping.maps[i], mirr != null && mirr < i ? startSize + mirr : undefined);\n        }\n    }\n    /**\n    Finds the offset of the step map that mirrors the map at the\n    given offset, in this mapping (as per the second argument to\n    `appendMap`).\n    */\n    getMirror(n) {\n        if (this.mirror)\n            for (let i = 0; i < this.mirror.length; i++)\n                if (this.mirror[i] == n)\n                    return this.mirror[i + (i % 2 ? -1 : 1)];\n    }\n    /**\n    @internal\n    */\n    setMirror(n, m) {\n        if (!this.mirror)\n            this.mirror = [];\n        this.mirror.push(n, m);\n    }\n    /**\n    Append the inverse of the given mapping to this one.\n    */\n    appendMappingInverted(mapping) {\n        for (let i = mapping.maps.length - 1, totalSize = this.maps.length + mapping.maps.length; i >= 0; i--) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping.maps[i].invert(), mirr != null && mirr > i ? totalSize - mirr - 1 : undefined);\n        }\n    }\n    /**\n    Create an inverted version of this mapping.\n    */\n    invert() {\n        let inverse = new Mapping;\n        inverse.appendMappingInverted(this);\n        return inverse;\n    }\n    /**\n    Map a position through this mapping.\n    */\n    map(pos, assoc = 1) {\n        if (this.mirror)\n            return this._map(pos, assoc, true);\n        for (let i = this.from; i < this.to; i++)\n            pos = this.maps[i].map(pos, assoc);\n        return pos;\n    }\n    /**\n    Map a position through this mapping, returning a mapping\n    result.\n    */\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let delInfo = 0;\n        for (let i = this.from; i < this.to; i++) {\n            let map = this.maps[i], result = map.mapResult(pos, assoc);\n            if (result.recover != null) {\n                let corr = this.getMirror(i);\n                if (corr != null && corr > i && corr < this.to) {\n                    i = corr;\n                    pos = this.maps[corr].recover(result.recover);\n                    continue;\n                }\n            }\n            delInfo |= result.delInfo;\n            pos = result.pos;\n        }\n        return simple ? pos : new MapResult(pos, delInfo, null);\n    }\n}\n\nconst stepsByID = Object.create(null);\n/**\nA step object represents an atomic change. It generally applies\nonly to the document it was created for, since the positions\nstored in it will only make sense for that document.\n\nNew steps are defined by creating classes that extend `Step`,\noverriding the `apply`, `invert`, `map`, `getMap` and `fromJSON`\nmethods, and registering your class with a unique\nJSON-serialization identifier using\n[`Step.jsonID`](https://prosemirror.net/docs/ref/#transform.Step^jsonID).\n*/\nclass Step {\n    /**\n    Get the step map that represents the changes made by this step,\n    and which can be used to transform between positions in the old\n    and the new document.\n    */\n    getMap() { return StepMap.empty; }\n    /**\n    Try to merge this step with another one, to be applied directly\n    after it. Returns the merged step when possible, null if the\n    steps can't be merged.\n    */\n    merge(other) { return null; }\n    /**\n    Deserialize a step from its JSON representation. Will call\n    through to the step class' own implementation of this method.\n    */\n    static fromJSON(schema, json) {\n        if (!json || !json.stepType)\n            throw new RangeError(\"Invalid input for Step.fromJSON\");\n        let type = stepsByID[json.stepType];\n        if (!type)\n            throw new RangeError(`No step type ${json.stepType} defined`);\n        return type.fromJSON(schema, json);\n    }\n    /**\n    To be able to serialize steps to JSON, each step needs a string\n    ID to attach to its JSON representation. Use this method to\n    register an ID for your step classes. Try to pick something\n    that's unlikely to clash with steps from other modules.\n    */\n    static jsonID(id, stepClass) {\n        if (id in stepsByID)\n            throw new RangeError(\"Duplicate use of step JSON ID \" + id);\n        stepsByID[id] = stepClass;\n        stepClass.prototype.jsonID = id;\n        return stepClass;\n    }\n}\n/**\nThe result of [applying](https://prosemirror.net/docs/ref/#transform.Step.apply) a step. Contains either a\nnew document or a failure value.\n*/\nclass StepResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The transformed document, if successful.\n    */\n    doc, \n    /**\n    The failure message, if unsuccessful.\n    */\n    failed) {\n        this.doc = doc;\n        this.failed = failed;\n    }\n    /**\n    Create a successful step result.\n    */\n    static ok(doc) { return new StepResult(doc, null); }\n    /**\n    Create a failed step result.\n    */\n    static fail(message) { return new StepResult(null, message); }\n    /**\n    Call [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) with the given\n    arguments. Create a successful result if it succeeds, and a\n    failed one if it throws a `ReplaceError`.\n    */\n    static fromReplace(doc, from, to, slice) {\n        try {\n            return StepResult.ok(doc.replace(from, to, slice));\n        }\n        catch (e) {\n            if (e instanceof ReplaceError)\n                return StepResult.fail(e.message);\n            throw e;\n        }\n    }\n}\n\nfunction mapFragment(fragment, f, parent) {\n    let mapped = [];\n    for (let i = 0; i < fragment.childCount; i++) {\n        let child = fragment.child(i);\n        if (child.content.size)\n            child = child.copy(mapFragment(child.content, f, child));\n        if (child.isInline)\n            child = f(child, parent, i);\n        mapped.push(child);\n    }\n    return Fragment.fromArray(mapped);\n}\n/**\nAdd a mark to all inline content between two positions.\n*/\nclass AddMarkStep extends Step {\n    /**\n    Create a mark step.\n    */\n    constructor(\n    /**\n    The start of the marked range.\n    */\n    from, \n    /**\n    The end of the marked range.\n    */\n    to, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to), $from = doc.resolve(this.from);\n        let parent = $from.node($from.sharedDepth(this.to));\n        let slice = new Slice(mapFragment(oldSlice.content, (node, parent) => {\n            if (!node.isAtom || !parent.type.allowsMarkType(this.mark.type))\n                return node;\n            return node.mark(this.mark.addToSet(node.marks));\n        }, parent), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new RemoveMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new AddMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof AddMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new AddMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"addMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for AddMarkStep.fromJSON\");\n        return new AddMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addMark\", AddMarkStep);\n/**\nRemove a mark from all inline content between two positions.\n*/\nclass RemoveMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The start of the unmarked range.\n    */\n    from, \n    /**\n    The end of the unmarked range.\n    */\n    to, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to);\n        let slice = new Slice(mapFragment(oldSlice.content, node => {\n            return node.mark(this.mark.removeFromSet(node.marks));\n        }, doc), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new AddMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new RemoveMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof RemoveMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new RemoveMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"removeMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for RemoveMarkStep.fromJSON\");\n        return new RemoveMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeMark\", RemoveMarkStep);\n/**\nAdd a mark to a specific node.\n*/\nclass AddNodeMarkStep extends Step {\n    /**\n    Create a node mark step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.pos = pos;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at mark step's position\");\n        let updated = node.type.create(node.attrs, null, this.mark.addToSet(node.marks));\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    invert(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (node) {\n            let newSet = this.mark.addToSet(node.marks);\n            if (newSet.length == node.marks.length) {\n                for (let i = 0; i < node.marks.length; i++)\n                    if (!node.marks[i].isInSet(newSet))\n                        return new AddNodeMarkStep(this.pos, node.marks[i]);\n                return new AddNodeMarkStep(this.pos, this.mark);\n            }\n        }\n        return new RemoveNodeMarkStep(this.pos, this.mark);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new AddNodeMarkStep(pos.pos, this.mark);\n    }\n    toJSON() {\n        return { stepType: \"addNodeMark\", pos: this.pos, mark: this.mark.toJSON() };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for AddNodeMarkStep.fromJSON\");\n        return new AddNodeMarkStep(json.pos, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addNodeMark\", AddNodeMarkStep);\n/**\nRemove a mark from a specific node.\n*/\nclass RemoveNodeMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.pos = pos;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at mark step's position\");\n        let updated = node.type.create(node.attrs, null, this.mark.removeFromSet(node.marks));\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    invert(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node || !this.mark.isInSet(node.marks))\n            return this;\n        return new AddNodeMarkStep(this.pos, this.mark);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new RemoveNodeMarkStep(pos.pos, this.mark);\n    }\n    toJSON() {\n        return { stepType: \"removeNodeMark\", pos: this.pos, mark: this.mark.toJSON() };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for RemoveNodeMarkStep.fromJSON\");\n        return new RemoveNodeMarkStep(json.pos, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeNodeMark\", RemoveNodeMarkStep);\n\n/**\nReplace a part of the document with a slice of new content.\n*/\nclass ReplaceStep extends Step {\n    /**\n    The given `slice` should fit the 'gap' between `from` and\n    `to`\u2014the depths must line up, and the surrounding nodes must be\n    able to be joined with the open sides of the slice. When\n    `structure` is true, the step will fail if the content between\n    from and to is not just a sequence of closing and then opening\n    tokens (this is to guard against rebased replace steps\n    overwriting something they weren't supposed to).\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.slice = slice;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && contentBetween(doc, this.from, this.to))\n            return StepResult.fail(\"Structure replace would overwrite content\");\n        return StepResult.fromReplace(doc, this.from, this.to, this.slice);\n    }\n    getMap() {\n        return new StepMap([this.from, this.to - this.from, this.slice.size]);\n    }\n    invert(doc) {\n        return new ReplaceStep(this.from, this.from + this.slice.size, doc.slice(this.from, this.to));\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deletedAcross && to.deletedAcross)\n            return null;\n        return new ReplaceStep(from.pos, Math.max(from.pos, to.pos), this.slice);\n    }\n    merge(other) {\n        if (!(other instanceof ReplaceStep) || other.structure || this.structure)\n            return null;\n        if (this.from + this.slice.size == other.from && !this.slice.openEnd && !other.slice.openStart) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(this.slice.content.append(other.slice.content), this.slice.openStart, other.slice.openEnd);\n            return new ReplaceStep(this.from, this.to + (other.to - other.from), slice, this.structure);\n        }\n        else if (other.to == this.from && !this.slice.openStart && !other.slice.openEnd) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(other.slice.content.append(this.slice.content), other.slice.openStart, this.slice.openEnd);\n            return new ReplaceStep(other.from, this.to, slice, this.structure);\n        }\n        else {\n            return null;\n        }\n    }\n    toJSON() {\n        let json = { stepType: \"replace\", from: this.from, to: this.to };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceStep.fromJSON\");\n        return new ReplaceStep(json.from, json.to, Slice.fromJSON(schema, json.slice), !!json.structure);\n    }\n}\nStep.jsonID(\"replace\", ReplaceStep);\n/**\nReplace a part of the document with a slice of content, but\npreserve a range of the replaced content by moving it into the\nslice.\n*/\nclass ReplaceAroundStep extends Step {\n    /**\n    Create a replace-around step with the given range and gap.\n    `insert` should be the point in the slice into which the content\n    of the gap should be moved. `structure` has the same meaning as\n    it has in the [`ReplaceStep`](https://prosemirror.net/docs/ref/#transform.ReplaceStep) class.\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The start of preserved range.\n    */\n    gapFrom, \n    /**\n    The end of preserved range.\n    */\n    gapTo, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    The position in the slice where the preserved range should be\n    inserted.\n    */\n    insert, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.gapFrom = gapFrom;\n        this.gapTo = gapTo;\n        this.slice = slice;\n        this.insert = insert;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && (contentBetween(doc, this.from, this.gapFrom) ||\n            contentBetween(doc, this.gapTo, this.to)))\n            return StepResult.fail(\"Structure gap-replace would overwrite content\");\n        let gap = doc.slice(this.gapFrom, this.gapTo);\n        if (gap.openStart || gap.openEnd)\n            return StepResult.fail(\"Gap is not a flat range\");\n        let inserted = this.slice.insertAt(this.insert, gap.content);\n        if (!inserted)\n            return StepResult.fail(\"Content does not fit in gap\");\n        return StepResult.fromReplace(doc, this.from, this.to, inserted);\n    }\n    getMap() {\n        return new StepMap([this.from, this.gapFrom - this.from, this.insert,\n            this.gapTo, this.to - this.gapTo, this.slice.size - this.insert]);\n    }\n    invert(doc) {\n        let gap = this.gapTo - this.gapFrom;\n        return new ReplaceAroundStep(this.from, this.from + this.slice.size + gap, this.from + this.insert, this.from + this.insert + gap, doc.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        let gapFrom = mapping.map(this.gapFrom, -1), gapTo = mapping.map(this.gapTo, 1);\n        if ((from.deletedAcross && to.deletedAcross) || gapFrom < from.pos || gapTo > to.pos)\n            return null;\n        return new ReplaceAroundStep(from.pos, to.pos, gapFrom, gapTo, this.slice, this.insert, this.structure);\n    }\n    toJSON() {\n        let json = { stepType: \"replaceAround\", from: this.from, to: this.to,\n            gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\" ||\n            typeof json.gapFrom != \"number\" || typeof json.gapTo != \"number\" || typeof json.insert != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceAroundStep.fromJSON\");\n        return new ReplaceAroundStep(json.from, json.to, json.gapFrom, json.gapTo, Slice.fromJSON(schema, json.slice), json.insert, !!json.structure);\n    }\n}\nStep.jsonID(\"replaceAround\", ReplaceAroundStep);\nfunction contentBetween(doc, from, to) {\n    let $from = doc.resolve(from), dist = to - from, depth = $from.depth;\n    while (dist > 0 && depth > 0 && $from.indexAfter(depth) == $from.node(depth).childCount) {\n        depth--;\n        dist--;\n    }\n    if (dist > 0) {\n        let next = $from.node(depth).maybeChild($from.indexAfter(depth));\n        while (dist > 0) {\n            if (!next || next.isLeaf)\n                return true;\n            next = next.firstChild;\n            dist--;\n        }\n    }\n    return false;\n}\n\nfunction addMark(tr, from, to, mark) {\n    let removed = [], added = [];\n    let removing, adding;\n    tr.doc.nodesBetween(from, to, (node, pos, parent) => {\n        if (!node.isInline)\n            return;\n        let marks = node.marks;\n        if (!mark.isInSet(marks) && parent.type.allowsMarkType(mark.type)) {\n            let start = Math.max(pos, from), end = Math.min(pos + node.nodeSize, to);\n            let newSet = mark.addToSet(marks);\n            for (let i = 0; i < marks.length; i++) {\n                if (!marks[i].isInSet(newSet)) {\n                    if (removing && removing.to == start && removing.mark.eq(marks[i]))\n                        removing.to = end;\n                    else\n                        removed.push(removing = new RemoveMarkStep(start, end, marks[i]));\n                }\n            }\n            if (adding && adding.to == start)\n                adding.to = end;\n            else\n                added.push(adding = new AddMarkStep(start, end, mark));\n        }\n    });\n    removed.forEach(s => tr.step(s));\n    added.forEach(s => tr.step(s));\n}\nfunction removeMark(tr, from, to, mark) {\n    let matched = [], step = 0;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (!node.isInline)\n            return;\n        step++;\n        let toRemove = null;\n        if (mark instanceof MarkType) {\n            let set = node.marks, found;\n            while (found = mark.isInSet(set)) {\n                (toRemove || (toRemove = [])).push(found);\n                set = found.removeFromSet(set);\n            }\n        }\n        else if (mark) {\n            if (mark.isInSet(node.marks))\n                toRemove = [mark];\n        }\n        else {\n            toRemove = node.marks;\n        }\n        if (toRemove && toRemove.length) {\n            let end = Math.min(pos + node.nodeSize, to);\n            for (let i = 0; i < toRemove.length; i++) {\n                let style = toRemove[i], found;\n                for (let j = 0; j < matched.length; j++) {\n                    let m = matched[j];\n                    if (m.step == step - 1 && style.eq(matched[j].style))\n                        found = m;\n                }\n                if (found) {\n                    found.to = end;\n                    found.step = step;\n                }\n                else {\n                    matched.push({ style, from: Math.max(pos, from), to: end, step });\n                }\n            }\n        }\n    });\n    matched.forEach(m => tr.step(new RemoveMarkStep(m.from, m.to, m.style)));\n}\nfunction clearIncompatible(tr, pos, parentType, match = parentType.contentMatch) {\n    let node = tr.doc.nodeAt(pos);\n    let replSteps = [], cur = pos + 1;\n    for (let i = 0; i < node.childCount; i++) {\n        let child = node.child(i), end = cur + child.nodeSize;\n        let allowed = match.matchType(child.type);\n        if (!allowed) {\n            replSteps.push(new ReplaceStep(cur, end, Slice.empty));\n        }\n        else {\n            match = allowed;\n            for (let j = 0; j < child.marks.length; j++)\n                if (!parentType.allowsMarkType(child.marks[j].type))\n                    tr.step(new RemoveMarkStep(cur, end, child.marks[j]));\n            if (child.isText && !parentType.spec.code) {\n                let m, newline = /\\r?\\n|\\r/g, slice;\n                while (m = newline.exec(child.text)) {\n                    if (!slice)\n                        slice = new Slice(Fragment.from(parentType.schema.text(\" \", parentType.allowedMarks(child.marks))), 0, 0);\n                    replSteps.push(new ReplaceStep(cur + m.index, cur + m.index + m[0].length, slice));\n                }\n            }\n        }\n        cur = end;\n    }\n    if (!match.validEnd) {\n        let fill = match.fillBefore(Fragment.empty, true);\n        tr.replace(cur, cur, new Slice(fill, 0, 0));\n    }\n    for (let i = replSteps.length - 1; i >= 0; i--)\n        tr.step(replSteps[i]);\n}\n\nfunction canCut(node, start, end) {\n    return (start == 0 || node.canReplace(start, node.childCount)) &&\n        (end == node.childCount || node.canReplace(0, end));\n}\n/**\nTry to find a target depth to which the content in the given range\ncan be lifted. Will not go across\n[isolating](https://prosemirror.net/docs/ref/#model.NodeSpec.isolating) parent nodes.\n*/\nfunction liftTarget(range) {\n    let parent = range.parent;\n    let content = parent.content.cutByIndex(range.startIndex, range.endIndex);\n    for (let depth = range.depth;; --depth) {\n        let node = range.$from.node(depth);\n        let index = range.$from.index(depth), endIndex = range.$to.indexAfter(depth);\n        if (depth < range.depth && node.canReplace(index, endIndex, content))\n            return depth;\n        if (depth == 0 || node.type.spec.isolating || !canCut(node, index, endIndex))\n            break;\n    }\n    return null;\n}\nfunction lift(tr, range, target) {\n    let { $from, $to, depth } = range;\n    let gapStart = $from.before(depth + 1), gapEnd = $to.after(depth + 1);\n    let start = gapStart, end = gapEnd;\n    let before = Fragment.empty, openStart = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $from.index(d) > 0) {\n            splitting = true;\n            before = Fragment.from($from.node(d).copy(before));\n            openStart++;\n        }\n        else {\n            start--;\n        }\n    let after = Fragment.empty, openEnd = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $to.after(d + 1) < $to.end(d)) {\n            splitting = true;\n            after = Fragment.from($to.node(d).copy(after));\n            openEnd++;\n        }\n        else {\n            end++;\n        }\n    tr.step(new ReplaceAroundStep(start, end, gapStart, gapEnd, new Slice(before.append(after), openStart, openEnd), before.size - openStart, true));\n}\n/**\nTry to find a valid way to wrap the content in the given range in a\nnode of the given type. May introduce extra nodes around and inside\nthe wrapper node, if necessary. Returns null if no valid wrapping\ncould be found. When `innerRange` is given, that range's content is\nused as the content to fit into the wrapping, instead of the\ncontent of `range`.\n*/\nfunction findWrapping(range, nodeType, attrs = null, innerRange = range) {\n    let around = findWrappingOutside(range, nodeType);\n    let inner = around && findWrappingInside(innerRange, nodeType);\n    if (!inner)\n        return null;\n    return around.map(withAttrs)\n        .concat({ type: nodeType, attrs }).concat(inner.map(withAttrs));\n}\nfunction withAttrs(type) { return { type, attrs: null }; }\nfunction findWrappingOutside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let around = parent.contentMatchAt(startIndex).findWrapping(type);\n    if (!around)\n        return null;\n    let outer = around.length ? around[0] : type;\n    return parent.canReplaceWith(startIndex, endIndex, outer) ? around : null;\n}\nfunction findWrappingInside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let inner = parent.child(startIndex);\n    let inside = type.contentMatch.findWrapping(inner.type);\n    if (!inside)\n        return null;\n    let lastType = inside.length ? inside[inside.length - 1] : type;\n    let innerMatch = lastType.contentMatch;\n    for (let i = startIndex; innerMatch && i < endIndex; i++)\n        innerMatch = innerMatch.matchType(parent.child(i).type);\n    if (!innerMatch || !innerMatch.validEnd)\n        return null;\n    return inside;\n}\nfunction wrap(tr, range, wrappers) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--) {\n        if (content.size) {\n            let match = wrappers[i].type.contentMatch.matchFragment(content);\n            if (!match || !match.validEnd)\n                throw new RangeError(\"Wrapper type given to Transform.wrap does not form valid content of its parent wrapper\");\n        }\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    }\n    let start = range.start, end = range.end;\n    tr.step(new ReplaceAroundStep(start, end, start, end, new Slice(content, 0, 0), wrappers.length, true));\n}\nfunction setBlockType(tr, from, to, type, attrs) {\n    if (!type.isTextblock)\n        throw new RangeError(\"Type given to setBlockType should be a textblock\");\n    let mapFrom = tr.steps.length;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (node.isTextblock && !node.hasMarkup(type, attrs) && canChangeType(tr.doc, tr.mapping.slice(mapFrom).map(pos), type)) {\n            // Ensure all markup that isn't allowed in the new node type is cleared\n            tr.clearIncompatible(tr.mapping.slice(mapFrom).map(pos, 1), type);\n            let mapping = tr.mapping.slice(mapFrom);\n            let startM = mapping.map(pos, 1), endM = mapping.map(pos + node.nodeSize, 1);\n            tr.step(new ReplaceAroundStep(startM, endM, startM + 1, endM - 1, new Slice(Fragment.from(type.create(attrs, null, node.marks)), 0, 0), 1, true));\n            return false;\n        }\n    });\n}\nfunction canChangeType(doc, pos, type) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return $pos.parent.canReplaceWith(index, index + 1, type);\n}\n/**\nChange the type, attributes, and/or marks of the node at `pos`.\nWhen `type` isn't given, the existing node type is preserved,\n*/\nfunction setNodeMarkup(tr, pos, type, attrs, marks) {\n    let node = tr.doc.nodeAt(pos);\n    if (!node)\n        throw new RangeError(\"No node at given position\");\n    if (!type)\n        type = node.type;\n    let newNode = type.create(attrs, null, marks || node.marks);\n    if (node.isLeaf)\n        return tr.replaceWith(pos, pos + node.nodeSize, newNode);\n    if (!type.validContent(node.content))\n        throw new RangeError(\"Invalid content for node type \" + type.name);\n    tr.step(new ReplaceAroundStep(pos, pos + node.nodeSize, pos + 1, pos + node.nodeSize - 1, new Slice(Fragment.from(newNode), 0, 0), 1, true));\n}\n/**\nCheck whether splitting at the given position is allowed.\n*/\nfunction canSplit(doc, pos, depth = 1, typesAfter) {\n    let $pos = doc.resolve(pos), base = $pos.depth - depth;\n    let innerType = (typesAfter && typesAfter[typesAfter.length - 1]) || $pos.parent;\n    if (base < 0 || $pos.parent.type.spec.isolating ||\n        !$pos.parent.canReplace($pos.index(), $pos.parent.childCount) ||\n        !innerType.type.validContent($pos.parent.content.cutByIndex($pos.index(), $pos.parent.childCount)))\n        return false;\n    for (let d = $pos.depth - 1, i = depth - 2; d > base; d--, i--) {\n        let node = $pos.node(d), index = $pos.index(d);\n        if (node.type.spec.isolating)\n            return false;\n        let rest = node.content.cutByIndex(index, node.childCount);\n        let overrideChild = typesAfter && typesAfter[i + 1];\n        if (overrideChild)\n            rest = rest.replaceChild(0, overrideChild.type.create(overrideChild.attrs));\n        let after = (typesAfter && typesAfter[i]) || node;\n        if (!node.canReplace(index + 1, node.childCount) || !after.type.validContent(rest))\n            return false;\n    }\n    let index = $pos.indexAfter(base);\n    let baseType = typesAfter && typesAfter[0];\n    return $pos.node(base).canReplaceWith(index, index, baseType ? baseType.type : $pos.node(base + 1).type);\n}\nfunction split(tr, pos, depth = 1, typesAfter) {\n    let $pos = tr.doc.resolve(pos), before = Fragment.empty, after = Fragment.empty;\n    for (let d = $pos.depth, e = $pos.depth - depth, i = depth - 1; d > e; d--, i--) {\n        before = Fragment.from($pos.node(d).copy(before));\n        let typeAfter = typesAfter && typesAfter[i];\n        after = Fragment.from(typeAfter ? typeAfter.type.create(typeAfter.attrs, after) : $pos.node(d).copy(after));\n    }\n    tr.step(new ReplaceStep(pos, pos, new Slice(before.append(after), depth, depth), true));\n}\n/**\nTest whether the blocks before and after a given position can be\njoined.\n*/\nfunction canJoin(doc, pos) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return joinable($pos.nodeBefore, $pos.nodeAfter) &&\n        $pos.parent.canReplace(index, index + 1);\n}\nfunction joinable(a, b) {\n    return !!(a && b && !a.isLeaf && a.canAppend(b));\n}\n/**\nFind an ancestor of the given position that can be joined to the\nblock before (or after if `dir` is positive). Returns the joinable\npoint, if any.\n*/\nfunction joinPoint(doc, pos, dir = -1) {\n    let $pos = doc.resolve(pos);\n    for (let d = $pos.depth;; d--) {\n        let before, after, index = $pos.index(d);\n        if (d == $pos.depth) {\n            before = $pos.nodeBefore;\n            after = $pos.nodeAfter;\n        }\n        else if (dir > 0) {\n            before = $pos.node(d + 1);\n            index++;\n            after = $pos.node(d).maybeChild(index);\n        }\n        else {\n            before = $pos.node(d).maybeChild(index - 1);\n            after = $pos.node(d + 1);\n        }\n        if (before && !before.isTextblock && joinable(before, after) &&\n            $pos.node(d).canReplace(index, index + 1))\n            return pos;\n        if (d == 0)\n            break;\n        pos = dir < 0 ? $pos.before(d) : $pos.after(d);\n    }\n}\nfunction join(tr, pos, depth) {\n    let step = new ReplaceStep(pos - depth, pos + depth, Slice.empty, true);\n    tr.step(step);\n}\n/**\nTry to find a point where a node of the given type can be inserted\nnear `pos`, by searching up the node hierarchy when `pos` itself\nisn't a valid place but is at the start or end of a node. Return\nnull if no position was found.\n*/\nfunction insertPoint(doc, pos, nodeType) {\n    let $pos = doc.resolve(pos);\n    if ($pos.parent.canReplaceWith($pos.index(), $pos.index(), nodeType))\n        return pos;\n    if ($pos.parentOffset == 0)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.index(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.before(d + 1);\n            if (index > 0)\n                return null;\n        }\n    if ($pos.parentOffset == $pos.parent.content.size)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.indexAfter(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.after(d + 1);\n            if (index < $pos.node(d).childCount)\n                return null;\n        }\n    return null;\n}\n/**\nFinds a position at or around the given position where the given\nslice can be inserted. Will look at parent nodes' nearest boundary\nand try there, even if the original position wasn't directly at the\nstart or end of that node. Returns null when no position was found.\n*/\nfunction dropPoint(doc, pos, slice) {\n    let $pos = doc.resolve(pos);\n    if (!slice.content.size)\n        return pos;\n    let content = slice.content;\n    for (let i = 0; i < slice.openStart; i++)\n        content = content.firstChild.content;\n    for (let pass = 1; pass <= (slice.openStart == 0 && slice.size ? 2 : 1); pass++) {\n        for (let d = $pos.depth; d >= 0; d--) {\n            let bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;\n            let insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);\n            let parent = $pos.node(d), fits = false;\n            if (pass == 1) {\n                fits = parent.canReplace(insertPos, insertPos, content);\n            }\n            else {\n                let wrapping = parent.contentMatchAt(insertPos).findWrapping(content.firstChild.type);\n                fits = wrapping && parent.canReplaceWith(insertPos, insertPos, wrapping[0]);\n            }\n            if (fits)\n                return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1);\n        }\n    }\n    return null;\n}\n\n/**\n\u2018Fit\u2019 a slice into a given position in the document, producing a\n[step](https://prosemirror.net/docs/ref/#transform.Step) that inserts it. Will return null if\nthere's no meaningful way to insert the slice here, or inserting it\nwould be a no-op (an empty slice over an empty range).\n*/\nfunction replaceStep(doc, from, to = from, slice = Slice.empty) {\n    if (from == to && !slice.size)\n        return null;\n    let $from = doc.resolve(from), $to = doc.resolve(to);\n    // Optimization -- avoid work if it's obvious that it's not needed.\n    if (fitsTrivially($from, $to, slice))\n        return new ReplaceStep(from, to, slice);\n    return new Fitter($from, $to, slice).fit();\n}\nfunction fitsTrivially($from, $to, slice) {\n    return !slice.openStart && !slice.openEnd && $from.start() == $to.start() &&\n        $from.parent.canReplace($from.index(), $to.index(), slice.content);\n}\n// Algorithm for 'placing' the elements of a slice into a gap:\n//\n// We consider the content of each node that is open to the left to be\n// independently placeable. I.e. in <p(\"foo\"), p(\"bar\")>, when the\n// paragraph on the left is open, \"foo\" can be placed (somewhere on\n// the left side of the replacement gap) independently from p(\"bar\").\n//\n// This class tracks the state of the placement progress in the\n// following properties:\n//\n//  - `frontier` holds a stack of `{type, match}` objects that\n//    represent the open side of the replacement. It starts at\n//    `$from`, then moves forward as content is placed, and is finally\n//    reconciled with `$to`.\n//\n//  - `unplaced` is a slice that represents the content that hasn't\n//    been placed yet.\n//\n//  - `placed` is a fragment of placed content. Its open-start value\n//    is implicit in `$from`, and its open-end value in `frontier`.\nclass Fitter {\n    constructor($from, $to, unplaced) {\n        this.$from = $from;\n        this.$to = $to;\n        this.unplaced = unplaced;\n        this.frontier = [];\n        this.placed = Fragment.empty;\n        for (let i = 0; i <= $from.depth; i++) {\n            let node = $from.node(i);\n            this.frontier.push({\n                type: node.type,\n                match: node.contentMatchAt($from.indexAfter(i))\n            });\n        }\n        for (let i = $from.depth; i > 0; i--)\n            this.placed = Fragment.from($from.node(i).copy(this.placed));\n    }\n    get depth() { return this.frontier.length - 1; }\n    fit() {\n        // As long as there's unplaced content, try to place some of it.\n        // If that fails, either increase the open score of the unplaced\n        // slice, or drop nodes from it, and then try again.\n        while (this.unplaced.size) {\n            let fit = this.findFittable();\n            if (fit)\n                this.placeNodes(fit);\n            else\n                this.openMore() || this.dropNode();\n        }\n        // When there's inline content directly after the frontier _and_\n        // directly after `this.$to`, we must generate a `ReplaceAround`\n        // step that pulls that content into the node after the frontier.\n        // That means the fitting must be done to the end of the textblock\n        // node after `this.$to`, not `this.$to` itself.\n        let moveInline = this.mustMoveInline(), placedSize = this.placed.size - this.depth - this.$from.depth;\n        let $from = this.$from, $to = this.close(moveInline < 0 ? this.$to : $from.doc.resolve(moveInline));\n        if (!$to)\n            return null;\n        // If closing to `$to` succeeded, create a step\n        let content = this.placed, openStart = $from.depth, openEnd = $to.depth;\n        while (openStart && openEnd && content.childCount == 1) { // Normalize by dropping open parent nodes\n            content = content.firstChild.content;\n            openStart--;\n            openEnd--;\n        }\n        let slice = new Slice(content, openStart, openEnd);\n        if (moveInline > -1)\n            return new ReplaceAroundStep($from.pos, moveInline, this.$to.pos, this.$to.end(), slice, placedSize);\n        if (slice.size || $from.pos != this.$to.pos) // Don't generate no-op steps\n            return new ReplaceStep($from.pos, $to.pos, slice);\n        return null;\n    }\n    // Find a position on the start spine of `this.unplaced` that has\n    // content that can be moved somewhere on the frontier. Returns two\n    // depths, one for the slice and one for the frontier.\n    findFittable() {\n        let startDepth = this.unplaced.openStart;\n        for (let cur = this.unplaced.content, d = 0, openEnd = this.unplaced.openEnd; d < startDepth; d++) {\n            let node = cur.firstChild;\n            if (cur.childCount > 1)\n                openEnd = 0;\n            if (node.type.spec.isolating && openEnd <= d) {\n                startDepth = d;\n                break;\n            }\n            cur = node.content;\n        }\n        // Only try wrapping nodes (pass 2) after finding a place without\n        // wrapping failed.\n        for (let pass = 1; pass <= 2; pass++) {\n            for (let sliceDepth = pass == 1 ? startDepth : this.unplaced.openStart; sliceDepth >= 0; sliceDepth--) {\n                let fragment, parent = null;\n                if (sliceDepth) {\n                    parent = contentAt(this.unplaced.content, sliceDepth - 1).firstChild;\n                    fragment = parent.content;\n                }\n                else {\n                    fragment = this.unplaced.content;\n                }\n                let first = fragment.firstChild;\n                for (let frontierDepth = this.depth; frontierDepth >= 0; frontierDepth--) {\n                    let { type, match } = this.frontier[frontierDepth], wrap, inject = null;\n                    // In pass 1, if the next node matches, or there is no next\n                    // node but the parents look compatible, we've found a\n                    // place.\n                    if (pass == 1 && (first ? match.matchType(first.type) || (inject = match.fillBefore(Fragment.from(first), false))\n                        : parent && type.compatibleContent(parent.type)))\n                        return { sliceDepth, frontierDepth, parent, inject };\n                    // In pass 2, look for a set of wrapping nodes that make\n                    // `first` fit here.\n                    else if (pass == 2 && first && (wrap = match.findWrapping(first.type)))\n                        return { sliceDepth, frontierDepth, parent, wrap };\n                    // Don't continue looking further up if the parent node\n                    // would fit here.\n                    if (parent && match.matchType(parent.type))\n                        break;\n                }\n            }\n        }\n    }\n    openMore() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (!inner.childCount || inner.firstChild.isLeaf)\n            return false;\n        this.unplaced = new Slice(content, openStart + 1, Math.max(openEnd, inner.size + openStart >= content.size - openEnd ? openStart + 1 : 0));\n        return true;\n    }\n    dropNode() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (inner.childCount <= 1 && openStart > 0) {\n            let openAtEnd = content.size - openStart <= openStart + inner.size;\n            this.unplaced = new Slice(dropFromFragment(content, openStart - 1, 1), openStart - 1, openAtEnd ? openStart - 1 : openEnd);\n        }\n        else {\n            this.unplaced = new Slice(dropFromFragment(content, openStart, 1), openStart, openEnd);\n        }\n    }\n    // Move content from the unplaced slice at `sliceDepth` to the\n    // frontier node at `frontierDepth`. Close that frontier node when\n    // applicable.\n    placeNodes({ sliceDepth, frontierDepth, parent, inject, wrap }) {\n        while (this.depth > frontierDepth)\n            this.closeFrontierNode();\n        if (wrap)\n            for (let i = 0; i < wrap.length; i++)\n                this.openFrontierNode(wrap[i]);\n        let slice = this.unplaced, fragment = parent ? parent.content : slice.content;\n        let openStart = slice.openStart - sliceDepth;\n        let taken = 0, add = [];\n        let { match, type } = this.frontier[frontierDepth];\n        if (inject) {\n            for (let i = 0; i < inject.childCount; i++)\n                add.push(inject.child(i));\n            match = match.matchFragment(inject);\n        }\n        // Computes the amount of (end) open nodes at the end of the\n        // fragment. When 0, the parent is open, but no more. When\n        // negative, nothing is open.\n        let openEndCount = (fragment.size + sliceDepth) - (slice.content.size - slice.openEnd);\n        // Scan over the fragment, fitting as many child nodes as\n        // possible.\n        while (taken < fragment.childCount) {\n            let next = fragment.child(taken), matches = match.matchType(next.type);\n            if (!matches)\n                break;\n            taken++;\n            if (taken > 1 || openStart == 0 || next.content.size) { // Drop empty open nodes\n                match = matches;\n                add.push(closeNodeStart(next.mark(type.allowedMarks(next.marks)), taken == 1 ? openStart : 0, taken == fragment.childCount ? openEndCount : -1));\n            }\n        }\n        let toEnd = taken == fragment.childCount;\n        if (!toEnd)\n            openEndCount = -1;\n        this.placed = addToFragment(this.placed, frontierDepth, Fragment.from(add));\n        this.frontier[frontierDepth].match = match;\n        // If the parent types match, and the entire node was moved, and\n        // it's not open, close this frontier node right away.\n        if (toEnd && openEndCount < 0 && parent && parent.type == this.frontier[this.depth].type && this.frontier.length > 1)\n            this.closeFrontierNode();\n        // Add new frontier nodes for any open nodes at the end.\n        for (let i = 0, cur = fragment; i < openEndCount; i++) {\n            let node = cur.lastChild;\n            this.frontier.push({ type: node.type, match: node.contentMatchAt(node.childCount) });\n            cur = node.content;\n        }\n        // Update `this.unplaced`. Drop the entire node from which we\n        // placed it we got to its end, otherwise just drop the placed\n        // nodes.\n        this.unplaced = !toEnd ? new Slice(dropFromFragment(slice.content, sliceDepth, taken), slice.openStart, slice.openEnd)\n            : sliceDepth == 0 ? Slice.empty\n                : new Slice(dropFromFragment(slice.content, sliceDepth - 1, 1), sliceDepth - 1, openEndCount < 0 ? slice.openEnd : sliceDepth - 1);\n    }\n    mustMoveInline() {\n        if (!this.$to.parent.isTextblock)\n            return -1;\n        let top = this.frontier[this.depth], level;\n        if (!top.type.isTextblock || !contentAfterFits(this.$to, this.$to.depth, top.type, top.match, false) ||\n            (this.$to.depth == this.depth && (level = this.findCloseLevel(this.$to)) && level.depth == this.depth))\n            return -1;\n        let { depth } = this.$to, after = this.$to.after(depth);\n        while (depth > 1 && after == this.$to.end(--depth))\n            ++after;\n        return after;\n    }\n    findCloseLevel($to) {\n        scan: for (let i = Math.min(this.depth, $to.depth); i >= 0; i--) {\n            let { match, type } = this.frontier[i];\n            let dropInner = i < $to.depth && $to.end(i + 1) == $to.pos + ($to.depth - (i + 1));\n            let fit = contentAfterFits($to, i, type, match, dropInner);\n            if (!fit)\n                continue;\n            for (let d = i - 1; d >= 0; d--) {\n                let { match, type } = this.frontier[d];\n                let matches = contentAfterFits($to, d, type, match, true);\n                if (!matches || matches.childCount)\n                    continue scan;\n            }\n            return { depth: i, fit, move: dropInner ? $to.doc.resolve($to.after(i + 1)) : $to };\n        }\n    }\n    close($to) {\n        let close = this.findCloseLevel($to);\n        if (!close)\n            return null;\n        while (this.depth > close.depth)\n            this.closeFrontierNode();\n        if (close.fit.childCount)\n            this.placed = addToFragment(this.placed, close.depth, close.fit);\n        $to = close.move;\n        for (let d = close.depth + 1; d <= $to.depth; d++) {\n            let node = $to.node(d), add = node.type.contentMatch.fillBefore(node.content, true, $to.index(d));\n            this.openFrontierNode(node.type, node.attrs, add);\n        }\n        return $to;\n    }\n    openFrontierNode(type, attrs = null, content) {\n        let top = this.frontier[this.depth];\n        top.match = top.match.matchType(type);\n        this.placed = addToFragment(this.placed, this.depth, Fragment.from(type.create(attrs, content)));\n        this.frontier.push({ type, match: type.contentMatch });\n    }\n    closeFrontierNode() {\n        let open = this.frontier.pop();\n        let add = open.match.fillBefore(Fragment.empty, true);\n        if (add.childCount)\n            this.placed = addToFragment(this.placed, this.frontier.length, add);\n    }\n}\nfunction dropFromFragment(fragment, depth, count) {\n    if (depth == 0)\n        return fragment.cutByIndex(count, fragment.childCount);\n    return fragment.replaceChild(0, fragment.firstChild.copy(dropFromFragment(fragment.firstChild.content, depth - 1, count)));\n}\nfunction addToFragment(fragment, depth, content) {\n    if (depth == 0)\n        return fragment.append(content);\n    return fragment.replaceChild(fragment.childCount - 1, fragment.lastChild.copy(addToFragment(fragment.lastChild.content, depth - 1, content)));\n}\nfunction contentAt(fragment, depth) {\n    for (let i = 0; i < depth; i++)\n        fragment = fragment.firstChild.content;\n    return fragment;\n}\nfunction closeNodeStart(node, openStart, openEnd) {\n    if (openStart <= 0)\n        return node;\n    let frag = node.content;\n    if (openStart > 1)\n        frag = frag.replaceChild(0, closeNodeStart(frag.firstChild, openStart - 1, frag.childCount == 1 ? openEnd - 1 : 0));\n    if (openStart > 0) {\n        frag = node.type.contentMatch.fillBefore(frag).append(frag);\n        if (openEnd <= 0)\n            frag = frag.append(node.type.contentMatch.matchFragment(frag).fillBefore(Fragment.empty, true));\n    }\n    return node.copy(frag);\n}\nfunction contentAfterFits($to, depth, type, match, open) {\n    let node = $to.node(depth), index = open ? $to.indexAfter(depth) : $to.index(depth);\n    if (index == node.childCount && !type.compatibleContent(node.type))\n        return null;\n    let fit = match.fillBefore(node.content, true, index);\n    return fit && !invalidMarks(type, node.content, index) ? fit : null;\n}\nfunction invalidMarks(type, fragment, start) {\n    for (let i = start; i < fragment.childCount; i++)\n        if (!type.allowsMarks(fragment.child(i).marks))\n            return true;\n    return false;\n}\nfunction definesContent(type) {\n    return type.spec.defining || type.spec.definingForContent;\n}\nfunction replaceRange(tr, from, to, slice) {\n    if (!slice.size)\n        return tr.deleteRange(from, to);\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    if (fitsTrivially($from, $to, slice))\n        return tr.step(new ReplaceStep(from, to, slice));\n    let targetDepths = coveredDepths($from, tr.doc.resolve(to));\n    // Can't replace the whole document, so remove 0 if it's present\n    if (targetDepths[targetDepths.length - 1] == 0)\n        targetDepths.pop();\n    // Negative numbers represent not expansion over the whole node at\n    // that depth, but replacing from $from.before(-D) to $to.pos.\n    let preferredTarget = -($from.depth + 1);\n    targetDepths.unshift(preferredTarget);\n    // This loop picks a preferred target depth, if one of the covering\n    // depths is not outside of a defining node, and adds negative\n    // depths for any depth that has $from at its start and does not\n    // cross a defining node.\n    for (let d = $from.depth, pos = $from.pos - 1; d > 0; d--, pos--) {\n        let spec = $from.node(d).type.spec;\n        if (spec.defining || spec.definingAsContext || spec.isolating)\n            break;\n        if (targetDepths.indexOf(d) > -1)\n            preferredTarget = d;\n        else if ($from.before(d) == pos)\n            targetDepths.splice(1, 0, -d);\n    }\n    // Try to fit each possible depth of the slice into each possible\n    // target depth, starting with the preferred depths.\n    let preferredTargetIndex = targetDepths.indexOf(preferredTarget);\n    let leftNodes = [], preferredDepth = slice.openStart;\n    for (let content = slice.content, i = 0;; i++) {\n        let node = content.firstChild;\n        leftNodes.push(node);\n        if (i == slice.openStart)\n            break;\n        content = node.content;\n    }\n    // Back up preferredDepth to cover defining textblocks directly\n    // above it, possibly skipping a non-defining textblock.\n    for (let d = preferredDepth - 1; d >= 0; d--) {\n        let leftNode = leftNodes[d], def = definesContent(leftNode.type);\n        if (def && !leftNode.sameMarkup($from.node(Math.abs(preferredTarget) - 1)))\n            preferredDepth = d;\n        else if (def || !leftNode.type.isTextblock)\n            break;\n    }\n    for (let j = slice.openStart; j >= 0; j--) {\n        let openDepth = (j + preferredDepth + 1) % (slice.openStart + 1);\n        let insert = leftNodes[openDepth];\n        if (!insert)\n            continue;\n        for (let i = 0; i < targetDepths.length; i++) {\n            // Loop over possible expansion levels, starting with the\n            // preferred one\n            let targetDepth = targetDepths[(i + preferredTargetIndex) % targetDepths.length], expand = true;\n            if (targetDepth < 0) {\n                expand = false;\n                targetDepth = -targetDepth;\n            }\n            let parent = $from.node(targetDepth - 1), index = $from.index(targetDepth - 1);\n            if (parent.canReplaceWith(index, index, insert.type, insert.marks))\n                return tr.replace($from.before(targetDepth), expand ? $to.after(targetDepth) : to, new Slice(closeFragment(slice.content, 0, slice.openStart, openDepth), openDepth, slice.openEnd));\n        }\n    }\n    let startSteps = tr.steps.length;\n    for (let i = targetDepths.length - 1; i >= 0; i--) {\n        tr.replace(from, to, slice);\n        if (tr.steps.length > startSteps)\n            break;\n        let depth = targetDepths[i];\n        if (depth < 0)\n            continue;\n        from = $from.before(depth);\n        to = $to.after(depth);\n    }\n}\nfunction closeFragment(fragment, depth, oldOpen, newOpen, parent) {\n    if (depth < oldOpen) {\n        let first = fragment.firstChild;\n        fragment = fragment.replaceChild(0, first.copy(closeFragment(first.content, depth + 1, oldOpen, newOpen, first)));\n    }\n    if (depth > newOpen) {\n        let match = parent.contentMatchAt(0);\n        let start = match.fillBefore(fragment).append(fragment);\n        fragment = start.append(match.matchFragment(start).fillBefore(Fragment.empty, true));\n    }\n    return fragment;\n}\nfunction replaceRangeWith(tr, from, to, node) {\n    if (!node.isInline && from == to && tr.doc.resolve(from).parent.content.size) {\n        let point = insertPoint(tr.doc, from, node.type);\n        if (point != null)\n            from = to = point;\n    }\n    tr.replaceRange(from, to, new Slice(Fragment.from(node), 0, 0));\n}\nfunction deleteRange(tr, from, to) {\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    let covered = coveredDepths($from, $to);\n    for (let i = 0; i < covered.length; i++) {\n        let depth = covered[i], last = i == covered.length - 1;\n        if ((last && depth == 0) || $from.node(depth).type.contentMatch.validEnd)\n            return tr.delete($from.start(depth), $to.end(depth));\n        if (depth > 0 && (last || $from.node(depth - 1).canReplace($from.index(depth - 1), $to.indexAfter(depth - 1))))\n            return tr.delete($from.before(depth), $to.after(depth));\n    }\n    for (let d = 1; d <= $from.depth && d <= $to.depth; d++) {\n        if (from - $from.start(d) == $from.depth - d && to > $from.end(d) && $to.end(d) - to != $to.depth - d)\n            return tr.delete($from.before(d), to);\n    }\n    tr.delete(from, to);\n}\n// Returns an array of all depths for which $from - $to spans the\n// whole content of the nodes at that depth.\nfunction coveredDepths($from, $to) {\n    let result = [], minDepth = Math.min($from.depth, $to.depth);\n    for (let d = minDepth; d >= 0; d--) {\n        let start = $from.start(d);\n        if (start < $from.pos - ($from.depth - d) ||\n            $to.end(d) > $to.pos + ($to.depth - d) ||\n            $from.node(d).type.spec.isolating ||\n            $to.node(d).type.spec.isolating)\n            break;\n        if (start == $to.start(d) ||\n            (d == $from.depth && d == $to.depth && $from.parent.inlineContent && $to.parent.inlineContent &&\n                d && $to.start(d - 1) == start - 1))\n            result.push(d);\n    }\n    return result;\n}\n\n/**\nUpdate an attribute in a specific node.\n*/\nclass AttrStep extends Step {\n    /**\n    Construct an attribute step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The attribute to set.\n    */\n    attr, \n    // The attribute's new value.\n    value) {\n        super();\n        this.pos = pos;\n        this.attr = attr;\n        this.value = value;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at attribute step's position\");\n        let attrs = Object.create(null);\n        for (let name in node.attrs)\n            attrs[name] = node.attrs[name];\n        attrs[this.attr] = this.value;\n        let updated = node.type.create(attrs, null, node.marks);\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    getMap() {\n        return StepMap.empty;\n    }\n    invert(doc) {\n        return new AttrStep(this.pos, this.attr, doc.nodeAt(this.pos).attrs[this.attr]);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new AttrStep(pos.pos, this.attr, this.value);\n    }\n    toJSON() {\n        return { stepType: \"attr\", pos: this.pos, attr: this.attr, value: this.value };\n    }\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\" || typeof json.attr != \"string\")\n            throw new RangeError(\"Invalid input for AttrStep.fromJSON\");\n        return new AttrStep(json.pos, json.attr, json.value);\n    }\n}\nStep.jsonID(\"attr\", AttrStep);\n\n/**\n@internal\n*/\nlet TransformError = class extends Error {\n};\nTransformError = function TransformError(message) {\n    let err = Error.call(this, message);\n    err.__proto__ = TransformError.prototype;\n    return err;\n};\nTransformError.prototype = Object.create(Error.prototype);\nTransformError.prototype.constructor = TransformError;\nTransformError.prototype.name = \"TransformError\";\n/**\nAbstraction to build up and track an array of\n[steps](https://prosemirror.net/docs/ref/#transform.Step) representing a document transformation.\n\nMost transforming methods return the `Transform` object itself, so\nthat they can be chained.\n*/\nclass Transform {\n    /**\n    Create a transform that starts with the given document.\n    */\n    constructor(\n    /**\n    The current document (the result of applying the steps in the\n    transform).\n    */\n    doc) {\n        this.doc = doc;\n        /**\n        The steps in this transform.\n        */\n        this.steps = [];\n        /**\n        The documents before each of the steps.\n        */\n        this.docs = [];\n        /**\n        A mapping with the maps for each of the steps in this transform.\n        */\n        this.mapping = new Mapping;\n    }\n    /**\n    The starting document.\n    */\n    get before() { return this.docs.length ? this.docs[0] : this.doc; }\n    /**\n    Apply a new step in this transform, saving the result. Throws an\n    error when the step fails.\n    */\n    step(step) {\n        let result = this.maybeStep(step);\n        if (result.failed)\n            throw new TransformError(result.failed);\n        return this;\n    }\n    /**\n    Try to apply a step in this transformation, ignoring it if it\n    fails. Returns the step result.\n    */\n    maybeStep(step) {\n        let result = step.apply(this.doc);\n        if (!result.failed)\n            this.addStep(step, result.doc);\n        return result;\n    }\n    /**\n    True when the document has been changed (when there are any\n    steps).\n    */\n    get docChanged() {\n        return this.steps.length > 0;\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        this.docs.push(this.doc);\n        this.steps.push(step);\n        this.mapping.appendMap(step.getMap());\n        this.doc = doc;\n    }\n    /**\n    Replace the part of the document between `from` and `to` with the\n    given `slice`.\n    */\n    replace(from, to = from, slice = Slice.empty) {\n        let step = replaceStep(this.doc, from, to, slice);\n        if (step)\n            this.step(step);\n        return this;\n    }\n    /**\n    Replace the given range with the given content, which may be a\n    fragment, node, or array of nodes.\n    */\n    replaceWith(from, to, content) {\n        return this.replace(from, to, new Slice(Fragment.from(content), 0, 0));\n    }\n    /**\n    Delete the content between the given positions.\n    */\n    delete(from, to) {\n        return this.replace(from, to, Slice.empty);\n    }\n    /**\n    Insert the given content at the given position.\n    */\n    insert(pos, content) {\n        return this.replaceWith(pos, pos, content);\n    }\n    /**\n    Replace a range of the document with a given slice, using\n    `from`, `to`, and the slice's\n    [`openStart`](https://prosemirror.net/docs/ref/#model.Slice.openStart) property as hints, rather\n    than fixed start and end points. This method may grow the\n    replaced area or close open nodes in the slice in order to get a\n    fit that is more in line with WYSIWYG expectations, by dropping\n    fully covered parent nodes of the replaced region when they are\n    marked [non-defining as\n    context](https://prosemirror.net/docs/ref/#model.NodeSpec.definingAsContext), or including an\n    open parent node from the slice that _is_ marked as [defining\n    its content](https://prosemirror.net/docs/ref/#model.NodeSpec.definingForContent).\n    \n    This is the method, for example, to handle paste. The similar\n    [`replace`](https://prosemirror.net/docs/ref/#transform.Transform.replace) method is a more\n    primitive tool which will _not_ move the start and end of its given\n    range, and is useful in situations where you need more precise\n    control over what happens.\n    */\n    replaceRange(from, to, slice) {\n        replaceRange(this, from, to, slice);\n        return this;\n    }\n    /**\n    Replace the given range with a node, but use `from` and `to` as\n    hints, rather than precise positions. When from and to are the same\n    and are at the start or end of a parent node in which the given\n    node doesn't fit, this method may _move_ them out towards a parent\n    that does allow the given node to be placed. When the given range\n    completely covers a parent node, this method may completely replace\n    that parent node.\n    */\n    replaceRangeWith(from, to, node) {\n        replaceRangeWith(this, from, to, node);\n        return this;\n    }\n    /**\n    Delete the given range, expanding it to cover fully covered\n    parent nodes until a valid replace is found.\n    */\n    deleteRange(from, to) {\n        deleteRange(this, from, to);\n        return this;\n    }\n    /**\n    Split the content in the given range off from its parent, if there\n    is sibling content before or after it, and move it up the tree to\n    the depth specified by `target`. You'll probably want to use\n    [`liftTarget`](https://prosemirror.net/docs/ref/#transform.liftTarget) to compute `target`, to make\n    sure the lift is valid.\n    */\n    lift(range, target) {\n        lift(this, range, target);\n        return this;\n    }\n    /**\n    Join the blocks around the given position. If depth is 2, their\n    last and first siblings are also joined, and so on.\n    */\n    join(pos, depth = 1) {\n        join(this, pos, depth);\n        return this;\n    }\n    /**\n    Wrap the given [range](https://prosemirror.net/docs/ref/#model.NodeRange) in the given set of wrappers.\n    The wrappers are assumed to be valid in this position, and should\n    probably be computed with [`findWrapping`](https://prosemirror.net/docs/ref/#transform.findWrapping).\n    */\n    wrap(range, wrappers) {\n        wrap(this, range, wrappers);\n        return this;\n    }\n    /**\n    Set the type of all textblocks (partly) between `from` and `to` to\n    the given node type with the given attributes.\n    */\n    setBlockType(from, to = from, type, attrs = null) {\n        setBlockType(this, from, to, type, attrs);\n        return this;\n    }\n    /**\n    Change the type, attributes, and/or marks of the node at `pos`.\n    When `type` isn't given, the existing node type is preserved,\n    */\n    setNodeMarkup(pos, type, attrs = null, marks) {\n        setNodeMarkup(this, pos, type, attrs, marks);\n        return this;\n    }\n    /**\n    Set a single attribute on a given node to a new value.\n    */\n    setNodeAttribute(pos, attr, value) {\n        this.step(new AttrStep(pos, attr, value));\n        return this;\n    }\n    /**\n    Add a mark to the node at position `pos`.\n    */\n    addNodeMark(pos, mark) {\n        this.step(new AddNodeMarkStep(pos, mark));\n        return this;\n    }\n    /**\n    Remove a mark (or a mark of the given type) from the node at\n    position `pos`.\n    */\n    removeNodeMark(pos, mark) {\n        if (!(mark instanceof Mark)) {\n            let node = this.doc.nodeAt(pos);\n            if (!node)\n                throw new RangeError(\"No node at position \" + pos);\n            mark = mark.isInSet(node.marks);\n            if (!mark)\n                return this;\n        }\n        this.step(new RemoveNodeMarkStep(pos, mark));\n        return this;\n    }\n    /**\n    Split the node at the given position, and optionally, if `depth` is\n    greater than one, any number of nodes above that. By default, the\n    parts split off will inherit the node type of the original node.\n    This can be changed by passing an array of types and attributes to\n    use after the split.\n    */\n    split(pos, depth = 1, typesAfter) {\n        split(this, pos, depth, typesAfter);\n        return this;\n    }\n    /**\n    Add the given mark to the inline content between `from` and `to`.\n    */\n    addMark(from, to, mark) {\n        addMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Remove marks from inline nodes between `from` and `to`. When\n    `mark` is a single mark, remove precisely that mark. When it is\n    a mark type, remove all marks of that type. When it is null,\n    remove all marks of any type.\n    */\n    removeMark(from, to, mark) {\n        removeMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Removes all marks and nodes from the content of the node at\n    `pos` that don't match the given new parent node type. Accepts\n    an optional starting [content match](https://prosemirror.net/docs/ref/#model.ContentMatch) as\n    third argument.\n    */\n    clearIncompatible(pos, parentType, match) {\n        clearIncompatible(this, pos, parentType, match);\n        return this;\n    }\n}\n\nexport { AddMarkStep, AddNodeMarkStep, AttrStep, MapResult, Mapping, RemoveMarkStep, RemoveNodeMarkStep, ReplaceAroundStep, ReplaceStep, Step, StepMap, StepResult, Transform, TransformError, canJoin, canSplit, dropPoint, findWrapping, insertPoint, joinPoint, liftTarget, replaceStep };\n", "import { Slice, Fragment, Mark, Node } from 'prosemirror-model';\nimport { ReplaceStep, ReplaceAroundStep, Transform } from 'prosemirror-transform';\n\nconst classesById = Object.create(null);\n/**\nSuperclass for editor selections. Every selection type should\nextend this. Should not be instantiated directly.\n*/\nclass Selection {\n    /**\n    Initialize a selection with the head and anchor and ranges. If no\n    ranges are given, constructs a single range across `$anchor` and\n    `$head`.\n    */\n    constructor(\n    /**\n    The resolved anchor of the selection (the side that stays in\n    place when the selection is modified).\n    */\n    $anchor, \n    /**\n    The resolved head of the selection (the side that moves when\n    the selection is modified).\n    */\n    $head, ranges) {\n        this.$anchor = $anchor;\n        this.$head = $head;\n        this.ranges = ranges || [new SelectionRange($anchor.min($head), $anchor.max($head))];\n    }\n    /**\n    The selection's anchor, as an unresolved position.\n    */\n    get anchor() { return this.$anchor.pos; }\n    /**\n    The selection's head.\n    */\n    get head() { return this.$head.pos; }\n    /**\n    The lower bound of the selection's main range.\n    */\n    get from() { return this.$from.pos; }\n    /**\n    The upper bound of the selection's main range.\n    */\n    get to() { return this.$to.pos; }\n    /**\n    The resolved lower  bound of the selection's main range.\n    */\n    get $from() {\n        return this.ranges[0].$from;\n    }\n    /**\n    The resolved upper bound of the selection's main range.\n    */\n    get $to() {\n        return this.ranges[0].$to;\n    }\n    /**\n    Indicates whether the selection contains any content.\n    */\n    get empty() {\n        let ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++)\n            if (ranges[i].$from.pos != ranges[i].$to.pos)\n                return false;\n        return true;\n    }\n    /**\n    Get the content of this selection as a slice.\n    */\n    content() {\n        return this.$from.doc.slice(this.from, this.to, true);\n    }\n    /**\n    Replace the selection with a slice or, if no slice is given,\n    delete the selection. Will append to the given transaction.\n    */\n    replace(tr, content = Slice.empty) {\n        // Put the new selection at the position after the inserted\n        // content. When that ended in an inline node, search backwards,\n        // to get the position after that node. If not, search forward.\n        let lastNode = content.content.lastChild, lastParent = null;\n        for (let i = 0; i < content.openEnd; i++) {\n            lastParent = lastNode;\n            lastNode = lastNode.lastChild;\n        }\n        let mapFrom = tr.steps.length, ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++) {\n            let { $from, $to } = ranges[i], mapping = tr.mapping.slice(mapFrom);\n            tr.replaceRange(mapping.map($from.pos), mapping.map($to.pos), i ? Slice.empty : content);\n            if (i == 0)\n                selectionToInsertionEnd(tr, mapFrom, (lastNode ? lastNode.isInline : lastParent && lastParent.isTextblock) ? -1 : 1);\n        }\n    }\n    /**\n    Replace the selection with the given node, appending the changes\n    to the given transaction.\n    */\n    replaceWith(tr, node) {\n        let mapFrom = tr.steps.length, ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++) {\n            let { $from, $to } = ranges[i], mapping = tr.mapping.slice(mapFrom);\n            let from = mapping.map($from.pos), to = mapping.map($to.pos);\n            if (i) {\n                tr.deleteRange(from, to);\n            }\n            else {\n                tr.replaceRangeWith(from, to, node);\n                selectionToInsertionEnd(tr, mapFrom, node.isInline ? -1 : 1);\n            }\n        }\n    }\n    /**\n    Find a valid cursor or leaf node selection starting at the given\n    position and searching back if `dir` is negative, and forward if\n    positive. When `textOnly` is true, only consider cursor\n    selections. Will return null when no valid selection position is\n    found.\n    */\n    static findFrom($pos, dir, textOnly = false) {\n        let inner = $pos.parent.inlineContent ? new TextSelection($pos)\n            : findSelectionIn($pos.node(0), $pos.parent, $pos.pos, $pos.index(), dir, textOnly);\n        if (inner)\n            return inner;\n        for (let depth = $pos.depth - 1; depth >= 0; depth--) {\n            let found = dir < 0\n                ? findSelectionIn($pos.node(0), $pos.node(depth), $pos.before(depth + 1), $pos.index(depth), dir, textOnly)\n                : findSelectionIn($pos.node(0), $pos.node(depth), $pos.after(depth + 1), $pos.index(depth) + 1, dir, textOnly);\n            if (found)\n                return found;\n        }\n        return null;\n    }\n    /**\n    Find a valid cursor or leaf node selection near the given\n    position. Searches forward first by default, but if `bias` is\n    negative, it will search backwards first.\n    */\n    static near($pos, bias = 1) {\n        return this.findFrom($pos, bias) || this.findFrom($pos, -bias) || new AllSelection($pos.node(0));\n    }\n    /**\n    Find the cursor or leaf node selection closest to the start of\n    the given document. Will return an\n    [`AllSelection`](https://prosemirror.net/docs/ref/#state.AllSelection) if no valid position\n    exists.\n    */\n    static atStart(doc) {\n        return findSelectionIn(doc, doc, 0, 0, 1) || new AllSelection(doc);\n    }\n    /**\n    Find the cursor or leaf node selection closest to the end of the\n    given document.\n    */\n    static atEnd(doc) {\n        return findSelectionIn(doc, doc, doc.content.size, doc.childCount, -1) || new AllSelection(doc);\n    }\n    /**\n    Deserialize the JSON representation of a selection. Must be\n    implemented for custom classes (as a static class method).\n    */\n    static fromJSON(doc, json) {\n        if (!json || !json.type)\n            throw new RangeError(\"Invalid input for Selection.fromJSON\");\n        let cls = classesById[json.type];\n        if (!cls)\n            throw new RangeError(`No selection type ${json.type} defined`);\n        return cls.fromJSON(doc, json);\n    }\n    /**\n    To be able to deserialize selections from JSON, custom selection\n    classes must register themselves with an ID string, so that they\n    can be disambiguated. Try to pick something that's unlikely to\n    clash with classes from other modules.\n    */\n    static jsonID(id, selectionClass) {\n        if (id in classesById)\n            throw new RangeError(\"Duplicate use of selection JSON ID \" + id);\n        classesById[id] = selectionClass;\n        selectionClass.prototype.jsonID = id;\n        return selectionClass;\n    }\n    /**\n    Get a [bookmark](https://prosemirror.net/docs/ref/#state.SelectionBookmark) for this selection,\n    which is a value that can be mapped without having access to a\n    current document, and later resolved to a real selection for a\n    given document again. (This is used mostly by the history to\n    track and restore old selections.) The default implementation of\n    this method just converts the selection to a text selection and\n    returns the bookmark for that.\n    */\n    getBookmark() {\n        return TextSelection.between(this.$anchor, this.$head).getBookmark();\n    }\n}\nSelection.prototype.visible = true;\n/**\nRepresents a selected range in a document.\n*/\nclass SelectionRange {\n    /**\n    Create a range.\n    */\n    constructor(\n    /**\n    The lower bound of the range.\n    */\n    $from, \n    /**\n    The upper bound of the range.\n    */\n    $to) {\n        this.$from = $from;\n        this.$to = $to;\n    }\n}\nlet warnedAboutTextSelection = false;\nfunction checkTextSelection($pos) {\n    if (!warnedAboutTextSelection && !$pos.parent.inlineContent) {\n        warnedAboutTextSelection = true;\n        console[\"warn\"](\"TextSelection endpoint not pointing into a node with inline content (\" + $pos.parent.type.name + \")\");\n    }\n}\n/**\nA text selection represents a classical editor selection, with a\nhead (the moving side) and anchor (immobile side), both of which\npoint into textblock nodes. It can be empty (a regular cursor\nposition).\n*/\nclass TextSelection extends Selection {\n    /**\n    Construct a text selection between the given points.\n    */\n    constructor($anchor, $head = $anchor) {\n        checkTextSelection($anchor);\n        checkTextSelection($head);\n        super($anchor, $head);\n    }\n    /**\n    Returns a resolved position if this is a cursor selection (an\n    empty text selection), and null otherwise.\n    */\n    get $cursor() { return this.$anchor.pos == this.$head.pos ? this.$head : null; }\n    map(doc, mapping) {\n        let $head = doc.resolve(mapping.map(this.head));\n        if (!$head.parent.inlineContent)\n            return Selection.near($head);\n        let $anchor = doc.resolve(mapping.map(this.anchor));\n        return new TextSelection($anchor.parent.inlineContent ? $anchor : $head, $head);\n    }\n    replace(tr, content = Slice.empty) {\n        super.replace(tr, content);\n        if (content == Slice.empty) {\n            let marks = this.$from.marksAcross(this.$to);\n            if (marks)\n                tr.ensureMarks(marks);\n        }\n    }\n    eq(other) {\n        return other instanceof TextSelection && other.anchor == this.anchor && other.head == this.head;\n    }\n    getBookmark() {\n        return new TextBookmark(this.anchor, this.head);\n    }\n    toJSON() {\n        return { type: \"text\", anchor: this.anchor, head: this.head };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid input for TextSelection.fromJSON\");\n        return new TextSelection(doc.resolve(json.anchor), doc.resolve(json.head));\n    }\n    /**\n    Create a text selection from non-resolved positions.\n    */\n    static create(doc, anchor, head = anchor) {\n        let $anchor = doc.resolve(anchor);\n        return new this($anchor, head == anchor ? $anchor : doc.resolve(head));\n    }\n    /**\n    Return a text selection that spans the given positions or, if\n    they aren't text positions, find a text selection near them.\n    `bias` determines whether the method searches forward (default)\n    or backwards (negative number) first. Will fall back to calling\n    [`Selection.near`](https://prosemirror.net/docs/ref/#state.Selection^near) when the document\n    doesn't contain a valid text position.\n    */\n    static between($anchor, $head, bias) {\n        let dPos = $anchor.pos - $head.pos;\n        if (!bias || dPos)\n            bias = dPos >= 0 ? 1 : -1;\n        if (!$head.parent.inlineContent) {\n            let found = Selection.findFrom($head, bias, true) || Selection.findFrom($head, -bias, true);\n            if (found)\n                $head = found.$head;\n            else\n                return Selection.near($head, bias);\n        }\n        if (!$anchor.parent.inlineContent) {\n            if (dPos == 0) {\n                $anchor = $head;\n            }\n            else {\n                $anchor = (Selection.findFrom($anchor, -bias, true) || Selection.findFrom($anchor, bias, true)).$anchor;\n                if (($anchor.pos < $head.pos) != (dPos < 0))\n                    $anchor = $head;\n            }\n        }\n        return new TextSelection($anchor, $head);\n    }\n}\nSelection.jsonID(\"text\", TextSelection);\nclass TextBookmark {\n    constructor(anchor, head) {\n        this.anchor = anchor;\n        this.head = head;\n    }\n    map(mapping) {\n        return new TextBookmark(mapping.map(this.anchor), mapping.map(this.head));\n    }\n    resolve(doc) {\n        return TextSelection.between(doc.resolve(this.anchor), doc.resolve(this.head));\n    }\n}\n/**\nA node selection is a selection that points at a single node. All\nnodes marked [selectable](https://prosemirror.net/docs/ref/#model.NodeSpec.selectable) can be the\ntarget of a node selection. In such a selection, `from` and `to`\npoint directly before and after the selected node, `anchor` equals\n`from`, and `head` equals `to`..\n*/\nclass NodeSelection extends Selection {\n    /**\n    Create a node selection. Does not verify the validity of its\n    argument.\n    */\n    constructor($pos) {\n        let node = $pos.nodeAfter;\n        let $end = $pos.node(0).resolve($pos.pos + node.nodeSize);\n        super($pos, $end);\n        this.node = node;\n    }\n    map(doc, mapping) {\n        let { deleted, pos } = mapping.mapResult(this.anchor);\n        let $pos = doc.resolve(pos);\n        if (deleted)\n            return Selection.near($pos);\n        return new NodeSelection($pos);\n    }\n    content() {\n        return new Slice(Fragment.from(this.node), 0, 0);\n    }\n    eq(other) {\n        return other instanceof NodeSelection && other.anchor == this.anchor;\n    }\n    toJSON() {\n        return { type: \"node\", anchor: this.anchor };\n    }\n    getBookmark() { return new NodeBookmark(this.anchor); }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.anchor != \"number\")\n            throw new RangeError(\"Invalid input for NodeSelection.fromJSON\");\n        return new NodeSelection(doc.resolve(json.anchor));\n    }\n    /**\n    Create a node selection from non-resolved positions.\n    */\n    static create(doc, from) {\n        return new NodeSelection(doc.resolve(from));\n    }\n    /**\n    Determines whether the given node may be selected as a node\n    selection.\n    */\n    static isSelectable(node) {\n        return !node.isText && node.type.spec.selectable !== false;\n    }\n}\nNodeSelection.prototype.visible = false;\nSelection.jsonID(\"node\", NodeSelection);\nclass NodeBookmark {\n    constructor(anchor) {\n        this.anchor = anchor;\n    }\n    map(mapping) {\n        let { deleted, pos } = mapping.mapResult(this.anchor);\n        return deleted ? new TextBookmark(pos, pos) : new NodeBookmark(pos);\n    }\n    resolve(doc) {\n        let $pos = doc.resolve(this.anchor), node = $pos.nodeAfter;\n        if (node && NodeSelection.isSelectable(node))\n            return new NodeSelection($pos);\n        return Selection.near($pos);\n    }\n}\n/**\nA selection type that represents selecting the whole document\n(which can not necessarily be expressed with a text selection, when\nthere are for example leaf block nodes at the start or end of the\ndocument).\n*/\nclass AllSelection extends Selection {\n    /**\n    Create an all-selection over the given document.\n    */\n    constructor(doc) {\n        super(doc.resolve(0), doc.resolve(doc.content.size));\n    }\n    replace(tr, content = Slice.empty) {\n        if (content == Slice.empty) {\n            tr.delete(0, tr.doc.content.size);\n            let sel = Selection.atStart(tr.doc);\n            if (!sel.eq(tr.selection))\n                tr.setSelection(sel);\n        }\n        else {\n            super.replace(tr, content);\n        }\n    }\n    toJSON() { return { type: \"all\" }; }\n    /**\n    @internal\n    */\n    static fromJSON(doc) { return new AllSelection(doc); }\n    map(doc) { return new AllSelection(doc); }\n    eq(other) { return other instanceof AllSelection; }\n    getBookmark() { return AllBookmark; }\n}\nSelection.jsonID(\"all\", AllSelection);\nconst AllBookmark = {\n    map() { return this; },\n    resolve(doc) { return new AllSelection(doc); }\n};\n// FIXME we'll need some awareness of text direction when scanning for selections\n// Try to find a selection inside the given node. `pos` points at the\n// position where the search starts. When `text` is true, only return\n// text selections.\nfunction findSelectionIn(doc, node, pos, index, dir, text = false) {\n    if (node.inlineContent)\n        return TextSelection.create(doc, pos);\n    for (let i = index - (dir > 0 ? 0 : 1); dir > 0 ? i < node.childCount : i >= 0; i += dir) {\n        let child = node.child(i);\n        if (!child.isAtom) {\n            let inner = findSelectionIn(doc, child, pos + dir, dir < 0 ? child.childCount : 0, dir, text);\n            if (inner)\n                return inner;\n        }\n        else if (!text && NodeSelection.isSelectable(child)) {\n            return NodeSelection.create(doc, pos - (dir < 0 ? child.nodeSize : 0));\n        }\n        pos += child.nodeSize * dir;\n    }\n    return null;\n}\nfunction selectionToInsertionEnd(tr, startLen, bias) {\n    let last = tr.steps.length - 1;\n    if (last < startLen)\n        return;\n    let step = tr.steps[last];\n    if (!(step instanceof ReplaceStep || step instanceof ReplaceAroundStep))\n        return;\n    let map = tr.mapping.maps[last], end;\n    map.forEach((_from, _to, _newFrom, newTo) => { if (end == null)\n        end = newTo; });\n    tr.setSelection(Selection.near(tr.doc.resolve(end), bias));\n}\n\nconst UPDATED_SEL = 1, UPDATED_MARKS = 2, UPDATED_SCROLL = 4;\n/**\nAn editor state transaction, which can be applied to a state to\ncreate an updated state. Use\n[`EditorState.tr`](https://prosemirror.net/docs/ref/#state.EditorState.tr) to create an instance.\n\nTransactions track changes to the document (they are a subclass of\n[`Transform`](https://prosemirror.net/docs/ref/#transform.Transform)), but also other state changes,\nlike selection updates and adjustments of the set of [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks). In addition, you can store\nmetadata properties in a transaction, which are extra pieces of\ninformation that client code or plugins can use to describe what a\ntransaction represents, so that they can update their [own\nstate](https://prosemirror.net/docs/ref/#state.StateField) accordingly.\n\nThe [editor view](https://prosemirror.net/docs/ref/#view.EditorView) uses a few metadata\nproperties: it will attach a property `\"pointer\"` with the value\n`true` to selection transactions directly caused by mouse or touch\ninput, a `\"composition\"` property holding an ID identifying the\ncomposition that caused it to transactions caused by composed DOM\ninput, and a `\"uiEvent\"` property of that may be `\"paste\"`,\n`\"cut\"`, or `\"drop\"`.\n*/\nclass Transaction extends Transform {\n    /**\n    @internal\n    */\n    constructor(state) {\n        super(state.doc);\n        // The step count for which the current selection is valid.\n        this.curSelectionFor = 0;\n        // Bitfield to track which aspects of the state were updated by\n        // this transaction.\n        this.updated = 0;\n        // Object used to store metadata properties for the transaction.\n        this.meta = Object.create(null);\n        this.time = Date.now();\n        this.curSelection = state.selection;\n        this.storedMarks = state.storedMarks;\n    }\n    /**\n    The transaction's current selection. This defaults to the editor\n    selection [mapped](https://prosemirror.net/docs/ref/#state.Selection.map) through the steps in the\n    transaction, but can be overwritten with\n    [`setSelection`](https://prosemirror.net/docs/ref/#state.Transaction.setSelection).\n    */\n    get selection() {\n        if (this.curSelectionFor < this.steps.length) {\n            this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor));\n            this.curSelectionFor = this.steps.length;\n        }\n        return this.curSelection;\n    }\n    /**\n    Update the transaction's current selection. Will determine the\n    selection that the editor gets when the transaction is applied.\n    */\n    setSelection(selection) {\n        if (selection.$from.doc != this.doc)\n            throw new RangeError(\"Selection passed to setSelection must point at the current document\");\n        this.curSelection = selection;\n        this.curSelectionFor = this.steps.length;\n        this.updated = (this.updated | UPDATED_SEL) & ~UPDATED_MARKS;\n        this.storedMarks = null;\n        return this;\n    }\n    /**\n    Whether the selection was explicitly updated by this transaction.\n    */\n    get selectionSet() {\n        return (this.updated & UPDATED_SEL) > 0;\n    }\n    /**\n    Set the current stored marks.\n    */\n    setStoredMarks(marks) {\n        this.storedMarks = marks;\n        this.updated |= UPDATED_MARKS;\n        return this;\n    }\n    /**\n    Make sure the current stored marks or, if that is null, the marks\n    at the selection, match the given set of marks. Does nothing if\n    this is already the case.\n    */\n    ensureMarks(marks) {\n        if (!Mark.sameSet(this.storedMarks || this.selection.$from.marks(), marks))\n            this.setStoredMarks(marks);\n        return this;\n    }\n    /**\n    Add a mark to the set of stored marks.\n    */\n    addStoredMark(mark) {\n        return this.ensureMarks(mark.addToSet(this.storedMarks || this.selection.$head.marks()));\n    }\n    /**\n    Remove a mark or mark type from the set of stored marks.\n    */\n    removeStoredMark(mark) {\n        return this.ensureMarks(mark.removeFromSet(this.storedMarks || this.selection.$head.marks()));\n    }\n    /**\n    Whether the stored marks were explicitly set for this transaction.\n    */\n    get storedMarksSet() {\n        return (this.updated & UPDATED_MARKS) > 0;\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        super.addStep(step, doc);\n        this.updated = this.updated & ~UPDATED_MARKS;\n        this.storedMarks = null;\n    }\n    /**\n    Update the timestamp for the transaction.\n    */\n    setTime(time) {\n        this.time = time;\n        return this;\n    }\n    /**\n    Replace the current selection with the given slice.\n    */\n    replaceSelection(slice) {\n        this.selection.replace(this, slice);\n        return this;\n    }\n    /**\n    Replace the selection with the given node. When `inheritMarks` is\n    true and the content is inline, it inherits the marks from the\n    place where it is inserted.\n    */\n    replaceSelectionWith(node, inheritMarks = true) {\n        let selection = this.selection;\n        if (inheritMarks)\n            node = node.mark(this.storedMarks || (selection.empty ? selection.$from.marks() : (selection.$from.marksAcross(selection.$to) || Mark.none)));\n        selection.replaceWith(this, node);\n        return this;\n    }\n    /**\n    Delete the selection.\n    */\n    deleteSelection() {\n        this.selection.replace(this);\n        return this;\n    }\n    /**\n    Replace the given range, or the selection if no range is given,\n    with a text node containing the given string.\n    */\n    insertText(text, from, to) {\n        let schema = this.doc.type.schema;\n        if (from == null) {\n            if (!text)\n                return this.deleteSelection();\n            return this.replaceSelectionWith(schema.text(text), true);\n        }\n        else {\n            if (to == null)\n                to = from;\n            to = to == null ? from : to;\n            if (!text)\n                return this.deleteRange(from, to);\n            let marks = this.storedMarks;\n            if (!marks) {\n                let $from = this.doc.resolve(from);\n                marks = to == from ? $from.marks() : $from.marksAcross(this.doc.resolve(to));\n            }\n            this.replaceRangeWith(from, to, schema.text(text, marks));\n            if (!this.selection.empty)\n                this.setSelection(Selection.near(this.selection.$to));\n            return this;\n        }\n    }\n    /**\n    Store a metadata property in this transaction, keyed either by\n    name or by plugin.\n    */\n    setMeta(key, value) {\n        this.meta[typeof key == \"string\" ? key : key.key] = value;\n        return this;\n    }\n    /**\n    Retrieve a metadata property for a given name or plugin.\n    */\n    getMeta(key) {\n        return this.meta[typeof key == \"string\" ? key : key.key];\n    }\n    /**\n    Returns true if this transaction doesn't contain any metadata,\n    and can thus safely be extended.\n    */\n    get isGeneric() {\n        for (let _ in this.meta)\n            return false;\n        return true;\n    }\n    /**\n    Indicate that the editor should scroll the selection into view\n    when updated to the state produced by this transaction.\n    */\n    scrollIntoView() {\n        this.updated |= UPDATED_SCROLL;\n        return this;\n    }\n    /**\n    True when this transaction has had `scrollIntoView` called on it.\n    */\n    get scrolledIntoView() {\n        return (this.updated & UPDATED_SCROLL) > 0;\n    }\n}\n\nfunction bind(f, self) {\n    return !self || !f ? f : f.bind(self);\n}\nclass FieldDesc {\n    constructor(name, desc, self) {\n        this.name = name;\n        this.init = bind(desc.init, self);\n        this.apply = bind(desc.apply, self);\n    }\n}\nconst baseFields = [\n    new FieldDesc(\"doc\", {\n        init(config) { return config.doc || config.schema.topNodeType.createAndFill(); },\n        apply(tr) { return tr.doc; }\n    }),\n    new FieldDesc(\"selection\", {\n        init(config, instance) { return config.selection || Selection.atStart(instance.doc); },\n        apply(tr) { return tr.selection; }\n    }),\n    new FieldDesc(\"storedMarks\", {\n        init(config) { return config.storedMarks || null; },\n        apply(tr, _marks, _old, state) { return state.selection.$cursor ? tr.storedMarks : null; }\n    }),\n    new FieldDesc(\"scrollToSelection\", {\n        init() { return 0; },\n        apply(tr, prev) { return tr.scrolledIntoView ? prev + 1 : prev; }\n    })\n];\n// Object wrapping the part of a state object that stays the same\n// across transactions. Stored in the state's `config` property.\nclass Configuration {\n    constructor(schema, plugins) {\n        this.schema = schema;\n        this.plugins = [];\n        this.pluginsByKey = Object.create(null);\n        this.fields = baseFields.slice();\n        if (plugins)\n            plugins.forEach(plugin => {\n                if (this.pluginsByKey[plugin.key])\n                    throw new RangeError(\"Adding different instances of a keyed plugin (\" + plugin.key + \")\");\n                this.plugins.push(plugin);\n                this.pluginsByKey[plugin.key] = plugin;\n                if (plugin.spec.state)\n                    this.fields.push(new FieldDesc(plugin.key, plugin.spec.state, plugin));\n            });\n    }\n}\n/**\nThe state of a ProseMirror editor is represented by an object of\nthis type. A state is a persistent data structure\u2014it isn't\nupdated, but rather a new state value is computed from an old one\nusing the [`apply`](https://prosemirror.net/docs/ref/#state.EditorState.apply) method.\n\nA state holds a number of built-in fields, and plugins can\n[define](https://prosemirror.net/docs/ref/#state.PluginSpec.state) additional fields.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config) {\n        this.config = config;\n    }\n    /**\n    The schema of the state's document.\n    */\n    get schema() {\n        return this.config.schema;\n    }\n    /**\n    The plugins that are active in this state.\n    */\n    get plugins() {\n        return this.config.plugins;\n    }\n    /**\n    Apply the given transaction to produce a new state.\n    */\n    apply(tr) {\n        return this.applyTransaction(tr).state;\n    }\n    /**\n    @internal\n    */\n    filterTransaction(tr, ignore = -1) {\n        for (let i = 0; i < this.config.plugins.length; i++)\n            if (i != ignore) {\n                let plugin = this.config.plugins[i];\n                if (plugin.spec.filterTransaction && !plugin.spec.filterTransaction.call(plugin, tr, this))\n                    return false;\n            }\n        return true;\n    }\n    /**\n    Verbose variant of [`apply`](https://prosemirror.net/docs/ref/#state.EditorState.apply) that\n    returns the precise transactions that were applied (which might\n    be influenced by the [transaction\n    hooks](https://prosemirror.net/docs/ref/#state.PluginSpec.filterTransaction) of\n    plugins) along with the new state.\n    */\n    applyTransaction(rootTr) {\n        if (!this.filterTransaction(rootTr))\n            return { state: this, transactions: [] };\n        let trs = [rootTr], newState = this.applyInner(rootTr), seen = null;\n        // This loop repeatedly gives plugins a chance to respond to\n        // transactions as new transactions are added, making sure to only\n        // pass the transactions the plugin did not see before.\n        for (;;) {\n            let haveNew = false;\n            for (let i = 0; i < this.config.plugins.length; i++) {\n                let plugin = this.config.plugins[i];\n                if (plugin.spec.appendTransaction) {\n                    let n = seen ? seen[i].n : 0, oldState = seen ? seen[i].state : this;\n                    let tr = n < trs.length &&\n                        plugin.spec.appendTransaction.call(plugin, n ? trs.slice(n) : trs, oldState, newState);\n                    if (tr && newState.filterTransaction(tr, i)) {\n                        tr.setMeta(\"appendedTransaction\", rootTr);\n                        if (!seen) {\n                            seen = [];\n                            for (let j = 0; j < this.config.plugins.length; j++)\n                                seen.push(j < i ? { state: newState, n: trs.length } : { state: this, n: 0 });\n                        }\n                        trs.push(tr);\n                        newState = newState.applyInner(tr);\n                        haveNew = true;\n                    }\n                    if (seen)\n                        seen[i] = { state: newState, n: trs.length };\n                }\n            }\n            if (!haveNew)\n                return { state: newState, transactions: trs };\n        }\n    }\n    /**\n    @internal\n    */\n    applyInner(tr) {\n        if (!tr.before.eq(this.doc))\n            throw new RangeError(\"Applying a mismatched transaction\");\n        let newInstance = new EditorState(this.config), fields = this.config.fields;\n        for (let i = 0; i < fields.length; i++) {\n            let field = fields[i];\n            newInstance[field.name] = field.apply(tr, this[field.name], this, newInstance);\n        }\n        return newInstance;\n    }\n    /**\n    Start a [transaction](https://prosemirror.net/docs/ref/#state.Transaction) from this state.\n    */\n    get tr() { return new Transaction(this); }\n    /**\n    Create a new state.\n    */\n    static create(config) {\n        let $config = new Configuration(config.doc ? config.doc.type.schema : config.schema, config.plugins);\n        let instance = new EditorState($config);\n        for (let i = 0; i < $config.fields.length; i++)\n            instance[$config.fields[i].name] = $config.fields[i].init(config, instance);\n        return instance;\n    }\n    /**\n    Create a new state based on this one, but with an adjusted set\n    of active plugins. State fields that exist in both sets of\n    plugins are kept unchanged. Those that no longer exist are\n    dropped, and those that are new are initialized using their\n    [`init`](https://prosemirror.net/docs/ref/#state.StateField.init) method, passing in the new\n    configuration object..\n    */\n    reconfigure(config) {\n        let $config = new Configuration(this.schema, config.plugins);\n        let fields = $config.fields, instance = new EditorState($config);\n        for (let i = 0; i < fields.length; i++) {\n            let name = fields[i].name;\n            instance[name] = this.hasOwnProperty(name) ? this[name] : fields[i].init(config, instance);\n        }\n        return instance;\n    }\n    /**\n    Serialize this state to JSON. If you want to serialize the state\n    of plugins, pass an object mapping property names to use in the\n    resulting JSON object to plugin objects. The argument may also be\n    a string or number, in which case it is ignored, to support the\n    way `JSON.stringify` calls `toString` methods.\n    */\n    toJSON(pluginFields) {\n        let result = { doc: this.doc.toJSON(), selection: this.selection.toJSON() };\n        if (this.storedMarks)\n            result.storedMarks = this.storedMarks.map(m => m.toJSON());\n        if (pluginFields && typeof pluginFields == 'object')\n            for (let prop in pluginFields) {\n                if (prop == \"doc\" || prop == \"selection\")\n                    throw new RangeError(\"The JSON fields `doc` and `selection` are reserved\");\n                let plugin = pluginFields[prop], state = plugin.spec.state;\n                if (state && state.toJSON)\n                    result[prop] = state.toJSON.call(plugin, this[plugin.key]);\n            }\n        return result;\n    }\n    /**\n    Deserialize a JSON representation of a state. `config` should\n    have at least a `schema` field, and should contain array of\n    plugins to initialize the state with. `pluginFields` can be used\n    to deserialize the state of plugins, by associating plugin\n    instances with the property names they use in the JSON object.\n    */\n    static fromJSON(config, json, pluginFields) {\n        if (!json)\n            throw new RangeError(\"Invalid input for EditorState.fromJSON\");\n        if (!config.schema)\n            throw new RangeError(\"Required config field 'schema' missing\");\n        let $config = new Configuration(config.schema, config.plugins);\n        let instance = new EditorState($config);\n        $config.fields.forEach(field => {\n            if (field.name == \"doc\") {\n                instance.doc = Node.fromJSON(config.schema, json.doc);\n            }\n            else if (field.name == \"selection\") {\n                instance.selection = Selection.fromJSON(instance.doc, json.selection);\n            }\n            else if (field.name == \"storedMarks\") {\n                if (json.storedMarks)\n                    instance.storedMarks = json.storedMarks.map(config.schema.markFromJSON);\n            }\n            else {\n                if (pluginFields)\n                    for (let prop in pluginFields) {\n                        let plugin = pluginFields[prop], state = plugin.spec.state;\n                        if (plugin.key == field.name && state && state.fromJSON &&\n                            Object.prototype.hasOwnProperty.call(json, prop)) {\n                            instance[field.name] = state.fromJSON.call(plugin, config, json[prop], instance);\n                            return;\n                        }\n                    }\n                instance[field.name] = field.init(config, instance);\n            }\n        });\n        return instance;\n    }\n}\n\nfunction bindProps(obj, self, target) {\n    for (let prop in obj) {\n        let val = obj[prop];\n        if (val instanceof Function)\n            val = val.bind(self);\n        else if (prop == \"handleDOMEvents\")\n            val = bindProps(val, self, {});\n        target[prop] = val;\n    }\n    return target;\n}\n/**\nPlugins bundle functionality that can be added to an editor.\nThey are part of the [editor state](https://prosemirror.net/docs/ref/#state.EditorState) and\nmay influence that state and the view that contains it.\n*/\nclass Plugin {\n    /**\n    Create a plugin.\n    */\n    constructor(\n    /**\n    The plugin's [spec object](https://prosemirror.net/docs/ref/#state.PluginSpec).\n    */\n    spec) {\n        this.spec = spec;\n        /**\n        The [props](https://prosemirror.net/docs/ref/#view.EditorProps) exported by this plugin.\n        */\n        this.props = {};\n        if (spec.props)\n            bindProps(spec.props, this, this.props);\n        this.key = spec.key ? spec.key.key : createKey(\"plugin\");\n    }\n    /**\n    Extract the plugin's state field from an editor state.\n    */\n    getState(state) { return state[this.key]; }\n}\nconst keys = Object.create(null);\nfunction createKey(name) {\n    if (name in keys)\n        return name + \"$\" + ++keys[name];\n    keys[name] = 0;\n    return name + \"$\";\n}\n/**\nA key is used to [tag](https://prosemirror.net/docs/ref/#state.PluginSpec.key) plugins in a way\nthat makes it possible to find them, given an editor state.\nAssigning a key does mean only one plugin of that type can be\nactive in a state.\n*/\nclass PluginKey {\n    /**\n    Create a plugin key.\n    */\n    constructor(name = \"key\") { this.key = createKey(name); }\n    /**\n    Get the active plugin with this key, if any, from an editor\n    state.\n    */\n    get(state) { return state.config.pluginsByKey[this.key]; }\n    /**\n    Get the plugin's state from an editor state.\n    */\n    getState(state) { return state[this.key]; }\n}\n\nexport { AllSelection, EditorState, NodeSelection, Plugin, PluginKey, Selection, SelectionRange, TextSelection, Transaction };\n", "// state/index.ts\nexport * from \"prosemirror-state\";\n", "import { TextSelection, NodeSelection, AllSelection, Selection } from 'prosemirror-state';\nimport { DOMSerializer, Fragment, Mark, Slice, DOMParser } from 'prosemirror-model';\nimport { dropPoint } from 'prosemirror-transform';\n\nconst domIndex = function (node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n};\nconst parentNode = function (node) {\n    let parent = node.assignedSlot || node.parentNode;\n    return parent && parent.nodeType == 11 ? parent.host : parent;\n};\nlet reusedRange = null;\n// Note that this will always return the same range, because DOM range\n// objects are every expensive, and keep slowing down subsequent DOM\n// updates, for some reason.\nconst textRange = function (node, from, to) {\n    let range = reusedRange || (reusedRange = document.createRange());\n    range.setEnd(node, to == null ? node.nodeValue.length : to);\n    range.setStart(node, from || 0);\n    return range;\n};\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nconst isEquivalentPosition = function (node, off, targetNode, targetOff) {\n    return targetNode && (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1));\n};\nconst atomElements = /^(img|br|input|textarea|hr)$/i;\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : nodeSize(node))) {\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1 || hasBlockDesc(node) || atomElements.test(node.nodeName) ||\n                node.contentEditable == \"false\")\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? nodeSize(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction nodeSize(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction isOnEdge(node, offset, parent) {\n    for (let atStart = offset == 0, atEnd = offset == nodeSize(node); atStart || atEnd;) {\n        if (node == parent)\n            return true;\n        let index = domIndex(node);\n        node = node.parentNode;\n        if (!node)\n            return false;\n        atStart = atStart && index == 0;\n        atEnd = atEnd && index == nodeSize(node);\n    }\n}\nfunction hasBlockDesc(dom) {\n    let desc;\n    for (let cur = dom; cur; cur = cur.parentNode)\n        if (desc = cur.pmViewDesc)\n            break;\n    return desc && desc.node && desc.node.isBlock && (desc.dom == dom || desc.contentDOM == dom);\n}\n// Work around Chrome issue https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n// (isCollapsed inappropriately returns true in shadow dom)\nconst selectionCollapsed = function (domSel) {\n    return domSel.focusNode && isEquivalentPosition(domSel.focusNode, domSel.focusOffset, domSel.anchorNode, domSel.anchorOffset);\n};\nfunction keyEvent(keyCode, key) {\n    let event = document.createEvent(\"Event\");\n    event.initEvent(\"keydown\", true, true);\n    event.keyCode = keyCode;\n    event.key = event.code = key;\n    return event;\n}\nfunction deepActiveElement(doc) {\n    let elt = doc.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction caretFromPoint(doc, x, y) {\n    if (doc.caretPositionFromPoint) {\n        try { // Firefox throws for this call in hard-to-predict circumstances (#994)\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                return { node: pos.offsetNode, offset: pos.offset };\n        }\n        catch (_) { }\n    }\n    if (doc.caretRangeFromPoint) {\n        let range = doc.caretRangeFromPoint(x, y);\n        if (range)\n            return { node: range.startContainer, offset: range.startOffset };\n    }\n}\n\nconst nav = typeof navigator != \"undefined\" ? navigator : null;\nconst doc = typeof document != \"undefined\" ? document : null;\nconst agent = (nav && nav.userAgent) || \"\";\nconst ie_edge = /Edge\\/(\\d+)/.exec(agent);\nconst ie_upto10 = /MSIE \\d/.exec(agent);\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(agent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst ie_version = ie_upto10 ? document.documentMode : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0;\nconst gecko = !ie && /gecko\\/(\\d+)/i.test(agent);\ngecko && +(/Firefox\\/(\\d+)/.exec(agent) || [0, 0])[1];\nconst _chrome = !ie && /Chrome\\/(\\d+)/.exec(agent);\nconst chrome = !!_chrome;\nconst chrome_version = _chrome ? +_chrome[1] : 0;\nconst safari = !ie && !!nav && /Apple Computer/.test(nav.vendor);\n// Is true for both iOS and iPadOS for convenience\nconst ios = safari && (/Mobile\\/\\w+/.test(agent) || !!nav && nav.maxTouchPoints > 2);\nconst mac = ios || (nav ? /Mac/.test(nav.platform) : false);\nconst windows = nav ? /Win/.test(nav.platform) : false;\nconst android = /Android \\d/.test(agent);\nconst webkit = !!doc && \"webkitFontSmoothing\" in doc.documentElement.style;\nconst webkit_version = webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0;\n\nfunction windowRect(doc) {\n    return { left: 0, right: doc.documentElement.clientWidth,\n        top: 0, bottom: doc.documentElement.clientHeight };\n}\nfunction getSide(value, side) {\n    return typeof value == \"number\" ? value : value[side];\n}\nfunction clientRect(node) {\n    let rect = node.getBoundingClientRect();\n    // Adjust for elements with style \"transform: scale()\"\n    let scaleX = (rect.width / node.offsetWidth) || 1;\n    let scaleY = (rect.height / node.offsetHeight) || 1;\n    // Make sure scrollbar width isn't included in the rectangle\n    return { left: rect.left, right: rect.left + node.clientWidth * scaleX,\n        top: rect.top, bottom: rect.top + node.clientHeight * scaleY };\n}\nfunction scrollRectIntoView(view, rect, startDOM) {\n    let scrollThreshold = view.someProp(\"scrollThreshold\") || 0, scrollMargin = view.someProp(\"scrollMargin\") || 5;\n    let doc = view.dom.ownerDocument;\n    for (let parent = startDOM || view.dom;; parent = parentNode(parent)) {\n        if (!parent)\n            break;\n        if (parent.nodeType != 1)\n            continue;\n        let elt = parent;\n        let atTop = elt == doc.body;\n        let bounding = atTop ? windowRect(doc) : clientRect(elt);\n        let moveX = 0, moveY = 0;\n        if (rect.top < bounding.top + getSide(scrollThreshold, \"top\"))\n            moveY = -(bounding.top - rect.top + getSide(scrollMargin, \"top\"));\n        else if (rect.bottom > bounding.bottom - getSide(scrollThreshold, \"bottom\"))\n            moveY = rect.bottom - rect.top > bounding.bottom - bounding.top\n                ? rect.top + getSide(scrollMargin, \"top\") - bounding.top\n                : rect.bottom - bounding.bottom + getSide(scrollMargin, \"bottom\");\n        if (rect.left < bounding.left + getSide(scrollThreshold, \"left\"))\n            moveX = -(bounding.left - rect.left + getSide(scrollMargin, \"left\"));\n        else if (rect.right > bounding.right - getSide(scrollThreshold, \"right\"))\n            moveX = rect.right - bounding.right + getSide(scrollMargin, \"right\");\n        if (moveX || moveY) {\n            if (atTop) {\n                doc.defaultView.scrollBy(moveX, moveY);\n            }\n            else {\n                let startX = elt.scrollLeft, startY = elt.scrollTop;\n                if (moveY)\n                    elt.scrollTop += moveY;\n                if (moveX)\n                    elt.scrollLeft += moveX;\n                let dX = elt.scrollLeft - startX, dY = elt.scrollTop - startY;\n                rect = { left: rect.left - dX, top: rect.top - dY, right: rect.right - dX, bottom: rect.bottom - dY };\n            }\n        }\n        if (atTop || /^(fixed|sticky)$/.test(getComputedStyle(parent).position))\n            break;\n    }\n}\n// Store the scroll position of the editor's parent nodes, along with\n// the top position of an element near the top of the editor, which\n// will be used to make sure the visible viewport remains stable even\n// when the size of the content above changes.\nfunction storeScrollPos(view) {\n    let rect = view.dom.getBoundingClientRect(), startY = Math.max(0, rect.top);\n    let refDOM, refTop;\n    for (let x = (rect.left + rect.right) / 2, y = startY + 1; y < Math.min(innerHeight, rect.bottom); y += 5) {\n        let dom = view.root.elementFromPoint(x, y);\n        if (!dom || dom == view.dom || !view.dom.contains(dom))\n            continue;\n        let localRect = dom.getBoundingClientRect();\n        if (localRect.top >= startY - 20) {\n            refDOM = dom;\n            refTop = localRect.top;\n            break;\n        }\n    }\n    return { refDOM: refDOM, refTop: refTop, stack: scrollStack(view.dom) };\n}\nfunction scrollStack(dom) {\n    let stack = [], doc = dom.ownerDocument;\n    for (let cur = dom; cur; cur = parentNode(cur)) {\n        stack.push({ dom: cur, top: cur.scrollTop, left: cur.scrollLeft });\n        if (dom == doc)\n            break;\n    }\n    return stack;\n}\n// Reset the scroll position of the editor's parent nodes to that what\n// it was before, when storeScrollPos was called.\nfunction resetScrollPos({ refDOM, refTop, stack }) {\n    let newRefTop = refDOM ? refDOM.getBoundingClientRect().top : 0;\n    restoreScrollStack(stack, newRefTop == 0 ? 0 : newRefTop - refTop);\n}\nfunction restoreScrollStack(stack, dTop) {\n    for (let i = 0; i < stack.length; i++) {\n        let { dom, top, left } = stack[i];\n        if (dom.scrollTop != top + dTop)\n            dom.scrollTop = top + dTop;\n        if (dom.scrollLeft != left)\n            dom.scrollLeft = left;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stored = scrollStack(dom);\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        restoreScrollStack(stored, 0);\n    }\n}\nfunction findOffsetInNode(node, coords) {\n    let closest, dxClosest = 2e8, coordsClosest, offset = 0;\n    let rowBot = coords.top, rowTop = coords.top;\n    let firstBelow, coordsBelow;\n    for (let child = node.firstChild, childIndex = 0; child; child = child.nextSibling, childIndex++) {\n        let rects;\n        if (child.nodeType == 1)\n            rects = child.getClientRects();\n        else if (child.nodeType == 3)\n            rects = textRange(child).getClientRects();\n        else\n            continue;\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (rect.top <= rowBot && rect.bottom >= rowTop) {\n                rowBot = Math.max(rect.bottom, rowBot);\n                rowTop = Math.min(rect.top, rowTop);\n                let dx = rect.left > coords.left ? rect.left - coords.left\n                    : rect.right < coords.left ? coords.left - rect.right : 0;\n                if (dx < dxClosest) {\n                    closest = child;\n                    dxClosest = dx;\n                    coordsClosest = dx && closest.nodeType == 3 ? {\n                        left: rect.right < coords.left ? rect.right : rect.left,\n                        top: coords.top\n                    } : coords;\n                    if (child.nodeType == 1 && dx)\n                        offset = childIndex + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0);\n                    continue;\n                }\n            }\n            else if (rect.top > coords.top && !firstBelow && rect.left <= coords.left && rect.right >= coords.left) {\n                firstBelow = child;\n                coordsBelow = { left: Math.max(rect.left, Math.min(rect.right, coords.left)), top: rect.top };\n            }\n            if (!closest && (coords.left >= rect.right && coords.top >= rect.top ||\n                coords.left >= rect.left && coords.top >= rect.bottom))\n                offset = childIndex + 1;\n        }\n    }\n    if (!closest && firstBelow) {\n        closest = firstBelow;\n        coordsClosest = coordsBelow;\n        dxClosest = 0;\n    }\n    if (closest && closest.nodeType == 3)\n        return findOffsetInText(closest, coordsClosest);\n    if (!closest || (dxClosest && closest.nodeType == 1))\n        return { node, offset };\n    return findOffsetInNode(closest, coordsClosest);\n}\nfunction findOffsetInText(node, coords) {\n    let len = node.nodeValue.length;\n    let range = document.createRange();\n    for (let i = 0; i < len; i++) {\n        range.setEnd(node, i + 1);\n        range.setStart(node, i);\n        let rect = singleRect(range, 1);\n        if (rect.top == rect.bottom)\n            continue;\n        if (inRect(coords, rect))\n            return { node, offset: i + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0) };\n    }\n    return { node, offset: 0 };\n}\nfunction inRect(coords, rect) {\n    return coords.left >= rect.left - 1 && coords.left <= rect.right + 1 &&\n        coords.top >= rect.top - 1 && coords.top <= rect.bottom + 1;\n}\nfunction targetKludge(dom, coords) {\n    let parent = dom.parentNode;\n    if (parent && /^li$/i.test(parent.nodeName) && coords.left < dom.getBoundingClientRect().left)\n        return parent;\n    return dom;\n}\nfunction posFromElement(view, elt, coords) {\n    let { node, offset } = findOffsetInNode(elt, coords), bias = -1;\n    if (node.nodeType == 1 && !node.firstChild) {\n        let rect = node.getBoundingClientRect();\n        bias = rect.left != rect.right && coords.left > (rect.left + rect.right) / 2 ? 1 : -1;\n    }\n    return view.docView.posFromDOM(node, offset, bias);\n}\nfunction posFromCaret(view, node, offset, coords) {\n    // Browser (in caretPosition/RangeFromPoint) will agressively\n    // normalize towards nearby inline nodes. Since we are interested in\n    // positions between block nodes too, we first walk up the hierarchy\n    // of nodes to see if there are block nodes that the coordinates\n    // fall outside of. If so, we take the position before/after that\n    // block. If not, we call `posFromDOM` on the raw node/offset.\n    let outsideBlock = -1;\n    for (let cur = node, sawBlock = false;;) {\n        if (cur == view.dom)\n            break;\n        let desc = view.docView.nearestDesc(cur, true);\n        if (!desc)\n            return null;\n        if (desc.dom.nodeType == 1 && (desc.node.isBlock && desc.parent && !sawBlock || !desc.contentDOM)) {\n            let rect = desc.dom.getBoundingClientRect();\n            if (desc.node.isBlock && desc.parent && !sawBlock) {\n                sawBlock = true;\n                if (rect.left > coords.left || rect.top > coords.top)\n                    outsideBlock = desc.posBefore;\n                else if (rect.right < coords.left || rect.bottom < coords.top)\n                    outsideBlock = desc.posAfter;\n            }\n            if (!desc.contentDOM && outsideBlock < 0 && !desc.node.isText) {\n                // If we are inside a leaf, return the side of the leaf closer to the coords\n                let before = desc.node.isBlock ? coords.top < (rect.top + rect.bottom) / 2\n                    : coords.left < (rect.left + rect.right) / 2;\n                return before ? desc.posBefore : desc.posAfter;\n            }\n        }\n        cur = desc.dom.parentNode;\n    }\n    return outsideBlock > -1 ? outsideBlock : view.docView.posFromDOM(node, offset, -1);\n}\nfunction elementFromPoint(element, coords, box) {\n    let len = element.childNodes.length;\n    if (len && box.top < box.bottom) {\n        for (let startI = Math.max(0, Math.min(len - 1, Math.floor(len * (coords.top - box.top) / (box.bottom - box.top)) - 2)), i = startI;;) {\n            let child = element.childNodes[i];\n            if (child.nodeType == 1) {\n                let rects = child.getClientRects();\n                for (let j = 0; j < rects.length; j++) {\n                    let rect = rects[j];\n                    if (inRect(coords, rect))\n                        return elementFromPoint(child, coords, rect);\n                }\n            }\n            if ((i = (i + 1) % len) == startI)\n                break;\n        }\n    }\n    return element;\n}\n// Given an x,y position on the editor, get the position in the document.\nfunction posAtCoords(view, coords) {\n    let doc = view.dom.ownerDocument, node, offset = 0;\n    let caret = caretFromPoint(doc, coords.left, coords.top);\n    if (caret)\n        ({ node, offset } = caret);\n    let elt = (view.root.elementFromPoint ? view.root : doc)\n        .elementFromPoint(coords.left, coords.top);\n    let pos;\n    if (!elt || !view.dom.contains(elt.nodeType != 1 ? elt.parentNode : elt)) {\n        let box = view.dom.getBoundingClientRect();\n        if (!inRect(coords, box))\n            return null;\n        elt = elementFromPoint(view.dom, coords, box);\n        if (!elt)\n            return null;\n    }\n    // Safari's caretRangeFromPoint returns nonsense when on a draggable element\n    if (safari) {\n        for (let p = elt; node && p; p = parentNode(p))\n            if (p.draggable)\n                node = undefined;\n    }\n    elt = targetKludge(elt, coords);\n    if (node) {\n        if (gecko && node.nodeType == 1) {\n            // Firefox will sometimes return offsets into <input> nodes, which\n            // have no actual children, from caretPositionFromPoint (#953)\n            offset = Math.min(offset, node.childNodes.length);\n            // It'll also move the returned position before image nodes,\n            // even if those are behind it.\n            if (offset < node.childNodes.length) {\n                let next = node.childNodes[offset], box;\n                if (next.nodeName == \"IMG\" && (box = next.getBoundingClientRect()).right <= coords.left &&\n                    box.bottom > coords.top)\n                    offset++;\n            }\n        }\n        // Suspiciously specific kludge to work around caret*FromPoint\n        // never returning a position at the end of the document\n        if (node == view.dom && offset == node.childNodes.length - 1 && node.lastChild.nodeType == 1 &&\n            coords.top > node.lastChild.getBoundingClientRect().bottom)\n            pos = view.state.doc.content.size;\n        // Ignore positions directly after a BR, since caret*FromPoint\n        // 'round up' positions that would be more accurately placed\n        // before the BR node.\n        else if (offset == 0 || node.nodeType != 1 || node.childNodes[offset - 1].nodeName != \"BR\")\n            pos = posFromCaret(view, node, offset, coords);\n    }\n    if (pos == null)\n        pos = posFromElement(view, elt, coords);\n    let desc = view.docView.nearestDesc(elt, true);\n    return { pos, inside: desc ? desc.posAtStart - desc.border : -1 };\n}\nfunction nonZero(rect) {\n    return rect.top < rect.bottom || rect.left < rect.right;\n}\nfunction singleRect(target, bias) {\n    let rects = target.getClientRects();\n    if (rects.length) {\n        let first = rects[bias < 0 ? 0 : rects.length - 1];\n        if (nonZero(first))\n            return first;\n    }\n    return Array.prototype.find.call(rects, nonZero) || target.getBoundingClientRect();\n}\nconst BIDI = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n// Given a position in the document model, get a bounding box of the\n// character at that position, relative to the window.\nfunction coordsAtPos(view, pos, side) {\n    let { node, offset, atom } = view.docView.domFromPos(pos, side < 0 ? -1 : 1);\n    let supportEmptyRange = webkit || gecko;\n    if (node.nodeType == 3) {\n        // These browsers support querying empty text ranges. Prefer that in\n        // bidi context or when at the end of a node.\n        if (supportEmptyRange && (BIDI.test(node.nodeValue) || (side < 0 ? !offset : offset == node.nodeValue.length))) {\n            let rect = singleRect(textRange(node, offset, offset), side);\n            // Firefox returns bad results (the position before the space)\n            // when querying a position directly after line-broken\n            // whitespace. Detect this situation and and kludge around it\n            if (gecko && offset && /\\s/.test(node.nodeValue[offset - 1]) && offset < node.nodeValue.length) {\n                let rectBefore = singleRect(textRange(node, offset - 1, offset - 1), -1);\n                if (rectBefore.top == rect.top) {\n                    let rectAfter = singleRect(textRange(node, offset, offset + 1), -1);\n                    if (rectAfter.top != rect.top)\n                        return flattenV(rectAfter, rectAfter.left < rectBefore.left);\n                }\n            }\n            return rect;\n        }\n        else {\n            let from = offset, to = offset, takeSide = side < 0 ? 1 : -1;\n            if (side < 0 && !offset) {\n                to++;\n                takeSide = -1;\n            }\n            else if (side >= 0 && offset == node.nodeValue.length) {\n                from--;\n                takeSide = 1;\n            }\n            else if (side < 0) {\n                from--;\n            }\n            else {\n                to++;\n            }\n            return flattenV(singleRect(textRange(node, from, to), takeSide), takeSide < 0);\n        }\n    }\n    let $dom = view.state.doc.resolve(pos - (atom || 0));\n    // Return a horizontal line in block context\n    if (!$dom.parent.inlineContent) {\n        if (atom == null && offset && (side < 0 || offset == nodeSize(node))) {\n            let before = node.childNodes[offset - 1];\n            if (before.nodeType == 1)\n                return flattenH(before.getBoundingClientRect(), false);\n        }\n        if (atom == null && offset < nodeSize(node)) {\n            let after = node.childNodes[offset];\n            if (after.nodeType == 1)\n                return flattenH(after.getBoundingClientRect(), true);\n        }\n        return flattenH(node.getBoundingClientRect(), side >= 0);\n    }\n    // Inline, not in text node (this is not Bidi-safe)\n    if (atom == null && offset && (side < 0 || offset == nodeSize(node))) {\n        let before = node.childNodes[offset - 1];\n        let target = before.nodeType == 3 ? textRange(before, nodeSize(before) - (supportEmptyRange ? 0 : 1))\n            // BR nodes tend to only return the rectangle before them.\n            // Only use them if they are the last element in their parent\n            : before.nodeType == 1 && (before.nodeName != \"BR\" || !before.nextSibling) ? before : null;\n        if (target)\n            return flattenV(singleRect(target, 1), false);\n    }\n    if (atom == null && offset < nodeSize(node)) {\n        let after = node.childNodes[offset];\n        while (after.pmViewDesc && after.pmViewDesc.ignoreForCoords)\n            after = after.nextSibling;\n        let target = !after ? null : after.nodeType == 3 ? textRange(after, 0, (supportEmptyRange ? 0 : 1))\n            : after.nodeType == 1 ? after : null;\n        if (target)\n            return flattenV(singleRect(target, -1), true);\n    }\n    // All else failed, just try to get a rectangle for the target node\n    return flattenV(singleRect(node.nodeType == 3 ? textRange(node) : node, -side), side >= 0);\n}\nfunction flattenV(rect, left) {\n    if (rect.width == 0)\n        return rect;\n    let x = left ? rect.left : rect.right;\n    return { top: rect.top, bottom: rect.bottom, left: x, right: x };\n}\nfunction flattenH(rect, top) {\n    if (rect.height == 0)\n        return rect;\n    let y = top ? rect.top : rect.bottom;\n    return { top: y, bottom: y, left: rect.left, right: rect.right };\n}\nfunction withFlushedState(view, state, f) {\n    let viewState = view.state, active = view.root.activeElement;\n    if (viewState != state)\n        view.updateState(state);\n    if (active != view.dom)\n        view.focus();\n    try {\n        return f();\n    }\n    finally {\n        if (viewState != state)\n            view.updateState(viewState);\n        if (active != view.dom && active)\n            active.focus();\n    }\n}\n// Whether vertical position motion in a given direction\n// from a position would leave a text block.\nfunction endOfTextblockVertical(view, state, dir) {\n    let sel = state.selection;\n    let $pos = dir == \"up\" ? sel.$from : sel.$to;\n    return withFlushedState(view, state, () => {\n        let { node: dom } = view.docView.domFromPos($pos.pos, dir == \"up\" ? -1 : 1);\n        for (;;) {\n            let nearest = view.docView.nearestDesc(dom, true);\n            if (!nearest)\n                break;\n            if (nearest.node.isBlock) {\n                dom = nearest.contentDOM || nearest.dom;\n                break;\n            }\n            dom = nearest.dom.parentNode;\n        }\n        let coords = coordsAtPos(view, $pos.pos, 1);\n        for (let child = dom.firstChild; child; child = child.nextSibling) {\n            let boxes;\n            if (child.nodeType == 1)\n                boxes = child.getClientRects();\n            else if (child.nodeType == 3)\n                boxes = textRange(child, 0, child.nodeValue.length).getClientRects();\n            else\n                continue;\n            for (let i = 0; i < boxes.length; i++) {\n                let box = boxes[i];\n                if (box.bottom > box.top + 1 &&\n                    (dir == \"up\" ? coords.top - box.top > (box.bottom - coords.top) * 2\n                        : box.bottom - coords.bottom > (coords.bottom - box.top) * 2))\n                    return false;\n            }\n        }\n        return true;\n    });\n}\nconst maybeRTL = /[\\u0590-\\u08ac]/;\nfunction endOfTextblockHorizontal(view, state, dir) {\n    let { $head } = state.selection;\n    if (!$head.parent.isTextblock)\n        return false;\n    let offset = $head.parentOffset, atStart = !offset, atEnd = offset == $head.parent.content.size;\n    let sel = view.domSelection();\n    // If the textblock is all LTR, or the browser doesn't support\n    // Selection.modify (Edge), fall back to a primitive approach\n    if (!maybeRTL.test($head.parent.textContent) || !sel.modify)\n        return dir == \"left\" || dir == \"backward\" ? atStart : atEnd;\n    return withFlushedState(view, state, () => {\n        // This is a huge hack, but appears to be the best we can\n        // currently do: use `Selection.modify` to move the selection by\n        // one character, and see if that moves the cursor out of the\n        // textblock (or doesn't move it at all, when at the start/end of\n        // the document).\n        let { focusNode: oldNode, focusOffset: oldOff, anchorNode, anchorOffset } = view.domSelectionRange();\n        let oldBidiLevel = sel.caretBidiLevel // Only for Firefox\n        ;\n        sel.modify(\"move\", dir, \"character\");\n        let parentDOM = $head.depth ? view.docView.domAfterPos($head.before()) : view.dom;\n        let { focusNode: newNode, focusOffset: newOff } = view.domSelectionRange();\n        let result = newNode && !parentDOM.contains(newNode.nodeType == 1 ? newNode : newNode.parentNode) ||\n            (oldNode == newNode && oldOff == newOff);\n        // Restore the previous selection\n        try {\n            sel.collapse(anchorNode, anchorOffset);\n            if (oldNode && (oldNode != anchorNode || oldOff != anchorOffset) && sel.extend)\n                sel.extend(oldNode, oldOff);\n        }\n        catch (_) { }\n        if (oldBidiLevel != null)\n            sel.caretBidiLevel = oldBidiLevel;\n        return result;\n    });\n}\nlet cachedState = null;\nlet cachedDir = null;\nlet cachedResult = false;\nfunction endOfTextblock(view, state, dir) {\n    if (cachedState == state && cachedDir == dir)\n        return cachedResult;\n    cachedState = state;\n    cachedDir = dir;\n    return cachedResult = dir == \"up\" || dir == \"down\"\n        ? endOfTextblockVertical(view, state, dir)\n        : endOfTextblockHorizontal(view, state, dir);\n}\n\n// View descriptions are data structures that describe the DOM that is\n// used to represent the editor's content. They are used for:\n//\n// - Incremental redrawing when the document changes\n//\n// - Figuring out what part of the document a given DOM position\n//   corresponds to\n//\n// - Wiring in custom implementations of the editing interface for a\n//   given node\n//\n// They form a doubly-linked mutable tree, starting at `view.docView`.\nconst NOT_DIRTY = 0, CHILD_DIRTY = 1, CONTENT_DIRTY = 2, NODE_DIRTY = 3;\n// Superclass for the various kinds of descriptions. Defines their\n// basic structure and shared methods.\nclass ViewDesc {\n    constructor(parent, children, dom, \n    // This is the node that holds the child views. It may be null for\n    // descs that don't have children.\n    contentDOM) {\n        this.parent = parent;\n        this.children = children;\n        this.dom = dom;\n        this.contentDOM = contentDOM;\n        this.dirty = NOT_DIRTY;\n        // An expando property on the DOM node provides a link back to its\n        // description.\n        dom.pmViewDesc = this;\n    }\n    // Used to check whether a given description corresponds to a\n    // widget/mark/node.\n    matchesWidget(widget) { return false; }\n    matchesMark(mark) { return false; }\n    matchesNode(node, outerDeco, innerDeco) { return false; }\n    matchesHack(nodeName) { return false; }\n    // When parsing in-editor content (in domchange.js), we allow\n    // descriptions to determine the parse rules that should be used to\n    // parse them.\n    parseRule() { return null; }\n    // Used by the editor's event handler to ignore events that come\n    // from certain descs.\n    stopEvent(event) { return false; }\n    // The size of the content represented by this desc.\n    get size() {\n        let size = 0;\n        for (let i = 0; i < this.children.length; i++)\n            size += this.children[i].size;\n        return size;\n    }\n    // For block nodes, this represents the space taken up by their\n    // start/end tokens.\n    get border() { return 0; }\n    destroy() {\n        this.parent = undefined;\n        if (this.dom.pmViewDesc == this)\n            this.dom.pmViewDesc = undefined;\n        for (let i = 0; i < this.children.length; i++)\n            this.children[i].destroy();\n    }\n    posBeforeChild(child) {\n        for (let i = 0, pos = this.posAtStart;; i++) {\n            let cur = this.children[i];\n            if (cur == child)\n                return pos;\n            pos += cur.size;\n        }\n    }\n    get posBefore() {\n        return this.parent.posBeforeChild(this);\n    }\n    get posAtStart() {\n        return this.parent ? this.parent.posBeforeChild(this) + this.border : 0;\n    }\n    get posAfter() {\n        return this.posBefore + this.size;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.size - 2 * this.border;\n    }\n    localPosFromDOM(dom, offset, bias) {\n        // If the DOM position is in the content, use the child desc after\n        // it to figure out a position.\n        if (this.contentDOM && this.contentDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode)) {\n            if (bias < 0) {\n                let domBefore, desc;\n                if (dom == this.contentDOM) {\n                    domBefore = dom.childNodes[offset - 1];\n                }\n                else {\n                    while (dom.parentNode != this.contentDOM)\n                        dom = dom.parentNode;\n                    domBefore = dom.previousSibling;\n                }\n                while (domBefore && !((desc = domBefore.pmViewDesc) && desc.parent == this))\n                    domBefore = domBefore.previousSibling;\n                return domBefore ? this.posBeforeChild(desc) + desc.size : this.posAtStart;\n            }\n            else {\n                let domAfter, desc;\n                if (dom == this.contentDOM) {\n                    domAfter = dom.childNodes[offset];\n                }\n                else {\n                    while (dom.parentNode != this.contentDOM)\n                        dom = dom.parentNode;\n                    domAfter = dom.nextSibling;\n                }\n                while (domAfter && !((desc = domAfter.pmViewDesc) && desc.parent == this))\n                    domAfter = domAfter.nextSibling;\n                return domAfter ? this.posBeforeChild(desc) : this.posAtEnd;\n            }\n        }\n        // Otherwise, use various heuristics, falling back on the bias\n        // parameter, to determine whether to return the position at the\n        // start or at the end of this view desc.\n        let atEnd;\n        if (dom == this.dom && this.contentDOM) {\n            atEnd = offset > domIndex(this.contentDOM);\n        }\n        else if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM)) {\n            atEnd = dom.compareDocumentPosition(this.contentDOM) & 2;\n        }\n        else if (this.dom.firstChild) {\n            if (offset == 0)\n                for (let search = dom;; search = search.parentNode) {\n                    if (search == this.dom) {\n                        atEnd = false;\n                        break;\n                    }\n                    if (search.previousSibling)\n                        break;\n                }\n            if (atEnd == null && offset == dom.childNodes.length)\n                for (let search = dom;; search = search.parentNode) {\n                    if (search == this.dom) {\n                        atEnd = true;\n                        break;\n                    }\n                    if (search.nextSibling)\n                        break;\n                }\n        }\n        return (atEnd == null ? bias > 0 : atEnd) ? this.posAtEnd : this.posAtStart;\n    }\n    nearestDesc(dom, onlyNodes = false) {\n        for (let first = true, cur = dom; cur; cur = cur.parentNode) {\n            let desc = this.getDesc(cur), nodeDOM;\n            if (desc && (!onlyNodes || desc.node)) {\n                // If dom is outside of this desc's nodeDOM, don't count it.\n                if (first && (nodeDOM = desc.nodeDOM) &&\n                    !(nodeDOM.nodeType == 1 ? nodeDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode) : nodeDOM == dom))\n                    first = false;\n                else\n                    return desc;\n            }\n        }\n    }\n    getDesc(dom) {\n        let desc = dom.pmViewDesc;\n        for (let cur = desc; cur; cur = cur.parent)\n            if (cur == this)\n                return desc;\n    }\n    posFromDOM(dom, offset, bias) {\n        for (let scan = dom; scan; scan = scan.parentNode) {\n            let desc = this.getDesc(scan);\n            if (desc)\n                return desc.localPosFromDOM(dom, offset, bias);\n        }\n        return -1;\n    }\n    // Find the desc for the node after the given pos, if any. (When a\n    // parent node overrode rendering, there might not be one.)\n    descAt(pos) {\n        for (let i = 0, offset = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (offset == pos && end != offset) {\n                while (!child.border && child.children.length)\n                    child = child.children[0];\n                return child;\n            }\n            if (pos < end)\n                return child.descAt(pos - offset - child.border);\n            offset = end;\n        }\n    }\n    domFromPos(pos, side) {\n        if (!this.contentDOM)\n            return { node: this.dom, offset: 0, atom: pos + 1 };\n        // First find the position in the child array\n        let i = 0, offset = 0;\n        for (let curPos = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = curPos + child.size;\n            if (end > pos || child instanceof TrailingHackViewDesc) {\n                offset = pos - curPos;\n                break;\n            }\n            curPos = end;\n        }\n        // If this points into the middle of a child, call through\n        if (offset)\n            return this.children[i].domFromPos(offset - this.children[i].border, side);\n        // Go back if there were any zero-length widgets with side >= 0 before this point\n        for (let prev; i && !(prev = this.children[i - 1]).size && prev instanceof WidgetViewDesc && prev.side >= 0; i--) { }\n        // Scan towards the first useable node\n        if (side <= 0) {\n            let prev, enter = true;\n            for (;; i--, enter = false) {\n                prev = i ? this.children[i - 1] : null;\n                if (!prev || prev.dom.parentNode == this.contentDOM)\n                    break;\n            }\n            if (prev && side && enter && !prev.border && !prev.domAtom)\n                return prev.domFromPos(prev.size, side);\n            return { node: this.contentDOM, offset: prev ? domIndex(prev.dom) + 1 : 0 };\n        }\n        else {\n            let next, enter = true;\n            for (;; i++, enter = false) {\n                next = i < this.children.length ? this.children[i] : null;\n                if (!next || next.dom.parentNode == this.contentDOM)\n                    break;\n            }\n            if (next && enter && !next.border && !next.domAtom)\n                return next.domFromPos(0, side);\n            return { node: this.contentDOM, offset: next ? domIndex(next.dom) : this.contentDOM.childNodes.length };\n        }\n    }\n    // Used to find a DOM range in a single parent for a given changed\n    // range.\n    parseRange(from, to, base = 0) {\n        if (this.children.length == 0)\n            return { node: this.contentDOM, from, to, fromOffset: 0, toOffset: this.contentDOM.childNodes.length };\n        let fromOffset = -1, toOffset = -1;\n        for (let offset = base, i = 0;; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (fromOffset == -1 && from <= end) {\n                let childBase = offset + child.border;\n                // FIXME maybe descend mark views to parse a narrower range?\n                if (from >= childBase && to <= end - child.border && child.node &&\n                    child.contentDOM && this.contentDOM.contains(child.contentDOM))\n                    return child.parseRange(from, to, childBase);\n                from = offset;\n                for (let j = i; j > 0; j--) {\n                    let prev = this.children[j - 1];\n                    if (prev.size && prev.dom.parentNode == this.contentDOM && !prev.emptyChildAt(1)) {\n                        fromOffset = domIndex(prev.dom) + 1;\n                        break;\n                    }\n                    from -= prev.size;\n                }\n                if (fromOffset == -1)\n                    fromOffset = 0;\n            }\n            if (fromOffset > -1 && (end > to || i == this.children.length - 1)) {\n                to = end;\n                for (let j = i + 1; j < this.children.length; j++) {\n                    let next = this.children[j];\n                    if (next.size && next.dom.parentNode == this.contentDOM && !next.emptyChildAt(-1)) {\n                        toOffset = domIndex(next.dom);\n                        break;\n                    }\n                    to += next.size;\n                }\n                if (toOffset == -1)\n                    toOffset = this.contentDOM.childNodes.length;\n                break;\n            }\n            offset = end;\n        }\n        return { node: this.contentDOM, from, to, fromOffset, toOffset };\n    }\n    emptyChildAt(side) {\n        if (this.border || !this.contentDOM || !this.children.length)\n            return false;\n        let child = this.children[side < 0 ? 0 : this.children.length - 1];\n        return child.size == 0 || child.emptyChildAt(side);\n    }\n    domAfterPos(pos) {\n        let { node, offset } = this.domFromPos(pos, 0);\n        if (node.nodeType != 1 || offset == node.childNodes.length)\n            throw new RangeError(\"No node after pos \" + pos);\n        return node.childNodes[offset];\n    }\n    // View descs are responsible for setting any selection that falls\n    // entirely inside of them, so that custom implementations can do\n    // custom things with the selection. Note that this falls apart when\n    // a selection starts in such a node and ends in another, in which\n    // case we just use whatever domFromPos produces as a best effort.\n    setSelection(anchor, head, root, force = false) {\n        // If the selection falls entirely in a child, give it to that child\n        let from = Math.min(anchor, head), to = Math.max(anchor, head);\n        for (let i = 0, offset = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (from > offset && to < end)\n                return child.setSelection(anchor - offset - child.border, head - offset - child.border, root, force);\n            offset = end;\n        }\n        let anchorDOM = this.domFromPos(anchor, anchor ? -1 : 1);\n        let headDOM = head == anchor ? anchorDOM : this.domFromPos(head, head ? -1 : 1);\n        let domSel = root.getSelection();\n        let brKludge = false;\n        // On Firefox, using Selection.collapse to put the cursor after a\n        // BR node for some reason doesn't always work (#1073). On Safari,\n        // the cursor sometimes inexplicable visually lags behind its\n        // reported position in such situations (#1092).\n        if ((gecko || safari) && anchor == head) {\n            let { node, offset } = anchorDOM;\n            if (node.nodeType == 3) {\n                brKludge = !!(offset && node.nodeValue[offset - 1] == \"\\n\");\n                // Issue #1128\n                if (brKludge && offset == node.nodeValue.length) {\n                    for (let scan = node, after; scan; scan = scan.parentNode) {\n                        if (after = scan.nextSibling) {\n                            if (after.nodeName == \"BR\")\n                                anchorDOM = headDOM = { node: after.parentNode, offset: domIndex(after) + 1 };\n                            break;\n                        }\n                        let desc = scan.pmViewDesc;\n                        if (desc && desc.node && desc.node.isBlock)\n                            break;\n                    }\n                }\n            }\n            else {\n                let prev = node.childNodes[offset - 1];\n                brKludge = prev && (prev.nodeName == \"BR\" || prev.contentEditable == \"false\");\n            }\n        }\n        // Firefox can act strangely when the selection is in front of an\n        // uneditable node. See #1163 and https://bugzilla.mozilla.org/show_bug.cgi?id=1709536\n        if (gecko && domSel.focusNode && domSel.focusNode != headDOM.node && domSel.focusNode.nodeType == 1) {\n            let after = domSel.focusNode.childNodes[domSel.focusOffset];\n            if (after && after.contentEditable == \"false\")\n                force = true;\n        }\n        if (!(force || brKludge && safari) &&\n            isEquivalentPosition(anchorDOM.node, anchorDOM.offset, domSel.anchorNode, domSel.anchorOffset) &&\n            isEquivalentPosition(headDOM.node, headDOM.offset, domSel.focusNode, domSel.focusOffset))\n            return;\n        // Selection.extend can be used to create an 'inverted' selection\n        // (one where the focus is before the anchor), but not all\n        // browsers support it yet.\n        let domSelExtended = false;\n        if ((domSel.extend || anchor == head) && !brKludge) {\n            domSel.collapse(anchorDOM.node, anchorDOM.offset);\n            try {\n                if (anchor != head)\n                    domSel.extend(headDOM.node, headDOM.offset);\n                domSelExtended = true;\n            }\n            catch (_) {\n                // In some cases with Chrome the selection is empty after calling\n                // collapse, even when it should be valid. This appears to be a bug, but\n                // it is difficult to isolate. If this happens fallback to the old path\n                // without using extend.\n                // Similarly, this could crash on Safari if the editor is hidden, and\n                // there was no selection.\n            }\n        }\n        if (!domSelExtended) {\n            if (anchor > head) {\n                let tmp = anchorDOM;\n                anchorDOM = headDOM;\n                headDOM = tmp;\n            }\n            let range = document.createRange();\n            range.setEnd(headDOM.node, headDOM.offset);\n            range.setStart(anchorDOM.node, anchorDOM.offset);\n            domSel.removeAllRanges();\n            domSel.addRange(range);\n        }\n    }\n    ignoreMutation(mutation) {\n        return !this.contentDOM && mutation.type != \"selection\";\n    }\n    get contentLost() {\n        return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM);\n    }\n    // Remove a subtree of the element tree that has been touched\n    // by a DOM change, so that the next update will redraw it.\n    markDirty(from, to) {\n        for (let offset = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (offset == end ? from <= end && to >= offset : from < end && to > offset) {\n                let startInside = offset + child.border, endInside = end - child.border;\n                if (from >= startInside && to <= endInside) {\n                    this.dirty = from == offset || to == end ? CONTENT_DIRTY : CHILD_DIRTY;\n                    if (from == startInside && to == endInside &&\n                        (child.contentLost || child.dom.parentNode != this.contentDOM))\n                        child.dirty = NODE_DIRTY;\n                    else\n                        child.markDirty(from - startInside, to - startInside);\n                    return;\n                }\n                else {\n                    child.dirty = child.dom == child.contentDOM && child.dom.parentNode == this.contentDOM && !child.children.length\n                        ? CONTENT_DIRTY : NODE_DIRTY;\n                }\n            }\n            offset = end;\n        }\n        this.dirty = CONTENT_DIRTY;\n    }\n    markParentsDirty() {\n        let level = 1;\n        for (let node = this.parent; node; node = node.parent, level++) {\n            let dirty = level == 1 ? CONTENT_DIRTY : CHILD_DIRTY;\n            if (node.dirty < dirty)\n                node.dirty = dirty;\n        }\n    }\n    get domAtom() { return false; }\n    get ignoreForCoords() { return false; }\n}\n// A widget desc represents a widget decoration, which is a DOM node\n// drawn between the document nodes.\nclass WidgetViewDesc extends ViewDesc {\n    constructor(parent, widget, view, pos) {\n        let self, dom = widget.type.toDOM;\n        if (typeof dom == \"function\")\n            dom = dom(view, () => {\n                if (!self)\n                    return pos;\n                if (self.parent)\n                    return self.parent.posBeforeChild(self);\n            });\n        if (!widget.type.spec.raw) {\n            if (dom.nodeType != 1) {\n                let wrap = document.createElement(\"span\");\n                wrap.appendChild(dom);\n                dom = wrap;\n            }\n            dom.contentEditable = \"false\";\n            dom.classList.add(\"ProseMirror-widget\");\n        }\n        super(parent, [], dom, null);\n        this.widget = widget;\n        this.widget = widget;\n        self = this;\n    }\n    matchesWidget(widget) {\n        return this.dirty == NOT_DIRTY && widget.type.eq(this.widget.type);\n    }\n    parseRule() { return { ignore: true }; }\n    stopEvent(event) {\n        let stop = this.widget.spec.stopEvent;\n        return stop ? stop(event) : false;\n    }\n    ignoreMutation(mutation) {\n        return mutation.type != \"selection\" || this.widget.spec.ignoreSelection;\n    }\n    destroy() {\n        this.widget.type.destroy(this.dom);\n        super.destroy();\n    }\n    get domAtom() { return true; }\n    get side() { return this.widget.type.side; }\n}\nclass CompositionViewDesc extends ViewDesc {\n    constructor(parent, dom, textDOM, text) {\n        super(parent, [], dom, null);\n        this.textDOM = textDOM;\n        this.text = text;\n    }\n    get size() { return this.text.length; }\n    localPosFromDOM(dom, offset) {\n        if (dom != this.textDOM)\n            return this.posAtStart + (offset ? this.size : 0);\n        return this.posAtStart + offset;\n    }\n    domFromPos(pos) {\n        return { node: this.textDOM, offset: pos };\n    }\n    ignoreMutation(mut) {\n        return mut.type === 'characterData' && mut.target.nodeValue == mut.oldValue;\n    }\n}\n// A mark desc represents a mark. May have multiple children,\n// depending on how the mark is split. Note that marks are drawn using\n// a fixed nesting order, for simplicity and predictability, so in\n// some cases they will be split more often than would appear\n// necessary.\nclass MarkViewDesc extends ViewDesc {\n    constructor(parent, mark, dom, contentDOM) {\n        super(parent, [], dom, contentDOM);\n        this.mark = mark;\n    }\n    static create(parent, mark, inline, view) {\n        let custom = view.nodeViews[mark.type.name];\n        let spec = custom && custom(mark, view, inline);\n        if (!spec || !spec.dom)\n            spec = DOMSerializer.renderSpec(document, mark.type.spec.toDOM(mark, inline));\n        return new MarkViewDesc(parent, mark, spec.dom, spec.contentDOM || spec.dom);\n    }\n    parseRule() {\n        if ((this.dirty & NODE_DIRTY) || this.mark.type.spec.reparseInView)\n            return null;\n        return { mark: this.mark.type.name, attrs: this.mark.attrs, contentElement: this.contentDOM };\n    }\n    matchesMark(mark) { return this.dirty != NODE_DIRTY && this.mark.eq(mark); }\n    markDirty(from, to) {\n        super.markDirty(from, to);\n        // Move dirty info to nearest node view\n        if (this.dirty != NOT_DIRTY) {\n            let parent = this.parent;\n            while (!parent.node)\n                parent = parent.parent;\n            if (parent.dirty < this.dirty)\n                parent.dirty = this.dirty;\n            this.dirty = NOT_DIRTY;\n        }\n    }\n    slice(from, to, view) {\n        let copy = MarkViewDesc.create(this.parent, this.mark, true, view);\n        let nodes = this.children, size = this.size;\n        if (to < size)\n            nodes = replaceNodes(nodes, to, size, view);\n        if (from > 0)\n            nodes = replaceNodes(nodes, 0, from, view);\n        for (let i = 0; i < nodes.length; i++)\n            nodes[i].parent = copy;\n        copy.children = nodes;\n        return copy;\n    }\n}\n// Node view descs are the main, most common type of view desc, and\n// correspond to an actual node in the document. Unlike mark descs,\n// they populate their child array themselves.\nclass NodeViewDesc extends ViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos) {\n        super(parent, [], dom, contentDOM);\n        this.node = node;\n        this.outerDeco = outerDeco;\n        this.innerDeco = innerDeco;\n        this.nodeDOM = nodeDOM;\n    }\n    // By default, a node is rendered using the `toDOM` method from the\n    // node type spec. But client code can use the `nodeViews` spec to\n    // supply a custom node view, which can influence various aspects of\n    // the way the node works.\n    //\n    // (Using subclassing for this was intentionally decided against,\n    // since it'd require exposing a whole slew of finicky\n    // implementation details to the user code that they probably will\n    // never need.)\n    static create(parent, node, outerDeco, innerDeco, view, pos) {\n        let custom = view.nodeViews[node.type.name], descObj;\n        let spec = custom && custom(node, view, () => {\n            // (This is a function that allows the custom view to find its\n            // own position)\n            if (!descObj)\n                return pos;\n            if (descObj.parent)\n                return descObj.parent.posBeforeChild(descObj);\n        }, outerDeco, innerDeco);\n        let dom = spec && spec.dom, contentDOM = spec && spec.contentDOM;\n        if (node.isText) {\n            if (!dom)\n                dom = document.createTextNode(node.text);\n            else if (dom.nodeType != 3)\n                throw new RangeError(\"Text must be rendered as a DOM text node\");\n        }\n        else if (!dom) {\n            ({ dom, contentDOM } = DOMSerializer.renderSpec(document, node.type.spec.toDOM(node)));\n        }\n        if (!contentDOM && !node.isText && dom.nodeName != \"BR\") { // Chrome gets confused by <br contenteditable=false>\n            if (!dom.hasAttribute(\"contenteditable\"))\n                dom.contentEditable = \"false\";\n            if (node.type.spec.draggable)\n                dom.draggable = true;\n        }\n        let nodeDOM = dom;\n        dom = applyOuterDeco(dom, outerDeco, node);\n        if (spec)\n            return descObj = new CustomNodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM || null, nodeDOM, spec, view, pos + 1);\n        else if (node.isText)\n            return new TextViewDesc(parent, node, outerDeco, innerDeco, dom, nodeDOM, view);\n        else\n            return new NodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM || null, nodeDOM, view, pos + 1);\n    }\n    parseRule() {\n        // Experimental kludge to allow opt-in re-parsing of nodes\n        if (this.node.type.spec.reparseInView)\n            return null;\n        // FIXME the assumption that this can always return the current\n        // attrs means that if the user somehow manages to change the\n        // attrs in the dom, that won't be picked up. Not entirely sure\n        // whether this is a problem\n        let rule = { node: this.node.type.name, attrs: this.node.attrs };\n        if (this.node.type.whitespace == \"pre\")\n            rule.preserveWhitespace = \"full\";\n        if (!this.contentDOM) {\n            rule.getContent = () => this.node.content;\n        }\n        else if (!this.contentLost) {\n            rule.contentElement = this.contentDOM;\n        }\n        else {\n            // Chrome likes to randomly recreate parent nodes when\n            // backspacing things. When that happens, this tries to find the\n            // new parent.\n            for (let i = this.children.length - 1; i >= 0; i--) {\n                let child = this.children[i];\n                if (this.dom.contains(child.dom.parentNode)) {\n                    rule.contentElement = child.dom.parentNode;\n                    break;\n                }\n            }\n            if (!rule.contentElement)\n                rule.getContent = () => Fragment.empty;\n        }\n        return rule;\n    }\n    matchesNode(node, outerDeco, innerDeco) {\n        return this.dirty == NOT_DIRTY && node.eq(this.node) &&\n            sameOuterDeco(outerDeco, this.outerDeco) && innerDeco.eq(this.innerDeco);\n    }\n    get size() { return this.node.nodeSize; }\n    get border() { return this.node.isLeaf ? 0 : 1; }\n    // Syncs `this.children` to match `this.node.content` and the local\n    // decorations, possibly introducing nesting for marks. Then, in a\n    // separate step, syncs the DOM inside `this.contentDOM` to\n    // `this.children`.\n    updateChildren(view, pos) {\n        let inline = this.node.inlineContent, off = pos;\n        let composition = view.composing ? this.localCompositionInfo(view, pos) : null;\n        let localComposition = composition && composition.pos > -1 ? composition : null;\n        let compositionInChild = composition && composition.pos < 0;\n        let updater = new ViewTreeUpdater(this, localComposition && localComposition.node, view);\n        iterDeco(this.node, this.innerDeco, (widget, i, insideNode) => {\n            if (widget.spec.marks)\n                updater.syncToMarks(widget.spec.marks, inline, view);\n            else if (widget.type.side >= 0 && !insideNode)\n                updater.syncToMarks(i == this.node.childCount ? Mark.none : this.node.child(i).marks, inline, view);\n            // If the next node is a desc matching this widget, reuse it,\n            // otherwise insert the widget as a new view desc.\n            updater.placeWidget(widget, view, off);\n        }, (child, outerDeco, innerDeco, i) => {\n            // Make sure the wrapping mark descs match the node's marks.\n            updater.syncToMarks(child.marks, inline, view);\n            // Try several strategies for drawing this node\n            let compIndex;\n            if (updater.findNodeMatch(child, outerDeco, innerDeco, i)) ;\n            else if (compositionInChild && view.state.selection.from > off &&\n                view.state.selection.to < off + child.nodeSize &&\n                (compIndex = updater.findIndexWithChild(composition.node)) > -1 &&\n                updater.updateNodeAt(child, outerDeco, innerDeco, compIndex, view)) ;\n            else if (updater.updateNextNode(child, outerDeco, innerDeco, view, i, off)) ;\n            else {\n                // Add it as a new view\n                updater.addNode(child, outerDeco, innerDeco, view, off);\n            }\n            off += child.nodeSize;\n        });\n        // Drop all remaining descs after the current position.\n        updater.syncToMarks([], inline, view);\n        if (this.node.isTextblock)\n            updater.addTextblockHacks();\n        updater.destroyRest();\n        // Sync the DOM if anything changed\n        if (updater.changed || this.dirty == CONTENT_DIRTY) {\n            // May have to protect focused DOM from being changed if a composition is active\n            if (localComposition)\n                this.protectLocalComposition(view, localComposition);\n            renderDescs(this.contentDOM, this.children, view);\n            if (ios)\n                iosHacks(this.dom);\n        }\n    }\n    localCompositionInfo(view, pos) {\n        // Only do something if both the selection and a focused text node\n        // are inside of this node\n        let { from, to } = view.state.selection;\n        if (!(view.state.selection instanceof TextSelection) || from < pos || to > pos + this.node.content.size)\n            return null;\n        let sel = view.domSelectionRange();\n        let textNode = nearbyTextNode(sel.focusNode, sel.focusOffset);\n        if (!textNode || !this.dom.contains(textNode.parentNode))\n            return null;\n        if (this.node.inlineContent) {\n            // Find the text in the focused node in the node, stop if it's not\n            // there (may have been modified through other means, in which\n            // case it should overwritten)\n            let text = textNode.nodeValue;\n            let textPos = findTextInFragment(this.node.content, text, from - pos, to - pos);\n            return textPos < 0 ? null : { node: textNode, pos: textPos, text };\n        }\n        else {\n            return { node: textNode, pos: -1, text: \"\" };\n        }\n    }\n    protectLocalComposition(view, { node, pos, text }) {\n        // The node is already part of a local view desc, leave it there\n        if (this.getDesc(node))\n            return;\n        // Create a composition view for the orphaned nodes\n        let topNode = node;\n        for (;; topNode = topNode.parentNode) {\n            if (topNode.parentNode == this.contentDOM)\n                break;\n            while (topNode.previousSibling)\n                topNode.parentNode.removeChild(topNode.previousSibling);\n            while (topNode.nextSibling)\n                topNode.parentNode.removeChild(topNode.nextSibling);\n            if (topNode.pmViewDesc)\n                topNode.pmViewDesc = undefined;\n        }\n        let desc = new CompositionViewDesc(this, topNode, node, text);\n        view.input.compositionNodes.push(desc);\n        // Patch up this.children to contain the composition view\n        this.children = replaceNodes(this.children, pos, pos + text.length, view, desc);\n    }\n    // If this desc must be updated to match the given node decoration,\n    // do so and return true.\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY ||\n            !node.sameMarkup(this.node))\n            return false;\n        this.updateInner(node, outerDeco, innerDeco, view);\n        return true;\n    }\n    updateInner(node, outerDeco, innerDeco, view) {\n        this.updateOuterDeco(outerDeco);\n        this.node = node;\n        this.innerDeco = innerDeco;\n        if (this.contentDOM)\n            this.updateChildren(view, this.posAtStart);\n        this.dirty = NOT_DIRTY;\n    }\n    updateOuterDeco(outerDeco) {\n        if (sameOuterDeco(outerDeco, this.outerDeco))\n            return;\n        let needsWrap = this.nodeDOM.nodeType != 1;\n        let oldDOM = this.dom;\n        this.dom = patchOuterDeco(this.dom, this.nodeDOM, computeOuterDeco(this.outerDeco, this.node, needsWrap), computeOuterDeco(outerDeco, this.node, needsWrap));\n        if (this.dom != oldDOM) {\n            oldDOM.pmViewDesc = undefined;\n            this.dom.pmViewDesc = this;\n        }\n        this.outerDeco = outerDeco;\n    }\n    // Mark this node as being the selected node.\n    selectNode() {\n        if (this.nodeDOM.nodeType == 1)\n            this.nodeDOM.classList.add(\"ProseMirror-selectednode\");\n        if (this.contentDOM || !this.node.type.spec.draggable)\n            this.dom.draggable = true;\n    }\n    // Remove selected node marking from this node.\n    deselectNode() {\n        if (this.nodeDOM.nodeType == 1)\n            this.nodeDOM.classList.remove(\"ProseMirror-selectednode\");\n        if (this.contentDOM || !this.node.type.spec.draggable)\n            this.dom.removeAttribute(\"draggable\");\n    }\n    get domAtom() { return this.node.isAtom; }\n}\n// Create a view desc for the top-level document node, to be exported\n// and used by the view class.\nfunction docViewDesc(doc, outerDeco, innerDeco, dom, view) {\n    applyOuterDeco(dom, outerDeco, doc);\n    let docView = new NodeViewDesc(undefined, doc, outerDeco, innerDeco, dom, dom, dom, view, 0);\n    if (docView.contentDOM)\n        docView.updateChildren(view, 0);\n    return docView;\n}\nclass TextViewDesc extends NodeViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, nodeDOM, view) {\n        super(parent, node, outerDeco, innerDeco, dom, null, nodeDOM, view, 0);\n    }\n    parseRule() {\n        let skip = this.nodeDOM.parentNode;\n        while (skip && skip != this.dom && !skip.pmIsDeco)\n            skip = skip.parentNode;\n        return { skip: (skip || true) };\n    }\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY || (this.dirty != NOT_DIRTY && !this.inParent()) ||\n            !node.sameMarkup(this.node))\n            return false;\n        this.updateOuterDeco(outerDeco);\n        if ((this.dirty != NOT_DIRTY || node.text != this.node.text) && node.text != this.nodeDOM.nodeValue) {\n            this.nodeDOM.nodeValue = node.text;\n            if (view.trackWrites == this.nodeDOM)\n                view.trackWrites = null;\n        }\n        this.node = node;\n        this.dirty = NOT_DIRTY;\n        return true;\n    }\n    inParent() {\n        let parentDOM = this.parent.contentDOM;\n        for (let n = this.nodeDOM; n; n = n.parentNode)\n            if (n == parentDOM)\n                return true;\n        return false;\n    }\n    domFromPos(pos) {\n        return { node: this.nodeDOM, offset: pos };\n    }\n    localPosFromDOM(dom, offset, bias) {\n        if (dom == this.nodeDOM)\n            return this.posAtStart + Math.min(offset, this.node.text.length);\n        return super.localPosFromDOM(dom, offset, bias);\n    }\n    ignoreMutation(mutation) {\n        return mutation.type != \"characterData\" && mutation.type != \"selection\";\n    }\n    slice(from, to, view) {\n        let node = this.node.cut(from, to), dom = document.createTextNode(node.text);\n        return new TextViewDesc(this.parent, node, this.outerDeco, this.innerDeco, dom, dom, view);\n    }\n    markDirty(from, to) {\n        super.markDirty(from, to);\n        if (this.dom != this.nodeDOM && (from == 0 || to == this.nodeDOM.nodeValue.length))\n            this.dirty = NODE_DIRTY;\n    }\n    get domAtom() { return false; }\n}\n// A dummy desc used to tag trailing BR or IMG nodes created to work\n// around contentEditable terribleness.\nclass TrailingHackViewDesc extends ViewDesc {\n    parseRule() { return { ignore: true }; }\n    matchesHack(nodeName) { return this.dirty == NOT_DIRTY && this.dom.nodeName == nodeName; }\n    get domAtom() { return true; }\n    get ignoreForCoords() { return this.dom.nodeName == \"IMG\"; }\n}\n// A separate subclass is used for customized node views, so that the\n// extra checks only have to be made for nodes that are actually\n// customized.\nclass CustomNodeViewDesc extends NodeViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, spec, view, pos) {\n        super(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos);\n        this.spec = spec;\n    }\n    // A custom `update` method gets to decide whether the update goes\n    // through. If it does, and there's a `contentDOM` node, our logic\n    // updates the children.\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY)\n            return false;\n        if (this.spec.update) {\n            let result = this.spec.update(node, outerDeco, innerDeco);\n            if (result)\n                this.updateInner(node, outerDeco, innerDeco, view);\n            return result;\n        }\n        else if (!this.contentDOM && !node.isLeaf) {\n            return false;\n        }\n        else {\n            return super.update(node, outerDeco, innerDeco, view);\n        }\n    }\n    selectNode() {\n        this.spec.selectNode ? this.spec.selectNode() : super.selectNode();\n    }\n    deselectNode() {\n        this.spec.deselectNode ? this.spec.deselectNode() : super.deselectNode();\n    }\n    setSelection(anchor, head, root, force) {\n        this.spec.setSelection ? this.spec.setSelection(anchor, head, root)\n            : super.setSelection(anchor, head, root, force);\n    }\n    destroy() {\n        if (this.spec.destroy)\n            this.spec.destroy();\n        super.destroy();\n    }\n    stopEvent(event) {\n        return this.spec.stopEvent ? this.spec.stopEvent(event) : false;\n    }\n    ignoreMutation(mutation) {\n        return this.spec.ignoreMutation ? this.spec.ignoreMutation(mutation) : super.ignoreMutation(mutation);\n    }\n}\n// Sync the content of the given DOM node with the nodes associated\n// with the given array of view descs, recursing into mark descs\n// because this should sync the subtree for a whole node at a time.\nfunction renderDescs(parentDOM, descs, view) {\n    let dom = parentDOM.firstChild, written = false;\n    for (let i = 0; i < descs.length; i++) {\n        let desc = descs[i], childDOM = desc.dom;\n        if (childDOM.parentNode == parentDOM) {\n            while (childDOM != dom) {\n                dom = rm(dom);\n                written = true;\n            }\n            dom = dom.nextSibling;\n        }\n        else {\n            written = true;\n            parentDOM.insertBefore(childDOM, dom);\n        }\n        if (desc instanceof MarkViewDesc) {\n            let pos = dom ? dom.previousSibling : parentDOM.lastChild;\n            renderDescs(desc.contentDOM, desc.children, view);\n            dom = pos ? pos.nextSibling : parentDOM.firstChild;\n        }\n    }\n    while (dom) {\n        dom = rm(dom);\n        written = true;\n    }\n    if (written && view.trackWrites == parentDOM)\n        view.trackWrites = null;\n}\nconst OuterDecoLevel = function (nodeName) {\n    if (nodeName)\n        this.nodeName = nodeName;\n};\nOuterDecoLevel.prototype = Object.create(null);\nconst noDeco = [new OuterDecoLevel];\nfunction computeOuterDeco(outerDeco, node, needsWrap) {\n    if (outerDeco.length == 0)\n        return noDeco;\n    let top = needsWrap ? noDeco[0] : new OuterDecoLevel, result = [top];\n    for (let i = 0; i < outerDeco.length; i++) {\n        let attrs = outerDeco[i].type.attrs;\n        if (!attrs)\n            continue;\n        if (attrs.nodeName)\n            result.push(top = new OuterDecoLevel(attrs.nodeName));\n        for (let name in attrs) {\n            let val = attrs[name];\n            if (val == null)\n                continue;\n            if (needsWrap && result.length == 1)\n                result.push(top = new OuterDecoLevel(node.isInline ? \"span\" : \"div\"));\n            if (name == \"class\")\n                top.class = (top.class ? top.class + \" \" : \"\") + val;\n            else if (name == \"style\")\n                top.style = (top.style ? top.style + \";\" : \"\") + val;\n            else if (name != \"nodeName\")\n                top[name] = val;\n        }\n    }\n    return result;\n}\nfunction patchOuterDeco(outerDOM, nodeDOM, prevComputed, curComputed) {\n    // Shortcut for trivial case\n    if (prevComputed == noDeco && curComputed == noDeco)\n        return nodeDOM;\n    let curDOM = nodeDOM;\n    for (let i = 0; i < curComputed.length; i++) {\n        let deco = curComputed[i], prev = prevComputed[i];\n        if (i) {\n            let parent;\n            if (prev && prev.nodeName == deco.nodeName && curDOM != outerDOM &&\n                (parent = curDOM.parentNode) && parent.nodeName.toLowerCase() == deco.nodeName) {\n                curDOM = parent;\n            }\n            else {\n                parent = document.createElement(deco.nodeName);\n                parent.pmIsDeco = true;\n                parent.appendChild(curDOM);\n                prev = noDeco[0];\n                curDOM = parent;\n            }\n        }\n        patchAttributes(curDOM, prev || noDeco[0], deco);\n    }\n    return curDOM;\n}\nfunction patchAttributes(dom, prev, cur) {\n    for (let name in prev)\n        if (name != \"class\" && name != \"style\" && name != \"nodeName\" && !(name in cur))\n            dom.removeAttribute(name);\n    for (let name in cur)\n        if (name != \"class\" && name != \"style\" && name != \"nodeName\" && cur[name] != prev[name])\n            dom.setAttribute(name, cur[name]);\n    if (prev.class != cur.class) {\n        let prevList = prev.class ? prev.class.split(\" \").filter(Boolean) : [];\n        let curList = cur.class ? cur.class.split(\" \").filter(Boolean) : [];\n        for (let i = 0; i < prevList.length; i++)\n            if (curList.indexOf(prevList[i]) == -1)\n                dom.classList.remove(prevList[i]);\n        for (let i = 0; i < curList.length; i++)\n            if (prevList.indexOf(curList[i]) == -1)\n                dom.classList.add(curList[i]);\n        if (dom.classList.length == 0)\n            dom.removeAttribute(\"class\");\n    }\n    if (prev.style != cur.style) {\n        if (prev.style) {\n            let prop = /\\s*([\\w\\-\\xa1-\\uffff]+)\\s*:(?:\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|\\(.*?\\)|[^;])*/g, m;\n            while (m = prop.exec(prev.style))\n                dom.style.removeProperty(m[1]);\n        }\n        if (cur.style)\n            dom.style.cssText += cur.style;\n    }\n}\nfunction applyOuterDeco(dom, deco, node) {\n    return patchOuterDeco(dom, dom, noDeco, computeOuterDeco(deco, node, dom.nodeType != 1));\n}\nfunction sameOuterDeco(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].type.eq(b[i].type))\n            return false;\n    return true;\n}\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\n// Helper class for incrementally updating a tree of mark descs and\n// the widget and node descs inside of them.\nclass ViewTreeUpdater {\n    constructor(top, lock, view) {\n        this.lock = lock;\n        this.view = view;\n        // Index into `this.top`'s child array, represents the current\n        // update position.\n        this.index = 0;\n        // When entering a mark, the current top and index are pushed\n        // onto this.\n        this.stack = [];\n        // Tracks whether anything was changed\n        this.changed = false;\n        this.top = top;\n        this.preMatch = preMatch(top.node.content, top);\n    }\n    // Destroy and remove the children between the given indices in\n    // `this.top`.\n    destroyBetween(start, end) {\n        if (start == end)\n            return;\n        for (let i = start; i < end; i++)\n            this.top.children[i].destroy();\n        this.top.children.splice(start, end - start);\n        this.changed = true;\n    }\n    // Destroy all remaining children in `this.top`.\n    destroyRest() {\n        this.destroyBetween(this.index, this.top.children.length);\n    }\n    // Sync the current stack of mark descs with the given array of\n    // marks, reusing existing mark descs when possible.\n    syncToMarks(marks, inline, view) {\n        let keep = 0, depth = this.stack.length >> 1;\n        let maxKeep = Math.min(depth, marks.length);\n        while (keep < maxKeep &&\n            (keep == depth - 1 ? this.top : this.stack[(keep + 1) << 1])\n                .matchesMark(marks[keep]) && marks[keep].type.spec.spanning !== false)\n            keep++;\n        while (keep < depth) {\n            this.destroyRest();\n            this.top.dirty = NOT_DIRTY;\n            this.index = this.stack.pop();\n            this.top = this.stack.pop();\n            depth--;\n        }\n        while (depth < marks.length) {\n            this.stack.push(this.top, this.index + 1);\n            let found = -1;\n            for (let i = this.index; i < Math.min(this.index + 3, this.top.children.length); i++) {\n                let next = this.top.children[i];\n                if (next.matchesMark(marks[depth]) && !this.isLocked(next.dom)) {\n                    found = i;\n                    break;\n                }\n            }\n            if (found > -1) {\n                if (found > this.index) {\n                    this.changed = true;\n                    this.destroyBetween(this.index, found);\n                }\n                this.top = this.top.children[this.index];\n            }\n            else {\n                let markDesc = MarkViewDesc.create(this.top, marks[depth], inline, view);\n                this.top.children.splice(this.index, 0, markDesc);\n                this.top = markDesc;\n                this.changed = true;\n            }\n            this.index = 0;\n            depth++;\n        }\n    }\n    // Try to find a node desc matching the given data. Skip over it and\n    // return true when successful.\n    findNodeMatch(node, outerDeco, innerDeco, index) {\n        let found = -1, targetDesc;\n        if (index >= this.preMatch.index &&\n            (targetDesc = this.preMatch.matches[index - this.preMatch.index]).parent == this.top &&\n            targetDesc.matchesNode(node, outerDeco, innerDeco)) {\n            found = this.top.children.indexOf(targetDesc, this.index);\n        }\n        else {\n            for (let i = this.index, e = Math.min(this.top.children.length, i + 5); i < e; i++) {\n                let child = this.top.children[i];\n                if (child.matchesNode(node, outerDeco, innerDeco) && !this.preMatch.matched.has(child)) {\n                    found = i;\n                    break;\n                }\n            }\n        }\n        if (found < 0)\n            return false;\n        this.destroyBetween(this.index, found);\n        this.index++;\n        return true;\n    }\n    updateNodeAt(node, outerDeco, innerDeco, index, view) {\n        let child = this.top.children[index];\n        if (child.dirty == NODE_DIRTY && child.dom == child.contentDOM)\n            child.dirty = CONTENT_DIRTY;\n        if (!child.update(node, outerDeco, innerDeco, view))\n            return false;\n        this.destroyBetween(this.index, index);\n        this.index++;\n        return true;\n    }\n    findIndexWithChild(domNode) {\n        for (;;) {\n            let parent = domNode.parentNode;\n            if (!parent)\n                return -1;\n            if (parent == this.top.contentDOM) {\n                let desc = domNode.pmViewDesc;\n                if (desc)\n                    for (let i = this.index; i < this.top.children.length; i++) {\n                        if (this.top.children[i] == desc)\n                            return i;\n                    }\n                return -1;\n            }\n            domNode = parent;\n        }\n    }\n    // Try to update the next node, if any, to the given data. Checks\n    // pre-matches to avoid overwriting nodes that could still be used.\n    updateNextNode(node, outerDeco, innerDeco, view, index, pos) {\n        for (let i = this.index; i < this.top.children.length; i++) {\n            let next = this.top.children[i];\n            if (next instanceof NodeViewDesc) {\n                let preMatch = this.preMatch.matched.get(next);\n                if (preMatch != null && preMatch != index)\n                    return false;\n                let nextDOM = next.dom, updated;\n                // Can't update if nextDOM is or contains this.lock, except if\n                // it's a text node whose content already matches the new text\n                // and whose decorations match the new ones.\n                let locked = this.isLocked(nextDOM) &&\n                    !(node.isText && next.node && next.node.isText && next.nodeDOM.nodeValue == node.text &&\n                        next.dirty != NODE_DIRTY && sameOuterDeco(outerDeco, next.outerDeco));\n                if (!locked && next.update(node, outerDeco, innerDeco, view)) {\n                    this.destroyBetween(this.index, i);\n                    if (next.dom != nextDOM)\n                        this.changed = true;\n                    this.index++;\n                    return true;\n                }\n                else if (!locked && (updated = this.recreateWrapper(next, node, outerDeco, innerDeco, view, pos))) {\n                    this.top.children[this.index] = updated;\n                    if (updated.contentDOM) {\n                        updated.dirty = CONTENT_DIRTY;\n                        updated.updateChildren(view, pos + 1);\n                        updated.dirty = NOT_DIRTY;\n                    }\n                    this.changed = true;\n                    this.index++;\n                    return true;\n                }\n                break;\n            }\n        }\n        return false;\n    }\n    // When a node with content is replaced by a different node with\n    // identical content, move over its children.\n    recreateWrapper(next, node, outerDeco, innerDeco, view, pos) {\n        if (next.dirty || node.isAtom || !next.children.length ||\n            !next.node.content.eq(node.content))\n            return null;\n        let wrapper = NodeViewDesc.create(this.top, node, outerDeco, innerDeco, view, pos);\n        if (wrapper.contentDOM) {\n            wrapper.children = next.children;\n            next.children = [];\n            for (let ch of wrapper.children)\n                ch.parent = wrapper;\n        }\n        next.destroy();\n        return wrapper;\n    }\n    // Insert the node as a newly created node desc.\n    addNode(node, outerDeco, innerDeco, view, pos) {\n        let desc = NodeViewDesc.create(this.top, node, outerDeco, innerDeco, view, pos);\n        if (desc.contentDOM)\n            desc.updateChildren(view, pos + 1);\n        this.top.children.splice(this.index++, 0, desc);\n        this.changed = true;\n    }\n    placeWidget(widget, view, pos) {\n        let next = this.index < this.top.children.length ? this.top.children[this.index] : null;\n        if (next && next.matchesWidget(widget) &&\n            (widget == next.widget || !next.widget.type.toDOM.parentNode)) {\n            this.index++;\n        }\n        else {\n            let desc = new WidgetViewDesc(this.top, widget, view, pos);\n            this.top.children.splice(this.index++, 0, desc);\n            this.changed = true;\n        }\n    }\n    // Make sure a textblock looks and behaves correctly in\n    // contentEditable.\n    addTextblockHacks() {\n        let lastChild = this.top.children[this.index - 1], parent = this.top;\n        while (lastChild instanceof MarkViewDesc) {\n            parent = lastChild;\n            lastChild = parent.children[parent.children.length - 1];\n        }\n        if (!lastChild || // Empty textblock\n            !(lastChild instanceof TextViewDesc) ||\n            /\\n$/.test(lastChild.node.text) ||\n            (this.view.requiresGeckoHackNode && /\\s$/.test(lastChild.node.text))) {\n            // Avoid bugs in Safari's cursor drawing (#1165) and Chrome's mouse selection (#1152)\n            if ((safari || chrome) && lastChild && lastChild.dom.contentEditable == \"false\")\n                this.addHackNode(\"IMG\", parent);\n            this.addHackNode(\"BR\", this.top);\n        }\n    }\n    addHackNode(nodeName, parent) {\n        if (parent == this.top && this.index < parent.children.length && parent.children[this.index].matchesHack(nodeName)) {\n            this.index++;\n        }\n        else {\n            let dom = document.createElement(nodeName);\n            if (nodeName == \"IMG\") {\n                dom.className = \"ProseMirror-separator\";\n                dom.alt = \"\";\n            }\n            if (nodeName == \"BR\")\n                dom.className = \"ProseMirror-trailingBreak\";\n            let hack = new TrailingHackViewDesc(this.top, [], dom, null);\n            if (parent != this.top)\n                parent.children.push(hack);\n            else\n                parent.children.splice(this.index++, 0, hack);\n            this.changed = true;\n        }\n    }\n    isLocked(node) {\n        return this.lock && (node == this.lock || node.nodeType == 1 && node.contains(this.lock.parentNode));\n    }\n}\n// Iterate from the end of the fragment and array of descs to find\n// directly matching ones, in order to avoid overeagerly reusing those\n// for other nodes. Returns the fragment index of the first node that\n// is part of the sequence of matched nodes at the end of the\n// fragment.\nfunction preMatch(frag, parentDesc) {\n    let curDesc = parentDesc, descI = curDesc.children.length;\n    let fI = frag.childCount, matched = new Map, matches = [];\n    outer: while (fI > 0) {\n        let desc;\n        for (;;) {\n            if (descI) {\n                let next = curDesc.children[descI - 1];\n                if (next instanceof MarkViewDesc) {\n                    curDesc = next;\n                    descI = next.children.length;\n                }\n                else {\n                    desc = next;\n                    descI--;\n                    break;\n                }\n            }\n            else if (curDesc == parentDesc) {\n                break outer;\n            }\n            else {\n                // FIXME\n                descI = curDesc.parent.children.indexOf(curDesc);\n                curDesc = curDesc.parent;\n            }\n        }\n        let node = desc.node;\n        if (!node)\n            continue;\n        if (node != frag.child(fI - 1))\n            break;\n        --fI;\n        matched.set(desc, fI);\n        matches.push(desc);\n    }\n    return { index: fI, matched, matches: matches.reverse() };\n}\nfunction compareSide(a, b) {\n    return a.type.side - b.type.side;\n}\n// This function abstracts iterating over the nodes and decorations in\n// a fragment. Calls `onNode` for each node, with its local and child\n// decorations. Splits text nodes when there is a decoration starting\n// or ending inside of them. Calls `onWidget` for each widget.\nfunction iterDeco(parent, deco, onWidget, onNode) {\n    let locals = deco.locals(parent), offset = 0;\n    // Simple, cheap variant for when there are no local decorations\n    if (locals.length == 0) {\n        for (let i = 0; i < parent.childCount; i++) {\n            let child = parent.child(i);\n            onNode(child, locals, deco.forChild(offset, child), i);\n            offset += child.nodeSize;\n        }\n        return;\n    }\n    let decoIndex = 0, active = [], restNode = null;\n    for (let parentIndex = 0;;) {\n        let widget, widgets;\n        while (decoIndex < locals.length && locals[decoIndex].to == offset) {\n            let next = locals[decoIndex++];\n            if (next.widget) {\n                if (!widget)\n                    widget = next;\n                else\n                    (widgets || (widgets = [widget])).push(next);\n            }\n        }\n        if (widget) {\n            if (widgets) {\n                widgets.sort(compareSide);\n                for (let i = 0; i < widgets.length; i++)\n                    onWidget(widgets[i], parentIndex, !!restNode);\n            }\n            else {\n                onWidget(widget, parentIndex, !!restNode);\n            }\n        }\n        let child, index;\n        if (restNode) {\n            index = -1;\n            child = restNode;\n            restNode = null;\n        }\n        else if (parentIndex < parent.childCount) {\n            index = parentIndex;\n            child = parent.child(parentIndex++);\n        }\n        else {\n            break;\n        }\n        for (let i = 0; i < active.length; i++)\n            if (active[i].to <= offset)\n                active.splice(i--, 1);\n        while (decoIndex < locals.length && locals[decoIndex].from <= offset && locals[decoIndex].to > offset)\n            active.push(locals[decoIndex++]);\n        let end = offset + child.nodeSize;\n        if (child.isText) {\n            let cutAt = end;\n            if (decoIndex < locals.length && locals[decoIndex].from < cutAt)\n                cutAt = locals[decoIndex].from;\n            for (let i = 0; i < active.length; i++)\n                if (active[i].to < cutAt)\n                    cutAt = active[i].to;\n            if (cutAt < end) {\n                restNode = child.cut(cutAt - offset);\n                child = child.cut(0, cutAt - offset);\n                end = cutAt;\n                index = -1;\n            }\n        }\n        let outerDeco = child.isInline && !child.isLeaf ? active.filter(d => !d.inline) : active.slice();\n        onNode(child, outerDeco, deco.forChild(offset, child), index);\n        offset = end;\n    }\n}\n// List markers in Mobile Safari will mysteriously disappear\n// sometimes. This works around that.\nfunction iosHacks(dom) {\n    if (dom.nodeName == \"UL\" || dom.nodeName == \"OL\") {\n        let oldCSS = dom.style.cssText;\n        dom.style.cssText = oldCSS + \"; list-style: square !important\";\n        window.getComputedStyle(dom).listStyle;\n        dom.style.cssText = oldCSS;\n    }\n}\nfunction nearbyTextNode(node, offset) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0) {\n            if (node.childNodes.length > offset && node.childNodes[offset].nodeType == 3)\n                return node.childNodes[offset];\n            node = node.childNodes[offset - 1];\n            offset = nodeSize(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\n// Find a piece of text in an inline fragment, overlapping from-to\nfunction findTextInFragment(frag, text, from, to) {\n    for (let i = 0, pos = 0; i < frag.childCount && pos <= to;) {\n        let child = frag.child(i++), childStart = pos;\n        pos += child.nodeSize;\n        if (!child.isText)\n            continue;\n        let str = child.text;\n        while (i < frag.childCount) {\n            let next = frag.child(i++);\n            pos += next.nodeSize;\n            if (!next.isText)\n                break;\n            str += next.text;\n        }\n        if (pos >= from) {\n            let found = childStart < to ? str.lastIndexOf(text, to - childStart - 1) : -1;\n            if (found >= 0 && found + text.length + childStart >= from)\n                return childStart + found;\n            if (from == to && str.length >= (to + text.length) - childStart &&\n                str.slice(to - childStart, to - childStart + text.length) == text)\n                return to;\n        }\n    }\n    return -1;\n}\n// Replace range from-to in an array of view descs with replacement\n// (may be null to just delete). This goes very much against the grain\n// of the rest of this code, which tends to create nodes with the\n// right shape in one go, rather than messing with them after\n// creation, but is necessary in the composition hack.\nfunction replaceNodes(nodes, from, to, view, replacement) {\n    let result = [];\n    for (let i = 0, off = 0; i < nodes.length; i++) {\n        let child = nodes[i], start = off, end = off += child.size;\n        if (start >= to || end <= from) {\n            result.push(child);\n        }\n        else {\n            if (start < from)\n                result.push(child.slice(0, from - start, view));\n            if (replacement) {\n                result.push(replacement);\n                replacement = undefined;\n            }\n            if (end > to)\n                result.push(child.slice(to - start, child.size, view));\n        }\n    }\n    return result;\n}\n\nfunction selectionFromDOM(view, origin = null) {\n    let domSel = view.domSelectionRange(), doc = view.state.doc;\n    if (!domSel.focusNode)\n        return null;\n    let nearestDesc = view.docView.nearestDesc(domSel.focusNode), inWidget = nearestDesc && nearestDesc.size == 0;\n    let head = view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset, 1);\n    if (head < 0)\n        return null;\n    let $head = doc.resolve(head), $anchor, selection;\n    if (selectionCollapsed(domSel)) {\n        $anchor = $head;\n        while (nearestDesc && !nearestDesc.node)\n            nearestDesc = nearestDesc.parent;\n        let nearestDescNode = nearestDesc.node;\n        if (nearestDesc && nearestDescNode.isAtom && NodeSelection.isSelectable(nearestDescNode) && nearestDesc.parent\n            && !(nearestDescNode.isInline && isOnEdge(domSel.focusNode, domSel.focusOffset, nearestDesc.dom))) {\n            let pos = nearestDesc.posBefore;\n            selection = new NodeSelection(head == pos ? $head : doc.resolve(pos));\n        }\n    }\n    else {\n        let anchor = view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset, 1);\n        if (anchor < 0)\n            return null;\n        $anchor = doc.resolve(anchor);\n    }\n    if (!selection) {\n        let bias = origin == \"pointer\" || (view.state.selection.head < $head.pos && !inWidget) ? 1 : -1;\n        selection = selectionBetween(view, $anchor, $head, bias);\n    }\n    return selection;\n}\nfunction editorOwnsSelection(view) {\n    return view.editable ? view.hasFocus() :\n        hasSelection(view) && document.activeElement && document.activeElement.contains(view.dom);\n}\nfunction selectionToDOM(view, force = false) {\n    let sel = view.state.selection;\n    syncNodeSelection(view, sel);\n    if (!editorOwnsSelection(view))\n        return;\n    // The delayed drag selection causes issues with Cell Selections\n    // in Safari. And the drag selection delay is to workarond issues\n    // which only present in Chrome.\n    if (!force && view.input.mouseDown && view.input.mouseDown.allowDefault && chrome) {\n        let domSel = view.domSelectionRange(), curSel = view.domObserver.currentSelection;\n        if (domSel.anchorNode && curSel.anchorNode &&\n            isEquivalentPosition(domSel.anchorNode, domSel.anchorOffset, curSel.anchorNode, curSel.anchorOffset)) {\n            view.input.mouseDown.delayedSelectionSync = true;\n            view.domObserver.setCurSelection();\n            return;\n        }\n    }\n    view.domObserver.disconnectSelection();\n    if (view.cursorWrapper) {\n        selectCursorWrapper(view);\n    }\n    else {\n        let { anchor, head } = sel, resetEditableFrom, resetEditableTo;\n        if (brokenSelectBetweenUneditable && !(sel instanceof TextSelection)) {\n            if (!sel.$from.parent.inlineContent)\n                resetEditableFrom = temporarilyEditableNear(view, sel.from);\n            if (!sel.empty && !sel.$from.parent.inlineContent)\n                resetEditableTo = temporarilyEditableNear(view, sel.to);\n        }\n        view.docView.setSelection(anchor, head, view.root, force);\n        if (brokenSelectBetweenUneditable) {\n            if (resetEditableFrom)\n                resetEditable(resetEditableFrom);\n            if (resetEditableTo)\n                resetEditable(resetEditableTo);\n        }\n        if (sel.visible) {\n            view.dom.classList.remove(\"ProseMirror-hideselection\");\n        }\n        else {\n            view.dom.classList.add(\"ProseMirror-hideselection\");\n            if (\"onselectionchange\" in document)\n                removeClassOnSelectionChange(view);\n        }\n    }\n    view.domObserver.setCurSelection();\n    view.domObserver.connectSelection();\n}\n// Kludge to work around Webkit not allowing a selection to start/end\n// between non-editable block nodes. We briefly make something\n// editable, set the selection, then set it uneditable again.\nconst brokenSelectBetweenUneditable = safari || chrome && chrome_version < 63;\nfunction temporarilyEditableNear(view, pos) {\n    let { node, offset } = view.docView.domFromPos(pos, 0);\n    let after = offset < node.childNodes.length ? node.childNodes[offset] : null;\n    let before = offset ? node.childNodes[offset - 1] : null;\n    if (safari && after && after.contentEditable == \"false\")\n        return setEditable(after);\n    if ((!after || after.contentEditable == \"false\") &&\n        (!before || before.contentEditable == \"false\")) {\n        if (after)\n            return setEditable(after);\n        else if (before)\n            return setEditable(before);\n    }\n}\nfunction setEditable(element) {\n    element.contentEditable = \"true\";\n    if (safari && element.draggable) {\n        element.draggable = false;\n        element.wasDraggable = true;\n    }\n    return element;\n}\nfunction resetEditable(element) {\n    element.contentEditable = \"false\";\n    if (element.wasDraggable) {\n        element.draggable = true;\n        element.wasDraggable = null;\n    }\n}\nfunction removeClassOnSelectionChange(view) {\n    let doc = view.dom.ownerDocument;\n    doc.removeEventListener(\"selectionchange\", view.input.hideSelectionGuard);\n    let domSel = view.domSelectionRange();\n    let node = domSel.anchorNode, offset = domSel.anchorOffset;\n    doc.addEventListener(\"selectionchange\", view.input.hideSelectionGuard = () => {\n        if (domSel.anchorNode != node || domSel.anchorOffset != offset) {\n            doc.removeEventListener(\"selectionchange\", view.input.hideSelectionGuard);\n            setTimeout(() => {\n                if (!editorOwnsSelection(view) || view.state.selection.visible)\n                    view.dom.classList.remove(\"ProseMirror-hideselection\");\n            }, 20);\n        }\n    });\n}\nfunction selectCursorWrapper(view) {\n    let domSel = view.domSelection(), range = document.createRange();\n    let node = view.cursorWrapper.dom, img = node.nodeName == \"IMG\";\n    if (img)\n        range.setEnd(node.parentNode, domIndex(node) + 1);\n    else\n        range.setEnd(node, 0);\n    range.collapse(false);\n    domSel.removeAllRanges();\n    domSel.addRange(range);\n    // Kludge to kill 'control selection' in IE11 when selecting an\n    // invisible cursor wrapper, since that would result in those weird\n    // resize handles and a selection that considers the absolutely\n    // positioned wrapper, rather than the root editable node, the\n    // focused element.\n    if (!img && !view.state.selection.visible && ie && ie_version <= 11) {\n        node.disabled = true;\n        node.disabled = false;\n    }\n}\nfunction syncNodeSelection(view, sel) {\n    if (sel instanceof NodeSelection) {\n        let desc = view.docView.descAt(sel.from);\n        if (desc != view.lastSelectedViewDesc) {\n            clearNodeSelection(view);\n            if (desc)\n                desc.selectNode();\n            view.lastSelectedViewDesc = desc;\n        }\n    }\n    else {\n        clearNodeSelection(view);\n    }\n}\n// Clear all DOM statefulness of the last node selection.\nfunction clearNodeSelection(view) {\n    if (view.lastSelectedViewDesc) {\n        if (view.lastSelectedViewDesc.parent)\n            view.lastSelectedViewDesc.deselectNode();\n        view.lastSelectedViewDesc = undefined;\n    }\n}\nfunction selectionBetween(view, $anchor, $head, bias) {\n    return view.someProp(\"createSelectionBetween\", f => f(view, $anchor, $head))\n        || TextSelection.between($anchor, $head, bias);\n}\nfunction hasFocusAndSelection(view) {\n    if (view.editable && !view.hasFocus())\n        return false;\n    return hasSelection(view);\n}\nfunction hasSelection(view) {\n    let sel = view.domSelectionRange();\n    if (!sel.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return view.dom.contains(sel.anchorNode.nodeType == 3 ? sel.anchorNode.parentNode : sel.anchorNode) &&\n            (view.editable || view.dom.contains(sel.focusNode.nodeType == 3 ? sel.focusNode.parentNode : sel.focusNode));\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction anchorInRightPlace(view) {\n    let anchorDOM = view.docView.domFromPos(view.state.selection.anchor, 0);\n    let domSel = view.domSelectionRange();\n    return isEquivalentPosition(anchorDOM.node, anchorDOM.offset, domSel.anchorNode, domSel.anchorOffset);\n}\n\nfunction moveSelectionBlock(state, dir) {\n    let { $anchor, $head } = state.selection;\n    let $side = dir > 0 ? $anchor.max($head) : $anchor.min($head);\n    let $start = !$side.parent.inlineContent ? $side : $side.depth ? state.doc.resolve(dir > 0 ? $side.after() : $side.before()) : null;\n    return $start && Selection.findFrom($start, dir);\n}\nfunction apply(view, sel) {\n    view.dispatch(view.state.tr.setSelection(sel).scrollIntoView());\n    return true;\n}\nfunction selectHorizontally(view, dir, mods) {\n    let sel = view.state.selection;\n    if (sel instanceof TextSelection) {\n        if (!sel.empty || mods.indexOf(\"s\") > -1) {\n            return false;\n        }\n        else if (view.endOfTextblock(dir > 0 ? \"forward\" : \"backward\")) {\n            let next = moveSelectionBlock(view.state, dir);\n            if (next && (next instanceof NodeSelection))\n                return apply(view, next);\n            return false;\n        }\n        else if (!(mac && mods.indexOf(\"m\") > -1)) {\n            let $head = sel.$head, node = $head.textOffset ? null : dir < 0 ? $head.nodeBefore : $head.nodeAfter, desc;\n            if (!node || node.isText)\n                return false;\n            let nodePos = dir < 0 ? $head.pos - node.nodeSize : $head.pos;\n            if (!(node.isAtom || (desc = view.docView.descAt(nodePos)) && !desc.contentDOM))\n                return false;\n            if (NodeSelection.isSelectable(node)) {\n                return apply(view, new NodeSelection(dir < 0 ? view.state.doc.resolve($head.pos - node.nodeSize) : $head));\n            }\n            else if (webkit) {\n                // Chrome and Safari will introduce extra pointless cursor\n                // positions around inline uneditable nodes, so we have to\n                // take over and move the cursor past them (#937)\n                return apply(view, new TextSelection(view.state.doc.resolve(dir < 0 ? nodePos : nodePos + node.nodeSize)));\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    else if (sel instanceof NodeSelection && sel.node.isInline) {\n        return apply(view, new TextSelection(dir > 0 ? sel.$to : sel.$from));\n    }\n    else {\n        let next = moveSelectionBlock(view.state, dir);\n        if (next)\n            return apply(view, next);\n        return false;\n    }\n}\nfunction nodeLen(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction isIgnorable(dom, dir) {\n    if (dom.contentEditable == \"false\")\n        return true;\n    let desc = dom.pmViewDesc;\n    return desc && desc.size == 0 && (dir < 0 || dom.nextSibling || dom.nodeName != \"BR\");\n}\nfunction skipIgnoredNodes(view, dir) {\n    return dir < 0 ? skipIgnoredNodesBefore(view) : skipIgnoredNodesAfter(view);\n}\n// Make sure the cursor isn't directly after one or more ignored\n// nodes, which will confuse the browser's cursor motion logic.\nfunction skipIgnoredNodesBefore(view) {\n    let sel = view.domSelectionRange();\n    let node = sel.focusNode, offset = sel.focusOffset;\n    if (!node)\n        return;\n    let moveNode, moveOffset, force = false;\n    // Gecko will do odd things when the selection is directly in front\n    // of a non-editable node, so in that case, move it into the next\n    // node if possible. Issue prosemirror/prosemirror#832.\n    if (gecko && node.nodeType == 1 && offset < nodeLen(node) && isIgnorable(node.childNodes[offset], -1))\n        force = true;\n    for (;;) {\n        if (offset > 0) {\n            if (node.nodeType != 1) {\n                break;\n            }\n            else {\n                let before = node.childNodes[offset - 1];\n                if (isIgnorable(before, -1)) {\n                    moveNode = node;\n                    moveOffset = --offset;\n                }\n                else if (before.nodeType == 3) {\n                    node = before;\n                    offset = node.nodeValue.length;\n                }\n                else\n                    break;\n            }\n        }\n        else if (isBlockNode(node)) {\n            break;\n        }\n        else {\n            let prev = node.previousSibling;\n            while (prev && isIgnorable(prev, -1)) {\n                moveNode = node.parentNode;\n                moveOffset = domIndex(prev);\n                prev = prev.previousSibling;\n            }\n            if (!prev) {\n                node = node.parentNode;\n                if (node == view.dom)\n                    break;\n                offset = 0;\n            }\n            else {\n                node = prev;\n                offset = nodeLen(node);\n            }\n        }\n    }\n    if (force)\n        setSelFocus(view, node, offset);\n    else if (moveNode)\n        setSelFocus(view, moveNode, moveOffset);\n}\n// Make sure the cursor isn't directly before one or more ignored\n// nodes.\nfunction skipIgnoredNodesAfter(view) {\n    let sel = view.domSelectionRange();\n    let node = sel.focusNode, offset = sel.focusOffset;\n    if (!node)\n        return;\n    let len = nodeLen(node);\n    let moveNode, moveOffset;\n    for (;;) {\n        if (offset < len) {\n            if (node.nodeType != 1)\n                break;\n            let after = node.childNodes[offset];\n            if (isIgnorable(after, 1)) {\n                moveNode = node;\n                moveOffset = ++offset;\n            }\n            else\n                break;\n        }\n        else if (isBlockNode(node)) {\n            break;\n        }\n        else {\n            let next = node.nextSibling;\n            while (next && isIgnorable(next, 1)) {\n                moveNode = next.parentNode;\n                moveOffset = domIndex(next) + 1;\n                next = next.nextSibling;\n            }\n            if (!next) {\n                node = node.parentNode;\n                if (node == view.dom)\n                    break;\n                offset = len = 0;\n            }\n            else {\n                node = next;\n                offset = 0;\n                len = nodeLen(node);\n            }\n        }\n    }\n    if (moveNode)\n        setSelFocus(view, moveNode, moveOffset);\n}\nfunction isBlockNode(dom) {\n    let desc = dom.pmViewDesc;\n    return desc && desc.node && desc.node.isBlock;\n}\nfunction textNodeAfter(node, offset) {\n    while (node && offset == node.childNodes.length && !hasBlockDesc(node)) {\n        offset = domIndex(node) + 1;\n        node = node.parentNode;\n    }\n    while (node && offset < node.childNodes.length) {\n        let next = node.childNodes[offset];\n        if (next.nodeType == 3)\n            return next;\n        if (next.nodeType == 1 && next.contentEditable == \"false\")\n            break;\n        node = next;\n        offset = 0;\n    }\n}\nfunction textNodeBefore(node, offset) {\n    while (node && !offset && !hasBlockDesc(node)) {\n        offset = domIndex(node);\n        node = node.parentNode;\n    }\n    while (node && offset) {\n        let next = node.childNodes[offset - 1];\n        if (next.nodeType == 3)\n            return next;\n        if (next.nodeType == 1 && next.contentEditable == \"false\")\n            break;\n        node = next;\n        offset = node.childNodes.length;\n    }\n}\nfunction setSelFocus(view, node, offset) {\n    if (node.nodeType != 3) {\n        let before, after;\n        if (after = textNodeAfter(node, offset)) {\n            node = after;\n            offset = 0;\n        }\n        else if (before = textNodeBefore(node, offset)) {\n            node = before;\n            offset = before.nodeValue.length;\n        }\n    }\n    let sel = view.domSelection();\n    if (selectionCollapsed(sel)) {\n        let range = document.createRange();\n        range.setEnd(node, offset);\n        range.setStart(node, offset);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n    else if (sel.extend) {\n        sel.extend(node, offset);\n    }\n    view.domObserver.setCurSelection();\n    let { state } = view;\n    // If no state update ends up happening, reset the selection.\n    setTimeout(() => {\n        if (view.state == state)\n            selectionToDOM(view);\n    }, 50);\n}\nfunction findDirection(view, pos) {\n    let $pos = view.state.doc.resolve(pos);\n    if (!(chrome || windows) && $pos.parent.inlineContent) {\n        let coords = view.coordsAtPos(pos);\n        if (pos > $pos.start()) {\n            let before = view.coordsAtPos(pos - 1);\n            let mid = (before.top + before.bottom) / 2;\n            if (mid > coords.top && mid < coords.bottom && Math.abs(before.left - coords.left) > 1)\n                return before.left < coords.left ? \"ltr\" : \"rtl\";\n        }\n        if (pos < $pos.end()) {\n            let after = view.coordsAtPos(pos + 1);\n            let mid = (after.top + after.bottom) / 2;\n            if (mid > coords.top && mid < coords.bottom && Math.abs(after.left - coords.left) > 1)\n                return after.left > coords.left ? \"ltr\" : \"rtl\";\n        }\n    }\n    let computed = getComputedStyle(view.dom).direction;\n    return computed == \"rtl\" ? \"rtl\" : \"ltr\";\n}\n// Check whether vertical selection motion would involve node\n// selections. If so, apply it (if not, the result is left to the\n// browser)\nfunction selectVertically(view, dir, mods) {\n    let sel = view.state.selection;\n    if (sel instanceof TextSelection && !sel.empty || mods.indexOf(\"s\") > -1)\n        return false;\n    if (mac && mods.indexOf(\"m\") > -1)\n        return false;\n    let { $from, $to } = sel;\n    if (!$from.parent.inlineContent || view.endOfTextblock(dir < 0 ? \"up\" : \"down\")) {\n        let next = moveSelectionBlock(view.state, dir);\n        if (next && (next instanceof NodeSelection))\n            return apply(view, next);\n    }\n    if (!$from.parent.inlineContent) {\n        let side = dir < 0 ? $from : $to;\n        let beyond = sel instanceof AllSelection ? Selection.near(side, dir) : Selection.findFrom(side, dir);\n        return beyond ? apply(view, beyond) : false;\n    }\n    return false;\n}\nfunction stopNativeHorizontalDelete(view, dir) {\n    if (!(view.state.selection instanceof TextSelection))\n        return true;\n    let { $head, $anchor, empty } = view.state.selection;\n    if (!$head.sameParent($anchor))\n        return true;\n    if (!empty)\n        return false;\n    if (view.endOfTextblock(dir > 0 ? \"forward\" : \"backward\"))\n        return true;\n    let nextNode = !$head.textOffset && (dir < 0 ? $head.nodeBefore : $head.nodeAfter);\n    if (nextNode && !nextNode.isText) {\n        let tr = view.state.tr;\n        if (dir < 0)\n            tr.delete($head.pos - nextNode.nodeSize, $head.pos);\n        else\n            tr.delete($head.pos, $head.pos + nextNode.nodeSize);\n        view.dispatch(tr);\n        return true;\n    }\n    return false;\n}\nfunction switchEditable(view, node, state) {\n    view.domObserver.stop();\n    node.contentEditable = state;\n    view.domObserver.start();\n}\n// Issue #867 / #1090 / https://bugs.chromium.org/p/chromium/issues/detail?id=903821\n// In which Safari (and at some point in the past, Chrome) does really\n// wrong things when the down arrow is pressed when the cursor is\n// directly at the start of a textblock and has an uneditable node\n// after it\nfunction safariDownArrowBug(view) {\n    if (!safari || view.state.selection.$head.parentOffset > 0)\n        return false;\n    let { focusNode, focusOffset } = view.domSelectionRange();\n    if (focusNode && focusNode.nodeType == 1 && focusOffset == 0 &&\n        focusNode.firstChild && focusNode.firstChild.contentEditable == \"false\") {\n        let child = focusNode.firstChild;\n        switchEditable(view, child, \"true\");\n        setTimeout(() => switchEditable(view, child, \"false\"), 20);\n    }\n    return false;\n}\n// A backdrop key mapping used to make sure we always suppress keys\n// that have a dangerous default effect, even if the commands they are\n// bound to return false, and to make sure that cursor-motion keys\n// find a cursor (as opposed to a node selection) when pressed. For\n// cursor-motion keys, the code in the handlers also takes care of\n// block selections.\nfunction getMods(event) {\n    let result = \"\";\n    if (event.ctrlKey)\n        result += \"c\";\n    if (event.metaKey)\n        result += \"m\";\n    if (event.altKey)\n        result += \"a\";\n    if (event.shiftKey)\n        result += \"s\";\n    return result;\n}\nfunction captureKeyDown(view, event) {\n    let code = event.keyCode, mods = getMods(event);\n    if (code == 8 || (mac && code == 72 && mods == \"c\")) { // Backspace, Ctrl-h on Mac\n        return stopNativeHorizontalDelete(view, -1) || skipIgnoredNodes(view, -1);\n    }\n    else if ((code == 46 && !event.shiftKey) || (mac && code == 68 && mods == \"c\")) { // Delete, Ctrl-d on Mac\n        return stopNativeHorizontalDelete(view, 1) || skipIgnoredNodes(view, 1);\n    }\n    else if (code == 13 || code == 27) { // Enter, Esc\n        return true;\n    }\n    else if (code == 37 || (mac && code == 66 && mods == \"c\")) { // Left arrow, Ctrl-b on Mac\n        let dir = code == 37 ? (findDirection(view, view.state.selection.from) == \"ltr\" ? -1 : 1) : -1;\n        return selectHorizontally(view, dir, mods) || skipIgnoredNodes(view, dir);\n    }\n    else if (code == 39 || (mac && code == 70 && mods == \"c\")) { // Right arrow, Ctrl-f on Mac\n        let dir = code == 39 ? (findDirection(view, view.state.selection.from) == \"ltr\" ? 1 : -1) : 1;\n        return selectHorizontally(view, dir, mods) || skipIgnoredNodes(view, dir);\n    }\n    else if (code == 38 || (mac && code == 80 && mods == \"c\")) { // Up arrow, Ctrl-p on Mac\n        return selectVertically(view, -1, mods) || skipIgnoredNodes(view, -1);\n    }\n    else if (code == 40 || (mac && code == 78 && mods == \"c\")) { // Down arrow, Ctrl-n on Mac\n        return safariDownArrowBug(view) || selectVertically(view, 1, mods) || skipIgnoredNodes(view, 1);\n    }\n    else if (mods == (mac ? \"m\" : \"c\") &&\n        (code == 66 || code == 73 || code == 89 || code == 90)) { // Mod-[biyz]\n        return true;\n    }\n    return false;\n}\n\nfunction serializeForClipboard(view, slice) {\n    view.someProp(\"transformCopied\", f => { slice = f(slice, view); });\n    let context = [], { content, openStart, openEnd } = slice;\n    while (openStart > 1 && openEnd > 1 && content.childCount == 1 && content.firstChild.childCount == 1) {\n        openStart--;\n        openEnd--;\n        let node = content.firstChild;\n        context.push(node.type.name, node.attrs != node.type.defaultAttrs ? node.attrs : null);\n        content = node.content;\n    }\n    let serializer = view.someProp(\"clipboardSerializer\") || DOMSerializer.fromSchema(view.state.schema);\n    let doc = detachedDoc(), wrap = doc.createElement(\"div\");\n    wrap.appendChild(serializer.serializeFragment(content, { document: doc }));\n    let firstChild = wrap.firstChild, needsWrap, wrappers = 0;\n    while (firstChild && firstChild.nodeType == 1 && (needsWrap = wrapMap[firstChild.nodeName.toLowerCase()])) {\n        for (let i = needsWrap.length - 1; i >= 0; i--) {\n            let wrapper = doc.createElement(needsWrap[i]);\n            while (wrap.firstChild)\n                wrapper.appendChild(wrap.firstChild);\n            wrap.appendChild(wrapper);\n            wrappers++;\n        }\n        firstChild = wrap.firstChild;\n    }\n    if (firstChild && firstChild.nodeType == 1)\n        firstChild.setAttribute(\"data-pm-slice\", `${openStart} ${openEnd}${wrappers ? ` -${wrappers}` : \"\"} ${JSON.stringify(context)}`);\n    let text = view.someProp(\"clipboardTextSerializer\", f => f(slice, view)) ||\n        slice.content.textBetween(0, slice.content.size, \"\\n\\n\");\n    return { dom: wrap, text };\n}\n// Read a slice of content from the clipboard (or drop data).\nfunction parseFromClipboard(view, text, html, plainText, $context) {\n    let inCode = $context.parent.type.spec.code;\n    let dom, slice;\n    if (!html && !text)\n        return null;\n    let asText = text && (plainText || inCode || !html);\n    if (asText) {\n        view.someProp(\"transformPastedText\", f => { text = f(text, inCode || plainText, view); });\n        if (inCode)\n            return text ? new Slice(Fragment.from(view.state.schema.text(text.replace(/\\r\\n?/g, \"\\n\"))), 0, 0) : Slice.empty;\n        let parsed = view.someProp(\"clipboardTextParser\", f => f(text, $context, plainText, view));\n        if (parsed) {\n            slice = parsed;\n        }\n        else {\n            let marks = $context.marks();\n            let { schema } = view.state, serializer = DOMSerializer.fromSchema(schema);\n            dom = document.createElement(\"div\");\n            text.split(/(?:\\r\\n?|\\n)+/).forEach(block => {\n                let p = dom.appendChild(document.createElement(\"p\"));\n                if (block)\n                    p.appendChild(serializer.serializeNode(schema.text(block, marks)));\n            });\n        }\n    }\n    else {\n        view.someProp(\"transformPastedHTML\", f => { html = f(html, view); });\n        dom = readHTML(html);\n        if (webkit)\n            restoreReplacedSpaces(dom);\n    }\n    let contextNode = dom && dom.querySelector(\"[data-pm-slice]\");\n    let sliceData = contextNode && /^(\\d+) (\\d+)(?: -(\\d+))? (.*)/.exec(contextNode.getAttribute(\"data-pm-slice\") || \"\");\n    if (sliceData && sliceData[3])\n        for (let i = +sliceData[3]; i > 0; i--) {\n            let child = dom.firstChild;\n            while (child && child.nodeType != 1)\n                child = child.nextSibling;\n            if (!child)\n                break;\n            dom = child;\n        }\n    if (!slice) {\n        let parser = view.someProp(\"clipboardParser\") || view.someProp(\"domParser\") || DOMParser.fromSchema(view.state.schema);\n        slice = parser.parseSlice(dom, {\n            preserveWhitespace: !!(asText || sliceData),\n            context: $context,\n            ruleFromNode(dom) {\n                if (dom.nodeName == \"BR\" && !dom.nextSibling &&\n                    dom.parentNode && !inlineParents.test(dom.parentNode.nodeName))\n                    return { ignore: true };\n                return null;\n            }\n        });\n    }\n    if (sliceData) {\n        slice = addContext(closeSlice(slice, +sliceData[1], +sliceData[2]), sliceData[4]);\n    }\n    else { // HTML wasn't created by ProseMirror. Make sure top-level siblings are coherent\n        slice = Slice.maxOpen(normalizeSiblings(slice.content, $context), true);\n        if (slice.openStart || slice.openEnd) {\n            let openStart = 0, openEnd = 0;\n            for (let node = slice.content.firstChild; openStart < slice.openStart && !node.type.spec.isolating; openStart++, node = node.firstChild) { }\n            for (let node = slice.content.lastChild; openEnd < slice.openEnd && !node.type.spec.isolating; openEnd++, node = node.lastChild) { }\n            slice = closeSlice(slice, openStart, openEnd);\n        }\n    }\n    view.someProp(\"transformPasted\", f => { slice = f(slice, view); });\n    return slice;\n}\nconst inlineParents = /^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;\n// Takes a slice parsed with parseSlice, which means there hasn't been\n// any content-expression checking done on the top nodes, tries to\n// find a parent node in the current context that might fit the nodes,\n// and if successful, rebuilds the slice so that it fits into that parent.\n//\n// This addresses the problem that Transform.replace expects a\n// coherent slice, and will fail to place a set of siblings that don't\n// fit anywhere in the schema.\nfunction normalizeSiblings(fragment, $context) {\n    if (fragment.childCount < 2)\n        return fragment;\n    for (let d = $context.depth; d >= 0; d--) {\n        let parent = $context.node(d);\n        let match = parent.contentMatchAt($context.index(d));\n        let lastWrap, result = [];\n        fragment.forEach(node => {\n            if (!result)\n                return;\n            let wrap = match.findWrapping(node.type), inLast;\n            if (!wrap)\n                return result = null;\n            if (inLast = result.length && lastWrap.length && addToSibling(wrap, lastWrap, node, result[result.length - 1], 0)) {\n                result[result.length - 1] = inLast;\n            }\n            else {\n                if (result.length)\n                    result[result.length - 1] = closeRight(result[result.length - 1], lastWrap.length);\n                let wrapped = withWrappers(node, wrap);\n                result.push(wrapped);\n                match = match.matchType(wrapped.type);\n                lastWrap = wrap;\n            }\n        });\n        if (result)\n            return Fragment.from(result);\n    }\n    return fragment;\n}\nfunction withWrappers(node, wrap, from = 0) {\n    for (let i = wrap.length - 1; i >= from; i--)\n        node = wrap[i].create(null, Fragment.from(node));\n    return node;\n}\n// Used to group adjacent nodes wrapped in similar parents by\n// normalizeSiblings into the same parent node\nfunction addToSibling(wrap, lastWrap, node, sibling, depth) {\n    if (depth < wrap.length && depth < lastWrap.length && wrap[depth] == lastWrap[depth]) {\n        let inner = addToSibling(wrap, lastWrap, node, sibling.lastChild, depth + 1);\n        if (inner)\n            return sibling.copy(sibling.content.replaceChild(sibling.childCount - 1, inner));\n        let match = sibling.contentMatchAt(sibling.childCount);\n        if (match.matchType(depth == wrap.length - 1 ? node.type : wrap[depth + 1]))\n            return sibling.copy(sibling.content.append(Fragment.from(withWrappers(node, wrap, depth + 1))));\n    }\n}\nfunction closeRight(node, depth) {\n    if (depth == 0)\n        return node;\n    let fragment = node.content.replaceChild(node.childCount - 1, closeRight(node.lastChild, depth - 1));\n    let fill = node.contentMatchAt(node.childCount).fillBefore(Fragment.empty, true);\n    return node.copy(fragment.append(fill));\n}\nfunction closeRange(fragment, side, from, to, depth, openEnd) {\n    let node = side < 0 ? fragment.firstChild : fragment.lastChild, inner = node.content;\n    if (fragment.childCount > 1)\n        openEnd = 0;\n    if (depth < to - 1)\n        inner = closeRange(inner, side, from, to, depth + 1, openEnd);\n    if (depth >= from)\n        inner = side < 0 ? node.contentMatchAt(0).fillBefore(inner, openEnd <= depth).append(inner)\n            : inner.append(node.contentMatchAt(node.childCount).fillBefore(Fragment.empty, true));\n    return fragment.replaceChild(side < 0 ? 0 : fragment.childCount - 1, node.copy(inner));\n}\nfunction closeSlice(slice, openStart, openEnd) {\n    if (openStart < slice.openStart)\n        slice = new Slice(closeRange(slice.content, -1, openStart, slice.openStart, 0, slice.openEnd), openStart, slice.openEnd);\n    if (openEnd < slice.openEnd)\n        slice = new Slice(closeRange(slice.content, 1, openEnd, slice.openEnd, 0, 0), slice.openStart, openEnd);\n    return slice;\n}\n// Trick from jQuery -- some elements must be wrapped in other\n// elements for innerHTML to work. I.e. if you do `div.innerHTML =\n// \"<td>..</td>\"` the table cells are ignored.\nconst wrapMap = {\n    thead: [\"table\"],\n    tbody: [\"table\"],\n    tfoot: [\"table\"],\n    caption: [\"table\"],\n    colgroup: [\"table\"],\n    col: [\"table\", \"colgroup\"],\n    tr: [\"table\", \"tbody\"],\n    td: [\"table\", \"tbody\", \"tr\"],\n    th: [\"table\", \"tbody\", \"tr\"]\n};\nlet _detachedDoc = null;\nfunction detachedDoc() {\n    return _detachedDoc || (_detachedDoc = document.implementation.createHTMLDocument(\"title\"));\n}\nfunction readHTML(html) {\n    let metas = /^(\\s*<meta [^>]*>)*/.exec(html);\n    if (metas)\n        html = html.slice(metas[0].length);\n    let elt = detachedDoc().createElement(\"div\");\n    let firstTag = /<([a-z][^>\\s]+)/i.exec(html), wrap;\n    if (wrap = firstTag && wrapMap[firstTag[1].toLowerCase()])\n        html = wrap.map(n => \"<\" + n + \">\").join(\"\") + html + wrap.map(n => \"</\" + n + \">\").reverse().join(\"\");\n    elt.innerHTML = html;\n    if (wrap)\n        for (let i = 0; i < wrap.length; i++)\n            elt = elt.querySelector(wrap[i]) || elt;\n    return elt;\n}\n// Webkit browsers do some hard-to-predict replacement of regular\n// spaces with non-breaking spaces when putting content on the\n// clipboard. This tries to convert such non-breaking spaces (which\n// will be wrapped in a plain span on Chrome, a span with class\n// Apple-converted-space on Safari) back to regular spaces.\nfunction restoreReplacedSpaces(dom) {\n    let nodes = dom.querySelectorAll(chrome ? \"span:not([class]):not([style])\" : \"span.Apple-converted-space\");\n    for (let i = 0; i < nodes.length; i++) {\n        let node = nodes[i];\n        if (node.childNodes.length == 1 && node.textContent == \"\\u00a0\" && node.parentNode)\n            node.parentNode.replaceChild(dom.ownerDocument.createTextNode(\" \"), node);\n    }\n}\nfunction addContext(slice, context) {\n    if (!slice.size)\n        return slice;\n    let schema = slice.content.firstChild.type.schema, array;\n    try {\n        array = JSON.parse(context);\n    }\n    catch (e) {\n        return slice;\n    }\n    let { content, openStart, openEnd } = slice;\n    for (let i = array.length - 2; i >= 0; i -= 2) {\n        let type = schema.nodes[array[i]];\n        if (!type || type.hasRequiredAttrs())\n            break;\n        content = Fragment.from(type.create(array[i + 1], content));\n        openStart++;\n        openEnd++;\n    }\n    return new Slice(content, openStart, openEnd);\n}\n\n// A collection of DOM events that occur within the editor, and callback functions\n// to invoke when the event fires.\nconst handlers = {};\nconst editHandlers = {};\nconst passiveHandlers = { touchstart: true, touchmove: true };\nclass InputState {\n    constructor() {\n        this.shiftKey = false;\n        this.mouseDown = null;\n        this.lastKeyCode = null;\n        this.lastKeyCodeTime = 0;\n        this.lastClick = { time: 0, x: 0, y: 0, type: \"\" };\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastIOSEnter = 0;\n        this.lastIOSEnterFallbackTimeout = -1;\n        this.lastFocus = 0;\n        this.lastTouch = 0;\n        this.lastAndroidDelete = 0;\n        this.composing = false;\n        this.composingTimeout = -1;\n        this.compositionNodes = [];\n        this.compositionEndedAt = -2e8;\n        this.compositionID = 1;\n        // Set to a composition ID when there are pending changes at compositionend\n        this.compositionPendingChanges = 0;\n        this.domChangeCount = 0;\n        this.eventHandlers = Object.create(null);\n        this.hideSelectionGuard = null;\n    }\n}\nfunction initInput(view) {\n    for (let event in handlers) {\n        let handler = handlers[event];\n        view.dom.addEventListener(event, view.input.eventHandlers[event] = (event) => {\n            if (eventBelongsToView(view, event) && !runCustomHandler(view, event) &&\n                (view.editable || !(event.type in editHandlers)))\n                handler(view, event);\n        }, passiveHandlers[event] ? { passive: true } : undefined);\n    }\n    // On Safari, for reasons beyond my understanding, adding an input\n    // event handler makes an issue where the composition vanishes when\n    // you press enter go away.\n    if (safari)\n        view.dom.addEventListener(\"input\", () => null);\n    ensureListeners(view);\n}\nfunction setSelectionOrigin(view, origin) {\n    view.input.lastSelectionOrigin = origin;\n    view.input.lastSelectionTime = Date.now();\n}\nfunction destroyInput(view) {\n    view.domObserver.stop();\n    for (let type in view.input.eventHandlers)\n        view.dom.removeEventListener(type, view.input.eventHandlers[type]);\n    clearTimeout(view.input.composingTimeout);\n    clearTimeout(view.input.lastIOSEnterFallbackTimeout);\n}\nfunction ensureListeners(view) {\n    view.someProp(\"handleDOMEvents\", currentHandlers => {\n        for (let type in currentHandlers)\n            if (!view.input.eventHandlers[type])\n                view.dom.addEventListener(type, view.input.eventHandlers[type] = event => runCustomHandler(view, event));\n    });\n}\nfunction runCustomHandler(view, event) {\n    return view.someProp(\"handleDOMEvents\", handlers => {\n        let handler = handlers[event.type];\n        return handler ? handler(view, event) || event.defaultPrevented : false;\n    });\n}\nfunction eventBelongsToView(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target; node != view.dom; node = node.parentNode)\n        if (!node || node.nodeType == 11 ||\n            (node.pmViewDesc && node.pmViewDesc.stopEvent(event)))\n            return false;\n    return true;\n}\nfunction dispatchEvent(view, event) {\n    if (!runCustomHandler(view, event) && handlers[event.type] &&\n        (view.editable || !(event.type in editHandlers)))\n        handlers[event.type](view, event);\n}\neditHandlers.keydown = (view, _event) => {\n    let event = _event;\n    view.input.shiftKey = event.keyCode == 16 || event.shiftKey;\n    if (inOrNearComposition(view, event))\n        return;\n    view.input.lastKeyCode = event.keyCode;\n    view.input.lastKeyCodeTime = Date.now();\n    // Suppress enter key events on Chrome Android, because those tend\n    // to be part of a confused sequence of composition events fired,\n    // and handling them eagerly tends to corrupt the input.\n    if (android && chrome && event.keyCode == 13)\n        return;\n    if (event.keyCode != 229)\n        view.domObserver.forceFlush();\n    // On iOS, if we preventDefault enter key presses, the virtual\n    // keyboard gets confused. So the hack here is to set a flag that\n    // makes the DOM change code recognize that what just happens should\n    // be replaced by whatever the Enter key handlers do.\n    if (ios && event.keyCode == 13 && !event.ctrlKey && !event.altKey && !event.metaKey) {\n        let now = Date.now();\n        view.input.lastIOSEnter = now;\n        view.input.lastIOSEnterFallbackTimeout = setTimeout(() => {\n            if (view.input.lastIOSEnter == now) {\n                view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")));\n                view.input.lastIOSEnter = 0;\n            }\n        }, 200);\n    }\n    else if (view.someProp(\"handleKeyDown\", f => f(view, event)) || captureKeyDown(view, event)) {\n        event.preventDefault();\n    }\n    else {\n        setSelectionOrigin(view, \"key\");\n    }\n};\neditHandlers.keyup = (view, event) => {\n    if (event.keyCode == 16)\n        view.input.shiftKey = false;\n};\neditHandlers.keypress = (view, _event) => {\n    let event = _event;\n    if (inOrNearComposition(view, event) || !event.charCode ||\n        event.ctrlKey && !event.altKey || mac && event.metaKey)\n        return;\n    if (view.someProp(\"handleKeyPress\", f => f(view, event))) {\n        event.preventDefault();\n        return;\n    }\n    let sel = view.state.selection;\n    if (!(sel instanceof TextSelection) || !sel.$from.sameParent(sel.$to)) {\n        let text = String.fromCharCode(event.charCode);\n        if (!/[\\r\\n]/.test(text) && !view.someProp(\"handleTextInput\", f => f(view, sel.$from.pos, sel.$to.pos, text)))\n            view.dispatch(view.state.tr.insertText(text).scrollIntoView());\n        event.preventDefault();\n    }\n};\nfunction eventCoords(event) { return { left: event.clientX, top: event.clientY }; }\nfunction isNear(event, click) {\n    let dx = click.x - event.clientX, dy = click.y - event.clientY;\n    return dx * dx + dy * dy < 100;\n}\nfunction runHandlerOnContext(view, propName, pos, inside, event) {\n    if (inside == -1)\n        return false;\n    let $pos = view.state.doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        if (view.someProp(propName, f => i > $pos.depth ? f(view, pos, $pos.nodeAfter, $pos.before(i), event, true)\n            : f(view, pos, $pos.node(i), $pos.before(i), event, false)))\n            return true;\n    }\n    return false;\n}\nfunction updateSelection(view, selection, origin) {\n    if (!view.focused)\n        view.focus();\n    let tr = view.state.tr.setSelection(selection);\n    if (origin == \"pointer\")\n        tr.setMeta(\"pointer\", true);\n    view.dispatch(tr);\n}\nfunction selectClickedLeaf(view, inside) {\n    if (inside == -1)\n        return false;\n    let $pos = view.state.doc.resolve(inside), node = $pos.nodeAfter;\n    if (node && node.isAtom && NodeSelection.isSelectable(node)) {\n        updateSelection(view, new NodeSelection($pos), \"pointer\");\n        return true;\n    }\n    return false;\n}\nfunction selectClickedNode(view, inside) {\n    if (inside == -1)\n        return false;\n    let sel = view.state.selection, selectedNode, selectAt;\n    if (sel instanceof NodeSelection)\n        selectedNode = sel.node;\n    let $pos = view.state.doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        let node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);\n        if (NodeSelection.isSelectable(node)) {\n            if (selectedNode && sel.$from.depth > 0 &&\n                i >= sel.$from.depth && $pos.before(sel.$from.depth + 1) == sel.$from.pos)\n                selectAt = $pos.before(sel.$from.depth);\n            else\n                selectAt = $pos.before(i);\n            break;\n        }\n    }\n    if (selectAt != null) {\n        updateSelection(view, NodeSelection.create(view.state.doc, selectAt), \"pointer\");\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction handleSingleClick(view, pos, inside, event, selectNode) {\n    return runHandlerOnContext(view, \"handleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleClick\", f => f(view, pos, event)) ||\n        (selectNode ? selectClickedNode(view, inside) : selectClickedLeaf(view, inside));\n}\nfunction handleDoubleClick(view, pos, inside, event) {\n    return runHandlerOnContext(view, \"handleDoubleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleDoubleClick\", f => f(view, pos, event));\n}\nfunction handleTripleClick(view, pos, inside, event) {\n    return runHandlerOnContext(view, \"handleTripleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleTripleClick\", f => f(view, pos, event)) ||\n        defaultTripleClick(view, inside, event);\n}\nfunction defaultTripleClick(view, inside, event) {\n    if (event.button != 0)\n        return false;\n    let doc = view.state.doc;\n    if (inside == -1) {\n        if (doc.inlineContent) {\n            updateSelection(view, TextSelection.create(doc, 0, doc.content.size), \"pointer\");\n            return true;\n        }\n        return false;\n    }\n    let $pos = doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        let node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);\n        let nodePos = $pos.before(i);\n        if (node.inlineContent)\n            updateSelection(view, TextSelection.create(doc, nodePos + 1, nodePos + 1 + node.content.size), \"pointer\");\n        else if (NodeSelection.isSelectable(node))\n            updateSelection(view, NodeSelection.create(doc, nodePos), \"pointer\");\n        else\n            continue;\n        return true;\n    }\n}\nfunction forceDOMFlush(view) {\n    return endComposition(view);\n}\nconst selectNodeModifier = mac ? \"metaKey\" : \"ctrlKey\";\nhandlers.mousedown = (view, _event) => {\n    let event = _event;\n    view.input.shiftKey = event.shiftKey;\n    let flushed = forceDOMFlush(view);\n    let now = Date.now(), type = \"singleClick\";\n    if (now - view.input.lastClick.time < 500 && isNear(event, view.input.lastClick) && !event[selectNodeModifier]) {\n        if (view.input.lastClick.type == \"singleClick\")\n            type = \"doubleClick\";\n        else if (view.input.lastClick.type == \"doubleClick\")\n            type = \"tripleClick\";\n    }\n    view.input.lastClick = { time: now, x: event.clientX, y: event.clientY, type };\n    let pos = view.posAtCoords(eventCoords(event));\n    if (!pos)\n        return;\n    if (type == \"singleClick\") {\n        if (view.input.mouseDown)\n            view.input.mouseDown.done();\n        view.input.mouseDown = new MouseDown(view, pos, event, !!flushed);\n    }\n    else if ((type == \"doubleClick\" ? handleDoubleClick : handleTripleClick)(view, pos.pos, pos.inside, event)) {\n        event.preventDefault();\n    }\n    else {\n        setSelectionOrigin(view, \"pointer\");\n    }\n};\nclass MouseDown {\n    constructor(view, pos, event, flushed) {\n        this.view = view;\n        this.pos = pos;\n        this.event = event;\n        this.flushed = flushed;\n        this.delayedSelectionSync = false;\n        this.mightDrag = null;\n        this.startDoc = view.state.doc;\n        this.selectNode = !!event[selectNodeModifier];\n        this.allowDefault = event.shiftKey;\n        let targetNode, targetPos;\n        if (pos.inside > -1) {\n            targetNode = view.state.doc.nodeAt(pos.inside);\n            targetPos = pos.inside;\n        }\n        else {\n            let $pos = view.state.doc.resolve(pos.pos);\n            targetNode = $pos.parent;\n            targetPos = $pos.depth ? $pos.before() : 0;\n        }\n        const target = flushed ? null : event.target;\n        const targetDesc = target ? view.docView.nearestDesc(target, true) : null;\n        this.target = targetDesc ? targetDesc.dom : null;\n        let { selection } = view.state;\n        if (event.button == 0 &&\n            targetNode.type.spec.draggable && targetNode.type.spec.selectable !== false ||\n            selection instanceof NodeSelection && selection.from <= targetPos && selection.to > targetPos)\n            this.mightDrag = {\n                node: targetNode,\n                pos: targetPos,\n                addAttr: !!(this.target && !this.target.draggable),\n                setUneditable: !!(this.target && gecko && !this.target.hasAttribute(\"contentEditable\"))\n            };\n        if (this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable)) {\n            this.view.domObserver.stop();\n            if (this.mightDrag.addAttr)\n                this.target.draggable = true;\n            if (this.mightDrag.setUneditable)\n                setTimeout(() => {\n                    if (this.view.input.mouseDown == this)\n                        this.target.setAttribute(\"contentEditable\", \"false\");\n                }, 20);\n            this.view.domObserver.start();\n        }\n        view.root.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        view.root.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        setSelectionOrigin(view, \"pointer\");\n    }\n    done() {\n        this.view.root.removeEventListener(\"mouseup\", this.up);\n        this.view.root.removeEventListener(\"mousemove\", this.move);\n        if (this.mightDrag && this.target) {\n            this.view.domObserver.stop();\n            if (this.mightDrag.addAttr)\n                this.target.removeAttribute(\"draggable\");\n            if (this.mightDrag.setUneditable)\n                this.target.removeAttribute(\"contentEditable\");\n            this.view.domObserver.start();\n        }\n        if (this.delayedSelectionSync)\n            setTimeout(() => selectionToDOM(this.view));\n        this.view.input.mouseDown = null;\n    }\n    up(event) {\n        this.done();\n        if (!this.view.dom.contains(event.target))\n            return;\n        let pos = this.pos;\n        if (this.view.state.doc != this.startDoc)\n            pos = this.view.posAtCoords(eventCoords(event));\n        this.updateAllowDefault(event);\n        if (this.allowDefault || !pos) {\n            setSelectionOrigin(this.view, \"pointer\");\n        }\n        else if (handleSingleClick(this.view, pos.pos, pos.inside, event, this.selectNode)) {\n            event.preventDefault();\n        }\n        else if (event.button == 0 &&\n            (this.flushed ||\n                // Safari ignores clicks on draggable elements\n                (safari && this.mightDrag && !this.mightDrag.node.isAtom) ||\n                // Chrome will sometimes treat a node selection as a\n                // cursor, but still report that the node is selected\n                // when asked through getSelection. You'll then get a\n                // situation where clicking at the point where that\n                // (hidden) cursor is doesn't change the selection, and\n                // thus doesn't get a reaction from ProseMirror. This\n                // works around that.\n                (chrome && !this.view.state.selection.visible &&\n                    Math.min(Math.abs(pos.pos - this.view.state.selection.from), Math.abs(pos.pos - this.view.state.selection.to)) <= 2))) {\n            updateSelection(this.view, Selection.near(this.view.state.doc.resolve(pos.pos)), \"pointer\");\n            event.preventDefault();\n        }\n        else {\n            setSelectionOrigin(this.view, \"pointer\");\n        }\n    }\n    move(event) {\n        this.updateAllowDefault(event);\n        setSelectionOrigin(this.view, \"pointer\");\n        if (event.buttons == 0)\n            this.done();\n    }\n    updateAllowDefault(event) {\n        if (!this.allowDefault && (Math.abs(this.event.x - event.clientX) > 4 ||\n            Math.abs(this.event.y - event.clientY) > 4))\n            this.allowDefault = true;\n    }\n}\nhandlers.touchstart = view => {\n    view.input.lastTouch = Date.now();\n    forceDOMFlush(view);\n    setSelectionOrigin(view, \"pointer\");\n};\nhandlers.touchmove = view => {\n    view.input.lastTouch = Date.now();\n    setSelectionOrigin(view, \"pointer\");\n};\nhandlers.contextmenu = view => forceDOMFlush(view);\nfunction inOrNearComposition(view, event) {\n    if (view.composing)\n        return true;\n    // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n    // On Japanese input method editors (IMEs), the Enter key is used to confirm character\n    // selection. On Safari, when Enter is pressed, compositionend and keydown events are\n    // emitted. The keydown event triggers newline insertion, which we don't want.\n    // This method returns true if the keydown event should be ignored.\n    // We only ignore it once, as pressing Enter a second time *should* insert a newline.\n    // Furthermore, the keydown event timestamp must be close to the compositionEndedAt timestamp.\n    // This guards against the case where compositionend is triggered without the keyboard\n    // (e.g. character confirmation may be done with the mouse), and keydown is triggered\n    // afterwards- we wouldn't want to ignore the keydown event in this case.\n    if (safari && Math.abs(event.timeStamp - view.input.compositionEndedAt) < 500) {\n        view.input.compositionEndedAt = -2e8;\n        return true;\n    }\n    return false;\n}\n// Drop active composition after 5 seconds of inactivity on Android\nconst timeoutComposition = android ? 5000 : -1;\neditHandlers.compositionstart = editHandlers.compositionupdate = view => {\n    if (!view.composing) {\n        view.domObserver.flush();\n        let { state } = view, $pos = state.selection.$from;\n        if (state.selection.empty &&\n            (state.storedMarks ||\n                (!$pos.textOffset && $pos.parentOffset && $pos.nodeBefore.marks.some(m => m.type.spec.inclusive === false)))) {\n            // Need to wrap the cursor in mark nodes different from the ones in the DOM context\n            view.markCursor = view.state.storedMarks || $pos.marks();\n            endComposition(view, true);\n            view.markCursor = null;\n        }\n        else {\n            endComposition(view);\n            // In firefox, if the cursor is after but outside a marked node,\n            // the inserted text won't inherit the marks. So this moves it\n            // inside if necessary.\n            if (gecko && state.selection.empty && $pos.parentOffset && !$pos.textOffset && $pos.nodeBefore.marks.length) {\n                let sel = view.domSelectionRange();\n                for (let node = sel.focusNode, offset = sel.focusOffset; node && node.nodeType == 1 && offset != 0;) {\n                    let before = offset < 0 ? node.lastChild : node.childNodes[offset - 1];\n                    if (!before)\n                        break;\n                    if (before.nodeType == 3) {\n                        view.domSelection().collapse(before, before.nodeValue.length);\n                        break;\n                    }\n                    else {\n                        node = before;\n                        offset = -1;\n                    }\n                }\n            }\n        }\n        view.input.composing = true;\n    }\n    scheduleComposeEnd(view, timeoutComposition);\n};\neditHandlers.compositionend = (view, event) => {\n    if (view.composing) {\n        view.input.composing = false;\n        view.input.compositionEndedAt = event.timeStamp;\n        view.input.compositionPendingChanges = view.domObserver.pendingRecords().length ? view.input.compositionID : 0;\n        if (view.input.compositionPendingChanges)\n            Promise.resolve().then(() => view.domObserver.flush());\n        view.input.compositionID++;\n        scheduleComposeEnd(view, 20);\n    }\n};\nfunction scheduleComposeEnd(view, delay) {\n    clearTimeout(view.input.composingTimeout);\n    if (delay > -1)\n        view.input.composingTimeout = setTimeout(() => endComposition(view), delay);\n}\nfunction clearComposition(view) {\n    if (view.composing) {\n        view.input.composing = false;\n        view.input.compositionEndedAt = timestampFromCustomEvent();\n    }\n    while (view.input.compositionNodes.length > 0)\n        view.input.compositionNodes.pop().markParentsDirty();\n}\nfunction timestampFromCustomEvent() {\n    let event = document.createEvent(\"Event\");\n    event.initEvent(\"event\", true, true);\n    return event.timeStamp;\n}\n/**\n@internal\n*/\nfunction endComposition(view, forceUpdate = false) {\n    if (android && view.domObserver.flushingSoon >= 0)\n        return;\n    view.domObserver.forceFlush();\n    clearComposition(view);\n    if (forceUpdate || view.docView && view.docView.dirty) {\n        let sel = selectionFromDOM(view);\n        if (sel && !sel.eq(view.state.selection))\n            view.dispatch(view.state.tr.setSelection(sel));\n        else\n            view.updateState(view.state);\n        return true;\n    }\n    return false;\n}\nfunction captureCopy(view, dom) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    if (!view.dom.parentNode)\n        return;\n    let wrap = view.dom.parentNode.appendChild(document.createElement(\"div\"));\n    wrap.appendChild(dom);\n    wrap.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    let sel = getSelection(), range = document.createRange();\n    range.selectNodeContents(dom);\n    // Done because IE will fire a selectionchange moving the selection\n    // to its start when removeAllRanges is called and the editor still\n    // has focus (which will mess up the editor's selection state).\n    view.dom.blur();\n    sel.removeAllRanges();\n    sel.addRange(range);\n    setTimeout(() => {\n        if (wrap.parentNode)\n            wrap.parentNode.removeChild(wrap);\n        view.focus();\n    }, 50);\n}\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API\u2014all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (ie && ie_version < 15) ||\n    (ios && webkit_version < 604);\nhandlers.copy = editHandlers.cut = (view, _event) => {\n    let event = _event;\n    let sel = view.state.selection, cut = event.type == \"cut\";\n    if (sel.empty)\n        return;\n    // IE and Edge's clipboard interface is completely broken\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let slice = sel.content(), { dom, text } = serializeForClipboard(view, slice);\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/html\", dom.innerHTML);\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, dom);\n    }\n    if (cut)\n        view.dispatch(view.state.tr.deleteSelection().scrollIntoView().setMeta(\"uiEvent\", \"cut\"));\n};\nfunction sliceSingleNode(slice) {\n    return slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1 ? slice.content.firstChild : null;\n}\nfunction capturePaste(view, event) {\n    if (!view.dom.parentNode)\n        return;\n    let plainText = view.input.shiftKey || view.state.selection.$from.parent.type.spec.code;\n    let target = view.dom.parentNode.appendChild(document.createElement(plainText ? \"textarea\" : \"div\"));\n    if (!plainText)\n        target.contentEditable = \"true\";\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    let plain = view.input.shiftKey && view.input.lastKeyCode != 45;\n    setTimeout(() => {\n        view.focus();\n        if (target.parentNode)\n            target.parentNode.removeChild(target);\n        if (plainText)\n            doPaste(view, target.value, null, plain, event);\n        else\n            doPaste(view, target.textContent, target.innerHTML, plain, event);\n    }, 50);\n}\nfunction doPaste(view, text, html, preferPlain, event) {\n    let slice = parseFromClipboard(view, text, html, preferPlain, view.state.selection.$from);\n    if (view.someProp(\"handlePaste\", f => f(view, event, slice || Slice.empty)))\n        return true;\n    if (!slice)\n        return false;\n    let singleNode = sliceSingleNode(slice);\n    let tr = singleNode\n        ? view.state.tr.replaceSelectionWith(singleNode, preferPlain)\n        : view.state.tr.replaceSelection(slice);\n    view.dispatch(tr.scrollIntoView().setMeta(\"paste\", true).setMeta(\"uiEvent\", \"paste\"));\n    return true;\n}\neditHandlers.paste = (view, _event) => {\n    let event = _event;\n    // Handling paste from JavaScript during composition is very poorly\n    // handled by browsers, so as a dodgy but preferable kludge, we just\n    // let the browser do its native thing there, except on Android,\n    // where the editor is almost always composing.\n    if (view.composing && !android)\n        return;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let plain = view.input.shiftKey && view.input.lastKeyCode != 45;\n    if (data && doPaste(view, data.getData(\"text/plain\"), data.getData(\"text/html\"), plain, event))\n        event.preventDefault();\n    else\n        capturePaste(view, event);\n};\nclass Dragging {\n    constructor(slice, move) {\n        this.slice = slice;\n        this.move = move;\n    }\n}\nconst dragCopyModifier = mac ? \"altKey\" : \"ctrlKey\";\nhandlers.dragstart = (view, _event) => {\n    let event = _event;\n    let mouseDown = view.input.mouseDown;\n    if (mouseDown)\n        mouseDown.done();\n    if (!event.dataTransfer)\n        return;\n    let sel = view.state.selection;\n    let pos = sel.empty ? null : view.posAtCoords(eventCoords(event));\n    if (pos && pos.pos >= sel.from && pos.pos <= (sel instanceof NodeSelection ? sel.to - 1 : sel.to)) ;\n    else if (mouseDown && mouseDown.mightDrag) {\n        view.dispatch(view.state.tr.setSelection(NodeSelection.create(view.state.doc, mouseDown.mightDrag.pos)));\n    }\n    else if (event.target && event.target.nodeType == 1) {\n        let desc = view.docView.nearestDesc(event.target, true);\n        if (desc && desc.node.type.spec.draggable && desc != view.docView)\n            view.dispatch(view.state.tr.setSelection(NodeSelection.create(view.state.doc, desc.posBefore)));\n    }\n    let slice = view.state.selection.content(), { dom, text } = serializeForClipboard(view, slice);\n    event.dataTransfer.clearData();\n    event.dataTransfer.setData(brokenClipboardAPI ? \"Text\" : \"text/html\", dom.innerHTML);\n    // See https://github.com/ProseMirror/prosemirror/issues/1156\n    event.dataTransfer.effectAllowed = \"copyMove\";\n    if (!brokenClipboardAPI)\n        event.dataTransfer.setData(\"text/plain\", text);\n    view.dragging = new Dragging(slice, !event[dragCopyModifier]);\n};\nhandlers.dragend = view => {\n    let dragging = view.dragging;\n    window.setTimeout(() => {\n        if (view.dragging == dragging)\n            view.dragging = null;\n    }, 50);\n};\neditHandlers.dragover = editHandlers.dragenter = (_, e) => e.preventDefault();\neditHandlers.drop = (view, _event) => {\n    let event = _event;\n    let dragging = view.dragging;\n    view.dragging = null;\n    if (!event.dataTransfer)\n        return;\n    let eventPos = view.posAtCoords(eventCoords(event));\n    if (!eventPos)\n        return;\n    let $mouse = view.state.doc.resolve(eventPos.pos);\n    let slice = dragging && dragging.slice;\n    if (slice) {\n        view.someProp(\"transformPasted\", f => { slice = f(slice, view); });\n    }\n    else {\n        slice = parseFromClipboard(view, event.dataTransfer.getData(brokenClipboardAPI ? \"Text\" : \"text/plain\"), brokenClipboardAPI ? null : event.dataTransfer.getData(\"text/html\"), false, $mouse);\n    }\n    let move = !!(dragging && !event[dragCopyModifier]);\n    if (view.someProp(\"handleDrop\", f => f(view, event, slice || Slice.empty, move))) {\n        event.preventDefault();\n        return;\n    }\n    if (!slice)\n        return;\n    event.preventDefault();\n    let insertPos = slice ? dropPoint(view.state.doc, $mouse.pos, slice) : $mouse.pos;\n    if (insertPos == null)\n        insertPos = $mouse.pos;\n    let tr = view.state.tr;\n    if (move)\n        tr.deleteSelection();\n    let pos = tr.mapping.map(insertPos);\n    let isNode = slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1;\n    let beforeInsert = tr.doc;\n    if (isNode)\n        tr.replaceRangeWith(pos, pos, slice.content.firstChild);\n    else\n        tr.replaceRange(pos, pos, slice);\n    if (tr.doc.eq(beforeInsert))\n        return;\n    let $pos = tr.doc.resolve(pos);\n    if (isNode && NodeSelection.isSelectable(slice.content.firstChild) &&\n        $pos.nodeAfter && $pos.nodeAfter.sameMarkup(slice.content.firstChild)) {\n        tr.setSelection(new NodeSelection($pos));\n    }\n    else {\n        let end = tr.mapping.map(insertPos);\n        tr.mapping.maps[tr.mapping.maps.length - 1].forEach((_from, _to, _newFrom, newTo) => end = newTo);\n        tr.setSelection(selectionBetween(view, $pos, tr.doc.resolve(end)));\n    }\n    view.focus();\n    view.dispatch(tr.setMeta(\"uiEvent\", \"drop\"));\n};\nhandlers.focus = view => {\n    view.input.lastFocus = Date.now();\n    if (!view.focused) {\n        view.domObserver.stop();\n        view.dom.classList.add(\"ProseMirror-focused\");\n        view.domObserver.start();\n        view.focused = true;\n        setTimeout(() => {\n            if (view.docView && view.hasFocus() && !view.domObserver.currentSelection.eq(view.domSelectionRange()))\n                selectionToDOM(view);\n        }, 20);\n    }\n};\nhandlers.blur = (view, _event) => {\n    let event = _event;\n    if (view.focused) {\n        view.domObserver.stop();\n        view.dom.classList.remove(\"ProseMirror-focused\");\n        view.domObserver.start();\n        if (event.relatedTarget && view.dom.contains(event.relatedTarget))\n            view.domObserver.currentSelection.clear();\n        view.focused = false;\n    }\n};\nhandlers.beforeinput = (view, _event) => {\n    let event = _event;\n    // We should probably do more with beforeinput events, but support\n    // is so spotty that I'm still waiting to see where they are going.\n    // Very specific hack to deal with backspace sometimes failing on\n    // Chrome Android when after an uneditable node.\n    if (chrome && android && event.inputType == \"deleteContentBackward\") {\n        view.domObserver.flushSoon();\n        let { domChangeCount } = view.input;\n        setTimeout(() => {\n            if (view.input.domChangeCount != domChangeCount)\n                return; // Event already had some effect\n            // This bug tends to close the virtual keyboard, so we refocus\n            view.dom.blur();\n            view.focus();\n            if (view.someProp(\"handleKeyDown\", f => f(view, keyEvent(8, \"Backspace\"))))\n                return;\n            let { $cursor } = view.state.selection;\n            // Crude approximation of backspace behavior when no command handled it\n            if ($cursor && $cursor.pos > 0)\n                view.dispatch(view.state.tr.delete($cursor.pos - 1, $cursor.pos).scrollIntoView());\n        }, 50);\n    }\n};\n// Make sure all handlers get registered\nfor (let prop in editHandlers)\n    handlers[prop] = editHandlers[prop];\n\nfunction compareObjs(a, b) {\n    if (a == b)\n        return true;\n    for (let p in a)\n        if (a[p] !== b[p])\n            return false;\n    for (let p in b)\n        if (!(p in a))\n            return false;\n    return true;\n}\nclass WidgetType {\n    constructor(toDOM, spec) {\n        this.toDOM = toDOM;\n        this.spec = spec || noSpec;\n        this.side = this.spec.side || 0;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let { pos, deleted } = mapping.mapResult(span.from + oldOffset, this.side < 0 ? -1 : 1);\n        return deleted ? null : new Decoration(pos - offset, pos - offset, this);\n    }\n    valid() { return true; }\n    eq(other) {\n        return this == other ||\n            (other instanceof WidgetType &&\n                (this.spec.key && this.spec.key == other.spec.key ||\n                    this.toDOM == other.toDOM && compareObjs(this.spec, other.spec)));\n    }\n    destroy(node) {\n        if (this.spec.destroy)\n            this.spec.destroy(node);\n    }\n}\nclass InlineType {\n    constructor(attrs, spec) {\n        this.attrs = attrs;\n        this.spec = spec || noSpec;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let from = mapping.map(span.from + oldOffset, this.spec.inclusiveStart ? -1 : 1) - offset;\n        let to = mapping.map(span.to + oldOffset, this.spec.inclusiveEnd ? 1 : -1) - offset;\n        return from >= to ? null : new Decoration(from, to, this);\n    }\n    valid(_, span) { return span.from < span.to; }\n    eq(other) {\n        return this == other ||\n            (other instanceof InlineType && compareObjs(this.attrs, other.attrs) &&\n                compareObjs(this.spec, other.spec));\n    }\n    static is(span) { return span.type instanceof InlineType; }\n    destroy() { }\n}\nclass NodeType {\n    constructor(attrs, spec) {\n        this.attrs = attrs;\n        this.spec = spec || noSpec;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let from = mapping.mapResult(span.from + oldOffset, 1);\n        if (from.deleted)\n            return null;\n        let to = mapping.mapResult(span.to + oldOffset, -1);\n        if (to.deleted || to.pos <= from.pos)\n            return null;\n        return new Decoration(from.pos - offset, to.pos - offset, this);\n    }\n    valid(node, span) {\n        let { index, offset } = node.content.findIndex(span.from), child;\n        return offset == span.from && !(child = node.child(index)).isText && offset + child.nodeSize == span.to;\n    }\n    eq(other) {\n        return this == other ||\n            (other instanceof NodeType && compareObjs(this.attrs, other.attrs) &&\n                compareObjs(this.spec, other.spec));\n    }\n    destroy() { }\n}\n/**\nDecoration objects can be provided to the view through the\n[`decorations` prop](https://prosemirror.net/docs/ref/#view.EditorProps.decorations). They come in\nseveral variants\u2014see the static members of this class for details.\n*/\nclass Decoration {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start position of the decoration.\n    */\n    from, \n    /**\n    The end position. Will be the same as `from` for [widget\n    decorations](https://prosemirror.net/docs/ref/#view.Decoration^widget).\n    */\n    to, \n    /**\n    @internal\n    */\n    type) {\n        this.from = from;\n        this.to = to;\n        this.type = type;\n    }\n    /**\n    @internal\n    */\n    copy(from, to) {\n        return new Decoration(from, to, this.type);\n    }\n    /**\n    @internal\n    */\n    eq(other, offset = 0) {\n        return this.type.eq(other.type) && this.from + offset == other.from && this.to + offset == other.to;\n    }\n    /**\n    @internal\n    */\n    map(mapping, offset, oldOffset) {\n        return this.type.map(mapping, this, offset, oldOffset);\n    }\n    /**\n    Creates a widget decoration, which is a DOM node that's shown in\n    the document at the given position. It is recommended that you\n    delay rendering the widget by passing a function that will be\n    called when the widget is actually drawn in a view, but you can\n    also directly pass a DOM node. `getPos` can be used to find the\n    widget's current document position.\n    */\n    static widget(pos, toDOM, spec) {\n        return new Decoration(pos, pos, new WidgetType(toDOM, spec));\n    }\n    /**\n    Creates an inline decoration, which adds the given attributes to\n    each inline node between `from` and `to`.\n    */\n    static inline(from, to, attrs, spec) {\n        return new Decoration(from, to, new InlineType(attrs, spec));\n    }\n    /**\n    Creates a node decoration. `from` and `to` should point precisely\n    before and after a node in the document. That node, and only that\n    node, will receive the given attributes.\n    */\n    static node(from, to, attrs, spec) {\n        return new Decoration(from, to, new NodeType(attrs, spec));\n    }\n    /**\n    The spec provided when creating this decoration. Can be useful\n    if you've stored extra information in that object.\n    */\n    get spec() { return this.type.spec; }\n    /**\n    @internal\n    */\n    get inline() { return this.type instanceof InlineType; }\n    /**\n    @internal\n    */\n    get widget() { return this.type instanceof WidgetType; }\n}\nconst none = [], noSpec = {};\n/**\nA collection of [decorations](https://prosemirror.net/docs/ref/#view.Decoration), organized in such\na way that the drawing algorithm can efficiently use and compare\nthem. This is a persistent data structure\u2014it is not modified,\nupdates create a new value.\n*/\nclass DecorationSet {\n    /**\n    @internal\n    */\n    constructor(local, children) {\n        this.local = local.length ? local : none;\n        this.children = children.length ? children : none;\n    }\n    /**\n    Create a set of decorations, using the structure of the given\n    document. This will consume (modify) the `decorations` array, so\n    you must make a copy if you want need to preserve that.\n    */\n    static create(doc, decorations) {\n        return decorations.length ? buildTree(decorations, doc, 0, noSpec) : empty;\n    }\n    /**\n    Find all decorations in this set which touch the given range\n    (including decorations that start or end directly at the\n    boundaries) and match the given predicate on their spec. When\n    `start` and `end` are omitted, all decorations in the set are\n    considered. When `predicate` isn't given, all decorations are\n    assumed to match.\n    */\n    find(start, end, predicate) {\n        let result = [];\n        this.findInner(start == null ? 0 : start, end == null ? 1e9 : end, result, 0, predicate);\n        return result;\n    }\n    findInner(start, end, result, offset, predicate) {\n        for (let i = 0; i < this.local.length; i++) {\n            let span = this.local[i];\n            if (span.from <= end && span.to >= start && (!predicate || predicate(span.spec)))\n                result.push(span.copy(span.from + offset, span.to + offset));\n        }\n        for (let i = 0; i < this.children.length; i += 3) {\n            if (this.children[i] < end && this.children[i + 1] > start) {\n                let childOff = this.children[i] + 1;\n                this.children[i + 2].findInner(start - childOff, end - childOff, result, offset + childOff, predicate);\n            }\n        }\n    }\n    /**\n    Map the set of decorations in response to a change in the\n    document.\n    */\n    map(mapping, doc, options) {\n        if (this == empty || mapping.maps.length == 0)\n            return this;\n        return this.mapInner(mapping, doc, 0, 0, options || noSpec);\n    }\n    /**\n    @internal\n    */\n    mapInner(mapping, node, offset, oldOffset, options) {\n        let newLocal;\n        for (let i = 0; i < this.local.length; i++) {\n            let mapped = this.local[i].map(mapping, offset, oldOffset);\n            if (mapped && mapped.type.valid(node, mapped))\n                (newLocal || (newLocal = [])).push(mapped);\n            else if (options.onRemove)\n                options.onRemove(this.local[i].spec);\n        }\n        if (this.children.length)\n            return mapChildren(this.children, newLocal || [], mapping, node, offset, oldOffset, options);\n        else\n            return newLocal ? new DecorationSet(newLocal.sort(byPos), none) : empty;\n    }\n    /**\n    Add the given array of decorations to the ones in the set,\n    producing a new set. Consumes the `decorations` array. Needs\n    access to the current document to create the appropriate tree\n    structure.\n    */\n    add(doc, decorations) {\n        if (!decorations.length)\n            return this;\n        if (this == empty)\n            return DecorationSet.create(doc, decorations);\n        return this.addInner(doc, decorations, 0);\n    }\n    addInner(doc, decorations, offset) {\n        let children, childIndex = 0;\n        doc.forEach((childNode, childOffset) => {\n            let baseOffset = childOffset + offset, found;\n            if (!(found = takeSpansForNode(decorations, childNode, baseOffset)))\n                return;\n            if (!children)\n                children = this.children.slice();\n            while (childIndex < children.length && children[childIndex] < childOffset)\n                childIndex += 3;\n            if (children[childIndex] == childOffset)\n                children[childIndex + 2] = children[childIndex + 2].addInner(childNode, found, baseOffset + 1);\n            else\n                children.splice(childIndex, 0, childOffset, childOffset + childNode.nodeSize, buildTree(found, childNode, baseOffset + 1, noSpec));\n            childIndex += 3;\n        });\n        let local = moveSpans(childIndex ? withoutNulls(decorations) : decorations, -offset);\n        for (let i = 0; i < local.length; i++)\n            if (!local[i].type.valid(doc, local[i]))\n                local.splice(i--, 1);\n        return new DecorationSet(local.length ? this.local.concat(local).sort(byPos) : this.local, children || this.children);\n    }\n    /**\n    Create a new set that contains the decorations in this set, minus\n    the ones in the given array.\n    */\n    remove(decorations) {\n        if (decorations.length == 0 || this == empty)\n            return this;\n        return this.removeInner(decorations, 0);\n    }\n    removeInner(decorations, offset) {\n        let children = this.children, local = this.local;\n        for (let i = 0; i < children.length; i += 3) {\n            let found;\n            let from = children[i] + offset, to = children[i + 1] + offset;\n            for (let j = 0, span; j < decorations.length; j++)\n                if (span = decorations[j]) {\n                    if (span.from > from && span.to < to) {\n                        decorations[j] = null;\n                        (found || (found = [])).push(span);\n                    }\n                }\n            if (!found)\n                continue;\n            if (children == this.children)\n                children = this.children.slice();\n            let removed = children[i + 2].removeInner(found, from + 1);\n            if (removed != empty) {\n                children[i + 2] = removed;\n            }\n            else {\n                children.splice(i, 3);\n                i -= 3;\n            }\n        }\n        if (local.length)\n            for (let i = 0, span; i < decorations.length; i++)\n                if (span = decorations[i]) {\n                    for (let j = 0; j < local.length; j++)\n                        if (local[j].eq(span, offset)) {\n                            if (local == this.local)\n                                local = this.local.slice();\n                            local.splice(j--, 1);\n                        }\n                }\n        if (children == this.children && local == this.local)\n            return this;\n        return local.length || children.length ? new DecorationSet(local, children) : empty;\n    }\n    /**\n    @internal\n    */\n    forChild(offset, node) {\n        if (this == empty)\n            return this;\n        if (node.isLeaf)\n            return DecorationSet.empty;\n        let child, local;\n        for (let i = 0; i < this.children.length; i += 3)\n            if (this.children[i] >= offset) {\n                if (this.children[i] == offset)\n                    child = this.children[i + 2];\n                break;\n            }\n        let start = offset + 1, end = start + node.content.size;\n        for (let i = 0; i < this.local.length; i++) {\n            let dec = this.local[i];\n            if (dec.from < end && dec.to > start && (dec.type instanceof InlineType)) {\n                let from = Math.max(start, dec.from) - start, to = Math.min(end, dec.to) - start;\n                if (from < to)\n                    (local || (local = [])).push(dec.copy(from, to));\n            }\n        }\n        if (local) {\n            let localSet = new DecorationSet(local.sort(byPos), none);\n            return child ? new DecorationGroup([localSet, child]) : localSet;\n        }\n        return child || empty;\n    }\n    /**\n    @internal\n    */\n    eq(other) {\n        if (this == other)\n            return true;\n        if (!(other instanceof DecorationSet) ||\n            this.local.length != other.local.length ||\n            this.children.length != other.children.length)\n            return false;\n        for (let i = 0; i < this.local.length; i++)\n            if (!this.local[i].eq(other.local[i]))\n                return false;\n        for (let i = 0; i < this.children.length; i += 3)\n            if (this.children[i] != other.children[i] ||\n                this.children[i + 1] != other.children[i + 1] ||\n                !this.children[i + 2].eq(other.children[i + 2]))\n                return false;\n        return true;\n    }\n    /**\n    @internal\n    */\n    locals(node) {\n        return removeOverlap(this.localsInner(node));\n    }\n    /**\n    @internal\n    */\n    localsInner(node) {\n        if (this == empty)\n            return none;\n        if (node.inlineContent || !this.local.some(InlineType.is))\n            return this.local;\n        let result = [];\n        for (let i = 0; i < this.local.length; i++) {\n            if (!(this.local[i].type instanceof InlineType))\n                result.push(this.local[i]);\n        }\n        return result;\n    }\n}\n/**\nThe empty set of decorations.\n*/\nDecorationSet.empty = new DecorationSet([], []);\n/**\n@internal\n*/\nDecorationSet.removeOverlap = removeOverlap;\nconst empty = DecorationSet.empty;\n// An abstraction that allows the code dealing with decorations to\n// treat multiple DecorationSet objects as if it were a single object\n// with (a subset of) the same interface.\nclass DecorationGroup {\n    constructor(members) {\n        this.members = members;\n    }\n    map(mapping, doc) {\n        const mappedDecos = this.members.map(member => member.map(mapping, doc, noSpec));\n        return DecorationGroup.from(mappedDecos);\n    }\n    forChild(offset, child) {\n        if (child.isLeaf)\n            return DecorationSet.empty;\n        let found = [];\n        for (let i = 0; i < this.members.length; i++) {\n            let result = this.members[i].forChild(offset, child);\n            if (result == empty)\n                continue;\n            if (result instanceof DecorationGroup)\n                found = found.concat(result.members);\n            else\n                found.push(result);\n        }\n        return DecorationGroup.from(found);\n    }\n    eq(other) {\n        if (!(other instanceof DecorationGroup) ||\n            other.members.length != this.members.length)\n            return false;\n        for (let i = 0; i < this.members.length; i++)\n            if (!this.members[i].eq(other.members[i]))\n                return false;\n        return true;\n    }\n    locals(node) {\n        let result, sorted = true;\n        for (let i = 0; i < this.members.length; i++) {\n            let locals = this.members[i].localsInner(node);\n            if (!locals.length)\n                continue;\n            if (!result) {\n                result = locals;\n            }\n            else {\n                if (sorted) {\n                    result = result.slice();\n                    sorted = false;\n                }\n                for (let j = 0; j < locals.length; j++)\n                    result.push(locals[j]);\n            }\n        }\n        return result ? removeOverlap(sorted ? result : result.sort(byPos)) : none;\n    }\n    // Create a group for the given array of decoration sets, or return\n    // a single set when possible.\n    static from(members) {\n        switch (members.length) {\n            case 0: return empty;\n            case 1: return members[0];\n            default: return new DecorationGroup(members.every(m => m instanceof DecorationSet) ? members :\n                members.reduce((r, m) => r.concat(m instanceof DecorationSet ? m : m.members), []));\n        }\n    }\n}\nfunction mapChildren(oldChildren, newLocal, mapping, node, offset, oldOffset, options) {\n    let children = oldChildren.slice();\n    // Mark the children that are directly touched by changes, and\n    // move those that are after the changes.\n    for (let i = 0, baseOffset = oldOffset; i < mapping.maps.length; i++) {\n        let moved = 0;\n        mapping.maps[i].forEach((oldStart, oldEnd, newStart, newEnd) => {\n            let dSize = (newEnd - newStart) - (oldEnd - oldStart);\n            for (let i = 0; i < children.length; i += 3) {\n                let end = children[i + 1];\n                if (end < 0 || oldStart > end + baseOffset - moved)\n                    continue;\n                let start = children[i] + baseOffset - moved;\n                if (oldEnd >= start) {\n                    children[i + 1] = oldStart <= start ? -2 : -1;\n                }\n                else if (newStart >= offset && dSize) {\n                    children[i] += dSize;\n                    children[i + 1] += dSize;\n                }\n            }\n            moved += dSize;\n        });\n        baseOffset = mapping.maps[i].map(baseOffset, -1);\n    }\n    // Find the child nodes that still correspond to a single node,\n    // recursively call mapInner on them and update their positions.\n    let mustRebuild = false;\n    for (let i = 0; i < children.length; i += 3)\n        if (children[i + 1] < 0) { // Touched nodes\n            if (children[i + 1] == -2) {\n                mustRebuild = true;\n                children[i + 1] = -1;\n                continue;\n            }\n            let from = mapping.map(oldChildren[i] + oldOffset), fromLocal = from - offset;\n            if (fromLocal < 0 || fromLocal >= node.content.size) {\n                mustRebuild = true;\n                continue;\n            }\n            // Must read oldChildren because children was tagged with -1\n            let to = mapping.map(oldChildren[i + 1] + oldOffset, -1), toLocal = to - offset;\n            let { index, offset: childOffset } = node.content.findIndex(fromLocal);\n            let childNode = node.maybeChild(index);\n            if (childNode && childOffset == fromLocal && childOffset + childNode.nodeSize == toLocal) {\n                let mapped = children[i + 2]\n                    .mapInner(mapping, childNode, from + 1, oldChildren[i] + oldOffset + 1, options);\n                if (mapped != empty) {\n                    children[i] = fromLocal;\n                    children[i + 1] = toLocal;\n                    children[i + 2] = mapped;\n                }\n                else {\n                    children[i + 1] = -2;\n                    mustRebuild = true;\n                }\n            }\n            else {\n                mustRebuild = true;\n            }\n        }\n    // Remaining children must be collected and rebuilt into the appropriate structure\n    if (mustRebuild) {\n        let decorations = mapAndGatherRemainingDecorations(children, oldChildren, newLocal, mapping, offset, oldOffset, options);\n        let built = buildTree(decorations, node, 0, options);\n        newLocal = built.local;\n        for (let i = 0; i < children.length; i += 3)\n            if (children[i + 1] < 0) {\n                children.splice(i, 3);\n                i -= 3;\n            }\n        for (let i = 0, j = 0; i < built.children.length; i += 3) {\n            let from = built.children[i];\n            while (j < children.length && children[j] < from)\n                j += 3;\n            children.splice(j, 0, built.children[i], built.children[i + 1], built.children[i + 2]);\n        }\n    }\n    return new DecorationSet(newLocal.sort(byPos), children);\n}\nfunction moveSpans(spans, offset) {\n    if (!offset || !spans.length)\n        return spans;\n    let result = [];\n    for (let i = 0; i < spans.length; i++) {\n        let span = spans[i];\n        result.push(new Decoration(span.from + offset, span.to + offset, span.type));\n    }\n    return result;\n}\nfunction mapAndGatherRemainingDecorations(children, oldChildren, decorations, mapping, offset, oldOffset, options) {\n    // Gather all decorations from the remaining marked children\n    function gather(set, oldOffset) {\n        for (let i = 0; i < set.local.length; i++) {\n            let mapped = set.local[i].map(mapping, offset, oldOffset);\n            if (mapped)\n                decorations.push(mapped);\n            else if (options.onRemove)\n                options.onRemove(set.local[i].spec);\n        }\n        for (let i = 0; i < set.children.length; i += 3)\n            gather(set.children[i + 2], set.children[i] + oldOffset + 1);\n    }\n    for (let i = 0; i < children.length; i += 3)\n        if (children[i + 1] == -1)\n            gather(children[i + 2], oldChildren[i] + oldOffset + 1);\n    return decorations;\n}\nfunction takeSpansForNode(spans, node, offset) {\n    if (node.isLeaf)\n        return null;\n    let end = offset + node.nodeSize, found = null;\n    for (let i = 0, span; i < spans.length; i++) {\n        if ((span = spans[i]) && span.from > offset && span.to < end) {\n            (found || (found = [])).push(span);\n            spans[i] = null;\n        }\n    }\n    return found;\n}\nfunction withoutNulls(array) {\n    let result = [];\n    for (let i = 0; i < array.length; i++)\n        if (array[i] != null)\n            result.push(array[i]);\n    return result;\n}\n// Build up a tree that corresponds to a set of decorations. `offset`\n// is a base offset that should be subtracted from the `from` and `to`\n// positions in the spans (so that we don't have to allocate new spans\n// for recursive calls).\nfunction buildTree(spans, node, offset, options) {\n    let children = [], hasNulls = false;\n    node.forEach((childNode, localStart) => {\n        let found = takeSpansForNode(spans, childNode, localStart + offset);\n        if (found) {\n            hasNulls = true;\n            let subtree = buildTree(found, childNode, offset + localStart + 1, options);\n            if (subtree != empty)\n                children.push(localStart, localStart + childNode.nodeSize, subtree);\n        }\n    });\n    let locals = moveSpans(hasNulls ? withoutNulls(spans) : spans, -offset).sort(byPos);\n    for (let i = 0; i < locals.length; i++)\n        if (!locals[i].type.valid(node, locals[i])) {\n            if (options.onRemove)\n                options.onRemove(locals[i].spec);\n            locals.splice(i--, 1);\n        }\n    return locals.length || children.length ? new DecorationSet(locals, children) : empty;\n}\n// Used to sort decorations so that ones with a low start position\n// come first, and within a set with the same start position, those\n// with an smaller end position come first.\nfunction byPos(a, b) {\n    return a.from - b.from || a.to - b.to;\n}\n// Scan a sorted array of decorations for partially overlapping spans,\n// and split those so that only fully overlapping spans are left (to\n// make subsequent rendering easier). Will return the input array if\n// no partially overlapping spans are found (the common case).\nfunction removeOverlap(spans) {\n    let working = spans;\n    for (let i = 0; i < working.length - 1; i++) {\n        let span = working[i];\n        if (span.from != span.to)\n            for (let j = i + 1; j < working.length; j++) {\n                let next = working[j];\n                if (next.from == span.from) {\n                    if (next.to != span.to) {\n                        if (working == spans)\n                            working = spans.slice();\n                        // Followed by a partially overlapping larger span. Split that\n                        // span.\n                        working[j] = next.copy(next.from, span.to);\n                        insertAhead(working, j + 1, next.copy(span.to, next.to));\n                    }\n                    continue;\n                }\n                else {\n                    if (next.from < span.to) {\n                        if (working == spans)\n                            working = spans.slice();\n                        // The end of this one overlaps with a subsequent span. Split\n                        // this one.\n                        working[i] = span.copy(span.from, next.from);\n                        insertAhead(working, j, span.copy(next.from, span.to));\n                    }\n                    break;\n                }\n            }\n    }\n    return working;\n}\nfunction insertAhead(array, i, deco) {\n    while (i < array.length && byPos(deco, array[i]) > 0)\n        i++;\n    array.splice(i, 0, deco);\n}\n// Get the decorations associated with the current props of a view.\nfunction viewDecorations(view) {\n    let found = [];\n    view.someProp(\"decorations\", f => {\n        let result = f(view.state);\n        if (result && result != empty)\n            found.push(result);\n    });\n    if (view.cursorWrapper)\n        found.push(DecorationSet.create(view.state.doc, [view.cursorWrapper.deco]));\n    return DecorationGroup.from(found);\n}\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    characterDataOldValue: true,\n    attributes: true,\n    attributeOldValue: true,\n    subtree: true\n};\n// IE11 has very broken mutation observers, so we also listen to DOMCharacterDataModified\nconst useCharData = ie && ie_version <= 11;\nclass SelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    set(sel) {\n        this.anchorNode = sel.anchorNode;\n        this.anchorOffset = sel.anchorOffset;\n        this.focusNode = sel.focusNode;\n        this.focusOffset = sel.focusOffset;\n    }\n    clear() {\n        this.anchorNode = this.focusNode = null;\n    }\n    eq(sel) {\n        return sel.anchorNode == this.anchorNode && sel.anchorOffset == this.anchorOffset &&\n            sel.focusNode == this.focusNode && sel.focusOffset == this.focusOffset;\n    }\n}\nclass DOMObserver {\n    constructor(view, handleDOMChange) {\n        this.view = view;\n        this.handleDOMChange = handleDOMChange;\n        this.queue = [];\n        this.flushingSoon = -1;\n        this.observer = null;\n        this.currentSelection = new SelectionState;\n        this.onCharData = null;\n        this.suppressingSelectionUpdates = false;\n        this.observer = window.MutationObserver &&\n            new window.MutationObserver(mutations => {\n                for (let i = 0; i < mutations.length; i++)\n                    this.queue.push(mutations[i]);\n                // IE11 will sometimes (on backspacing out a single character\n                // text node after a BR node) call the observer callback\n                // before actually updating the DOM, which will cause\n                // ProseMirror to miss the change (see #930)\n                if (ie && ie_version <= 11 && mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                    this.flushSoon();\n                else\n                    this.flush();\n            });\n        if (useCharData) {\n            this.onCharData = e => {\n                this.queue.push({ target: e.target, type: \"characterData\", oldValue: e.prevValue });\n                this.flushSoon();\n            };\n        }\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n    }\n    flushSoon() {\n        if (this.flushingSoon < 0)\n            this.flushingSoon = window.setTimeout(() => { this.flushingSoon = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.flushingSoon > -1) {\n            window.clearTimeout(this.flushingSoon);\n            this.flushingSoon = -1;\n            this.flush();\n        }\n    }\n    start() {\n        if (this.observer) {\n            this.observer.takeRecords();\n            this.observer.observe(this.view.dom, observeOptions);\n        }\n        if (this.onCharData)\n            this.view.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.connectSelection();\n    }\n    stop() {\n        if (this.observer) {\n            let take = this.observer.takeRecords();\n            if (take.length) {\n                for (let i = 0; i < take.length; i++)\n                    this.queue.push(take[i]);\n                window.setTimeout(() => this.flush(), 20);\n            }\n            this.observer.disconnect();\n        }\n        if (this.onCharData)\n            this.view.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.disconnectSelection();\n    }\n    connectSelection() {\n        this.view.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    disconnectSelection() {\n        this.view.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    suppressSelectionUpdates() {\n        this.suppressingSelectionUpdates = true;\n        setTimeout(() => this.suppressingSelectionUpdates = false, 50);\n    }\n    onSelectionChange() {\n        if (!hasFocusAndSelection(this.view))\n            return;\n        if (this.suppressingSelectionUpdates)\n            return selectionToDOM(this.view);\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        if (ie && ie_version <= 11 && !this.view.state.selection.empty) {\n            let sel = this.view.domSelectionRange();\n            // Selection.isCollapsed isn't reliable on IE\n            if (sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n                return this.flushSoon();\n        }\n        this.flush();\n    }\n    setCurSelection() {\n        this.currentSelection.set(this.view.domSelectionRange());\n    }\n    ignoreSelectionChange(sel) {\n        if (!sel.focusNode)\n            return true;\n        let ancestors = new Set, container;\n        for (let scan = sel.focusNode; scan; scan = parentNode(scan))\n            ancestors.add(scan);\n        for (let scan = sel.anchorNode; scan; scan = parentNode(scan))\n            if (ancestors.has(scan)) {\n                container = scan;\n                break;\n            }\n        let desc = container && this.view.docView.nearestDesc(container);\n        if (desc && desc.ignoreMutation({\n            type: \"selection\",\n            target: container.nodeType == 3 ? container.parentNode : container\n        })) {\n            this.setCurSelection();\n            return true;\n        }\n    }\n    pendingRecords() {\n        if (this.observer)\n            for (let mut of this.observer.takeRecords())\n                this.queue.push(mut);\n        return this.queue;\n    }\n    flush() {\n        let { view } = this;\n        if (!view.docView || this.flushingSoon > -1)\n            return;\n        let mutations = this.pendingRecords();\n        if (mutations.length)\n            this.queue = [];\n        let sel = view.domSelectionRange();\n        let newSel = !this.suppressingSelectionUpdates && !this.currentSelection.eq(sel) && hasFocusAndSelection(view) && !this.ignoreSelectionChange(sel);\n        let from = -1, to = -1, typeOver = false, added = [];\n        if (view.editable) {\n            for (let i = 0; i < mutations.length; i++) {\n                let result = this.registerMutation(mutations[i], added);\n                if (result) {\n                    from = from < 0 ? result.from : Math.min(result.from, from);\n                    to = to < 0 ? result.to : Math.max(result.to, to);\n                    if (result.typeOver)\n                        typeOver = true;\n                }\n            }\n        }\n        if (gecko && added.length > 1) {\n            let brs = added.filter(n => n.nodeName == \"BR\");\n            if (brs.length == 2) {\n                let a = brs[0], b = brs[1];\n                if (a.parentNode && a.parentNode.parentNode == b.parentNode)\n                    b.remove();\n                else\n                    a.remove();\n            }\n        }\n        let readSel = null;\n        // If it looks like the browser has reset the selection to the\n        // start of the document after focus, restore the selection from\n        // the state\n        if (from < 0 && newSel && view.input.lastFocus > Date.now() - 200 &&\n            Math.max(view.input.lastTouch, view.input.lastClick.time) < Date.now() - 300 &&\n            selectionCollapsed(sel) && (readSel = selectionFromDOM(view)) &&\n            readSel.eq(Selection.near(view.state.doc.resolve(0), 1))) {\n            view.input.lastFocus = 0;\n            selectionToDOM(view);\n            this.currentSelection.set(sel);\n            view.scrollToSelection();\n        }\n        else if (from > -1 || newSel) {\n            if (from > -1) {\n                view.docView.markDirty(from, to);\n                checkCSS(view);\n            }\n            this.handleDOMChange(from, to, typeOver, added);\n            if (view.docView && view.docView.dirty)\n                view.updateState(view.state);\n            else if (!this.currentSelection.eq(sel))\n                selectionToDOM(view);\n            this.currentSelection.set(sel);\n        }\n    }\n    registerMutation(mut, added) {\n        // Ignore mutations inside nodes that were already noted as inserted\n        if (added.indexOf(mut.target) > -1)\n            return null;\n        let desc = this.view.docView.nearestDesc(mut.target);\n        if (mut.type == \"attributes\" &&\n            (desc == this.view.docView || mut.attributeName == \"contenteditable\" ||\n                // Firefox sometimes fires spurious events for null/empty styles\n                (mut.attributeName == \"style\" && !mut.oldValue && !mut.target.getAttribute(\"style\"))))\n            return null;\n        if (!desc || desc.ignoreMutation(mut))\n            return null;\n        if (mut.type == \"childList\") {\n            for (let i = 0; i < mut.addedNodes.length; i++)\n                added.push(mut.addedNodes[i]);\n            if (desc.contentDOM && desc.contentDOM != desc.dom && !desc.contentDOM.contains(mut.target))\n                return { from: desc.posBefore, to: desc.posAfter };\n            let prev = mut.previousSibling, next = mut.nextSibling;\n            if (ie && ie_version <= 11 && mut.addedNodes.length) {\n                // IE11 gives us incorrect next/prev siblings for some\n                // insertions, so if there are added nodes, recompute those\n                for (let i = 0; i < mut.addedNodes.length; i++) {\n                    let { previousSibling, nextSibling } = mut.addedNodes[i];\n                    if (!previousSibling || Array.prototype.indexOf.call(mut.addedNodes, previousSibling) < 0)\n                        prev = previousSibling;\n                    if (!nextSibling || Array.prototype.indexOf.call(mut.addedNodes, nextSibling) < 0)\n                        next = nextSibling;\n                }\n            }\n            let fromOffset = prev && prev.parentNode == mut.target\n                ? domIndex(prev) + 1 : 0;\n            let from = desc.localPosFromDOM(mut.target, fromOffset, -1);\n            let toOffset = next && next.parentNode == mut.target\n                ? domIndex(next) : mut.target.childNodes.length;\n            let to = desc.localPosFromDOM(mut.target, toOffset, 1);\n            return { from, to };\n        }\n        else if (mut.type == \"attributes\") {\n            return { from: desc.posAtStart - desc.border, to: desc.posAtEnd + desc.border };\n        }\n        else { // \"characterData\"\n            return {\n                from: desc.posAtStart,\n                to: desc.posAtEnd,\n                // An event was generated for a text change that didn't change\n                // any text. Mark the dom change to fall back to assuming the\n                // selection was typed over with an identical value if it can't\n                // find another change.\n                typeOver: mut.target.nodeValue == mut.oldValue\n            };\n        }\n    }\n}\nlet cssChecked = new WeakMap();\nlet cssCheckWarned = false;\nfunction checkCSS(view) {\n    if (cssChecked.has(view))\n        return;\n    cssChecked.set(view, null);\n    if (['normal', 'nowrap', 'pre-line'].indexOf(getComputedStyle(view.dom).whiteSpace) !== -1) {\n        view.requiresGeckoHackNode = gecko;\n        if (cssCheckWarned)\n            return;\n        console[\"warn\"](\"ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.\");\n        cssCheckWarned = true;\n    }\n}\n// Used to work around a Safari Selection/shadow DOM bug\n// Based on https://github.com/codemirror/dev/issues/414 fix\nfunction safariShadowSelectionRange(view) {\n    let found;\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    // Because Safari (at least in 2018-2022) doesn't provide regular\n    // access to the selection inside a shadowRoot, we have to perform a\n    // ridiculous hack to get at it\u2014using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    view.dom.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.dom.removeEventListener(\"beforeinput\", read, true);\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let currentAnchor = view.domAtPos(view.state.selection.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(currentAnchor.node, currentAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\n// Note that all referencing and parsing is done with the\n// start-of-operation selection and document, since that's the one\n// that the DOM represents. If any changes came in in the meantime,\n// the modification is mapped over those before it is applied, in\n// readDOMChange.\nfunction parseBetween(view, from_, to_) {\n    let { node: parent, fromOffset, toOffset, from, to } = view.docView.parseRange(from_, to_);\n    let domSel = view.domSelectionRange();\n    let find;\n    let anchor = domSel.anchorNode;\n    if (anchor && view.dom.contains(anchor.nodeType == 1 ? anchor : anchor.parentNode)) {\n        find = [{ node: anchor, offset: domSel.anchorOffset }];\n        if (!selectionCollapsed(domSel))\n            find.push({ node: domSel.focusNode, offset: domSel.focusOffset });\n    }\n    // Work around issue in Chrome where backspacing sometimes replaces\n    // the deleted content with a random BR node (issues #799, #831)\n    if (chrome && view.input.lastKeyCode === 8) {\n        for (let off = toOffset; off > fromOffset; off--) {\n            let node = parent.childNodes[off - 1], desc = node.pmViewDesc;\n            if (node.nodeName == \"BR\" && !desc) {\n                toOffset = off;\n                break;\n            }\n            if (!desc || desc.size)\n                break;\n        }\n    }\n    let startDoc = view.state.doc;\n    let parser = view.someProp(\"domParser\") || DOMParser.fromSchema(view.state.schema);\n    let $from = startDoc.resolve(from);\n    let sel = null, doc = parser.parse(parent, {\n        topNode: $from.parent,\n        topMatch: $from.parent.contentMatchAt($from.index()),\n        topOpen: true,\n        from: fromOffset,\n        to: toOffset,\n        preserveWhitespace: $from.parent.type.whitespace == \"pre\" ? \"full\" : true,\n        findPositions: find,\n        ruleFromNode,\n        context: $from\n    });\n    if (find && find[0].pos != null) {\n        let anchor = find[0].pos, head = find[1] && find[1].pos;\n        if (head == null)\n            head = anchor;\n        sel = { anchor: anchor + from, head: head + from };\n    }\n    return { doc, sel, from, to };\n}\nfunction ruleFromNode(dom) {\n    let desc = dom.pmViewDesc;\n    if (desc) {\n        return desc.parseRule();\n    }\n    else if (dom.nodeName == \"BR\" && dom.parentNode) {\n        // Safari replaces the list item or table cell with a BR\n        // directly in the list node (?!) if you delete the last\n        // character in a list item or table cell (#708, #862)\n        if (safari && /^(ul|ol)$/i.test(dom.parentNode.nodeName)) {\n            let skip = document.createElement(\"div\");\n            skip.appendChild(document.createElement(\"li\"));\n            return { skip };\n        }\n        else if (dom.parentNode.lastChild == dom || safari && /^(tr|table)$/i.test(dom.parentNode.nodeName)) {\n            return { ignore: true };\n        }\n    }\n    else if (dom.nodeName == \"IMG\" && dom.getAttribute(\"mark-placeholder\")) {\n        return { ignore: true };\n    }\n    return null;\n}\nconst isInline = /^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;\nfunction readDOMChange(view, from, to, typeOver, addedNodes) {\n    let compositionID = view.input.compositionPendingChanges || (view.composing ? view.input.compositionID : 0);\n    view.input.compositionPendingChanges = 0;\n    if (from < 0) {\n        let origin = view.input.lastSelectionTime > Date.now() - 50 ? view.input.lastSelectionOrigin : null;\n        let newSel = selectionFromDOM(view, origin);\n        if (newSel && !view.state.selection.eq(newSel)) {\n            if (chrome && android &&\n                view.input.lastKeyCode === 13 && Date.now() - 100 < view.input.lastKeyCodeTime &&\n                view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\"))))\n                return;\n            let tr = view.state.tr.setSelection(newSel);\n            if (origin == \"pointer\")\n                tr.setMeta(\"pointer\", true);\n            else if (origin == \"key\")\n                tr.scrollIntoView();\n            if (compositionID)\n                tr.setMeta(\"composition\", compositionID);\n            view.dispatch(tr);\n        }\n        return;\n    }\n    let $before = view.state.doc.resolve(from);\n    let shared = $before.sharedDepth(to);\n    from = $before.before(shared + 1);\n    to = view.state.doc.resolve(to).after(shared + 1);\n    let sel = view.state.selection;\n    let parse = parseBetween(view, from, to);\n    let doc = view.state.doc, compare = doc.slice(parse.from, parse.to);\n    let preferredPos, preferredSide;\n    // Prefer anchoring to end when Backspace is pressed\n    if (view.input.lastKeyCode === 8 && Date.now() - 100 < view.input.lastKeyCodeTime) {\n        preferredPos = view.state.selection.to;\n        preferredSide = \"end\";\n    }\n    else {\n        preferredPos = view.state.selection.from;\n        preferredSide = \"start\";\n    }\n    view.input.lastKeyCode = null;\n    let change = findDiff(compare.content, parse.doc.content, parse.from, preferredPos, preferredSide);\n    if ((ios && view.input.lastIOSEnter > Date.now() - 225 || android) &&\n        addedNodes.some(n => n.nodeType == 1 && !isInline.test(n.nodeName)) &&\n        (!change || change.endA >= change.endB) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")))) {\n        view.input.lastIOSEnter = 0;\n        return;\n    }\n    if (!change) {\n        if (typeOver && sel instanceof TextSelection && !sel.empty && sel.$head.sameParent(sel.$anchor) &&\n            !view.composing && !(parse.sel && parse.sel.anchor != parse.sel.head)) {\n            change = { start: sel.from, endA: sel.to, endB: sel.to };\n        }\n        else {\n            if (parse.sel) {\n                let sel = resolveSelection(view, view.state.doc, parse.sel);\n                if (sel && !sel.eq(view.state.selection)) {\n                    let tr = view.state.tr.setSelection(sel);\n                    if (compositionID)\n                        tr.setMeta(\"composition\", compositionID);\n                    view.dispatch(tr);\n                }\n            }\n            return;\n        }\n    }\n    // Chrome sometimes leaves the cursor before the inserted text when\n    // composing after a cursor wrapper. This moves it forward.\n    if (chrome && view.cursorWrapper && parse.sel && parse.sel.anchor == view.cursorWrapper.deco.from &&\n        parse.sel.head == parse.sel.anchor) {\n        let size = change.endB - change.start;\n        parse.sel = { anchor: parse.sel.anchor + size, head: parse.sel.anchor + size };\n    }\n    view.input.domChangeCount++;\n    // Handle the case where overwriting a selection by typing matches\n    // the start or end of the selected content, creating a change\n    // that's smaller than what was actually overwritten.\n    if (view.state.selection.from < view.state.selection.to &&\n        change.start == change.endB &&\n        view.state.selection instanceof TextSelection) {\n        if (change.start > view.state.selection.from && change.start <= view.state.selection.from + 2 &&\n            view.state.selection.from >= parse.from) {\n            change.start = view.state.selection.from;\n        }\n        else if (change.endA < view.state.selection.to && change.endA >= view.state.selection.to - 2 &&\n            view.state.selection.to <= parse.to) {\n            change.endB += (view.state.selection.to - change.endA);\n            change.endA = view.state.selection.to;\n        }\n    }\n    // IE11 will insert a non-breaking space _ahead_ of the space after\n    // the cursor space when adding a space before another space. When\n    // that happened, adjust the change to cover the space instead.\n    if (ie && ie_version <= 11 && change.endB == change.start + 1 &&\n        change.endA == change.start && change.start > parse.from &&\n        parse.doc.textBetween(change.start - parse.from - 1, change.start - parse.from + 1) == \" \\u00a0\") {\n        change.start--;\n        change.endA--;\n        change.endB--;\n    }\n    let $from = parse.doc.resolveNoCache(change.start - parse.from);\n    let $to = parse.doc.resolveNoCache(change.endB - parse.from);\n    let $fromA = doc.resolve(change.start);\n    let inlineChange = $from.sameParent($to) && $from.parent.inlineContent && $fromA.end() >= change.endA;\n    let nextSel;\n    // If this looks like the effect of pressing Enter (or was recorded\n    // as being an iOS enter press), just dispatch an Enter key instead.\n    if (((ios && view.input.lastIOSEnter > Date.now() - 225 &&\n        (!inlineChange || addedNodes.some(n => n.nodeName == \"DIV\" || n.nodeName == \"P\"))) ||\n        (!inlineChange && $from.pos < parse.doc.content.size && !$from.sameParent($to) &&\n            (nextSel = Selection.findFrom(parse.doc.resolve($from.pos + 1), 1, true)) &&\n            nextSel.head == $to.pos)) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")))) {\n        view.input.lastIOSEnter = 0;\n        return;\n    }\n    // Same for backspace\n    if (view.state.selection.anchor > change.start &&\n        looksLikeJoin(doc, change.start, change.endA, $from, $to) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(8, \"Backspace\")))) {\n        if (android && chrome)\n            view.domObserver.suppressSelectionUpdates(); // #820\n        return;\n    }\n    // Chrome Android will occasionally, during composition, delete the\n    // entire composition and then immediately insert it again. This is\n    // used to detect that situation.\n    if (chrome && android && change.endB == change.start)\n        view.input.lastAndroidDelete = Date.now();\n    // This tries to detect Android virtual keyboard\n    // enter-and-pick-suggestion action. That sometimes (see issue\n    // #1059) first fires a DOM mutation, before moving the selection to\n    // the newly created block. And then, because ProseMirror cleans up\n    // the DOM selection, it gives up moving the selection entirely,\n    // leaving the cursor in the wrong place. When that happens, we drop\n    // the new paragraph from the initial change, and fire a simulated\n    // enter key afterwards.\n    if (android && !inlineChange && $from.start() != $to.start() && $to.parentOffset == 0 && $from.depth == $to.depth &&\n        parse.sel && parse.sel.anchor == parse.sel.head && parse.sel.head == change.endA) {\n        change.endB -= 2;\n        $to = parse.doc.resolveNoCache(change.endB - parse.from);\n        setTimeout(() => {\n            view.someProp(\"handleKeyDown\", function (f) { return f(view, keyEvent(13, \"Enter\")); });\n        }, 20);\n    }\n    let chFrom = change.start, chTo = change.endA;\n    let tr, storedMarks, markChange;\n    if (inlineChange) {\n        if ($from.pos == $to.pos) { // Deletion\n            // IE11 sometimes weirdly moves the DOM selection around after\n            // backspacing out the first element in a textblock\n            if (ie && ie_version <= 11 && $from.parentOffset == 0) {\n                view.domObserver.suppressSelectionUpdates();\n                setTimeout(() => selectionToDOM(view), 20);\n            }\n            tr = view.state.tr.delete(chFrom, chTo);\n            storedMarks = doc.resolve(change.start).marksAcross(doc.resolve(change.endA));\n        }\n        else if ( // Adding or removing a mark\n        change.endA == change.endB &&\n            (markChange = isMarkChange($from.parent.content.cut($from.parentOffset, $to.parentOffset), $fromA.parent.content.cut($fromA.parentOffset, change.endA - $fromA.start())))) {\n            tr = view.state.tr;\n            if (markChange.type == \"add\")\n                tr.addMark(chFrom, chTo, markChange.mark);\n            else\n                tr.removeMark(chFrom, chTo, markChange.mark);\n        }\n        else if ($from.parent.child($from.index()).isText && $from.index() == $to.index() - ($to.textOffset ? 0 : 1)) {\n            // Both positions in the same text node -- simply insert text\n            let text = $from.parent.textBetween($from.parentOffset, $to.parentOffset);\n            if (view.someProp(\"handleTextInput\", f => f(view, chFrom, chTo, text)))\n                return;\n            tr = view.state.tr.insertText(text, chFrom, chTo);\n        }\n    }\n    if (!tr)\n        tr = view.state.tr.replace(chFrom, chTo, parse.doc.slice(change.start - parse.from, change.endB - parse.from));\n    if (parse.sel) {\n        let sel = resolveSelection(view, tr.doc, parse.sel);\n        // Chrome Android will sometimes, during composition, report the\n        // selection in the wrong place. If it looks like that is\n        // happening, don't update the selection.\n        // Edge just doesn't move the cursor forward when you start typing\n        // in an empty block or between br nodes.\n        if (sel && !(chrome && android && view.composing && sel.empty &&\n            (change.start != change.endB || view.input.lastAndroidDelete < Date.now() - 100) &&\n            (sel.head == chFrom || sel.head == tr.mapping.map(chTo) - 1) ||\n            ie && sel.empty && sel.head == chFrom))\n            tr.setSelection(sel);\n    }\n    if (storedMarks)\n        tr.ensureMarks(storedMarks);\n    if (compositionID)\n        tr.setMeta(\"composition\", compositionID);\n    view.dispatch(tr.scrollIntoView());\n}\nfunction resolveSelection(view, doc, parsedSel) {\n    if (Math.max(parsedSel.anchor, parsedSel.head) > doc.content.size)\n        return null;\n    return selectionBetween(view, doc.resolve(parsedSel.anchor), doc.resolve(parsedSel.head));\n}\n// Given two same-length, non-empty fragments of inline content,\n// determine whether the first could be created from the second by\n// removing or adding a single mark type.\nfunction isMarkChange(cur, prev) {\n    let curMarks = cur.firstChild.marks, prevMarks = prev.firstChild.marks;\n    let added = curMarks, removed = prevMarks, type, mark, update;\n    for (let i = 0; i < prevMarks.length; i++)\n        added = prevMarks[i].removeFromSet(added);\n    for (let i = 0; i < curMarks.length; i++)\n        removed = curMarks[i].removeFromSet(removed);\n    if (added.length == 1 && removed.length == 0) {\n        mark = added[0];\n        type = \"add\";\n        update = (node) => node.mark(mark.addToSet(node.marks));\n    }\n    else if (added.length == 0 && removed.length == 1) {\n        mark = removed[0];\n        type = \"remove\";\n        update = (node) => node.mark(mark.removeFromSet(node.marks));\n    }\n    else {\n        return null;\n    }\n    let updated = [];\n    for (let i = 0; i < prev.childCount; i++)\n        updated.push(update(prev.child(i)));\n    if (Fragment.from(updated).eq(cur))\n        return { mark, type };\n}\nfunction looksLikeJoin(old, start, end, $newStart, $newEnd) {\n    if (!$newStart.parent.isTextblock ||\n        // The content must have shrunk\n        end - start <= $newEnd.pos - $newStart.pos ||\n        // newEnd must point directly at or after the end of the block that newStart points into\n        skipClosingAndOpening($newStart, true, false) < $newEnd.pos)\n        return false;\n    let $start = old.resolve(start);\n    // Start must be at the end of a block\n    if ($start.parentOffset < $start.parent.content.size || !$start.parent.isTextblock)\n        return false;\n    let $next = old.resolve(skipClosingAndOpening($start, true, true));\n    // The next textblock must start before end and end near it\n    if (!$next.parent.isTextblock || $next.pos > end ||\n        skipClosingAndOpening($next, true, false) < end)\n        return false;\n    // The fragments after the join point must match\n    return $newStart.parent.content.cut($newStart.parentOffset).eq($next.parent.content);\n}\nfunction skipClosingAndOpening($pos, fromEnd, mayOpen) {\n    let depth = $pos.depth, end = fromEnd ? $pos.end() : $pos.pos;\n    while (depth > 0 && (fromEnd || $pos.indexAfter(depth) == $pos.node(depth).childCount)) {\n        depth--;\n        end++;\n        fromEnd = false;\n    }\n    if (mayOpen) {\n        let next = $pos.node(depth).maybeChild($pos.indexAfter(depth));\n        while (next && !next.isLeaf) {\n            next = next.firstChild;\n            end++;\n        }\n    }\n    return end;\n}\nfunction findDiff(a, b, pos, preferredPos, preferredSide) {\n    let start = a.findDiffStart(b, pos);\n    if (start == null)\n        return null;\n    let { a: endA, b: endB } = a.findDiffEnd(b, pos + a.size, pos + b.size);\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, start - Math.min(endA, endB));\n        preferredPos -= endA + adjust - start;\n    }\n    if (endA < start && a.size < b.size) {\n        let move = preferredPos <= start && preferredPos >= endA ? start - preferredPos : 0;\n        start -= move;\n        endB = start + (endB - endA);\n        endA = start;\n    }\n    else if (endB < start) {\n        let move = preferredPos <= start && preferredPos >= endB ? start - preferredPos : 0;\n        start -= move;\n        endA = start + (endA - endB);\n        endB = start;\n    }\n    return { start, endA, endB };\n}\n\n/**\n@internal\n*/\nconst __serializeForClipboard = serializeForClipboard;\n/**\n@internal\n*/\nconst __parseFromClipboard = parseFromClipboard;\n/**\n@internal\n*/\nconst __endComposition = endComposition;\n/**\nAn editor view manages the DOM structure that represents an\neditable document. Its state and behavior are determined by its\n[props](https://prosemirror.net/docs/ref/#view.DirectEditorProps).\n*/\nclass EditorView {\n    /**\n    Create a view. `place` may be a DOM node that the editor should\n    be appended to, a function that will place it into the document,\n    or an object whose `mount` property holds the node to use as the\n    document container. If it is `null`, the editor will not be\n    added to the document.\n    */\n    constructor(place, props) {\n        this._root = null;\n        /**\n        @internal\n        */\n        this.focused = false;\n        /**\n        Kludge used to work around a Chrome bug @internal\n        */\n        this.trackWrites = null;\n        this.mounted = false;\n        /**\n        @internal\n        */\n        this.markCursor = null;\n        /**\n        @internal\n        */\n        this.cursorWrapper = null;\n        /**\n        @internal\n        */\n        this.lastSelectedViewDesc = undefined;\n        /**\n        @internal\n        */\n        this.input = new InputState;\n        this.prevDirectPlugins = [];\n        this.pluginViews = [];\n        /**\n        Holds `true` when a hack node is needed in Firefox to prevent the\n        [space is eaten issue](https://github.com/ProseMirror/prosemirror/issues/651)\n        @internal\n        */\n        this.requiresGeckoHackNode = false;\n        /**\n        When editor content is being dragged, this object contains\n        information about the dragged slice and whether it is being\n        copied or moved. At any other time, it is null.\n        */\n        this.dragging = null;\n        this._props = props;\n        this.state = props.state;\n        this.directPlugins = props.plugins || [];\n        this.directPlugins.forEach(checkStateComponent);\n        this.dispatch = this.dispatch.bind(this);\n        this.dom = (place && place.mount) || document.createElement(\"div\");\n        if (place) {\n            if (place.appendChild)\n                place.appendChild(this.dom);\n            else if (typeof place == \"function\")\n                place(this.dom);\n            else if (place.mount)\n                this.mounted = true;\n        }\n        this.editable = getEditable(this);\n        updateCursorWrapper(this);\n        this.nodeViews = buildNodeViews(this);\n        this.docView = docViewDesc(this.state.doc, computeDocDeco(this), viewDecorations(this), this.dom, this);\n        this.domObserver = new DOMObserver(this, (from, to, typeOver, added) => readDOMChange(this, from, to, typeOver, added));\n        this.domObserver.start();\n        initInput(this);\n        this.updatePluginViews();\n    }\n    /**\n    Holds `true` when a\n    [composition](https://w3c.github.io/uievents/#events-compositionevents)\n    is active.\n    */\n    get composing() { return this.input.composing; }\n    /**\n    The view's current [props](https://prosemirror.net/docs/ref/#view.EditorProps).\n    */\n    get props() {\n        if (this._props.state != this.state) {\n            let prev = this._props;\n            this._props = {};\n            for (let name in prev)\n                this._props[name] = prev[name];\n            this._props.state = this.state;\n        }\n        return this._props;\n    }\n    /**\n    Update the view's props. Will immediately cause an update to\n    the DOM.\n    */\n    update(props) {\n        if (props.handleDOMEvents != this._props.handleDOMEvents)\n            ensureListeners(this);\n        let prevProps = this._props;\n        this._props = props;\n        if (props.plugins) {\n            props.plugins.forEach(checkStateComponent);\n            this.directPlugins = props.plugins;\n        }\n        this.updateStateInner(props.state, prevProps);\n    }\n    /**\n    Update the view by updating existing props object with the object\n    given as argument. Equivalent to `view.update(Object.assign({},\n    view.props, props))`.\n    */\n    setProps(props) {\n        let updated = {};\n        for (let name in this._props)\n            updated[name] = this._props[name];\n        updated.state = this.state;\n        for (let name in props)\n            updated[name] = props[name];\n        this.update(updated);\n    }\n    /**\n    Update the editor's `state` prop, without touching any of the\n    other props.\n    */\n    updateState(state) {\n        this.updateStateInner(state, this._props);\n    }\n    updateStateInner(state, prevProps) {\n        let prev = this.state, redraw = false, updateSel = false;\n        // When stored marks are added, stop composition, so that they can\n        // be displayed.\n        if (state.storedMarks && this.composing) {\n            clearComposition(this);\n            updateSel = true;\n        }\n        this.state = state;\n        let pluginsChanged = prev.plugins != state.plugins || this._props.plugins != prevProps.plugins;\n        if (pluginsChanged || this._props.plugins != prevProps.plugins || this._props.nodeViews != prevProps.nodeViews) {\n            let nodeViews = buildNodeViews(this);\n            if (changedNodeViews(nodeViews, this.nodeViews)) {\n                this.nodeViews = nodeViews;\n                redraw = true;\n            }\n        }\n        if (pluginsChanged || prevProps.handleDOMEvents != this._props.handleDOMEvents) {\n            ensureListeners(this);\n        }\n        this.editable = getEditable(this);\n        updateCursorWrapper(this);\n        let innerDeco = viewDecorations(this), outerDeco = computeDocDeco(this);\n        let scroll = prev.plugins != state.plugins && !prev.doc.eq(state.doc) ? \"reset\"\n            : state.scrollToSelection > prev.scrollToSelection ? \"to selection\" : \"preserve\";\n        let updateDoc = redraw || !this.docView.matchesNode(state.doc, outerDeco, innerDeco);\n        if (updateDoc || !state.selection.eq(prev.selection))\n            updateSel = true;\n        let oldScrollPos = scroll == \"preserve\" && updateSel && this.dom.style.overflowAnchor == null && storeScrollPos(this);\n        if (updateSel) {\n            this.domObserver.stop();\n            // Work around an issue in Chrome, IE, and Edge where changing\n            // the DOM around an active selection puts it into a broken\n            // state where the thing the user sees differs from the\n            // selection reported by the Selection object (#710, #973,\n            // #1011, #1013, #1035).\n            let forceSelUpdate = updateDoc && (ie || chrome) && !this.composing &&\n                !prev.selection.empty && !state.selection.empty && selectionContextChanged(prev.selection, state.selection);\n            if (updateDoc) {\n                // If the node that the selection points into is written to,\n                // Chrome sometimes starts misreporting the selection, so this\n                // tracks that and forces a selection reset when our update\n                // did write to the node.\n                let chromeKludge = chrome ? (this.trackWrites = this.domSelectionRange().focusNode) : null;\n                if (redraw || !this.docView.update(state.doc, outerDeco, innerDeco, this)) {\n                    this.docView.updateOuterDeco([]);\n                    this.docView.destroy();\n                    this.docView = docViewDesc(state.doc, outerDeco, innerDeco, this.dom, this);\n                }\n                if (chromeKludge && !this.trackWrites)\n                    forceSelUpdate = true;\n            }\n            // Work around for an issue where an update arriving right between\n            // a DOM selection change and the \"selectionchange\" event for it\n            // can cause a spurious DOM selection update, disrupting mouse\n            // drag selection.\n            if (forceSelUpdate ||\n                !(this.input.mouseDown && this.domObserver.currentSelection.eq(this.domSelectionRange()) &&\n                    anchorInRightPlace(this))) {\n                selectionToDOM(this, forceSelUpdate);\n            }\n            else {\n                syncNodeSelection(this, state.selection);\n                this.domObserver.setCurSelection();\n            }\n            this.domObserver.start();\n        }\n        this.updatePluginViews(prev);\n        if (scroll == \"reset\") {\n            this.dom.scrollTop = 0;\n        }\n        else if (scroll == \"to selection\") {\n            this.scrollToSelection();\n        }\n        else if (oldScrollPos) {\n            resetScrollPos(oldScrollPos);\n        }\n    }\n    /**\n    @internal\n    */\n    scrollToSelection() {\n        let startDOM = this.domSelectionRange().focusNode;\n        if (this.someProp(\"handleScrollToSelection\", f => f(this))) ;\n        else if (this.state.selection instanceof NodeSelection) {\n            let target = this.docView.domAfterPos(this.state.selection.from);\n            if (target.nodeType == 1)\n                scrollRectIntoView(this, target.getBoundingClientRect(), startDOM);\n        }\n        else {\n            scrollRectIntoView(this, this.coordsAtPos(this.state.selection.head, 1), startDOM);\n        }\n    }\n    destroyPluginViews() {\n        let view;\n        while (view = this.pluginViews.pop())\n            if (view.destroy)\n                view.destroy();\n    }\n    updatePluginViews(prevState) {\n        if (!prevState || prevState.plugins != this.state.plugins || this.directPlugins != this.prevDirectPlugins) {\n            this.prevDirectPlugins = this.directPlugins;\n            this.destroyPluginViews();\n            for (let i = 0; i < this.directPlugins.length; i++) {\n                let plugin = this.directPlugins[i];\n                if (plugin.spec.view)\n                    this.pluginViews.push(plugin.spec.view(this));\n            }\n            for (let i = 0; i < this.state.plugins.length; i++) {\n                let plugin = this.state.plugins[i];\n                if (plugin.spec.view)\n                    this.pluginViews.push(plugin.spec.view(this));\n            }\n        }\n        else {\n            for (let i = 0; i < this.pluginViews.length; i++) {\n                let pluginView = this.pluginViews[i];\n                if (pluginView.update)\n                    pluginView.update(this, prevState);\n            }\n        }\n    }\n    someProp(propName, f) {\n        let prop = this._props && this._props[propName], value;\n        if (prop != null && (value = f ? f(prop) : prop))\n            return value;\n        for (let i = 0; i < this.directPlugins.length; i++) {\n            let prop = this.directPlugins[i].props[propName];\n            if (prop != null && (value = f ? f(prop) : prop))\n                return value;\n        }\n        let plugins = this.state.plugins;\n        if (plugins)\n            for (let i = 0; i < plugins.length; i++) {\n                let prop = plugins[i].props[propName];\n                if (prop != null && (value = f ? f(prop) : prop))\n                    return value;\n            }\n    }\n    /**\n    Query whether the view has focus.\n    */\n    hasFocus() {\n        // Work around IE not handling focus correctly if resize handles are shown.\n        // If the cursor is inside an element with resize handles, activeElement\n        // will be that element instead of this.dom.\n        if (ie) {\n            // If activeElement is within this.dom, and there are no other elements\n            // setting `contenteditable` to false in between, treat it as focused.\n            let node = this.root.activeElement;\n            if (node == this.dom)\n                return true;\n            if (!node || !this.dom.contains(node))\n                return false;\n            while (node && this.dom != node && this.dom.contains(node)) {\n                if (node.contentEditable == 'false')\n                    return false;\n                node = node.parentElement;\n            }\n            return true;\n        }\n        return this.root.activeElement == this.dom;\n    }\n    /**\n    Focus the editor.\n    */\n    focus() {\n        this.domObserver.stop();\n        if (this.editable)\n            focusPreventScroll(this.dom);\n        selectionToDOM(this);\n        this.domObserver.start();\n    }\n    /**\n    Get the document root in which the editor exists. This will\n    usually be the top-level `document`, but might be a [shadow\n    DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM)\n    root if the editor is inside one.\n    */\n    get root() {\n        let cached = this._root;\n        if (cached == null)\n            for (let search = this.dom.parentNode; search; search = search.parentNode) {\n                if (search.nodeType == 9 || (search.nodeType == 11 && search.host)) {\n                    if (!search.getSelection)\n                        Object.getPrototypeOf(search).getSelection = () => search.ownerDocument.getSelection();\n                    return this._root = search;\n                }\n            }\n        return cached || document;\n    }\n    /**\n    Given a pair of viewport coordinates, return the document\n    position that corresponds to them. May return null if the given\n    coordinates aren't inside of the editor. When an object is\n    returned, its `pos` property is the position nearest to the\n    coordinates, and its `inside` property holds the position of the\n    inner node that the position falls inside of, or -1 if it is at\n    the top level, not in any node.\n    */\n    posAtCoords(coords) {\n        return posAtCoords(this, coords);\n    }\n    /**\n    Returns the viewport rectangle at a given document position.\n    `left` and `right` will be the same number, as this returns a\n    flat cursor-ish rectangle. If the position is between two things\n    that aren't directly adjacent, `side` determines which element\n    is used. When < 0, the element before the position is used,\n    otherwise the element after.\n    */\n    coordsAtPos(pos, side = 1) {\n        return coordsAtPos(this, pos, side);\n    }\n    /**\n    Find the DOM position that corresponds to the given document\n    position. When `side` is negative, find the position as close as\n    possible to the content before the position. When positive,\n    prefer positions close to the content after the position. When\n    zero, prefer as shallow a position as possible.\n    \n    Note that you should **not** mutate the editor's internal DOM,\n    only inspect it (and even that is usually not necessary).\n    */\n    domAtPos(pos, side = 0) {\n        return this.docView.domFromPos(pos, side);\n    }\n    /**\n    Find the DOM node that represents the document node after the\n    given position. May return `null` when the position doesn't point\n    in front of a node or if the node is inside an opaque node view.\n    \n    This is intended to be able to call things like\n    `getBoundingClientRect` on that DOM node. Do **not** mutate the\n    editor DOM directly, or add styling this way, since that will be\n    immediately overriden by the editor as it redraws the node.\n    */\n    nodeDOM(pos) {\n        let desc = this.docView.descAt(pos);\n        return desc ? desc.nodeDOM : null;\n    }\n    /**\n    Find the document position that corresponds to a given DOM\n    position. (Whenever possible, it is preferable to inspect the\n    document structure directly, rather than poking around in the\n    DOM, but sometimes\u2014for example when interpreting an event\n    target\u2014you don't have a choice.)\n    \n    The `bias` parameter can be used to influence which side of a DOM\n    node to use when the position is inside a leaf node.\n    */\n    posAtDOM(node, offset, bias = -1) {\n        let pos = this.docView.posFromDOM(node, offset, bias);\n        if (pos == null)\n            throw new RangeError(\"DOM position not inside the editor\");\n        return pos;\n    }\n    /**\n    Find out whether the selection is at the end of a textblock when\n    moving in a given direction. When, for example, given `\"left\"`,\n    it will return true if moving left from the current cursor\n    position would leave that position's parent textblock. Will apply\n    to the view's current state by default, but it is possible to\n    pass a different state.\n    */\n    endOfTextblock(dir, state) {\n        return endOfTextblock(this, state || this.state, dir);\n    }\n    /**\n    Run the editor's paste logic with the given HTML string. The\n    `event`, if given, will be passed to the\n    [`handlePaste`](https://prosemirror.net/docs/ref/#view.EditorProps.handlePaste) hook.\n    */\n    pasteHTML(html, event) {\n        return doPaste(this, \"\", html, false, event || new ClipboardEvent(\"paste\"));\n    }\n    /**\n    Run the editor's paste logic with the given plain-text input.\n    */\n    pasteText(text, event) {\n        return doPaste(this, text, null, true, event || new ClipboardEvent(\"paste\"));\n    }\n    /**\n    Removes the editor from the DOM and destroys all [node\n    views](https://prosemirror.net/docs/ref/#view.NodeView).\n    */\n    destroy() {\n        if (!this.docView)\n            return;\n        destroyInput(this);\n        this.destroyPluginViews();\n        if (this.mounted) {\n            this.docView.update(this.state.doc, [], viewDecorations(this), this);\n            this.dom.textContent = \"\";\n        }\n        else if (this.dom.parentNode) {\n            this.dom.parentNode.removeChild(this.dom);\n        }\n        this.docView.destroy();\n        this.docView = null;\n    }\n    /**\n    This is true when the view has been\n    [destroyed](https://prosemirror.net/docs/ref/#view.EditorView.destroy) (and thus should not be\n    used anymore).\n    */\n    get isDestroyed() {\n        return this.docView == null;\n    }\n    /**\n    Used for testing.\n    */\n    dispatchEvent(event) {\n        return dispatchEvent(this, event);\n    }\n    /**\n    Dispatch a transaction. Will call\n    [`dispatchTransaction`](https://prosemirror.net/docs/ref/#view.DirectEditorProps.dispatchTransaction)\n    when given, and otherwise defaults to applying the transaction to\n    the current state and calling\n    [`updateState`](https://prosemirror.net/docs/ref/#view.EditorView.updateState) with the result.\n    This method is bound to the view instance, so that it can be\n    easily passed around.\n    */\n    dispatch(tr) {\n        let dispatchTransaction = this._props.dispatchTransaction;\n        if (dispatchTransaction)\n            dispatchTransaction.call(this, tr);\n        else\n            this.updateState(this.state.apply(tr));\n    }\n    /**\n    @internal\n    */\n    domSelectionRange() {\n        return safari && this.root.nodeType === 11 && deepActiveElement(this.dom.ownerDocument) == this.dom\n            ? safariShadowSelectionRange(this) : this.domSelection();\n    }\n    /**\n    @internal\n    */\n    domSelection() {\n        return this.root.getSelection();\n    }\n}\nfunction computeDocDeco(view) {\n    let attrs = Object.create(null);\n    attrs.class = \"ProseMirror\";\n    attrs.contenteditable = String(view.editable);\n    view.someProp(\"attributes\", value => {\n        if (typeof value == \"function\")\n            value = value(view.state);\n        if (value)\n            for (let attr in value) {\n                if (attr == \"class\")\n                    attrs.class += \" \" + value[attr];\n                else if (attr == \"style\")\n                    attrs.style = (attrs.style ? attrs.style + \";\" : \"\") + value[attr];\n                else if (!attrs[attr] && attr != \"contenteditable\" && attr != \"nodeName\")\n                    attrs[attr] = String(value[attr]);\n            }\n    });\n    if (!attrs.translate)\n        attrs.translate = \"no\";\n    return [Decoration.node(0, view.state.doc.content.size, attrs)];\n}\nfunction updateCursorWrapper(view) {\n    if (view.markCursor) {\n        let dom = document.createElement(\"img\");\n        dom.className = \"ProseMirror-separator\";\n        dom.setAttribute(\"mark-placeholder\", \"true\");\n        dom.setAttribute(\"alt\", \"\");\n        view.cursorWrapper = { dom, deco: Decoration.widget(view.state.selection.head, dom, { raw: true, marks: view.markCursor }) };\n    }\n    else {\n        view.cursorWrapper = null;\n    }\n}\nfunction getEditable(view) {\n    return !view.someProp(\"editable\", value => value(view.state) === false);\n}\nfunction selectionContextChanged(sel1, sel2) {\n    let depth = Math.min(sel1.$anchor.sharedDepth(sel1.head), sel2.$anchor.sharedDepth(sel2.head));\n    return sel1.$anchor.start(depth) != sel2.$anchor.start(depth);\n}\nfunction buildNodeViews(view) {\n    let result = Object.create(null);\n    function add(obj) {\n        for (let prop in obj)\n            if (!Object.prototype.hasOwnProperty.call(result, prop))\n                result[prop] = obj[prop];\n    }\n    view.someProp(\"nodeViews\", add);\n    view.someProp(\"markViews\", add);\n    return result;\n}\nfunction changedNodeViews(a, b) {\n    let nA = 0, nB = 0;\n    for (let prop in a) {\n        if (a[prop] != b[prop])\n            return true;\n        nA++;\n    }\n    for (let _ in b)\n        nB++;\n    return nA != nB;\n}\nfunction checkStateComponent(plugin) {\n    if (plugin.spec.state || plugin.spec.filterTransaction || plugin.spec.appendTransaction)\n        throw new RangeError(\"Plugins passed directly to the view must not have a state component\");\n}\n\nexport { Decoration, DecorationSet, EditorView, __endComposition, __parseFromClipboard, __serializeForClipboard };\n", "// view/index.ts\nexport * from \"prosemirror-view\";\n", "export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\"\n}\n\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // On macOS, keys held with Shift and Cmd don't reflect the effect of Shift in `.key`.\n  // On IE, shift effect is never included in `.key`.\n  var ignoreKey = mac && event.metaKey && event.shiftKey && !event.ctrlKey && !event.altKey ||\n      ie && event.shiftKey && event.key && event.key.length == 1 ||\n      event.key == \"Unidentified\"\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n", "import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\n\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform) : false;\nfunction normalizeKeyName(name) {\n    let parts = name.split(/-(?!$)/), result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; i++) {\n        let mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (mac)\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction normalize(map) {\n    let copy = Object.create(null);\n    for (let prop in map)\n        copy[normalizeKeyName(prop)] = map[prop];\n    return copy;\n}\nfunction modifiers(name, event, shift = true) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\n/**\nCreate a keymap plugin for the given set of bindings.\n\nBindings should map key names to [command](https://prosemirror.net/docs/ref/#commands)-style\nfunctions, which will be called with `(EditorState, dispatch,\nEditorView)` arguments, and should return true when they've handled\nthe key. Note that the view argument isn't part of the command\nprotocol, but can be used as an escape hatch if a binding needs to\ndirectly interact with the UI.\n\nKey names may be strings like `\"Shift-Ctrl-Enter\"`\u2014a key\nidentifier prefixed with zero or more modifiers. Key identifiers\nare based on the strings that can appear in\n[`KeyEvent.key`](https:developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\nUse lowercase letters to refer to letter keys (or uppercase letters\nif you want shift to be held). You may use `\"Space\"` as an alias\nfor the `\" \"` name.\n\nModifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n`a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n`Meta-`) are recognized. For characters that are created by holding\nshift, the `Shift-` prefix is implied, and should not be added\nexplicitly.\n\nYou can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\nother platforms.\n\nYou can add multiple keymap plugins to an editor. The order in\nwhich they appear determines their precedence (the ones early in\nthe array get to dispatch first).\n*/\nfunction keymap(bindings) {\n    return new Plugin({ props: { handleKeyDown: keydownHandler(bindings) } });\n}\n/**\nGiven a set of bindings (using the same format as\n[`keymap`](https://prosemirror.net/docs/ref/#keymap.keymap)), return a [keydown\nhandler](https://prosemirror.net/docs/ref/#view.EditorProps.handleKeyDown) that handles them.\n*/\nfunction keydownHandler(bindings) {\n    let map = normalize(bindings);\n    return function (view, event) {\n        let name = keyName(event), baseName, direct = map[modifiers(name, event)];\n        if (direct && direct(view.state, view.dispatch, view))\n            return true;\n        // A character key\n        if (name.length == 1 && name != \" \") {\n            if (event.shiftKey) {\n                // In case the name was already modified by shift, try looking\n                // it up without its shift modifier\n                let noShift = map[modifiers(name, event, false)];\n                if (noShift && noShift(view.state, view.dispatch, view))\n                    return true;\n            }\n            if ((event.shiftKey || event.altKey || event.metaKey || name.charCodeAt(0) > 127) &&\n                (baseName = base[event.keyCode]) && baseName != name) {\n                // Try falling back to the keyCode when there's a modifier\n                // active or the character produced isn't ASCII, and our table\n                // produces a different name from the the keyCode. See #668,\n                // #1060\n                let fromCode = map[modifiers(baseName, event)];\n                if (fromCode && fromCode(view.state, view.dispatch, view))\n                    return true;\n            }\n        }\n        return false;\n    };\n}\n\nexport { keydownHandler, keymap };\n", "// keymap/index.ts\nexport * from \"prosemirror-keymap\";\n", "// model/index.ts\nexport * from \"prosemirror-model\";\n", "// transform/index.ts\nexport * from \"prosemirror-transform\";\n", "import { liftTarget, replaceStep, ReplaceStep, canJoin, joinPoint, canSplit, ReplaceAroundStep, findWrapping } from 'prosemirror-transform';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { NodeSelection, Selection, TextSelection, AllSelection } from 'prosemirror-state';\n\n/**\nDelete the selection, if there is one.\n*/\nconst deleteSelection = (state, dispatch) => {\n    if (state.selection.empty)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.deleteSelection().scrollIntoView());\n    return true;\n};\nfunction atBlockStart(state, view) {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"backward\", state)\n        : $cursor.parentOffset > 0))\n        return null;\n    return $cursor;\n}\n/**\nIf the selection is empty and at the start of a textblock, try to\nreduce the distance between that block and the one before it\u2014if\nthere's a block directly before it that can be joined, join them.\nIf not, try to move the selected block closer to the next one in\nthe document structure by lifting it out of its parent or moving it\ninto a parent of the previous block. Will use the view for accurate\n(bidi-aware) start-of-textblock detection if given.\n*/\nconst joinBackward = (state, dispatch, view) => {\n    let $cursor = atBlockStart(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutBefore($cursor);\n    // If there is no node before this, try to lift\n    if (!$cut) {\n        let range = $cursor.blockRange(), target = range && liftTarget(range);\n        if (target == null)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    let before = $cut.nodeBefore;\n    // Apply the joining algorithm\n    if (!before.type.spec.isolating && deleteBarrier(state, $cut, dispatch))\n        return true;\n    // If the node below has no content and the node above is\n    // selectable, delete the node below and select the one above.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(before, \"end\") || NodeSelection.isSelectable(before))) {\n        let delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n        if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n            if (dispatch) {\n                let tr = state.tr.step(delStep);\n                tr.setSelection(textblockAt(before, \"end\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos, -1)), -1)\n                    : NodeSelection.create(tr.doc, $cut.pos - before.nodeSize));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    // If the node before is an atom, delete it\n    if (before.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos - before.nodeSize, $cut.pos).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nA more limited form of [`joinBackward`]($commands.joinBackward)\nthat only tries to join the current textblock to the one before\nit, if the cursor is at the start of a textblock.\n*/\nconst joinTextblockBackward = (state, dispatch, view) => {\n    let $cursor = atBlockStart(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutBefore($cursor);\n    return $cut ? joinTextblocksAround(state, $cut, dispatch) : false;\n};\n/**\nA more limited form of [`joinForward`]($commands.joinForward)\nthat only tries to join the current textblock to the one after\nit, if the cursor is at the end of a textblock.\n*/\nconst joinTextblockForward = (state, dispatch, view) => {\n    let $cursor = atBlockEnd(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutAfter($cursor);\n    return $cut ? joinTextblocksAround(state, $cut, dispatch) : false;\n};\nfunction joinTextblocksAround(state, $cut, dispatch) {\n    let before = $cut.nodeBefore, beforeText = before, beforePos = $cut.pos - 1;\n    for (; !beforeText.isTextblock; beforePos--) {\n        if (beforeText.type.spec.isolating)\n            return false;\n        let child = beforeText.lastChild;\n        if (!child)\n            return false;\n        beforeText = child;\n    }\n    let after = $cut.nodeAfter, afterText = after, afterPos = $cut.pos + 1;\n    for (; !afterText.isTextblock; afterPos++) {\n        if (afterText.type.spec.isolating)\n            return false;\n        let child = afterText.firstChild;\n        if (!child)\n            return false;\n        afterText = child;\n    }\n    let step = replaceStep(state.doc, beforePos, afterPos, Slice.empty);\n    if (!step || step.from != beforePos ||\n        step instanceof ReplaceStep && step.slice.size >= afterPos - beforePos)\n        return false;\n    if (dispatch) {\n        let tr = state.tr.step(step);\n        tr.setSelection(TextSelection.create(tr.doc, beforePos));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n}\nfunction textblockAt(node, side, only = false) {\n    for (let scan = node; scan; scan = (side == \"start\" ? scan.firstChild : scan.lastChild)) {\n        if (scan.isTextblock)\n            return true;\n        if (only && scan.childCount != 1)\n            return false;\n    }\n    return false;\n}\n/**\nWhen the selection is empty and at the start of a textblock, select\nthe node before that textblock, if possible. This is intended to be\nbound to keys like backspace, after\n[`joinBackward`](https://prosemirror.net/docs/ref/#commands.joinBackward) or other deleting\ncommands, as a fall-back behavior when the schema doesn't allow\ndeletion at the selected point.\n*/\nconst selectNodeBackward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"backward\", state) : $head.parentOffset > 0)\n            return false;\n        $cut = findCutBefore($head);\n    }\n    let node = $cut && $cut.nodeBefore;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos - node.nodeSize)).scrollIntoView());\n    return true;\n};\nfunction findCutBefore($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            if ($pos.index(i) > 0)\n                return $pos.doc.resolve($pos.before(i + 1));\n            if ($pos.node(i).type.spec.isolating)\n                break;\n        }\n    return null;\n}\nfunction atBlockEnd(state, view) {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"forward\", state)\n        : $cursor.parentOffset < $cursor.parent.content.size))\n        return null;\n    return $cursor;\n}\n/**\nIf the selection is empty and the cursor is at the end of a\ntextblock, try to reduce or remove the boundary between that block\nand the one after it, either by joining them or by moving the other\nblock closer to this one in the tree structure. Will use the view\nfor accurate start-of-textblock detection if given.\n*/\nconst joinForward = (state, dispatch, view) => {\n    let $cursor = atBlockEnd(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutAfter($cursor);\n    // If there is no node after this, there's nothing to do\n    if (!$cut)\n        return false;\n    let after = $cut.nodeAfter;\n    // Try the joining algorithm\n    if (deleteBarrier(state, $cut, dispatch))\n        return true;\n    // If the node above has no content and the node below is\n    // selectable, delete the node above and select the one below.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(after, \"start\") || NodeSelection.isSelectable(after))) {\n        let delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n        if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n            if (dispatch) {\n                let tr = state.tr.step(delStep);\n                tr.setSelection(textblockAt(after, \"start\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)), 1)\n                    : NodeSelection.create(tr.doc, tr.mapping.map($cut.pos)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    // If the next node is an atom, delete it\n    if (after.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos, $cut.pos + after.nodeSize).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nWhen the selection is empty and at the end of a textblock, select\nthe node coming after that textblock, if possible. This is intended\nto be bound to keys like delete, after\n[`joinForward`](https://prosemirror.net/docs/ref/#commands.joinForward) and similar deleting\ncommands, to provide a fall-back behavior when the schema doesn't\nallow deletion at the selected point.\n*/\nconst selectNodeForward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"forward\", state) : $head.parentOffset < $head.parent.content.size)\n            return false;\n        $cut = findCutAfter($head);\n    }\n    let node = $cut && $cut.nodeAfter;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos)).scrollIntoView());\n    return true;\n};\nfunction findCutAfter($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            let parent = $pos.node(i);\n            if ($pos.index(i) + 1 < parent.childCount)\n                return $pos.doc.resolve($pos.after(i + 1));\n            if (parent.type.spec.isolating)\n                break;\n        }\n    return null;\n}\n/**\nJoin the selected block or, if there is a text selection, the\nclosest ancestor block of the selection that can be joined, with\nthe sibling above it.\n*/\nconst joinUp = (state, dispatch) => {\n    let sel = state.selection, nodeSel = sel instanceof NodeSelection, point;\n    if (nodeSel) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.from))\n            return false;\n        point = sel.from;\n    }\n    else {\n        point = joinPoint(state.doc, sel.from, -1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch) {\n        let tr = state.tr.join(point);\n        if (nodeSel)\n            tr.setSelection(NodeSelection.create(tr.doc, point - state.doc.resolve(point).nodeBefore.nodeSize));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nJoin the selected block, or the closest ancestor of the selection\nthat can be joined, with the sibling after it.\n*/\nconst joinDown = (state, dispatch) => {\n    let sel = state.selection, point;\n    if (sel instanceof NodeSelection) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.to))\n            return false;\n        point = sel.to;\n    }\n    else {\n        point = joinPoint(state.doc, sel.to, 1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch)\n        dispatch(state.tr.join(point).scrollIntoView());\n    return true;\n};\n/**\nLift the selected block, or the closest ancestor block of the\nselection that can be lifted, out of its parent node.\n*/\nconst lift = (state, dispatch) => {\n    let { $from, $to } = state.selection;\n    let range = $from.blockRange($to), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nIf the selection is in a node whose type has a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, replace the\nselection with a newline character.\n*/\nconst newlineInCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.insertText(\"\\n\").scrollIntoView());\n    return true;\n};\nfunction defaultBlockAt(match) {\n    for (let i = 0; i < match.edgeCount; i++) {\n        let { type } = match.edge(i);\n        if (type.isTextblock && !type.hasRequiredAttrs())\n            return type;\n    }\n    return null;\n}\n/**\nWhen the selection is in a node with a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, create a\ndefault block after the code block, and move the cursor there.\n*/\nconst exitCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    let above = $head.node(-1), after = $head.indexAfter(-1), type = defaultBlockAt(above.contentMatchAt(after));\n    if (!type || !above.canReplaceWith(after, after, type))\n        return false;\n    if (dispatch) {\n        let pos = $head.after(), tr = state.tr.replaceWith(pos, pos, type.createAndFill());\n        tr.setSelection(Selection.near(tr.doc.resolve(pos), 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf a block node is selected, create an empty paragraph before (if\nit is its parent's first child) or after it.\n*/\nconst createParagraphNear = (state, dispatch) => {\n    let sel = state.selection, { $from, $to } = sel;\n    if (sel instanceof AllSelection || $from.parent.inlineContent || $to.parent.inlineContent)\n        return false;\n    let type = defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));\n    if (!type || !type.isTextblock)\n        return false;\n    if (dispatch) {\n        let side = (!$from.parentOffset && $to.index() < $to.parent.childCount ? $from : $to).pos;\n        let tr = state.tr.insert(side, type.createAndFill());\n        tr.setSelection(TextSelection.create(tr.doc, side + 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf the cursor is in an empty textblock that can be lifted, lift the\nblock.\n*/\nconst liftEmptyBlock = (state, dispatch) => {\n    let { $cursor } = state.selection;\n    if (!$cursor || $cursor.parent.content.size)\n        return false;\n    if ($cursor.depth > 1 && $cursor.after() != $cursor.end(-1)) {\n        let before = $cursor.before();\n        if (canSplit(state.doc, before)) {\n            if (dispatch)\n                dispatch(state.tr.split(before).scrollIntoView());\n            return true;\n        }\n    }\n    let range = $cursor.blockRange(), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nCreate a variant of [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock) that uses\na custom function to determine the type of the newly split off block.\n*/\nfunction splitBlockAs(splitNode) {\n    return (state, dispatch) => {\n        let { $from, $to } = state.selection;\n        if (state.selection instanceof NodeSelection && state.selection.node.isBlock) {\n            if (!$from.parentOffset || !canSplit(state.doc, $from.pos))\n                return false;\n            if (dispatch)\n                dispatch(state.tr.split($from.pos).scrollIntoView());\n            return true;\n        }\n        if (!$from.parent.isBlock)\n            return false;\n        if (dispatch) {\n            let atEnd = $to.parentOffset == $to.parent.content.size;\n            let tr = state.tr;\n            if (state.selection instanceof TextSelection || state.selection instanceof AllSelection)\n                tr.deleteSelection();\n            let deflt = $from.depth == 0 ? null : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\n            let splitType = splitNode && splitNode($to.parent, atEnd);\n            let types = splitType ? [splitType] : atEnd && deflt ? [{ type: deflt }] : undefined;\n            let can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types);\n            if (!types && !can && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [{ type: deflt }] : undefined)) {\n                if (deflt)\n                    types = [{ type: deflt }];\n                can = true;\n            }\n            if (can) {\n                tr.split(tr.mapping.map($from.pos), 1, types);\n                if (!atEnd && !$from.parentOffset && $from.parent.type != deflt) {\n                    let first = tr.mapping.map($from.before()), $first = tr.doc.resolve(first);\n                    if (deflt && $from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt))\n                        tr.setNodeMarkup(tr.mapping.map($from.before()), deflt);\n                }\n            }\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    };\n}\n/**\nSplit the parent block of the selection. If the selection is a text\nselection, also delete its content.\n*/\nconst splitBlock = splitBlockAs();\n/**\nActs like [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock), but without\nresetting the set of active marks at the cursor.\n*/\nconst splitBlockKeepMarks = (state, dispatch) => {\n    return splitBlock(state, dispatch && (tr => {\n        let marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\n        if (marks)\n            tr.ensureMarks(marks);\n        dispatch(tr);\n    }));\n};\n/**\nMove the selection to the node wrapping the current selection, if\nany. (Will not select the document node.)\n*/\nconst selectParentNode = (state, dispatch) => {\n    let { $from, to } = state.selection, pos;\n    let same = $from.sharedDepth(to);\n    if (same == 0)\n        return false;\n    pos = $from.before(same);\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, pos)));\n    return true;\n};\n/**\nSelect the whole document.\n*/\nconst selectAll = (state, dispatch) => {\n    if (dispatch)\n        dispatch(state.tr.setSelection(new AllSelection(state.doc)));\n    return true;\n};\nfunction joinMaybeClear(state, $pos, dispatch) {\n    let before = $pos.nodeBefore, after = $pos.nodeAfter, index = $pos.index();\n    if (!before || !after || !before.type.compatibleContent(after.type))\n        return false;\n    if (!before.content.size && $pos.parent.canReplace(index - 1, index)) {\n        if (dispatch)\n            dispatch(state.tr.delete($pos.pos - before.nodeSize, $pos.pos).scrollIntoView());\n        return true;\n    }\n    if (!$pos.parent.canReplace(index, index + 1) || !(after.isTextblock || canJoin(state.doc, $pos.pos)))\n        return false;\n    if (dispatch)\n        dispatch(state.tr\n            .clearIncompatible($pos.pos, before.type, before.contentMatchAt(before.childCount))\n            .join($pos.pos)\n            .scrollIntoView());\n    return true;\n}\nfunction deleteBarrier(state, $cut, dispatch) {\n    let before = $cut.nodeBefore, after = $cut.nodeAfter, conn, match;\n    if (before.type.spec.isolating || after.type.spec.isolating)\n        return false;\n    if (joinMaybeClear(state, $cut, dispatch))\n        return true;\n    let canDelAfter = $cut.parent.canReplace($cut.index(), $cut.index() + 1);\n    if (canDelAfter &&\n        (conn = (match = before.contentMatchAt(before.childCount)).findWrapping(after.type)) &&\n        match.matchType(conn[0] || after.type).validEnd) {\n        if (dispatch) {\n            let end = $cut.pos + after.nodeSize, wrap = Fragment.empty;\n            for (let i = conn.length - 1; i >= 0; i--)\n                wrap = Fragment.from(conn[i].create(null, wrap));\n            wrap = Fragment.from(before.copy(wrap));\n            let tr = state.tr.step(new ReplaceAroundStep($cut.pos - 1, end, $cut.pos, end, new Slice(wrap, 1, 0), conn.length, true));\n            let joinAt = end + 2 * conn.length;\n            if (canJoin(tr.doc, joinAt))\n                tr.join(joinAt);\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    }\n    let selAfter = Selection.findFrom($cut, 1);\n    let range = selAfter && selAfter.$from.blockRange(selAfter.$to), target = range && liftTarget(range);\n    if (target != null && target >= $cut.depth) {\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    if (canDelAfter && textblockAt(after, \"start\", true) && textblockAt(before, \"end\")) {\n        let at = before, wrap = [];\n        for (;;) {\n            wrap.push(at);\n            if (at.isTextblock)\n                break;\n            at = at.lastChild;\n        }\n        let afterText = after, afterDepth = 1;\n        for (; !afterText.isTextblock; afterText = afterText.firstChild)\n            afterDepth++;\n        if (at.canReplace(at.childCount, at.childCount, afterText.content)) {\n            if (dispatch) {\n                let end = Fragment.empty;\n                for (let i = wrap.length - 1; i >= 0; i--)\n                    end = Fragment.from(wrap[i].copy(end));\n                let tr = state.tr.step(new ReplaceAroundStep($cut.pos - wrap.length, $cut.pos + after.nodeSize, $cut.pos + afterDepth, $cut.pos + after.nodeSize - afterDepth, new Slice(end, wrap.length, 0), 0, true));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction selectTextblockSide(side) {\n    return function (state, dispatch) {\n        let sel = state.selection, $pos = side < 0 ? sel.$from : sel.$to;\n        let depth = $pos.depth;\n        while ($pos.node(depth).isInline) {\n            if (!depth)\n                return false;\n            depth--;\n        }\n        if (!$pos.node(depth).isTextblock)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setSelection(TextSelection.create(state.doc, side < 0 ? $pos.start(depth) : $pos.end(depth))));\n        return true;\n    };\n}\n/**\nMoves the cursor to the start of current text block.\n*/\nconst selectTextblockStart = selectTextblockSide(-1);\n/**\nMoves the cursor to the end of current text block.\n*/\nconst selectTextblockEnd = selectTextblockSide(1);\n// Parameterized commands\n/**\nWrap the selection in a node of the given type with the given\nattributes.\n*/\nfunction wrapIn(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to), wrapping = range && findWrapping(range, nodeType, attrs);\n        if (!wrapping)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.wrap(range, wrapping).scrollIntoView());\n        return true;\n    };\n}\n/**\nReturns a command that tries to set the selected textblocks to the\ngiven node type with the given attributes.\n*/\nfunction setBlockType(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let applicable = false;\n        for (let i = 0; i < state.selection.ranges.length && !applicable; i++) {\n            let { $from: { pos: from }, $to: { pos: to } } = state.selection.ranges[i];\n            state.doc.nodesBetween(from, to, (node, pos) => {\n                if (applicable)\n                    return false;\n                if (!node.isTextblock || node.hasMarkup(nodeType, attrs))\n                    return;\n                if (node.type == nodeType) {\n                    applicable = true;\n                }\n                else {\n                    let $pos = state.doc.resolve(pos), index = $pos.index();\n                    applicable = $pos.parent.canReplaceWith(index, index + 1, nodeType);\n                }\n            });\n        }\n        if (!applicable)\n            return false;\n        if (dispatch) {\n            let tr = state.tr;\n            for (let i = 0; i < state.selection.ranges.length; i++) {\n                let { $from: { pos: from }, $to: { pos: to } } = state.selection.ranges[i];\n                tr.setBlockType(from, to, nodeType, attrs);\n            }\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    };\n}\nfunction markApplies(doc, ranges, type) {\n    for (let i = 0; i < ranges.length; i++) {\n        let { $from, $to } = ranges[i];\n        let can = $from.depth == 0 ? doc.inlineContent && doc.type.allowsMarkType(type) : false;\n        doc.nodesBetween($from.pos, $to.pos, node => {\n            if (can)\n                return false;\n            can = node.inlineContent && node.type.allowsMarkType(type);\n        });\n        if (can)\n            return true;\n    }\n    return false;\n}\n/**\nCreate a command function that toggles the given mark with the\ngiven attributes. Will return `false` when the current selection\ndoesn't support that mark. This will remove the mark if any marks\nof that type exist in the selection, or add it otherwise. If the\nselection is empty, this applies to the [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks) instead of a range of the\ndocument.\n*/\nfunction toggleMark(markType, attrs = null) {\n    return function (state, dispatch) {\n        let { empty, $cursor, ranges } = state.selection;\n        if ((empty && !$cursor) || !markApplies(state.doc, ranges, markType))\n            return false;\n        if (dispatch) {\n            if ($cursor) {\n                if (markType.isInSet(state.storedMarks || $cursor.marks()))\n                    dispatch(state.tr.removeStoredMark(markType));\n                else\n                    dispatch(state.tr.addStoredMark(markType.create(attrs)));\n            }\n            else {\n                let has = false, tr = state.tr;\n                for (let i = 0; !has && i < ranges.length; i++) {\n                    let { $from, $to } = ranges[i];\n                    has = state.doc.rangeHasMark($from.pos, $to.pos, markType);\n                }\n                for (let i = 0; i < ranges.length; i++) {\n                    let { $from, $to } = ranges[i];\n                    if (has) {\n                        tr.removeMark($from.pos, $to.pos, markType);\n                    }\n                    else {\n                        let from = $from.pos, to = $to.pos, start = $from.nodeAfter, end = $to.nodeBefore;\n                        let spaceStart = start && start.isText ? /^\\s*/.exec(start.text)[0].length : 0;\n                        let spaceEnd = end && end.isText ? /\\s*$/.exec(end.text)[0].length : 0;\n                        if (from + spaceStart < to) {\n                            from += spaceStart;\n                            to -= spaceEnd;\n                        }\n                        tr.addMark(from, to, markType.create(attrs));\n                    }\n                }\n                dispatch(tr.scrollIntoView());\n            }\n        }\n        return true;\n    };\n}\nfunction wrapDispatchForJoin(dispatch, isJoinable) {\n    return (tr) => {\n        if (!tr.isGeneric)\n            return dispatch(tr);\n        let ranges = [];\n        for (let i = 0; i < tr.mapping.maps.length; i++) {\n            let map = tr.mapping.maps[i];\n            for (let j = 0; j < ranges.length; j++)\n                ranges[j] = map.map(ranges[j]);\n            map.forEach((_s, _e, from, to) => ranges.push(from, to));\n        }\n        // Figure out which joinable points exist inside those ranges,\n        // by checking all node boundaries in their parent nodes.\n        let joinable = [];\n        for (let i = 0; i < ranges.length; i += 2) {\n            let from = ranges[i], to = ranges[i + 1];\n            let $from = tr.doc.resolve(from), depth = $from.sharedDepth(to), parent = $from.node(depth);\n            for (let index = $from.indexAfter(depth), pos = $from.after(depth + 1); pos <= to; ++index) {\n                let after = parent.maybeChild(index);\n                if (!after)\n                    break;\n                if (index && joinable.indexOf(pos) == -1) {\n                    let before = parent.child(index - 1);\n                    if (before.type == after.type && isJoinable(before, after))\n                        joinable.push(pos);\n                }\n                pos += after.nodeSize;\n            }\n        }\n        // Join the joinable points\n        joinable.sort((a, b) => a - b);\n        for (let i = joinable.length - 1; i >= 0; i--) {\n            if (canJoin(tr.doc, joinable[i]))\n                tr.join(joinable[i]);\n        }\n        dispatch(tr);\n    };\n}\n/**\nWrap a command so that, when it produces a transform that causes\ntwo joinable nodes to end up next to each other, those are joined.\nNodes are considered joinable when they are of the same type and\nwhen the `isJoinable` predicate returns true for them or, if an\narray of strings was passed, if their node type name is in that\narray.\n*/\nfunction autoJoin(command, isJoinable) {\n    let canJoin = Array.isArray(isJoinable) ? (node) => isJoinable.indexOf(node.type.name) > -1\n        : isJoinable;\n    return (state, dispatch, view) => command(state, dispatch && wrapDispatchForJoin(dispatch, canJoin), view);\n}\n/**\nCombine a number of command functions into a single function (which\ncalls them one by one until one returns true).\n*/\nfunction chainCommands(...commands) {\n    return function (state, dispatch, view) {\n        for (let i = 0; i < commands.length; i++)\n            if (commands[i](state, dispatch, view))\n                return true;\n        return false;\n    };\n}\nlet backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);\nlet del = chainCommands(deleteSelection, joinForward, selectNodeForward);\n/**\nA basic keymap containing bindings not specific to any schema.\nBinds the following keys (when multiple commands are listed, they\nare chained with [`chainCommands`](https://prosemirror.net/docs/ref/#commands.chainCommands)):\n\n* **Enter** to `newlineInCode`, `createParagraphNear`, `liftEmptyBlock`, `splitBlock`\n* **Mod-Enter** to `exitCode`\n* **Backspace** and **Mod-Backspace** to `deleteSelection`, `joinBackward`, `selectNodeBackward`\n* **Delete** and **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-a** to `selectAll`\n*/\nconst pcBaseKeymap = {\n    \"Enter\": chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock),\n    \"Mod-Enter\": exitCode,\n    \"Backspace\": backspace,\n    \"Mod-Backspace\": backspace,\n    \"Shift-Backspace\": backspace,\n    \"Delete\": del,\n    \"Mod-Delete\": del,\n    \"Mod-a\": selectAll\n};\n/**\nA copy of `pcBaseKeymap` that also binds **Ctrl-h** like Backspace,\n**Ctrl-d** like Delete, **Alt-Backspace** like Ctrl-Backspace, and\n**Ctrl-Alt-Backspace**, **Alt-Delete**, and **Alt-d** like\nCtrl-Delete.\n*/\nconst macBaseKeymap = {\n    \"Ctrl-h\": pcBaseKeymap[\"Backspace\"],\n    \"Alt-Backspace\": pcBaseKeymap[\"Mod-Backspace\"],\n    \"Ctrl-d\": pcBaseKeymap[\"Delete\"],\n    \"Ctrl-Alt-Backspace\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-Delete\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-d\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Ctrl-a\": selectTextblockStart,\n    \"Ctrl-e\": selectTextblockEnd\n};\nfor (let key in pcBaseKeymap)\n    macBaseKeymap[key] = pcBaseKeymap[key];\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform)\n    // @ts-ignore\n    : typeof os != \"undefined\" && os.platform ? os.platform() == \"darwin\" : false;\n/**\nDepending on the detected platform, this will hold\n[`pcBasekeymap`](https://prosemirror.net/docs/ref/#commands.pcBaseKeymap) or\n[`macBaseKeymap`](https://prosemirror.net/docs/ref/#commands.macBaseKeymap).\n*/\nconst baseKeymap = mac ? macBaseKeymap : pcBaseKeymap;\n\nexport { autoJoin, baseKeymap, chainCommands, createParagraphNear, deleteSelection, exitCode, joinBackward, joinDown, joinForward, joinTextblockBackward, joinTextblockForward, joinUp, lift, liftEmptyBlock, macBaseKeymap, newlineInCode, pcBaseKeymap, selectAll, selectNodeBackward, selectNodeForward, selectParentNode, selectTextblockEnd, selectTextblockStart, setBlockType, splitBlock, splitBlockAs, splitBlockKeepMarks, toggleMark, wrapIn };\n", "// commands/index.ts\nexport * from \"prosemirror-commands\";\n", "import { findWrapping, ReplaceAroundStep, canSplit, liftTarget, canJoin } from 'prosemirror-transform';\nimport { NodeRange, Fragment, Slice } from 'prosemirror-model';\nimport { Selection } from 'prosemirror-state';\n\nconst olDOM = [\"ol\", 0], ulDOM = [\"ul\", 0], liDOM = [\"li\", 0];\n/**\nAn ordered list [node spec](https://prosemirror.net/docs/ref/#model.NodeSpec). Has a single\nattribute, `order`, which determines the number at which the list\nstarts counting, and defaults to 1. Represented as an `<ol>`\nelement.\n*/\nconst orderedList = {\n    attrs: { order: { default: 1 } },\n    parseDOM: [{ tag: \"ol\", getAttrs(dom) {\n                return { order: dom.hasAttribute(\"start\") ? +dom.getAttribute(\"start\") : 1 };\n            } }],\n    toDOM(node) {\n        return node.attrs.order == 1 ? olDOM : [\"ol\", { start: node.attrs.order }, 0];\n    }\n};\n/**\nA bullet list node spec, represented in the DOM as `<ul>`.\n*/\nconst bulletList = {\n    parseDOM: [{ tag: \"ul\" }],\n    toDOM() { return ulDOM; }\n};\n/**\nA list item (`<li>`) spec.\n*/\nconst listItem = {\n    parseDOM: [{ tag: \"li\" }],\n    toDOM() { return liDOM; },\n    defining: true\n};\nfunction add(obj, props) {\n    let copy = {};\n    for (let prop in obj)\n        copy[prop] = obj[prop];\n    for (let prop in props)\n        copy[prop] = props[prop];\n    return copy;\n}\n/**\nConvenience function for adding list-related node types to a map\nspecifying the nodes for a schema. Adds\n[`orderedList`](https://prosemirror.net/docs/ref/#schema-list.orderedList) as `\"ordered_list\"`,\n[`bulletList`](https://prosemirror.net/docs/ref/#schema-list.bulletList) as `\"bullet_list\"`, and\n[`listItem`](https://prosemirror.net/docs/ref/#schema-list.listItem) as `\"list_item\"`.\n\n`itemContent` determines the content expression for the list items.\nIf you want the commands defined in this module to apply to your\nlist structure, it should have a shape like `\"paragraph block*\"` or\n`\"paragraph (ordered_list | bullet_list)*\"`. `listGroup` can be\ngiven to assign a group name to the list node types, for example\n`\"block\"`.\n*/\nfunction addListNodes(nodes, itemContent, listGroup) {\n    return nodes.append({\n        ordered_list: add(orderedList, { content: \"list_item+\", group: listGroup }),\n        bullet_list: add(bulletList, { content: \"list_item+\", group: listGroup }),\n        list_item: add(listItem, { content: itemContent })\n    });\n}\n/**\nReturns a command function that wraps the selection in a list with\nthe given type an attributes. If `dispatch` is null, only return a\nvalue to indicate whether this is possible, but don't actually\nperform the change.\n*/\nfunction wrapInList(listType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to), doJoin = false, outerRange = range;\n        if (!range)\n            return false;\n        // This is at the top of an existing list item\n        if (range.depth >= 2 && $from.node(range.depth - 1).type.compatibleContent(listType) && range.startIndex == 0) {\n            // Don't do anything if this is the top of the list\n            if ($from.index(range.depth - 1) == 0)\n                return false;\n            let $insert = state.doc.resolve(range.start - 2);\n            outerRange = new NodeRange($insert, $insert, range.depth);\n            if (range.endIndex < range.parent.childCount)\n                range = new NodeRange($from, state.doc.resolve($to.end(range.depth)), range.depth);\n            doJoin = true;\n        }\n        let wrap = findWrapping(outerRange, listType, attrs, range);\n        if (!wrap)\n            return false;\n        if (dispatch)\n            dispatch(doWrapInList(state.tr, range, wrap, doJoin, listType).scrollIntoView());\n        return true;\n    };\n}\nfunction doWrapInList(tr, range, wrappers, joinBefore, listType) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--)\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    tr.step(new ReplaceAroundStep(range.start - (joinBefore ? 2 : 0), range.end, range.start, range.end, new Slice(content, 0, 0), wrappers.length, true));\n    let found = 0;\n    for (let i = 0; i < wrappers.length; i++)\n        if (wrappers[i].type == listType)\n            found = i + 1;\n    let splitDepth = wrappers.length - found;\n    let splitPos = range.start + wrappers.length - (joinBefore ? 2 : 0), parent = range.parent;\n    for (let i = range.startIndex, e = range.endIndex, first = true; i < e; i++, first = false) {\n        if (!first && canSplit(tr.doc, splitPos, splitDepth)) {\n            tr.split(splitPos, splitDepth);\n            splitPos += 2 * splitDepth;\n        }\n        splitPos += parent.child(i).nodeSize;\n    }\n    return tr;\n}\n/**\nBuild a command that splits a non-empty textblock at the top level\nof a list item by also splitting that list item.\n*/\nfunction splitListItem(itemType, itemAttrs) {\n    return function (state, dispatch) {\n        let { $from, $to, node } = state.selection;\n        if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to))\n            return false;\n        let grandParent = $from.node(-1);\n        if (grandParent.type != itemType)\n            return false;\n        if ($from.parent.content.size == 0 && $from.node(-1).childCount == $from.indexAfter(-1)) {\n            // In an empty block. If this is a nested list, the wrapping\n            // list item should be split. Otherwise, bail out and let next\n            // command handle lifting.\n            if ($from.depth == 3 || $from.node(-3).type != itemType ||\n                $from.index(-2) != $from.node(-2).childCount - 1)\n                return false;\n            if (dispatch) {\n                let wrap = Fragment.empty;\n                let depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n                // Build a fragment containing empty versions of the structure\n                // from the outer list item to the parent node of the cursor\n                for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d--)\n                    wrap = Fragment.from($from.node(d).copy(wrap));\n                let depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1\n                    : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\n                // Add a second list item with an empty default start node\n                wrap = wrap.append(Fragment.from(itemType.createAndFill()));\n                let start = $from.before($from.depth - (depthBefore - 1));\n                let tr = state.tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0));\n                let sel = -1;\n                tr.doc.nodesBetween(start, tr.doc.content.size, (node, pos) => {\n                    if (sel > -1)\n                        return false;\n                    if (node.isTextblock && node.content.size == 0)\n                        sel = pos + 1;\n                });\n                if (sel > -1)\n                    tr.setSelection(Selection.near(tr.doc.resolve(sel)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n        let nextType = $to.pos == $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n        let tr = state.tr.delete($from.pos, $to.pos);\n        let types = nextType ? [itemAttrs ? { type: itemType, attrs: itemAttrs } : null, { type: nextType }] : undefined;\n        if (!canSplit(tr.doc, $from.pos, 2, types))\n            return false;\n        if (dispatch)\n            dispatch(tr.split($from.pos, 2, types).scrollIntoView());\n        return true;\n    };\n}\n/**\nCreate a command to lift the list item around the selection up into\na wrapping list.\n*/\nfunction liftListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to, node => node.childCount > 0 && node.firstChild.type == itemType);\n        if (!range)\n            return false;\n        if (!dispatch)\n            return true;\n        if ($from.node(range.depth - 1).type == itemType) // Inside a parent list\n            return liftToOuterList(state, dispatch, itemType, range);\n        else // Outer list node\n            return liftOutOfList(state, dispatch, range);\n    };\n}\nfunction liftToOuterList(state, dispatch, itemType, range) {\n    let tr = state.tr, end = range.end, endOfList = range.$to.end(range.depth);\n    if (end < endOfList) {\n        // There are siblings after the lifted items, which must become\n        // children of the last item\n        tr.step(new ReplaceAroundStep(end - 1, endOfList, end, endOfList, new Slice(Fragment.from(itemType.create(null, range.parent.copy())), 1, 0), 1, true));\n        range = new NodeRange(tr.doc.resolve(range.$from.pos), tr.doc.resolve(endOfList), range.depth);\n    }\n    const target = liftTarget(range);\n    if (target == null)\n        return false;\n    tr.lift(range, target);\n    let after = tr.mapping.map(end, -1) - 1;\n    if (canJoin(tr.doc, after))\n        tr.join(after);\n    dispatch(tr.scrollIntoView());\n    return true;\n}\nfunction liftOutOfList(state, dispatch, range) {\n    let tr = state.tr, list = range.parent;\n    // Merge the list items into a single big item\n    for (let pos = range.end, i = range.endIndex - 1, e = range.startIndex; i > e; i--) {\n        pos -= list.child(i).nodeSize;\n        tr.delete(pos - 1, pos + 1);\n    }\n    let $start = tr.doc.resolve(range.start), item = $start.nodeAfter;\n    if (tr.mapping.map(range.end) != range.start + $start.nodeAfter.nodeSize)\n        return false;\n    let atStart = range.startIndex == 0, atEnd = range.endIndex == list.childCount;\n    let parent = $start.node(-1), indexBefore = $start.index(-1);\n    if (!parent.canReplace(indexBefore + (atStart ? 0 : 1), indexBefore + 1, item.content.append(atEnd ? Fragment.empty : Fragment.from(list))))\n        return false;\n    let start = $start.pos, end = start + item.nodeSize;\n    // Strip off the surrounding list. At the sides where we're not at\n    // the end of the list, the existing list is closed. At sides where\n    // this is the end, it is overwritten to its end.\n    tr.step(new ReplaceAroundStep(start - (atStart ? 1 : 0), end + (atEnd ? 1 : 0), start + 1, end - 1, new Slice((atStart ? Fragment.empty : Fragment.from(list.copy(Fragment.empty)))\n        .append(atEnd ? Fragment.empty : Fragment.from(list.copy(Fragment.empty))), atStart ? 0 : 1, atEnd ? 0 : 1), atStart ? 0 : 1));\n    dispatch(tr.scrollIntoView());\n    return true;\n}\n/**\nCreate a command to sink the list item around the selection down\ninto an inner list.\n*/\nfunction sinkListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to, node => node.childCount > 0 && node.firstChild.type == itemType);\n        if (!range)\n            return false;\n        let startIndex = range.startIndex;\n        if (startIndex == 0)\n            return false;\n        let parent = range.parent, nodeBefore = parent.child(startIndex - 1);\n        if (nodeBefore.type != itemType)\n            return false;\n        if (dispatch) {\n            let nestedBefore = nodeBefore.lastChild && nodeBefore.lastChild.type == parent.type;\n            let inner = Fragment.from(nestedBefore ? itemType.create() : null);\n            let slice = new Slice(Fragment.from(itemType.create(null, Fragment.from(parent.type.create(null, inner)))), nestedBefore ? 3 : 1, 0);\n            let before = range.start, after = range.end;\n            dispatch(state.tr.step(new ReplaceAroundStep(before - (nestedBefore ? 3 : 1), after, before, after, slice, 1, true))\n                .scrollIntoView());\n        }\n        return true;\n    };\n}\n\nexport { addListNodes, bulletList, liftListItem, listItem, orderedList, sinkListItem, splitListItem, wrapInList };\n", "// schema-list/index.ts\nexport * from \"prosemirror-schema-list\";\n", "import { EditorState, Transaction } from '@tiptap/pm/state'\n\nexport function createChainableState(config: {\n  transaction: Transaction\n  state: EditorState\n}): EditorState {\n  const { state, transaction } = config\n  let { selection } = transaction\n  let { doc } = transaction\n  let { storedMarks } = transaction\n\n  return {\n    ...state,\n    apply: state.apply.bind(state),\n    applyTransaction: state.applyTransaction.bind(state),\n    filterTransaction: state.filterTransaction,\n    plugins: state.plugins,\n    schema: state.schema,\n    reconfigure: state.reconfigure.bind(state),\n    toJSON: state.toJSON.bind(state),\n    get storedMarks() {\n      return storedMarks\n    },\n    get selection() {\n      return selection\n    },\n    get doc() {\n      return doc\n    },\n    get tr() {\n      selection = transaction.selection\n      doc = transaction.doc\n      storedMarks = transaction.storedMarks\n\n      return transaction\n    },\n  }\n}\n", "import { EditorState, Transaction } from '@tiptap/pm/state'\n\nimport { Editor } from './Editor.js'\nimport { createChainableState } from './helpers/createChainableState.js'\nimport {\n  AnyCommands, CanCommands, ChainedCommands, CommandProps, SingleCommands,\n} from './types.js'\n\nexport class CommandManager {\n  editor: Editor\n\n  rawCommands: AnyCommands\n\n  customState?: EditorState\n\n  constructor(props: { editor: Editor; state?: EditorState }) {\n    this.editor = props.editor\n    this.rawCommands = this.editor.extensionManager.commands\n    this.customState = props.state\n  }\n\n  get hasCustomState(): boolean {\n    return !!this.customState\n  }\n\n  get state(): EditorState {\n    return this.customState || this.editor.state\n  }\n\n  get commands(): SingleCommands {\n    const { rawCommands, editor, state } = this\n    const { view } = editor\n    const { tr } = state\n    const props = this.buildProps(tr)\n\n    return Object.fromEntries(\n      Object.entries(rawCommands).map(([name, command]) => {\n        const method = (...args: any[]) => {\n          const callback = command(...args)(props)\n\n          if (!tr.getMeta('preventDispatch') && !this.hasCustomState) {\n            view.dispatch(tr)\n          }\n\n          return callback\n        }\n\n        return [name, method]\n      }),\n    ) as unknown as SingleCommands\n  }\n\n  get chain(): () => ChainedCommands {\n    return () => this.createChain()\n  }\n\n  get can(): () => CanCommands {\n    return () => this.createCan()\n  }\n\n  public createChain(startTr?: Transaction, shouldDispatch = true): ChainedCommands {\n    const { rawCommands, editor, state } = this\n    const { view } = editor\n    const callbacks: boolean[] = []\n    const hasStartTransaction = !!startTr\n    const tr = startTr || state.tr\n\n    const run = () => {\n      if (\n        !hasStartTransaction\n        && shouldDispatch\n        && !tr.getMeta('preventDispatch')\n        && !this.hasCustomState\n      ) {\n        view.dispatch(tr)\n      }\n\n      return callbacks.every(callback => callback === true)\n    }\n\n    const chain = {\n      ...Object.fromEntries(\n        Object.entries(rawCommands).map(([name, command]) => {\n          const chainedCommand = (...args: never[]) => {\n            const props = this.buildProps(tr, shouldDispatch)\n            const callback = command(...args)(props)\n\n            callbacks.push(callback)\n\n            return chain\n          }\n\n          return [name, chainedCommand]\n        }),\n      ),\n      run,\n    } as unknown as ChainedCommands\n\n    return chain\n  }\n\n  public createCan(startTr?: Transaction): CanCommands {\n    const { rawCommands, state } = this\n    const dispatch = false\n    const tr = startTr || state.tr\n    const props = this.buildProps(tr, dispatch)\n    const formattedCommands = Object.fromEntries(\n      Object.entries(rawCommands).map(([name, command]) => {\n        return [name, (...args: never[]) => command(...args)({ ...props, dispatch: undefined })]\n      }),\n    ) as unknown as SingleCommands\n\n    return {\n      ...formattedCommands,\n      chain: () => this.createChain(tr, dispatch),\n    } as CanCommands\n  }\n\n  public buildProps(tr: Transaction, shouldDispatch = true): CommandProps {\n    const { rawCommands, editor, state } = this\n    const { view } = editor\n\n    const props: CommandProps = {\n      tr,\n      editor,\n      view,\n      state: createChainableState({\n        state,\n        transaction: tr,\n      }),\n      dispatch: shouldDispatch ? () => undefined : undefined,\n      chain: () => this.createChain(tr, shouldDispatch),\n      can: () => this.createCan(tr),\n      get commands() {\n        return Object.fromEntries(\n          Object.entries(rawCommands).map(([name, command]) => {\n            return [name, (...args: never[]) => command(...args)(props)]\n          }),\n        ) as unknown as SingleCommands\n      },\n    }\n\n    return props\n  }\n}\n", "type StringKeyOf<T> = Extract<keyof T, string>\ntype CallbackType<\n  T extends Record<string, any>,\n  EventName extends StringKeyOf<T>,\n> = T[EventName] extends any[] ? T[EventName] : [T[EventName]]\ntype CallbackFunction<\n  T extends Record<string, any>,\n  EventName extends StringKeyOf<T>,\n> = (...props: CallbackType<T, EventName>) => any\n\nexport class EventEmitter<T extends Record<string, any>> {\n\n  private callbacks: { [key: string]: Function[] } = {}\n\n  public on<EventName extends StringKeyOf<T>>(event: EventName, fn: CallbackFunction<T, EventName>): this {\n    if (!this.callbacks[event]) {\n      this.callbacks[event] = []\n    }\n\n    this.callbacks[event].push(fn)\n\n    return this\n  }\n\n  protected emit<EventName extends StringKeyOf<T>>(event: EventName, ...args: CallbackType<T, EventName>): this {\n    const callbacks = this.callbacks[event]\n\n    if (callbacks) {\n      callbacks.forEach(callback => callback.apply(this, args))\n    }\n\n    return this\n  }\n\n  public off<EventName extends StringKeyOf<T>>(event: EventName, fn?: CallbackFunction<T, EventName>): this {\n    const callbacks = this.callbacks[event]\n\n    if (callbacks) {\n      if (fn) {\n        this.callbacks[event] = callbacks.filter(callback => callback !== fn)\n      } else {\n        delete this.callbacks[event]\n      }\n    }\n\n    return this\n  }\n\n  protected removeAllListeners(): void {\n    this.callbacks = {}\n  }\n}\n", "import { AnyExtension, MaybeThisParameterType, RemoveThis } from '../types.js'\n\nexport function getExtensionField<T = any>(\n  extension: AnyExtension,\n  field: string,\n  context?: Omit<MaybeThisParameterType<T>, 'parent'>,\n): RemoveThis<T> {\n\n  if (extension.config[field] === undefined && extension.parent) {\n    return getExtensionField(extension.parent, field, context)\n  }\n\n  if (typeof extension.config[field] === 'function') {\n    const value = extension.config[field].bind({\n      ...context,\n      parent: extension.parent\n        ? getExtensionField(extension.parent, field, context)\n        : null,\n    })\n\n    return value\n  }\n\n  return extension.config[field]\n}\n", "import { Extension } from '../Extension.js'\nimport { Mark } from '../Mark.js'\nimport { Node } from '../Node.js'\nimport { Extensions } from '../types.js'\n\nexport function splitExtensions(extensions: Extensions) {\n  const baseExtensions = extensions.filter(extension => extension.type === 'extension') as Extension[]\n  const nodeExtensions = extensions.filter(extension => extension.type === 'node') as Node[]\n  const markExtensions = extensions.filter(extension => extension.type === 'mark') as Mark[]\n\n  return {\n    baseExtensions,\n    nodeExtensions,\n    markExtensions,\n  }\n}\n", "import { MarkConfig, NodeConfig } from '../index.js'\nimport {\n  AnyConfig,\n  Attribute,\n  Attributes,\n  ExtensionAttribute,\n  Extensions,\n  GlobalAttributes,\n} from '../types.js'\nimport { getExtensionField } from './getExtensionField.js'\nimport { splitExtensions } from './splitExtensions.js'\n\n/**\n * Get a list of all extension attributes defined in `addAttribute` and `addGlobalAttribute`.\n * @param extensions List of extensions\n */\nexport function getAttributesFromExtensions(extensions: Extensions): ExtensionAttribute[] {\n  const extensionAttributes: ExtensionAttribute[] = []\n  const { nodeExtensions, markExtensions } = splitExtensions(extensions)\n  const nodeAndMarkExtensions = [...nodeExtensions, ...markExtensions]\n  const defaultAttribute: Required<Attribute> = {\n    default: null,\n    rendered: true,\n    renderHTML: null,\n    parseHTML: null,\n    keepOnSplit: true,\n    isRequired: false,\n  }\n\n  extensions.forEach(extension => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage,\n    }\n\n    const addGlobalAttributes = getExtensionField<AnyConfig['addGlobalAttributes']>(\n      extension,\n      'addGlobalAttributes',\n      context,\n    )\n\n    if (!addGlobalAttributes) {\n      return\n    }\n\n    // TODO: remove `as GlobalAttributes`\n    const globalAttributes = addGlobalAttributes() as GlobalAttributes\n\n    globalAttributes.forEach(globalAttribute => {\n      globalAttribute.types.forEach(type => {\n        Object\n          .entries(globalAttribute.attributes)\n          .forEach(([name, attribute]) => {\n            extensionAttributes.push({\n              type,\n              name,\n              attribute: {\n                ...defaultAttribute,\n                ...attribute,\n              },\n            })\n          })\n      })\n    })\n  })\n\n  nodeAndMarkExtensions.forEach(extension => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage,\n    }\n\n    const addAttributes = getExtensionField<NodeConfig['addAttributes'] | MarkConfig['addAttributes']>(\n      extension,\n      'addAttributes',\n      context,\n    )\n\n    if (!addAttributes) {\n      return\n    }\n\n    // TODO: remove `as Attributes`\n    const attributes = addAttributes() as Attributes\n\n    Object\n      .entries(attributes)\n      .forEach(([name, attribute]) => {\n        const mergedAttr = {\n          ...defaultAttribute,\n          ...attribute,\n        }\n\n        if (typeof mergedAttr?.default === 'function') {\n          mergedAttr.default = mergedAttr.default()\n        }\n\n        if (mergedAttr?.isRequired && mergedAttr?.default === undefined) {\n          delete mergedAttr.default\n        }\n\n        extensionAttributes.push({\n          type: extension.name,\n          name,\n          attribute: mergedAttr,\n        })\n      })\n  })\n\n  return extensionAttributes\n}\n", "import { NodeType, Schema } from '@tiptap/pm/model'\n\nexport function getNodeType(nameOrType: string | NodeType, schema: Schema): NodeType {\n  if (typeof nameOrType === 'string') {\n    if (!schema.nodes[nameOrType]) {\n      throw Error(\n        `There is no node type named '${nameOrType}'. Maybe you forgot to add the extension?`,\n      )\n    }\n\n    return schema.nodes[nameOrType]\n  }\n\n  return nameOrType\n}\n", "export function mergeAttributes(...objects: Record<string, any>[]): Record<string, any> {\n  return objects\n    .filter(item => !!item)\n    .reduce((items, item) => {\n      const mergedAttributes = { ...items }\n\n      Object.entries(item).forEach(([key, value]) => {\n        const exists = mergedAttributes[key]\n\n        if (!exists) {\n          mergedAttributes[key] = value\n\n          return\n        }\n\n        if (key === 'class') {\n          const valueClasses: string[] = value ? value.split(' ') : []\n          const existingClasses: string[] = mergedAttributes[key] ? mergedAttributes[key].split(' ') : []\n\n          const insertClasses = valueClasses.filter(\n            valueClass => !existingClasses.includes(valueClass),\n          )\n\n          mergedAttributes[key] = [...existingClasses, ...insertClasses].join(' ')\n        } else if (key === 'style') {\n          mergedAttributes[key] = [mergedAttributes[key], value].join('; ')\n        } else {\n          mergedAttributes[key] = value\n        }\n      })\n\n      return mergedAttributes\n    }, {})\n}\n", "import { Mark, Node } from '@tiptap/pm/model'\n\nimport { ExtensionAttribute } from '../types.js'\nimport { mergeAttributes } from '../utilities/mergeAttributes.js'\n\nexport function getRenderedAttributes(\n  nodeOrMark: Node | Mark,\n  extensionAttributes: ExtensionAttribute[],\n): Record<string, any> {\n  return extensionAttributes\n    .filter(item => item.attribute.rendered)\n    .map(item => {\n      if (!item.attribute.renderHTML) {\n        return {\n          [item.name]: nodeOrMark.attrs[item.name],\n        }\n      }\n\n      return item.attribute.renderHTML(nodeOrMark.attrs) || {}\n    })\n    .reduce((attributes, attribute) => mergeAttributes(attributes, attribute), {})\n}\n", "export function isFunction(value: any): value is Function {\n  return typeof value === 'function'\n}\n", "import { MaybeReturnType } from '../types.js'\nimport { isFunction } from './isFunction.js'\n\n/**\n * Optionally calls `value` as a function.\n * Otherwise it is returned directly.\n * @param value Function or any value.\n * @param context Optional context to bind to function.\n * @param props Optional props to pass to function.\n */\nexport function callOrReturn<T>(value: T, context: any = undefined, ...props: any[]): MaybeReturnType<T> {\n  if (isFunction(value)) {\n    if (context) {\n      return value.bind(context)(...props)\n    }\n\n    return value(...props)\n  }\n\n  return value as MaybeReturnType<T>\n}\n", "export function isEmptyObject(value = {}): boolean {\n  return Object.keys(value).length === 0 && value.constructor === Object\n}\n", "export function fromString(value: any): any {\n  if (typeof value !== 'string') {\n    return value\n  }\n\n  if (value.match(/^[+-]?(?:\\d*\\.)?\\d+$/)) {\n    return Number(value)\n  }\n\n  if (value === 'true') {\n    return true\n  }\n\n  if (value === 'false') {\n    return false\n  }\n\n  return value\n}\n", "import { ParseRule } from '@tiptap/pm/model'\n\nimport { ExtensionAttribute } from '../types.js'\nimport { fromString } from '../utilities/fromString.js'\n\n/**\n * This function merges extension attributes into parserule attributes (`attrs` or `getAttrs`).\n * Cancels when `getAttrs` returned `false`.\n * @param parseRule ProseMirror ParseRule\n * @param extensionAttributes List of attributes to inject\n */\nexport function injectExtensionAttributesToParseRule(\n  parseRule: ParseRule,\n  extensionAttributes: ExtensionAttribute[],\n): ParseRule {\n  if (parseRule.style) {\n    return parseRule\n  }\n\n  return {\n    ...parseRule,\n    getAttrs: node => {\n      const oldAttributes = parseRule.getAttrs ? parseRule.getAttrs(node) : parseRule.attrs\n\n      if (oldAttributes === false) {\n        return false\n      }\n\n      const newAttributes = extensionAttributes.reduce((items, item) => {\n        const value = item.attribute.parseHTML\n          ? item.attribute.parseHTML(node as HTMLElement)\n          : fromString((node as HTMLElement).getAttribute(item.name))\n\n        if (value === null || value === undefined) {\n          return items\n        }\n\n        return {\n          ...items,\n          [item.name]: value,\n        }\n      }, {})\n\n      return { ...oldAttributes, ...newAttributes }\n    },\n  }\n}\n", "import { MarkSpec, NodeSpec, Schema } from '@tiptap/pm/model'\n\nimport { Editor, MarkConfig, NodeConfig } from '../index.js'\nimport { AnyConfig, Extensions } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\nimport { isEmptyObject } from '../utilities/isEmptyObject.js'\nimport { getAttributesFromExtensions } from './getAttributesFromExtensions.js'\nimport { getExtensionField } from './getExtensionField.js'\nimport { getRenderedAttributes } from './getRenderedAttributes.js'\nimport { injectExtensionAttributesToParseRule } from './injectExtensionAttributesToParseRule.js'\nimport { splitExtensions } from './splitExtensions.js'\n\nfunction cleanUpSchemaItem<T>(data: T) {\n  return Object.fromEntries(\n    // @ts-ignore\n    Object.entries(data).filter(([key, value]) => {\n      if (key === 'attrs' && isEmptyObject(value as {} | undefined)) {\n        return false\n      }\n\n      return value !== null && value !== undefined\n    }),\n  ) as T\n}\n\nexport function getSchemaByResolvedExtensions(extensions: Extensions, editor?: Editor): Schema {\n  const allAttributes = getAttributesFromExtensions(extensions)\n  const { nodeExtensions, markExtensions } = splitExtensions(extensions)\n  const topNode = nodeExtensions.find(extension => getExtensionField(extension, 'topNode'))?.name\n\n  const nodes = Object.fromEntries(\n    nodeExtensions.map(extension => {\n      const extensionAttributes = allAttributes.filter(\n        attribute => attribute.type === extension.name,\n      )\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor,\n      }\n\n      const extraNodeFields = extensions.reduce((fields, e) => {\n        const extendNodeSchema = getExtensionField<AnyConfig['extendNodeSchema']>(\n          e,\n          'extendNodeSchema',\n          context,\n        )\n\n        return {\n          ...fields,\n          ...(extendNodeSchema ? extendNodeSchema(extension) : {}),\n        }\n      }, {})\n\n      const schema: NodeSpec = cleanUpSchemaItem({\n        ...extraNodeFields,\n        content: callOrReturn(\n          getExtensionField<NodeConfig['content']>(extension, 'content', context),\n        ),\n        marks: callOrReturn(getExtensionField<NodeConfig['marks']>(extension, 'marks', context)),\n        group: callOrReturn(getExtensionField<NodeConfig['group']>(extension, 'group', context)),\n        inline: callOrReturn(getExtensionField<NodeConfig['inline']>(extension, 'inline', context)),\n        atom: callOrReturn(getExtensionField<NodeConfig['atom']>(extension, 'atom', context)),\n        selectable: callOrReturn(\n          getExtensionField<NodeConfig['selectable']>(extension, 'selectable', context),\n        ),\n        draggable: callOrReturn(\n          getExtensionField<NodeConfig['draggable']>(extension, 'draggable', context),\n        ),\n        code: callOrReturn(getExtensionField<NodeConfig['code']>(extension, 'code', context)),\n        defining: callOrReturn(\n          getExtensionField<NodeConfig['defining']>(extension, 'defining', context),\n        ),\n        isolating: callOrReturn(\n          getExtensionField<NodeConfig['isolating']>(extension, 'isolating', context),\n        ),\n        attrs: Object.fromEntries(\n          extensionAttributes.map(extensionAttribute => {\n            return [extensionAttribute.name, { default: extensionAttribute?.attribute?.default }]\n          }),\n        ),\n      })\n\n      const parseHTML = callOrReturn(\n        getExtensionField<NodeConfig['parseHTML']>(extension, 'parseHTML', context),\n      )\n\n      if (parseHTML) {\n        schema.parseDOM = parseHTML.map(parseRule => injectExtensionAttributesToParseRule(parseRule, extensionAttributes))\n      }\n\n      const renderHTML = getExtensionField<NodeConfig['renderHTML']>(\n        extension,\n        'renderHTML',\n        context,\n      )\n\n      if (renderHTML) {\n        schema.toDOM = node => renderHTML({\n          node,\n          HTMLAttributes: getRenderedAttributes(node, extensionAttributes),\n        })\n      }\n\n      const renderText = getExtensionField<NodeConfig['renderText']>(\n        extension,\n        'renderText',\n        context,\n      )\n\n      if (renderText) {\n        schema.toText = renderText\n      }\n\n      return [extension.name, schema]\n    }),\n  )\n\n  const marks = Object.fromEntries(\n    markExtensions.map(extension => {\n      const extensionAttributes = allAttributes.filter(\n        attribute => attribute.type === extension.name,\n      )\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor,\n      }\n\n      const extraMarkFields = extensions.reduce((fields, e) => {\n        const extendMarkSchema = getExtensionField<AnyConfig['extendMarkSchema']>(\n          e,\n          'extendMarkSchema',\n          context,\n        )\n\n        return {\n          ...fields,\n          ...(extendMarkSchema ? extendMarkSchema(extension) : {}),\n        }\n      }, {})\n\n      const schema: MarkSpec = cleanUpSchemaItem({\n        ...extraMarkFields,\n        inclusive: callOrReturn(\n          getExtensionField<MarkConfig['inclusive']>(extension, 'inclusive', context),\n        ),\n        excludes: callOrReturn(\n          getExtensionField<MarkConfig['excludes']>(extension, 'excludes', context),\n        ),\n        group: callOrReturn(getExtensionField<MarkConfig['group']>(extension, 'group', context)),\n        spanning: callOrReturn(\n          getExtensionField<MarkConfig['spanning']>(extension, 'spanning', context),\n        ),\n        code: callOrReturn(getExtensionField<MarkConfig['code']>(extension, 'code', context)),\n        attrs: Object.fromEntries(\n          extensionAttributes.map(extensionAttribute => {\n            return [extensionAttribute.name, { default: extensionAttribute?.attribute?.default }]\n          }),\n        ),\n      })\n\n      const parseHTML = callOrReturn(\n        getExtensionField<MarkConfig['parseHTML']>(extension, 'parseHTML', context),\n      )\n\n      if (parseHTML) {\n        schema.parseDOM = parseHTML.map(parseRule => injectExtensionAttributesToParseRule(parseRule, extensionAttributes))\n      }\n\n      const renderHTML = getExtensionField<MarkConfig['renderHTML']>(\n        extension,\n        'renderHTML',\n        context,\n      )\n\n      if (renderHTML) {\n        schema.toDOM = mark => renderHTML({\n          mark,\n          HTMLAttributes: getRenderedAttributes(mark, extensionAttributes),\n        })\n      }\n\n      return [extension.name, schema]\n    }),\n  )\n\n  return new Schema({\n    topNode,\n    nodes,\n    marks,\n  })\n}\n", "import { MarkType, NodeType, Schema } from '@tiptap/pm/model'\n\nexport function getSchemaTypeByName(name: string, schema: Schema): NodeType | MarkType | null {\n  return schema.nodes[name] || schema.marks[name] || null\n}\n", "import { AnyExtension, EnableRules } from '../types.js'\n\nexport function isExtensionRulesEnabled(extension: AnyExtension, enabled: EnableRules): boolean {\n  if (Array.isArray(enabled)) {\n    return enabled.some(enabledExtension => {\n      const name = typeof enabledExtension === 'string'\n        ? enabledExtension\n        : enabledExtension.name\n\n      return name === extension.name\n    })\n  }\n\n  return enabled\n}\n", "import { ResolvedPos } from '@tiptap/pm/model'\n\nexport const getTextContentFromNodes = ($from: ResolvedPos, maxMatch = 500) => {\n  let textBefore = ''\n\n  const sliceEndPos = $from.parentOffset\n\n  $from.parent.nodesBetween(\n    Math.max(0, sliceEndPos - maxMatch),\n    sliceEndPos,\n    (node, pos, parent, index) => {\n      const chunk = node.type.spec.toText?.({\n        node,\n        pos,\n        parent,\n        index,\n      })\n        || node.textContent\n        || '%leaf%'\n\n      textBefore += chunk.slice(0, Math.max(0, sliceEndPos - pos))\n    },\n  )\n\n  return textBefore\n}\n", "export function isRegExp(value: any): value is RegExp {\n  return Object.prototype.toString.call(value) === '[object RegExp]'\n}\n", "import { EditorState, Plugin, TextSelection } from '@tiptap/pm/state'\n\nimport { CommandManager } from './CommandManager.js'\nimport { Editor } from './Editor.js'\nimport { createChainableState } from './helpers/createChainableState.js'\nimport { getTextContentFromNodes } from './helpers/getTextContentFromNodes.js'\nimport {\n  CanCommands,\n  ChainedCommands,\n  ExtendedRegExpMatchArray,\n  Range,\n  SingleCommands,\n} from './types.js'\nimport { isRegExp } from './utilities/isRegExp.js'\n\nexport type InputRuleMatch = {\n  index: number\n  text: string\n  replaceWith?: string\n  match?: RegExpMatchArray\n  data?: Record<string, any>\n}\n\nexport type InputRuleFinder = RegExp | ((text: string) => InputRuleMatch | null)\n\nexport class InputRule {\n  find: InputRuleFinder\n\n  handler: (props: {\n    state: EditorState\n    range: Range\n    match: ExtendedRegExpMatchArray\n    commands: SingleCommands\n    chain: () => ChainedCommands\n    can: () => CanCommands\n  }) => void | null\n\n  constructor(config: {\n    find: InputRuleFinder\n    handler: (props: {\n      state: EditorState\n      range: Range\n      match: ExtendedRegExpMatchArray\n      commands: SingleCommands\n      chain: () => ChainedCommands\n      can: () => CanCommands\n    }) => void | null\n  }) {\n    this.find = config.find\n    this.handler = config.handler\n  }\n}\n\nconst inputRuleMatcherHandler = (\n  text: string,\n  find: InputRuleFinder,\n): ExtendedRegExpMatchArray | null => {\n  if (isRegExp(find)) {\n    return find.exec(text)\n  }\n\n  const inputRuleMatch = find(text)\n\n  if (!inputRuleMatch) {\n    return null\n  }\n\n  const result: ExtendedRegExpMatchArray = [inputRuleMatch.text]\n\n  result.index = inputRuleMatch.index\n  result.input = text\n  result.data = inputRuleMatch.data\n\n  if (inputRuleMatch.replaceWith) {\n    if (!inputRuleMatch.text.includes(inputRuleMatch.replaceWith)) {\n      console.warn(\n        '[tiptap warn]: \"inputRuleMatch.replaceWith\" must be part of \"inputRuleMatch.text\".',\n      )\n    }\n\n    result.push(inputRuleMatch.replaceWith)\n  }\n\n  return result\n}\n\nfunction run(config: {\n  editor: Editor\n  from: number\n  to: number\n  text: string\n  rules: InputRule[]\n  plugin: Plugin\n}): boolean {\n  const {\n    editor, from, to, text, rules, plugin,\n  } = config\n  const { view } = editor\n\n  if (view.composing) {\n    return false\n  }\n\n  const $from = view.state.doc.resolve(from)\n\n  if (\n    // check for code node\n    $from.parent.type.spec.code\n    // check for code mark\n    || !!($from.nodeBefore || $from.nodeAfter)?.marks.find(mark => mark.type.spec.code)\n  ) {\n    return false\n  }\n\n  let matched = false\n\n  const textBefore = getTextContentFromNodes($from) + text\n\n  rules.forEach(rule => {\n    if (matched) {\n      return\n    }\n\n    const match = inputRuleMatcherHandler(textBefore, rule.find)\n\n    if (!match) {\n      return\n    }\n\n    const tr = view.state.tr\n    const state = createChainableState({\n      state: view.state,\n      transaction: tr,\n    })\n    const range = {\n      from: from - (match[0].length - text.length),\n      to,\n    }\n\n    const { commands, chain, can } = new CommandManager({\n      editor,\n      state,\n    })\n\n    const handler = rule.handler({\n      state,\n      range,\n      match,\n      commands,\n      chain,\n      can,\n    })\n\n    // stop if there are no changes\n    if (handler === null || !tr.steps.length) {\n      return\n    }\n\n    // store transform as meta data\n    // so we can undo input rules within the `undoInputRules` command\n    tr.setMeta(plugin, {\n      transform: tr,\n      from,\n      to,\n      text,\n    })\n\n    view.dispatch(tr)\n    matched = true\n  })\n\n  return matched\n}\n\n/**\n * Create an input rules plugin. When enabled, it will cause text\n * input that matches any of the given rules to trigger the rule’s\n * action.\n */\nexport function inputRulesPlugin(props: { editor: Editor; rules: InputRule[] }): Plugin {\n  const { editor, rules } = props\n  const plugin = new Plugin({\n    state: {\n      init() {\n        return null\n      },\n      apply(tr, prev) {\n        const stored = tr.getMeta(plugin)\n\n        if (stored) {\n          return stored\n        }\n\n        return tr.selectionSet || tr.docChanged ? null : prev\n      },\n    },\n\n    props: {\n      handleTextInput(view, from, to, text) {\n        return run({\n          editor,\n          from,\n          to,\n          text,\n          rules,\n          plugin,\n        })\n      },\n\n      handleDOMEvents: {\n        compositionend: view => {\n          setTimeout(() => {\n            const { $cursor } = view.state.selection as TextSelection\n\n            if ($cursor) {\n              run({\n                editor,\n                from: $cursor.pos,\n                to: $cursor.pos,\n                text: '',\n                rules,\n                plugin,\n              })\n            }\n          })\n\n          return false\n        },\n      },\n\n      // add support for input rules to trigger on enter\n      // this is useful for example for code blocks\n      handleKeyDown(view, event) {\n        if (event.key !== 'Enter') {\n          return false\n        }\n\n        const { $cursor } = view.state.selection as TextSelection\n\n        if ($cursor) {\n          return run({\n            editor,\n            from: $cursor.pos,\n            to: $cursor.pos,\n            text: '\\n',\n            rules,\n            plugin,\n          })\n        }\n\n        return false\n      },\n    },\n\n    // @ts-ignore\n    isInputRules: true,\n  }) as Plugin\n\n  return plugin\n}\n", "export function isNumber(value: any): value is number {\n  return typeof value === 'number'\n}\n", "import { EditorState, Plugin } from '@tiptap/pm/state'\n\nimport { CommandManager } from './CommandManager.js'\nimport { Editor } from './Editor.js'\nimport { createChainableState } from './helpers/createChainableState.js'\nimport {\n  CanCommands,\n  ChainedCommands,\n  ExtendedRegExpMatchArray,\n  Range,\n  SingleCommands,\n} from './types.js'\nimport { isNumber } from './utilities/isNumber.js'\nimport { isRegExp } from './utilities/isRegExp.js'\n\nexport type PasteRuleMatch = {\n  index: number\n  text: string\n  replaceWith?: string\n  match?: RegExpMatchArray\n  data?: Record<string, any>\n}\n\nexport type PasteRuleFinder = RegExp | ((text: string) => PasteRuleMatch[] | null | undefined)\n\nexport class PasteRule {\n  find: PasteRuleFinder\n\n  handler: (props: {\n    state: EditorState\n    range: Range\n    match: ExtendedRegExpMatchArray\n    commands: SingleCommands\n    chain: () => ChainedCommands\n    can: () => CanCommands\n  }) => void | null\n\n  constructor(config: {\n    find: PasteRuleFinder\n    handler: (props: {\n      state: EditorState\n      range: Range\n      match: ExtendedRegExpMatchArray\n      commands: SingleCommands\n      chain: () => ChainedCommands\n      can: () => CanCommands\n    }) => void | null\n  }) {\n    this.find = config.find\n    this.handler = config.handler\n  }\n}\n\nconst pasteRuleMatcherHandler = (\n  text: string,\n  find: PasteRuleFinder,\n): ExtendedRegExpMatchArray[] => {\n  if (isRegExp(find)) {\n    return [...text.matchAll(find)]\n  }\n\n  const matches = find(text)\n\n  if (!matches) {\n    return []\n  }\n\n  return matches.map(pasteRuleMatch => {\n    const result: ExtendedRegExpMatchArray = [pasteRuleMatch.text]\n\n    result.index = pasteRuleMatch.index\n    result.input = text\n    result.data = pasteRuleMatch.data\n\n    if (pasteRuleMatch.replaceWith) {\n      if (!pasteRuleMatch.text.includes(pasteRuleMatch.replaceWith)) {\n        console.warn(\n          '[tiptap warn]: \"pasteRuleMatch.replaceWith\" must be part of \"pasteRuleMatch.text\".',\n        )\n      }\n\n      result.push(pasteRuleMatch.replaceWith)\n    }\n\n    return result\n  })\n}\n\nfunction run(config: {\n  editor: Editor\n  state: EditorState\n  from: number\n  to: number\n  rule: PasteRule\n}): boolean {\n  const {\n    editor, state, from, to, rule,\n  } = config\n\n  const { commands, chain, can } = new CommandManager({\n    editor,\n    state,\n  })\n\n  const handlers: (void | null)[] = []\n\n  state.doc.nodesBetween(from, to, (node, pos) => {\n    if (!node.isTextblock || node.type.spec.code) {\n      return\n    }\n\n    const resolvedFrom = Math.max(from, pos)\n    const resolvedTo = Math.min(to, pos + node.content.size)\n    const textToMatch = node.textBetween(resolvedFrom - pos, resolvedTo - pos, undefined, '\\ufffc')\n\n    const matches = pasteRuleMatcherHandler(textToMatch, rule.find)\n\n    matches.forEach(match => {\n      if (match.index === undefined) {\n        return\n      }\n\n      const start = resolvedFrom + match.index + 1\n      const end = start + match[0].length\n      const range = {\n        from: state.tr.mapping.map(start),\n        to: state.tr.mapping.map(end),\n      }\n\n      const handler = rule.handler({\n        state,\n        range,\n        match,\n        commands,\n        chain,\n        can,\n      })\n\n      handlers.push(handler)\n    })\n  })\n\n  const success = handlers.every(handler => handler !== null)\n\n  return success\n}\n\n/**\n * Create an paste rules plugin. When enabled, it will cause pasted\n * text that matches any of the given rules to trigger the rule’s\n * action.\n */\nexport function pasteRulesPlugin(props: { editor: Editor; rules: PasteRule[] }): Plugin[] {\n  const { editor, rules } = props\n  let dragSourceElement: Element | null = null\n  let isPastedFromProseMirror = false\n  let isDroppedFromProseMirror = false\n\n  const plugins = rules.map(rule => {\n    return new Plugin({\n      // we register a global drag handler to track the current drag source element\n      view(view) {\n        const handleDragstart = (event: DragEvent) => {\n          dragSourceElement = view.dom.parentElement?.contains(event.target as Element)\n            ? view.dom.parentElement\n            : null\n        }\n\n        window.addEventListener('dragstart', handleDragstart)\n\n        return {\n          destroy() {\n            window.removeEventListener('dragstart', handleDragstart)\n          },\n        }\n      },\n\n      props: {\n        handleDOMEvents: {\n          drop: view => {\n            isDroppedFromProseMirror = dragSourceElement === view.dom.parentElement\n\n            return false\n          },\n\n          paste: (view, event: Event) => {\n            const html = (event as ClipboardEvent).clipboardData?.getData('text/html')\n\n            isPastedFromProseMirror = !!html?.includes('data-pm-slice')\n\n            return false\n          },\n        },\n      },\n\n      appendTransaction: (transactions, oldState, state) => {\n        const transaction = transactions[0]\n        const isPaste = transaction.getMeta('uiEvent') === 'paste' && !isPastedFromProseMirror\n        const isDrop = transaction.getMeta('uiEvent') === 'drop' && !isDroppedFromProseMirror\n\n        if (!isPaste && !isDrop) {\n          return\n        }\n\n        // stop if there is no changed range\n        const from = oldState.doc.content.findDiffStart(state.doc.content)\n        const to = oldState.doc.content.findDiffEnd(state.doc.content)\n\n        if (!isNumber(from) || !to || from === to.b) {\n          return\n        }\n\n        // build a chainable state\n        // so we can use a single transaction for all paste rules\n        const tr = state.tr\n        const chainableState = createChainableState({\n          state,\n          transaction: tr,\n        })\n\n        const handler = run({\n          editor,\n          state: chainableState,\n          from: Math.max(from - 1, 0),\n          to: to.b - 1,\n          rule,\n        })\n\n        // stop if there are no changes\n        if (!handler || !tr.steps.length) {\n          return\n        }\n\n        return tr\n      },\n    })\n  })\n\n  return plugins\n}\n", "export function findDuplicates(items: any[]): any[] {\n  const filtered = items.filter((el, index) => items.indexOf(el) !== index)\n\n  return [...new Set(filtered)]\n}\n", "import { keymap } from '@tiptap/pm/keymap'\nimport { Node as ProsemirrorNode, Schema } from '@tiptap/pm/model'\nimport { Plugin } from '@tiptap/pm/state'\nimport { Decoration, EditorView } from '@tiptap/pm/view'\n\nimport { Editor } from './Editor.js'\nimport { getAttributesFromExtensions } from './helpers/getAttributesFromExtensions.js'\nimport { getExtensionField } from './helpers/getExtensionField.js'\nimport { getNodeType } from './helpers/getNodeType.js'\nimport { getRenderedAttributes } from './helpers/getRenderedAttributes.js'\nimport { getSchemaByResolvedExtensions } from './helpers/getSchemaByResolvedExtensions.js'\nimport { getSchemaTypeByName } from './helpers/getSchemaTypeByName.js'\nimport { isExtensionRulesEnabled } from './helpers/isExtensionRulesEnabled.js'\nimport { splitExtensions } from './helpers/splitExtensions.js'\nimport { Mark, NodeConfig } from './index.js'\nimport { inputRulesPlugin } from './InputRule.js'\nimport { pasteRulesPlugin } from './PasteRule.js'\nimport { AnyConfig, Extensions, RawCommands } from './types.js'\nimport { callOrReturn } from './utilities/callOrReturn.js'\nimport { findDuplicates } from './utilities/findDuplicates.js'\n\nexport class ExtensionManager {\n  editor: Editor\n\n  schema: Schema\n\n  extensions: Extensions\n\n  splittableMarks: string[] = []\n\n  constructor(extensions: Extensions, editor: Editor) {\n    this.editor = editor\n    this.extensions = ExtensionManager.resolve(extensions)\n    this.schema = getSchemaByResolvedExtensions(this.extensions, editor)\n\n    this.extensions.forEach(extension => {\n      // store extension storage in editor\n      this.editor.extensionStorage[extension.name] = extension.storage\n\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor: this.editor,\n        type: getSchemaTypeByName(extension.name, this.schema),\n      }\n\n      if (extension.type === 'mark') {\n        const keepOnSplit = callOrReturn(getExtensionField(extension, 'keepOnSplit', context)) ?? true\n\n        if (keepOnSplit) {\n          this.splittableMarks.push(extension.name)\n        }\n      }\n\n      const onBeforeCreate = getExtensionField<AnyConfig['onBeforeCreate']>(\n        extension,\n        'onBeforeCreate',\n        context,\n      )\n\n      if (onBeforeCreate) {\n        this.editor.on('beforeCreate', onBeforeCreate)\n      }\n\n      const onCreate = getExtensionField<AnyConfig['onCreate']>(extension, 'onCreate', context)\n\n      if (onCreate) {\n        this.editor.on('create', onCreate)\n      }\n\n      const onUpdate = getExtensionField<AnyConfig['onUpdate']>(extension, 'onUpdate', context)\n\n      if (onUpdate) {\n        this.editor.on('update', onUpdate)\n      }\n\n      const onSelectionUpdate = getExtensionField<AnyConfig['onSelectionUpdate']>(\n        extension,\n        'onSelectionUpdate',\n        context,\n      )\n\n      if (onSelectionUpdate) {\n        this.editor.on('selectionUpdate', onSelectionUpdate)\n      }\n\n      const onTransaction = getExtensionField<AnyConfig['onTransaction']>(\n        extension,\n        'onTransaction',\n        context,\n      )\n\n      if (onTransaction) {\n        this.editor.on('transaction', onTransaction)\n      }\n\n      const onFocus = getExtensionField<AnyConfig['onFocus']>(extension, 'onFocus', context)\n\n      if (onFocus) {\n        this.editor.on('focus', onFocus)\n      }\n\n      const onBlur = getExtensionField<AnyConfig['onBlur']>(extension, 'onBlur', context)\n\n      if (onBlur) {\n        this.editor.on('blur', onBlur)\n      }\n\n      const onDestroy = getExtensionField<AnyConfig['onDestroy']>(extension, 'onDestroy', context)\n\n      if (onDestroy) {\n        this.editor.on('destroy', onDestroy)\n      }\n    })\n  }\n\n  static resolve(extensions: Extensions): Extensions {\n    const resolvedExtensions = ExtensionManager.sort(ExtensionManager.flatten(extensions))\n    const duplicatedNames = findDuplicates(resolvedExtensions.map(extension => extension.name))\n\n    if (duplicatedNames.length) {\n      console.warn(\n        `[tiptap warn]: Duplicate extension names found: [${duplicatedNames\n          .map(item => `'${item}'`)\n          .join(', ')}]. This can lead to issues.`,\n      )\n    }\n\n    return resolvedExtensions\n  }\n\n  static flatten(extensions: Extensions): Extensions {\n    return (\n      extensions\n        .map(extension => {\n          const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage,\n          }\n\n          const addExtensions = getExtensionField<AnyConfig['addExtensions']>(\n            extension,\n            'addExtensions',\n            context,\n          )\n\n          if (addExtensions) {\n            return [extension, ...this.flatten(addExtensions())]\n          }\n\n          return extension\n        })\n        // `Infinity` will break TypeScript so we set a number that is probably high enough\n        .flat(10)\n    )\n  }\n\n  static sort(extensions: Extensions): Extensions {\n    const defaultPriority = 100\n\n    return extensions.sort((a, b) => {\n      const priorityA = getExtensionField<AnyConfig['priority']>(a, 'priority') || defaultPriority\n      const priorityB = getExtensionField<AnyConfig['priority']>(b, 'priority') || defaultPriority\n\n      if (priorityA > priorityB) {\n        return -1\n      }\n\n      if (priorityA < priorityB) {\n        return 1\n      }\n\n      return 0\n    })\n  }\n\n  get commands(): RawCommands {\n    return this.extensions.reduce((commands, extension) => {\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor: this.editor,\n        type: getSchemaTypeByName(extension.name, this.schema),\n      }\n\n      const addCommands = getExtensionField<AnyConfig['addCommands']>(\n        extension,\n        'addCommands',\n        context,\n      )\n\n      if (!addCommands) {\n        return commands\n      }\n\n      return {\n        ...commands,\n        ...addCommands(),\n      }\n    }, {} as RawCommands)\n  }\n\n  get plugins(): Plugin[] {\n    const { editor } = this\n\n    // With ProseMirror, first plugins within an array are executed first.\n    // In Tiptap, we provide the ability to override plugins,\n    // so it feels more natural to run plugins at the end of an array first.\n    // That’s why we have to reverse the `extensions` array and sort again\n    // based on the `priority` option.\n    const extensions = ExtensionManager.sort([...this.extensions].reverse())\n\n    const inputRules: any[] = []\n    const pasteRules: any[] = []\n\n    const allPlugins = extensions\n      .map(extension => {\n        const context = {\n          name: extension.name,\n          options: extension.options,\n          storage: extension.storage,\n          editor,\n          type: getSchemaTypeByName(extension.name, this.schema),\n        }\n\n        const plugins: Plugin[] = []\n\n        const addKeyboardShortcuts = getExtensionField<AnyConfig['addKeyboardShortcuts']>(\n          extension,\n          'addKeyboardShortcuts',\n          context,\n        )\n\n        let defaultBindings: Record<string, () => boolean> = {}\n\n        // bind exit handling\n        if (extension.type === 'mark' && extension.config.exitable) {\n          defaultBindings.ArrowRight = () => Mark.handleExit({ editor, mark: extension as Mark })\n        }\n\n        if (addKeyboardShortcuts) {\n          const bindings = Object.fromEntries(\n            Object.entries(addKeyboardShortcuts()).map(([shortcut, method]) => {\n              return [shortcut, () => method({ editor })]\n            }),\n          )\n\n          defaultBindings = { ...defaultBindings, ...bindings }\n        }\n\n        const keyMapPlugin = keymap(defaultBindings)\n\n        plugins.push(keyMapPlugin)\n\n        const addInputRules = getExtensionField<AnyConfig['addInputRules']>(\n          extension,\n          'addInputRules',\n          context,\n        )\n\n        if (isExtensionRulesEnabled(extension, editor.options.enableInputRules) && addInputRules) {\n          inputRules.push(...addInputRules())\n        }\n\n        const addPasteRules = getExtensionField<AnyConfig['addPasteRules']>(\n          extension,\n          'addPasteRules',\n          context,\n        )\n\n        if (isExtensionRulesEnabled(extension, editor.options.enablePasteRules) && addPasteRules) {\n          pasteRules.push(...addPasteRules())\n        }\n\n        const addProseMirrorPlugins = getExtensionField<AnyConfig['addProseMirrorPlugins']>(\n          extension,\n          'addProseMirrorPlugins',\n          context,\n        )\n\n        if (addProseMirrorPlugins) {\n          const proseMirrorPlugins = addProseMirrorPlugins()\n\n          plugins.push(...proseMirrorPlugins)\n        }\n\n        return plugins\n      })\n      .flat()\n\n    return [\n      inputRulesPlugin({\n        editor,\n        rules: inputRules,\n      }),\n      ...pasteRulesPlugin({\n        editor,\n        rules: pasteRules,\n      }),\n      ...allPlugins,\n    ]\n  }\n\n  get attributes() {\n    return getAttributesFromExtensions(this.extensions)\n  }\n\n  get nodeViews() {\n    const { editor } = this\n    const { nodeExtensions } = splitExtensions(this.extensions)\n\n    return Object.fromEntries(\n      nodeExtensions\n        .filter(extension => !!getExtensionField(extension, 'addNodeView'))\n        .map(extension => {\n          const extensionAttributes = this.attributes.filter(\n            attribute => attribute.type === extension.name,\n          )\n          const context = {\n            name: extension.name,\n            options: extension.options,\n            storage: extension.storage,\n            editor,\n            type: getNodeType(extension.name, this.schema),\n          }\n          const addNodeView = getExtensionField<NodeConfig['addNodeView']>(\n            extension,\n            'addNodeView',\n            context,\n          )\n\n          if (!addNodeView) {\n            return []\n          }\n\n          const nodeview = (\n            node: ProsemirrorNode,\n            view: EditorView,\n            getPos: (() => number) | boolean,\n            decorations: Decoration[],\n          ) => {\n            const HTMLAttributes = getRenderedAttributes(node, extensionAttributes)\n\n            return addNodeView()({\n              editor,\n              node,\n              getPos,\n              decorations,\n              HTMLAttributes,\n              extension,\n            })\n          }\n\n          return [extension.name, nodeview]\n        }),\n    )\n  }\n}\n", "// see: https://github.com/mesqueeb/is-what/blob/88d6e4ca92fb2baab6003c54e02eedf4e729e5ab/src/index.ts\n\nfunction getType(value: any): string {\n  return Object.prototype.toString.call(value).slice(8, -1)\n}\n\nexport function isPlainObject(value: any): value is Record<string, any> {\n  if (getType(value) !== 'Object') {\n    return false\n  }\n\n  return value.constructor === Object && Object.getPrototypeOf(value) === Object.prototype\n}\n", "import { isPlainObject } from './isPlainObject.js'\n\nexport function mergeDeep(target: Record<string, any>, source: Record<string, any>): Record<string, any> {\n  const output = { ...target }\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    Object.keys(source).forEach(key => {\n      if (isPlainObject(source[key])) {\n        if (!(key in target)) {\n          Object.assign(output, { [key]: source[key] })\n        } else {\n          output[key] = mergeDeep(target[key], source[key])\n        }\n      } else {\n        Object.assign(output, { [key]: source[key] })\n      }\n    })\n  }\n\n  return output\n}\n", "import { Plugin, Transaction } from '@tiptap/pm/state'\n\nimport { Editor } from './Editor.js'\nimport { getExtensionField } from './helpers/getExtensionField.js'\nimport { ExtensionConfig } from './index.js'\nimport { InputRule } from './InputRule.js'\nimport { Mark } from './Mark.js'\nimport { Node } from './Node.js'\nimport { PasteRule } from './PasteRule.js'\nimport {\n  AnyConfig,\n  Extensions,\n  GlobalAttributes,\n  KeyboardShortcutCommand,\n  ParentConfig,\n  RawCommands,\n} from './types.js'\nimport { callOrReturn } from './utilities/callOrReturn.js'\nimport { mergeDeep } from './utilities/mergeDeep.js'\n\ndeclare module '@tiptap/core' {\n  interface ExtensionConfig<Options = any, Storage = any> {\n    [key: string]: any\n\n    /**\n     * Name\n     */\n    name: string\n\n    /**\n     * Priority\n     */\n    priority?: number\n\n    /**\n     * Default options\n     */\n    defaultOptions?: Options\n\n    /**\n     * Default Options\n     */\n    addOptions?: (this: {\n      name: string\n      parent: Exclude<ParentConfig<ExtensionConfig<Options, Storage>>['addOptions'], undefined>\n    }) => Options\n\n    /**\n     * Default Storage\n     */\n    addStorage?: (this: {\n      name: string\n      options: Options\n      parent: Exclude<ParentConfig<ExtensionConfig<Options, Storage>>['addStorage'], undefined>\n    }) => Storage\n\n    /**\n     * Global attributes\n     */\n    addGlobalAttributes?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addGlobalAttributes']\n    }) => GlobalAttributes | {}\n\n    /**\n     * Raw\n     */\n    addCommands?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addCommands']\n    }) => Partial<RawCommands>\n\n    /**\n     * Keyboard shortcuts\n     */\n    addKeyboardShortcuts?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addKeyboardShortcuts']\n    }) => {\n      [key: string]: KeyboardShortcutCommand\n    }\n\n    /**\n     * Input rules\n     */\n    addInputRules?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addInputRules']\n    }) => InputRule[]\n\n    /**\n     * Paste rules\n     */\n    addPasteRules?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addPasteRules']\n    }) => PasteRule[]\n\n    /**\n     * ProseMirror plugins\n     */\n    addProseMirrorPlugins?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addProseMirrorPlugins']\n    }) => Plugin[]\n\n    /**\n     * Extensions\n     */\n    addExtensions?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<ExtensionConfig<Options, Storage>>['addExtensions']\n    }) => Extensions\n\n    /**\n     * Extend Node Schema\n     */\n    extendNodeSchema?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<ExtensionConfig<Options, Storage>>['extendNodeSchema']\n          },\n          extension: Node,\n        ) => Record<string, any>)\n      | null\n\n    /**\n     * Extend Mark Schema\n     */\n    extendMarkSchema?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<ExtensionConfig<Options, Storage>>['extendMarkSchema']\n          },\n          extension: Mark,\n        ) => Record<string, any>)\n      | null\n\n    /**\n     * The editor is not ready yet.\n     */\n    onBeforeCreate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          parent: ParentConfig<ExtensionConfig<Options, Storage>>['onBeforeCreate']\n        }) => void)\n      | null\n\n    /**\n     * The editor is ready.\n     */\n    onCreate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          parent: ParentConfig<ExtensionConfig<Options, Storage>>['onCreate']\n        }) => void)\n      | null\n\n    /**\n     * The content has changed.\n     */\n    onUpdate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          parent: ParentConfig<ExtensionConfig<Options, Storage>>['onUpdate']\n        }) => void)\n      | null\n\n    /**\n     * The selection has changed.\n     */\n    onSelectionUpdate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          parent: ParentConfig<ExtensionConfig<Options, Storage>>['onSelectionUpdate']\n        }) => void)\n      | null\n\n    /**\n     * The editor state has changed.\n     */\n    onTransaction?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            parent: ParentConfig<ExtensionConfig<Options, Storage>>['onTransaction']\n          },\n          props: {\n            transaction: Transaction\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor is focused.\n     */\n    onFocus?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            parent: ParentConfig<ExtensionConfig<Options, Storage>>['onFocus']\n          },\n          props: {\n            event: FocusEvent\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor isn’t focused anymore.\n     */\n    onBlur?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            parent: ParentConfig<ExtensionConfig<Options, Storage>>['onBlur']\n          },\n          props: {\n            event: FocusEvent\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor is destroyed.\n     */\n    onDestroy?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          parent: ParentConfig<ExtensionConfig<Options, Storage>>['onDestroy']\n        }) => void)\n      | null\n  }\n}\n\nexport class Extension<Options = any, Storage = any> {\n  type = 'extension'\n\n  name = 'extension'\n\n  parent: Extension | null = null\n\n  child: Extension | null = null\n\n  options: Options\n\n  storage: Storage\n\n  config: ExtensionConfig = {\n    name: this.name,\n    defaultOptions: {},\n  }\n\n  constructor(config: Partial<ExtensionConfig<Options, Storage>> = {}) {\n    this.config = {\n      ...this.config,\n      ...config,\n    }\n\n    this.name = this.config.name\n\n    if (config.defaultOptions) {\n      console.warn(\n        `[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`,\n      )\n    }\n\n    // TODO: remove `addOptions` fallback\n    this.options = this.config.defaultOptions\n\n    if (this.config.addOptions) {\n      this.options = callOrReturn(\n        getExtensionField<AnyConfig['addOptions']>(this, 'addOptions', {\n          name: this.name,\n        }),\n      )\n    }\n\n    this.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(this, 'addStorage', {\n        name: this.name,\n        options: this.options,\n      }),\n    ) || {}\n  }\n\n  static create<O = any, S = any>(config: Partial<ExtensionConfig<O, S>> = {}) {\n    return new Extension<O, S>(config)\n  }\n\n  configure(options: Partial<Options> = {}) {\n    // return a new instance so we can use the same extension\n    // with different calls of `configure`\n    const extension = this.extend()\n\n    extension.options = mergeDeep(this.options as Record<string, any>, options) as Options\n\n    extension.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(extension, 'addStorage', {\n        name: extension.name,\n        options: extension.options,\n      }),\n    )\n\n    return extension\n  }\n\n  extend<ExtendedOptions = Options, ExtendedStorage = Storage>(\n    extendedConfig: Partial<ExtensionConfig<ExtendedOptions, ExtendedStorage>> = {},\n  ) {\n    const extension = new Extension<ExtendedOptions, ExtendedStorage>(extendedConfig)\n\n    extension.parent = this\n\n    this.child = extension\n\n    extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name\n\n    if (extendedConfig.defaultOptions) {\n      console.warn(\n        `[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`,\n      )\n    }\n\n    extension.options = callOrReturn(\n      getExtensionField<AnyConfig['addOptions']>(extension, 'addOptions', {\n        name: extension.name,\n      }),\n    )\n\n    extension.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(extension, 'addStorage', {\n        name: extension.name,\n        options: extension.options,\n      }),\n    )\n\n    return extension\n  }\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport { Range, TextSerializer } from '../types.js'\n\nexport function getTextBetween(\n  startNode: ProseMirrorNode,\n  range: Range,\n  options?: {\n    blockSeparator?: string\n    textSerializers?: Record<string, TextSerializer>\n  },\n): string {\n  const { from, to } = range\n  const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {}\n  let text = ''\n  let separated = true\n\n  startNode.nodesBetween(from, to, (node, pos, parent, index) => {\n    const textSerializer = textSerializers?.[node.type.name]\n\n    if (textSerializer) {\n      if (node.isBlock && !separated) {\n        text += blockSeparator\n        separated = true\n      }\n\n      if (parent) {\n        text += textSerializer({\n          node,\n          pos,\n          parent,\n          index,\n          range,\n        })\n      }\n    } else if (node.isText) {\n      text += node?.text?.slice(Math.max(from, pos) - pos, to - pos) // eslint-disable-line\n      separated = false\n    } else if (node.isBlock && !separated) {\n      text += blockSeparator\n      separated = true\n    }\n  })\n\n  return text\n}\n", "import { Schema } from '@tiptap/pm/model'\n\nimport { TextSerializer } from '../types.js'\n\nexport function getTextSerializersFromSchema(schema: Schema): Record<string, TextSerializer> {\n  return Object.fromEntries(\n    Object.entries(schema.nodes)\n      .filter(([, node]) => node.spec.toText)\n      .map(([name, node]) => [name, node.spec.toText]),\n  )\n}\n", "import { Plugin, PluginKey } from '@tiptap/pm/state'\n\nimport { Extension } from '../Extension.js'\nimport { getTextBetween } from '../helpers/getTextBetween.js'\nimport { getTextSerializersFromSchema } from '../helpers/getTextSerializersFromSchema.js'\n\nexport const ClipboardTextSerializer = Extension.create({\n  name: 'clipboardTextSerializer',\n\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey('clipboardTextSerializer'),\n        props: {\n          clipboardTextSerializer: () => {\n            const { editor } = this\n            const { state, schema } = editor\n            const { doc, selection } = state\n            const { ranges } = selection\n            const from = Math.min(...ranges.map(range => range.$from.pos))\n            const to = Math.max(...ranges.map(range => range.$to.pos))\n            const textSerializers = getTextSerializersFromSchema(schema)\n            const range = { from, to }\n\n            return getTextBetween(doc, range, {\n              textSerializers,\n            })\n          },\n        },\n      }),\n    ]\n  },\n})\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    blur: {\n      /**\n       * Removes focus from the editor.\n       */\n      blur: () => ReturnType,\n    }\n  }\n}\n\nexport const blur: RawCommands['blur'] = () => ({ editor, view }) => {\n  requestAnimationFrame(() => {\n    if (!editor.isDestroyed) {\n      (view.dom as HTMLElement).blur()\n\n      // Browsers should remove the caret on blur but safari does not.\n      // See: https://github.com/ueberdosis/tiptap/issues/2405\n      window?.getSelection()?.removeAllRanges()\n    }\n  })\n\n  return true\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    clearContent: {\n      /**\n       * Clear the whole document.\n       */\n      clearContent: (emitUpdate?: boolean) => ReturnType,\n    }\n  }\n}\n\nexport const clearContent: RawCommands['clearContent'] = (emitUpdate = false) => ({ commands }) => {\n  return commands.setContent('', emitUpdate)\n}\n", "import { liftTarget } from '@tiptap/pm/transform'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    clearNodes: {\n      /**\n       * Normalize nodes to a simple paragraph.\n       */\n      clearNodes: () => ReturnType,\n    }\n  }\n}\n\nexport const clearNodes: RawCommands['clearNodes'] = () => ({ state, tr, dispatch }) => {\n  const { selection } = tr\n  const { ranges } = selection\n\n  if (!dispatch) {\n    return true\n  }\n\n  ranges.forEach(({ $from, $to }) => {\n    state.doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n      if (node.type.isText) {\n        return\n      }\n\n      const { doc, mapping } = tr\n      const $mappedFrom = doc.resolve(mapping.map(pos))\n      const $mappedTo = doc.resolve(mapping.map(pos + node.nodeSize))\n      const nodeRange = $mappedFrom.blockRange($mappedTo)\n\n      if (!nodeRange) {\n        return\n      }\n\n      const targetLiftDepth = liftTarget(nodeRange)\n\n      if (node.type.isTextblock) {\n        const { defaultType } = $mappedFrom.parent.contentMatchAt($mappedFrom.index())\n\n        tr.setNodeMarkup(nodeRange.start, defaultType)\n      }\n\n      if (targetLiftDepth || targetLiftDepth === 0) {\n        tr.lift(nodeRange, targetLiftDepth)\n      }\n    })\n  })\n\n  return true\n}\n", "import { Command, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    command: {\n      /**\n       * Define a command inline.\n       */\n      command: (fn: (props: Parameters<Command>[0]) => boolean) => ReturnType,\n    }\n  }\n}\n\nexport const command: RawCommands['command'] = fn => props => {\n  return fn(props)\n}\n", "import { createParagraphNear as originalCreateParagraphNear } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    createParagraphNear: {\n      /**\n       * Create a paragraph nearby.\n       */\n      createParagraphNear: () => ReturnType\n    }\n  }\n}\n\nexport const createParagraphNear: RawCommands['createParagraphNear'] = () => ({ state, dispatch }) => {\n  return originalCreateParagraphNear(state, dispatch)\n}\n", "import { TextSelection } from '@tiptap/pm/state'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    cut: {\n      /**\n       * Cuts content from a range and inserts it at a given position.\n       */\n      cut: ({ from, to }: { from: number, to: number }, targetPos: number) => ReturnType,\n    }\n  }\n}\n\nexport const cut: RawCommands['cut'] = (originRange, targetPos) => ({ editor, tr }) => {\n  const { state } = editor\n\n  const contentSlice = state.doc.slice(originRange.from, originRange.to)\n\n  tr.deleteRange(originRange.from, originRange.to)\n  const newPos = tr.mapping.map(targetPos)\n\n  tr.insert(newPos, contentSlice.content)\n\n  tr.setSelection(new TextSelection(tr.doc.resolve(newPos - 1)))\n\n  return true\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    deleteCurrentNode: {\n      /**\n       * Delete the node that currently has the selection anchor.\n       */\n      deleteCurrentNode: () => ReturnType,\n    }\n  }\n}\n\nexport const deleteCurrentNode: RawCommands['deleteCurrentNode'] = () => ({ tr, dispatch }) => {\n  const { selection } = tr\n  const currentNode = selection.$anchor.node()\n\n  // if there is content inside the current node, break out of this command\n  if (currentNode.content.size > 0) {\n    return false\n  }\n\n  const $pos = tr.selection.$anchor\n\n  for (let depth = $pos.depth; depth > 0; depth -= 1) {\n    const node = $pos.node(depth)\n\n    if (node.type === currentNode.type) {\n      if (dispatch) {\n        const from = $pos.before(depth)\n        const to = $pos.after(depth)\n\n        tr.delete(from, to).scrollIntoView()\n      }\n\n      return true\n    }\n  }\n\n  return false\n}\n", "import { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    deleteNode: {\n      /**\n       * Delete a node.\n       */\n      deleteNode: (typeOrName: string | NodeType) => ReturnType,\n    }\n  }\n}\n\nexport const deleteNode: RawCommands['deleteNode'] = typeOrName => ({ tr, state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema)\n  const $pos = tr.selection.$anchor\n\n  for (let depth = $pos.depth; depth > 0; depth -= 1) {\n    const node = $pos.node(depth)\n\n    if (node.type === type) {\n      if (dispatch) {\n        const from = $pos.before(depth)\n        const to = $pos.after(depth)\n\n        tr.delete(from, to).scrollIntoView()\n      }\n\n      return true\n    }\n  }\n\n  return false\n}\n", "import { Range, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    deleteRange: {\n      /**\n       * Delete a given range.\n       */\n      deleteRange: (range: Range) => ReturnType,\n    }\n  }\n}\n\nexport const deleteRange: RawCommands['deleteRange'] = range => ({ tr, dispatch }) => {\n  const { from, to } = range\n\n  if (dispatch) {\n    tr.delete(from, to)\n  }\n\n  return true\n}\n", "import { deleteSelection as originalDeleteSelection } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    deleteSelection: {\n      /**\n       * Delete the selection, if there is one.\n       */\n      deleteSelection: () => ReturnType\n    }\n  }\n}\n\nexport const deleteSelection: RawCommands['deleteSelection'] = () => ({ state, dispatch }) => {\n  return originalDeleteSelection(state, dispatch)\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    enter: {\n      /**\n       * Trigger enter.\n       */\n      enter: () => ReturnType,\n    }\n  }\n}\n\nexport const enter: RawCommands['enter'] = () => ({ commands }) => {\n  return commands.keyboardShortcut('Enter')\n}\n", "import { exitCode as originalExitCode } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    exitCode: {\n      /**\n       * Exit from a code block.\n       */\n      exitCode: () => ReturnType\n    }\n  }\n}\n\nexport const exitCode: RawCommands['exitCode'] = () => ({ state, dispatch }) => {\n  return originalExitCode(state, dispatch)\n}\n", "import { isRegExp } from './isRegExp.js'\n\n/**\n * Check if object1 includes object2\n * @param object1 Object\n * @param object2 Object\n */\nexport function objectIncludes(\n  object1: Record<string, any>,\n  object2: Record<string, any>,\n  options: { strict: boolean } = { strict: true },\n): boolean {\n  const keys = Object.keys(object2)\n\n  if (!keys.length) {\n    return true\n  }\n\n  return keys.every(key => {\n    if (options.strict) {\n      return object2[key] === object1[key]\n    }\n\n    if (isRegExp(object2[key])) {\n      return object2[key].test(object1[key])\n    }\n\n    return object2[key] === object1[key]\n  })\n}\n", "import { Mark as ProseMirrorMark, MarkType, ResolvedPos } from '@tiptap/pm/model'\n\nimport { Range } from '../types.js'\nimport { objectIncludes } from '../utilities/objectIncludes.js'\n\nfunction findMarkInSet(\n  marks: ProseMirrorMark[],\n  type: MarkType,\n  attributes: Record<string, any> = {},\n): ProseMirrorMark | undefined {\n  return marks.find(item => {\n    return item.type === type && objectIncludes(item.attrs, attributes)\n  })\n}\n\nfunction isMarkInSet(\n  marks: ProseMirrorMark[],\n  type: MarkType,\n  attributes: Record<string, any> = {},\n): boolean {\n  return !!findMarkInSet(marks, type, attributes)\n}\n\nexport function getMarkRange(\n  $pos: ResolvedPos,\n  type: MarkType,\n  attributes: Record<string, any> = {},\n): Range | void {\n  if (!$pos || !type) {\n    return\n  }\n\n  let start = $pos.parent.childAfter($pos.parentOffset)\n\n  if ($pos.parentOffset === start.offset && start.offset !== 0) {\n    start = $pos.parent.childBefore($pos.parentOffset)\n  }\n\n  if (!start.node) {\n    return\n  }\n\n  const mark = findMarkInSet([...start.node.marks], type, attributes)\n\n  if (!mark) {\n    return\n  }\n\n  let startIndex = start.index\n  let startPos = $pos.start() + start.offset\n  let endIndex = startIndex + 1\n  let endPos = startPos + start.node.nodeSize\n\n  findMarkInSet([...start.node.marks], type, attributes)\n\n  while (startIndex > 0 && mark.isInSet($pos.parent.child(startIndex - 1).marks)) {\n    startIndex -= 1\n    startPos -= $pos.parent.child(startIndex).nodeSize\n  }\n\n  while (\n    endIndex < $pos.parent.childCount\n    && isMarkInSet([...$pos.parent.child(endIndex).marks], type, attributes)\n  ) {\n    endPos += $pos.parent.child(endIndex).nodeSize\n    endIndex += 1\n  }\n\n  return {\n    from: startPos,\n    to: endPos,\n  }\n}\n", "import { MarkType, Schema } from '@tiptap/pm/model'\n\nexport function getMarkType(nameOrType: string | MarkType, schema: Schema): MarkType {\n  if (typeof nameOrType === 'string') {\n    if (!schema.marks[nameOrType]) {\n      throw Error(\n        `There is no mark type named '${nameOrType}'. Maybe you forgot to add the extension?`,\n      )\n    }\n\n    return schema.marks[nameOrType]\n  }\n\n  return nameOrType\n}\n", "import { MarkType } from '@tiptap/pm/model'\nimport { TextSelection } from '@tiptap/pm/state'\n\nimport { getMarkRange } from '../helpers/getMarkRange.js'\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    extendMarkRange: {\n      /**\n       * Extends the text selection to the current mark.\n       */\n      extendMarkRange: (\n        typeOrName: string | MarkType,\n        attributes?: Record<string, any>,\n      ) => ReturnType\n    }\n  }\n}\n\nexport const extendMarkRange: RawCommands['extendMarkRange'] = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\n  const type = getMarkType(typeOrName, state.schema)\n  const { doc, selection } = tr\n  const { $from, from, to } = selection\n\n  if (dispatch) {\n    const range = getMarkRange($from, type, attributes)\n\n    if (range && range.from <= from && range.to >= to) {\n      const newSelection = TextSelection.create(doc, range.from, range.to)\n\n      tr.setSelection(newSelection)\n    }\n  }\n\n  return true\n}\n", "import { Command, CommandProps, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    first: {\n      /**\n       * Runs one command after the other and stops at the first which returns true.\n       */\n      first: (commands: Command[] | ((props: CommandProps) => Command[])) => ReturnType,\n    }\n  }\n}\n\nexport const first: RawCommands['first'] = commands => props => {\n  const items = typeof commands === 'function'\n    ? commands(props)\n    : commands\n\n  for (let i = 0; i < items.length; i += 1) {\n    if (items[i](props)) {\n      return true\n    }\n  }\n\n  return false\n}\n", "import { TextSelection } from '@tiptap/pm/state'\n\nexport function isTextSelection(value: unknown): value is TextSelection {\n  return value instanceof TextSelection\n}\n", "export function minMax(value = 0, min = 0, max = 0): number {\n  return Math.min(Math.max(value, min), max)\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\nimport { Selection, TextSelection } from '@tiptap/pm/state'\n\nimport { FocusPosition } from '../types.js'\nimport { minMax } from '../utilities/minMax.js'\n\nexport function resolveFocusPosition(\n  doc: ProseMirrorNode,\n  position: FocusPosition = null,\n): Selection | null {\n  if (!position) {\n    return null\n  }\n\n  const selectionAtStart = Selection.atStart(doc)\n  const selectionAtEnd = Selection.atEnd(doc)\n\n  if (position === 'start' || position === true) {\n    return selectionAtStart\n  }\n\n  if (position === 'end') {\n    return selectionAtEnd\n  }\n\n  const minPos = selectionAtStart.from\n  const maxPos = selectionAtEnd.to\n\n  if (position === 'all') {\n    return TextSelection.create(\n      doc,\n      minMax(0, minPos, maxPos),\n      minMax(doc.content.size, minPos, maxPos),\n    )\n  }\n\n  return TextSelection.create(\n    doc,\n    minMax(position, minPos, maxPos),\n    minMax(position, minPos, maxPos),\n  )\n}\n", "export function isiOS(): boolean {\n  return [\n    'iPad Simulator',\n    'iPhone Simulator',\n    'iPod Simulator',\n    'iPad',\n    'iPhone',\n    'iPod',\n  ].includes(navigator.platform)\n  // iPad on iOS 13 detection\n  || (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\n}\n", "import { isTextSelection } from '../helpers/isTextSelection.js'\nimport { resolveFocusPosition } from '../helpers/resolveFocusPosition.js'\nimport { FocusPosition, RawCommands } from '../types.js'\nimport { isiOS } from '../utilities/isiOS.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    focus: {\n      /**\n       * Focus the editor at the given position.\n       */\n      focus: (\n        position?: FocusPosition,\n        options?: {\n          scrollIntoView?: boolean,\n        },\n      ) => ReturnType,\n    }\n  }\n}\n\nexport const focus: RawCommands['focus'] = (position = null, options = {}) => ({\n  editor,\n  view,\n  tr,\n  dispatch,\n}) => {\n  options = {\n    scrollIntoView: true,\n    ...options,\n  }\n\n  const delayedFocus = () => {\n    // focus within `requestAnimationFrame` breaks focus on iOS\n    // so we have to call this\n    if (isiOS()) {\n      (view.dom as HTMLElement).focus()\n    }\n\n    // For React we have to focus asynchronously. Otherwise wild things happen.\n    // see: https://github.com/ueberdosis/tiptap/issues/1520\n    requestAnimationFrame(() => {\n      if (!editor.isDestroyed) {\n        view.focus()\n\n        if (options?.scrollIntoView) {\n          editor.commands.scrollIntoView()\n        }\n      }\n    })\n  }\n\n  if ((view.hasFocus() && position === null) || position === false) {\n    return true\n  }\n\n  // we don’t try to resolve a NodeSelection or CellSelection\n  if (dispatch && position === null && !isTextSelection(editor.state.selection)) {\n    delayedFocus()\n    return true\n  }\n\n  // pass through tr.doc instead of editor.state.doc\n  // since transactions could change the editors state before this command has been run\n  const selection = resolveFocusPosition(tr.doc, position) || editor.state.selection\n  const isSameSelection = editor.state.selection.eq(selection)\n\n  if (dispatch) {\n    if (!isSameSelection) {\n      tr.setSelection(selection)\n    }\n\n    // `tr.setSelection` resets the stored marks\n    // so we’ll restore them if the selection is the same as before\n    if (isSameSelection && tr.storedMarks) {\n      tr.setStoredMarks(tr.storedMarks)\n    }\n\n    delayedFocus()\n  }\n\n  return true\n}\n", "import { CommandProps, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    forEach: {\n      /**\n       * Loop through an array of items.\n       */\n      forEach: <T>(\n        items: T[],\n        fn: (\n          item: T,\n          props: CommandProps & {\n            index: number,\n          },\n        ) => boolean,\n      ) => ReturnType,\n    }\n  }\n}\n\nexport const forEach: RawCommands['forEach'] = (items, fn) => props => {\n  return items.every((item, index) => fn(item, { ...props, index }))\n}\n", "import { ParseOptions } from '@tiptap/pm/model'\n\nimport { Content, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    insertContent: {\n      /**\n       * Insert a node or string of HTML at the current position.\n       */\n      insertContent: (\n        value: Content,\n        options?: {\n          parseOptions?: ParseOptions\n          updateSelection?: boolean\n        },\n      ) => ReturnType\n    }\n  }\n}\n\nexport const insertContent: RawCommands['insertContent'] = (value, options) => ({ tr, commands }) => {\n  return commands.insertContentAt(\n    { from: tr.selection.from, to: tr.selection.to },\n    value,\n    options,\n  )\n}\n", "export function elementFromString(value: string): HTMLElement {\n  // add a wrapper to preserve leading and trailing whitespace\n  const wrappedValue = `<body>${value}</body>`\n\n  return new window.DOMParser().parseFromString(wrappedValue, 'text/html').body\n}\n", "import {\n  DOMParser,\n  Fragment,\n  Node as ProseMirrorNode,\n  ParseOptions,\n  Schema,\n} from '@tiptap/pm/model'\n\nimport { Content } from '../types.js'\nimport { elementFromString } from '../utilities/elementFromString.js'\n\nexport type CreateNodeFromContentOptions = {\n  slice?: boolean\n  parseOptions?: ParseOptions\n}\n\nexport function createNodeFromContent(\n  content: Content,\n  schema: Schema,\n  options?: CreateNodeFromContentOptions,\n): ProseMirrorNode | Fragment {\n  options = {\n    slice: true,\n    parseOptions: {},\n    ...options,\n  }\n\n  if (typeof content === 'object' && content !== null) {\n    try {\n      if (Array.isArray(content) && content.length > 0) {\n        return Fragment.fromArray(content.map(item => schema.nodeFromJSON(item)))\n      }\n\n      return schema.nodeFromJSON(content)\n    } catch (error) {\n      console.warn('[tiptap warn]: Invalid content.', 'Passed value:', content, 'Error:', error)\n\n      return createNodeFromContent('', schema, options)\n    }\n  }\n\n  if (typeof content === 'string') {\n    const parser = DOMParser.fromSchema(schema)\n\n    return options.slice\n      ? parser.parseSlice(elementFromString(content), options.parseOptions).content\n      : parser.parse(elementFromString(content), options.parseOptions)\n  }\n\n  return createNodeFromContent('', schema, options)\n}\n", "import { Selection, Transaction } from '@tiptap/pm/state'\nimport { ReplaceAroundStep, ReplaceStep } from '@tiptap/pm/transform'\n\n// source: https://github.com/ProseMirror/prosemirror-state/blob/master/src/selection.js#L466\nexport function selectionToInsertionEnd(tr: Transaction, startLen: number, bias: number) {\n  const last = tr.steps.length - 1\n\n  if (last < startLen) {\n    return\n  }\n\n  const step = tr.steps[last]\n\n  if (!(step instanceof ReplaceStep || step instanceof ReplaceAroundStep)) {\n    return\n  }\n\n  const map = tr.mapping.maps[last]\n  let end = 0\n\n  map.forEach((_from, _to, _newFrom, newTo) => {\n    if (end === 0) {\n      end = newTo\n    }\n  })\n\n  tr.setSelection(Selection.near(tr.doc.resolve(end), bias))\n}\n", "import { Fragment, Node as ProseMirrorNode, ParseOptions } from '@tiptap/pm/model'\n\nimport { createNodeFromContent } from '../helpers/createNodeFromContent.js'\nimport { selectionToInsertionEnd } from '../helpers/selectionToInsertionEnd.js'\nimport { Content, Range, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    insertContentAt: {\n      /**\n       * Insert a node or string of HTML at a specific position.\n       */\n      insertContentAt: (\n        position: number | Range,\n        value: Content,\n        options?: {\n          parseOptions?: ParseOptions\n          updateSelection?: boolean\n        },\n      ) => ReturnType\n    }\n  }\n}\n\nconst isFragment = (nodeOrFragment: ProseMirrorNode | Fragment): nodeOrFragment is Fragment => {\n  return nodeOrFragment.toString().startsWith('<')\n}\n\nexport const insertContentAt: RawCommands['insertContentAt'] = (position, value, options) => ({ tr, dispatch, editor }) => {\n  if (dispatch) {\n    options = {\n      parseOptions: {},\n      updateSelection: true,\n      ...options,\n    }\n\n    const content = createNodeFromContent(value, editor.schema, {\n      parseOptions: {\n        preserveWhitespace: 'full',\n        ...options.parseOptions,\n      },\n    })\n\n    // don’t dispatch an empty fragment because this can lead to strange errors\n    if (content.toString() === '<>') {\n      return true\n    }\n\n    let { from, to } = typeof position === 'number' ? { from: position, to: position } : { from: position.from, to: position.to }\n\n    let isOnlyTextContent = true\n    let isOnlyBlockContent = true\n    const nodes = isFragment(content) ? content : [content]\n\n    nodes.forEach(node => {\n      // check if added node is valid\n      node.check()\n\n      isOnlyTextContent = isOnlyTextContent ? node.isText && node.marks.length === 0 : false\n\n      isOnlyBlockContent = isOnlyBlockContent ? node.isBlock : false\n    })\n\n    // check if we can replace the wrapping node by\n    // the newly inserted content\n    // example:\n    // replace an empty paragraph by an inserted image\n    // instead of inserting the image below the paragraph\n    if (from === to && isOnlyBlockContent) {\n      const { parent } = tr.doc.resolve(from)\n      const isEmptyTextBlock = parent.isTextblock && !parent.type.spec.code && !parent.childCount\n\n      if (isEmptyTextBlock) {\n        from -= 1\n        to += 1\n      }\n    }\n\n    // if there is only plain text we have to use `insertText`\n    // because this will keep the current marks\n    if (isOnlyTextContent) {\n      // if value is string, we can use it directly\n      // otherwise if it is an array, we have to join it\n      if (Array.isArray(value)) {\n        tr.insertText(value.map(v => v.text || '').join(''), from, to)\n      } else if (typeof value === 'object' && !!value && !!value.text) {\n        tr.insertText(value.text, from, to)\n      } else {\n        tr.insertText(value as string, from, to)\n      }\n    } else {\n      tr.replaceWith(from, to, content)\n    }\n\n    // set cursor at end of inserted content\n    if (options.updateSelection) {\n      selectionToInsertionEnd(tr, tr.steps.length - 1, -1)\n    }\n  }\n\n  return true\n}\n", "import {\n  joinBackward as originalJoinBackward,\n  joinDown as originalJoinDown,\n  joinForward as originalJoinForward,\n  joinUp as originalJoinUp,\n} from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    joinUp: {\n      /**\n       * Join two nodes Up.\n       */\n      joinUp: () => ReturnType\n    }\n    joinDown: {\n      /**\n       * Join two nodes Down.\n       */\n      joinDown: () => ReturnType\n    }\n    joinBackward: {\n      /**\n       * Join two nodes Backwards.\n       */\n      joinBackward: () => ReturnType\n    }\n    joinForward: {\n      /**\n       * Join two nodes Forwards.\n       */\n      joinForward: () => ReturnType\n    }\n  }\n}\n\nexport const joinUp: RawCommands['joinUp'] = () => ({ state, dispatch }) => {\n  return originalJoinUp(state, dispatch)\n}\n\nexport const joinDown: RawCommands['joinDown'] = () => ({ state, dispatch }) => {\n  return originalJoinDown(state, dispatch)\n}\n\nexport const joinBackward: RawCommands['joinBackward'] = () => ({ state, dispatch }) => {\n  return originalJoinBackward(state, dispatch)\n}\n\nexport const joinForward: RawCommands['joinForward'] = () => ({ state, dispatch }) => {\n  return originalJoinForward(state, dispatch)\n}\n", "import { joinPoint } from '@tiptap/pm/transform'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    joinItemBackward: {\n      /**\n       * Join two nodes Forwards.\n       */\n      joinItemBackward: () => ReturnType\n    }\n  }\n}\n\nexport const joinItemBackward: RawCommands['joinItemBackward'] = () => ({\n  tr, state, dispatch,\n}) => {\n  try {\n    const point = joinPoint(state.doc, state.selection.$from.pos, -1)\n\n    if (point === null || point === undefined) {\n      return false\n    }\n\n    tr.join(point, 2)\n\n    if (dispatch) {\n      dispatch(tr)\n    }\n\n    return true\n  } catch {\n    return false\n  }\n}\n", "import { joinPoint } from '@tiptap/pm/transform'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    joinItemForward: {\n      /**\n       * Join two nodes Forwards.\n       */\n      joinItemForward: () => ReturnType\n    }\n  }\n}\n\nexport const joinItemForward: RawCommands['joinItemForward'] = () => ({\n  state,\n  dispatch,\n  tr,\n}) => {\n  try {\n    const point = joinPoint(state.doc, state.selection.$from.pos, +1)\n\n    if (point === null || point === undefined) {\n      return false\n    }\n\n    tr.join(point, 2)\n\n    if (dispatch) {\n      dispatch(tr)\n    }\n\n    return true\n  } catch (e) {\n    return false\n  }\n}\n", "export function isMacOS(): boolean {\n  return typeof navigator !== 'undefined'\n    ? /Mac/.test(navigator.platform)\n    : false\n}\n", "import { RawCommands } from '../types.js'\nimport { isiOS } from '../utilities/isiOS.js'\nimport { isMacOS } from '../utilities/isMacOS.js'\n\nfunction normalizeKeyName(name: string) {\n  const parts = name.split(/-(?!$)/)\n  let result = parts[parts.length - 1]\n\n  if (result === 'Space') {\n    result = ' '\n  }\n\n  let alt\n  let ctrl\n  let shift\n  let meta\n\n  for (let i = 0; i < parts.length - 1; i += 1) {\n    const mod = parts[i]\n\n    if (/^(cmd|meta|m)$/i.test(mod)) {\n      meta = true\n    } else if (/^a(lt)?$/i.test(mod)) {\n      alt = true\n    } else if (/^(c|ctrl|control)$/i.test(mod)) {\n      ctrl = true\n    } else if (/^s(hift)?$/i.test(mod)) {\n      shift = true\n    } else if (/^mod$/i.test(mod)) {\n      if (isiOS() || isMacOS()) {\n        meta = true\n      } else {\n        ctrl = true\n      }\n    } else {\n      throw new Error(`Unrecognized modifier name: ${mod}`)\n    }\n  }\n\n  if (alt) {\n    result = `Alt-${result}`\n  }\n\n  if (ctrl) {\n    result = `Ctrl-${result}`\n  }\n\n  if (meta) {\n    result = `Meta-${result}`\n  }\n\n  if (shift) {\n    result = `Shift-${result}`\n  }\n\n  return result\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    keyboardShortcut: {\n      /**\n       * Trigger a keyboard shortcut.\n       */\n      keyboardShortcut: (name: string) => ReturnType,\n    }\n  }\n}\n\nexport const keyboardShortcut: RawCommands['keyboardShortcut'] = name => ({\n  editor,\n  view,\n  tr,\n  dispatch,\n}) => {\n  const keys = normalizeKeyName(name).split(/-(?!$)/)\n  const key = keys.find(item => !['Alt', 'Ctrl', 'Meta', 'Shift'].includes(item))\n  const event = new KeyboardEvent('keydown', {\n    key: key === 'Space'\n      ? ' '\n      : key,\n    altKey: keys.includes('Alt'),\n    ctrlKey: keys.includes('Ctrl'),\n    metaKey: keys.includes('Meta'),\n    shiftKey: keys.includes('Shift'),\n    bubbles: true,\n    cancelable: true,\n  })\n\n  const capturedTransaction = editor.captureTransaction(() => {\n    view.someProp('handleKeyDown', f => f(view, event))\n  })\n\n  capturedTransaction?.steps.forEach(step => {\n    const newStep = step.map(tr.mapping)\n\n    if (newStep && dispatch) {\n      tr.maybeStep(newStep)\n    }\n  })\n\n  return true\n}\n", "import { NodeType } from '@tiptap/pm/model'\nimport { EditorState } from '@tiptap/pm/state'\n\nimport { NodeRange } from '../types.js'\nimport { objectIncludes } from '../utilities/objectIncludes.js'\nimport { getNodeType } from './getNodeType.js'\n\nexport function isNodeActive(\n  state: EditorState,\n  typeOrName: NodeType | string | null,\n  attributes: Record<string, any> = {},\n): boolean {\n  const { from, to, empty } = state.selection\n  const type = typeOrName ? getNodeType(typeOrName, state.schema) : null\n\n  const nodeRanges: NodeRange[] = []\n\n  state.doc.nodesBetween(from, to, (node, pos) => {\n    if (node.isText) {\n      return\n    }\n\n    const relativeFrom = Math.max(from, pos)\n    const relativeTo = Math.min(to, pos + node.nodeSize)\n\n    nodeRanges.push({\n      node,\n      from: relativeFrom,\n      to: relativeTo,\n    })\n  })\n\n  const selectionRange = to - from\n  const matchedNodeRanges = nodeRanges\n    .filter(nodeRange => {\n      if (!type) {\n        return true\n      }\n\n      return type.name === nodeRange.node.type.name\n    })\n    .filter(nodeRange => objectIncludes(nodeRange.node.attrs, attributes, { strict: false }))\n\n  if (empty) {\n    return !!matchedNodeRanges.length\n  }\n\n  const range = matchedNodeRanges.reduce((sum, nodeRange) => sum + nodeRange.to - nodeRange.from, 0)\n\n  return range >= selectionRange\n}\n", "import { lift as originalLift } from '@tiptap/pm/commands'\nimport { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { isNodeActive } from '../helpers/isNodeActive.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    lift: {\n      /**\n       * Removes an existing wrap.\n       */\n      lift: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const lift: RawCommands['lift'] = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema)\n  const isActive = isNodeActive(state, type, attributes)\n\n  if (!isActive) {\n    return false\n  }\n\n  return originalLift(state, dispatch)\n}\n", "import { liftEmptyBlock as originalLiftEmptyBlock } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    liftEmptyBlock: {\n      /**\n       * Lift block if empty.\n       */\n      liftEmptyBlock: () => ReturnType,\n    }\n  }\n}\n\nexport const liftEmptyBlock: RawCommands['liftEmptyBlock'] = () => ({ state, dispatch }) => {\n  return originalLiftEmptyBlock(state, dispatch)\n}\n", "import { NodeType } from '@tiptap/pm/model'\nimport { liftListItem as originalLiftListItem } from '@tiptap/pm/schema-list'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    liftListItem: {\n      /**\n       * Lift the list item into a wrapping list.\n       */\n      liftListItem: (typeOrName: string | NodeType) => ReturnType\n    }\n  }\n}\n\nexport const liftListItem: RawCommands['liftListItem'] = typeOrName => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema)\n\n  return originalLiftListItem(type)(state, dispatch)\n}\n", "import { newlineInCode as originalNewlineInCode } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    newlineInCode: {\n      /**\n       * Add a newline character in code.\n       */\n      newlineInCode: () => ReturnType\n    }\n  }\n}\n\nexport const newlineInCode: RawCommands['newlineInCode'] = () => ({ state, dispatch }) => {\n  return originalNewlineInCode(state, dispatch)\n}\n", "import { Schema } from '@tiptap/pm/model'\n\nexport function getSchemaTypeNameByName(name: string, schema: Schema): 'node' | 'mark' | null {\n  if (schema.nodes[name]) {\n    return 'node'\n  }\n\n  if (schema.marks[name]) {\n    return 'mark'\n  }\n\n  return null\n}\n", "/**\n * Remove a property or an array of properties from an object\n * @param obj Object\n * @param key Key to remove\n */\nexport function deleteProps(obj: Record<string, any>, propOrProps: string | string[]): Record<string, any> {\n  const props = typeof propOrProps === 'string'\n    ? [propOrProps]\n    : propOrProps\n\n  return Object\n    .keys(obj)\n    .reduce((newObj: Record<string, any>, prop) => {\n      if (!props.includes(prop)) {\n        newObj[prop] = obj[prop]\n      }\n\n      return newObj\n    }, {})\n}\n", "import { MarkType, NodeType } from '@tiptap/pm/model'\n\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { getSchemaTypeNameByName } from '../helpers/getSchemaTypeNameByName.js'\nimport { RawCommands } from '../types.js'\nimport { deleteProps } from '../utilities/deleteProps.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    resetAttributes: {\n      /**\n       * Resets some node attributes to the default value.\n       */\n      resetAttributes: (\n        typeOrName: string | NodeType | MarkType,\n        attributes: string | string[],\n      ) => ReturnType\n    }\n  }\n}\n\nexport const resetAttributes: RawCommands['resetAttributes'] = (typeOrName, attributes) => ({ tr, state, dispatch }) => {\n  let nodeType: NodeType | null = null\n  let markType: MarkType | null = null\n\n  const schemaType = getSchemaTypeNameByName(\n    typeof typeOrName === 'string' ? typeOrName : typeOrName.name,\n    state.schema,\n  )\n\n  if (!schemaType) {\n    return false\n  }\n\n  if (schemaType === 'node') {\n    nodeType = getNodeType(typeOrName as NodeType, state.schema)\n  }\n\n  if (schemaType === 'mark') {\n    markType = getMarkType(typeOrName as MarkType, state.schema)\n  }\n\n  if (dispatch) {\n    tr.selection.ranges.forEach(range => {\n      state.doc.nodesBetween(range.$from.pos, range.$to.pos, (node, pos) => {\n        if (nodeType && nodeType === node.type) {\n          tr.setNodeMarkup(pos, undefined, deleteProps(node.attrs, attributes))\n        }\n\n        if (markType && node.marks.length) {\n          node.marks.forEach(mark => {\n            if (markType === mark.type) {\n              tr.addMark(\n                pos,\n                pos + node.nodeSize,\n                markType.create(deleteProps(mark.attrs, attributes)),\n              )\n            }\n          })\n        }\n      })\n    })\n  }\n\n  return true\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    scrollIntoView: {\n      /**\n       * Scroll the selection into view.\n       */\n      scrollIntoView: () => ReturnType,\n    }\n  }\n}\n\nexport const scrollIntoView: RawCommands['scrollIntoView'] = () => ({ tr, dispatch }) => {\n  if (dispatch) {\n    tr.scrollIntoView()\n  }\n\n  return true\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectAll: {\n      /**\n       * Select the whole document.\n       */\n      selectAll: () => ReturnType,\n    }\n  }\n}\n\nexport const selectAll: RawCommands['selectAll'] = () => ({ tr, commands }) => {\n  return commands.setTextSelection({\n    from: 0,\n    to: tr.doc.content.size,\n  })\n}\n", "import { selectNodeBackward as originalSelectNodeBackward } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectNodeBackward: {\n      /**\n       * Select a node backward.\n       */\n      selectNodeBackward: () => ReturnType\n    }\n  }\n}\n\nexport const selectNodeBackward: RawCommands['selectNodeBackward'] = () => ({ state, dispatch }) => {\n  return originalSelectNodeBackward(state, dispatch)\n}\n", "import { selectNodeForward as originalSelectNodeForward } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectNodeForward: {\n      /**\n       * Select a node forward.\n       */\n      selectNodeForward: () => ReturnType\n    }\n  }\n}\n\nexport const selectNodeForward: RawCommands['selectNodeForward'] = () => ({ state, dispatch }) => {\n  return originalSelectNodeForward(state, dispatch)\n}\n", "import { selectParentNode as originalSelectParentNode } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectParentNode: {\n      /**\n       * Select the parent node.\n       */\n      selectParentNode: () => ReturnType\n    }\n  }\n}\n\nexport const selectParentNode: RawCommands['selectParentNode'] = () => ({ state, dispatch }) => {\n  return originalSelectParentNode(state, dispatch)\n}\n", "// @ts-ignore\n// TODO: add types to @types/prosemirror-commands\nimport { selectTextblockEnd as originalSelectTextblockEnd } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectTextblockEnd: {\n      /**\n       * Moves the cursor to the end of current text block.\n       */\n      selectTextblockEnd: () => ReturnType\n    }\n  }\n}\n\nexport const selectTextblockEnd: RawCommands['selectTextblockEnd'] = () => ({ state, dispatch }) => {\n  return originalSelectTextblockEnd(state, dispatch)\n}\n", "// @ts-ignore\n// TODO: add types to @types/prosemirror-commands\nimport { selectTextblockStart as originalSelectTextblockStart } from '@tiptap/pm/commands'\n\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectTextblockStart: {\n      /**\n       * Moves the cursor to the start of current text block.\n       */\n      selectTextblockStart: () => ReturnType\n    }\n  }\n}\n\nexport const selectTextblockStart: RawCommands['selectTextblockStart'] = () => ({ state, dispatch }) => {\n  return originalSelectTextblockStart(state, dispatch)\n}\n", "import { Node as ProseMirrorNode, ParseOptions, Schema } from '@tiptap/pm/model'\n\nimport { Content } from '../types.js'\nimport { createNodeFromContent } from './createNodeFromContent.js'\n\nexport function createDocument(\n  content: Content,\n  schema: Schema,\n  parseOptions: ParseOptions = {},\n): ProseMirrorNode {\n  return createNodeFromContent(content, schema, { slice: false, parseOptions }) as ProseMirrorNode\n}\n", "import { ParseOptions } from '@tiptap/pm/model'\n\nimport { createDocument } from '../helpers/createDocument.js'\nimport { Content, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setContent: {\n      /**\n       * Replace the whole document with new content.\n       */\n      setContent: (\n        content: Content,\n        emitUpdate?: boolean,\n        parseOptions?: ParseOptions,\n      ) => ReturnType\n    }\n  }\n}\n\nexport const setContent: RawCommands['setContent'] = (content, emitUpdate = false, parseOptions = {}) => ({ tr, editor, dispatch }) => {\n  const { doc } = tr\n  const document = createDocument(content, editor.schema, parseOptions)\n\n  if (dispatch) {\n    tr.replaceWith(0, doc.content.size, document).setMeta('preventUpdate', !emitUpdate)\n  }\n\n  return true\n}\n", "import { Mark, MarkType } from '@tiptap/pm/model'\nimport { EditorState } from '@tiptap/pm/state'\n\nimport { getMarkType } from './getMarkType.js'\n\nexport function getMarkAttributes(\n  state: EditorState,\n  typeOrName: string | MarkType,\n): Record<string, any> {\n  const type = getMarkType(typeOrName, state.schema)\n  const { from, to, empty } = state.selection\n  const marks: Mark[] = []\n\n  if (empty) {\n    if (state.storedMarks) {\n      marks.push(...state.storedMarks)\n    }\n\n    marks.push(...state.selection.$head.marks())\n  } else {\n    state.doc.nodesBetween(from, to, node => {\n      marks.push(...node.marks)\n    })\n  }\n\n  const mark = marks.find(markItem => markItem.type.name === type.name)\n\n  if (!mark) {\n    return {}\n  }\n\n  return { ...mark.attrs }\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\nimport { Transaction } from '@tiptap/pm/state'\nimport { Transform } from '@tiptap/pm/transform'\n\n/**\n * Returns a new `Transform` based on all steps of the passed transactions.\n */\nexport function combineTransactionSteps(\n  oldDoc: ProseMirrorNode,\n  transactions: Transaction[],\n): Transform {\n  const transform = new Transform(oldDoc)\n\n  transactions.forEach(transaction => {\n    transaction.steps.forEach(step => {\n      transform.step(step)\n    })\n  })\n\n  return transform\n}\n", "import { ContentMatch, NodeType } from '@tiptap/pm/model'\n\nexport function defaultBlockAt(match: ContentMatch): NodeType | null {\n  for (let i = 0; i < match.edgeCount; i += 1) {\n    const { type } = match.edge(i)\n\n    if (type.isTextblock && !type.hasRequiredAttrs()) {\n      return type\n    }\n  }\n\n  return null\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport { NodeWithPos, Predicate } from '../types.js'\n\nexport function findChildren(node: ProseMirrorNode, predicate: Predicate): NodeWithPos[] {\n  const nodesWithPos: NodeWithPos[] = []\n\n  node.descendants((child, pos) => {\n    if (predicate(child)) {\n      nodesWithPos.push({\n        node: child,\n        pos,\n      })\n    }\n  })\n\n  return nodesWithPos\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport { NodeWithPos, Predicate, Range } from '../types.js'\n\n/**\n * Same as `findChildren` but searches only within a `range`.\n */\nexport function findChildrenInRange(\n  node: ProseMirrorNode,\n  range: Range,\n  predicate: Predicate,\n): NodeWithPos[] {\n  const nodesWithPos: NodeWithPos[] = []\n\n  // if (range.from === range.to) {\n  //   const nodeAt = node.nodeAt(range.from)\n\n  //   if (nodeAt) {\n  //     nodesWithPos.push({\n  //       node: nodeAt,\n  //       pos: range.from,\n  //     })\n  //   }\n  // }\n\n  node.nodesBetween(range.from, range.to, (child, pos) => {\n    if (predicate(child)) {\n      nodesWithPos.push({\n        node: child,\n        pos,\n      })\n    }\n  })\n\n  return nodesWithPos\n}\n", "import { Node as ProseMirrorNode, ResolvedPos } from '@tiptap/pm/model'\n\nimport { Predicate } from '../types.js'\n\nexport function findParentNodeClosestToPos(\n  $pos: ResolvedPos,\n  predicate: Predicate,\n):\n  | {\n      pos: number\n      start: number\n      depth: number\n      node: ProseMirrorNode\n    }\n  | undefined {\n  for (let i = $pos.depth; i > 0; i -= 1) {\n    const node = $pos.node(i)\n\n    if (predicate(node)) {\n      return {\n        pos: i > 0 ? $pos.before(i) : 0,\n        start: $pos.start(i),\n        depth: i,\n        node,\n      }\n    }\n  }\n}\n", "import { Selection } from '@tiptap/pm/state'\n\nimport { Predicate } from '../types.js'\nimport { findParentNodeClosestToPos } from './findParentNodeClosestToPos.js'\n\nexport function findParentNode(predicate: Predicate) {\n  return (selection: Selection) => findParentNodeClosestToPos(selection.$from, predicate)\n}\n", "import { DOMSerializer, Fragment, Schema } from '@tiptap/pm/model'\n\nexport function getHTMLFromFragment(fragment: Fragment, schema: Schema): string {\n  const documentFragment = DOMSerializer.fromSchema(schema).serializeFragment(fragment)\n\n  const temporaryDocument = document.implementation.createHTMLDocument()\n  const container = temporaryDocument.createElement('div')\n\n  container.appendChild(documentFragment)\n\n  return container.innerHTML\n}\n", "import { Schema } from '@tiptap/pm/model'\n\nimport { Editor } from '../Editor.js'\nimport { ExtensionManager } from '../ExtensionManager.js'\nimport { Extensions } from '../types.js'\nimport { getSchemaByResolvedExtensions } from './getSchemaByResolvedExtensions.js'\n\nexport function getSchema(extensions: Extensions, editor?: Editor): Schema {\n  const resolvedExtensions = ExtensionManager.resolve(extensions)\n\n  return getSchemaByResolvedExtensions(resolvedExtensions, editor)\n}\n", "import { Node } from '@tiptap/pm/model'\n\nimport { Extensions, JSONContent } from '../types.js'\nimport { getHTMLFromFragment } from './getHTMLFromFragment.js'\nimport { getSchema } from './getSchema.js'\n\nexport function generateHTML(doc: JSONContent, extensions: Extensions): string {\n  const schema = getSchema(extensions)\n  const contentNode = Node.fromJSON(schema, doc)\n\n  return getHTMLFromFragment(contentNode.content, schema)\n}\n", "import { DOMParser } from '@tiptap/pm/model'\n\nimport { Extensions } from '../types.js'\nimport { elementFromString } from '../utilities/elementFromString.js'\nimport { getSchema } from './getSchema.js'\n\nexport function generateJSON(html: string, extensions: Extensions): Record<string, any> {\n  const schema = getSchema(extensions)\n  const dom = elementFromString(html)\n\n  return DOMParser.fromSchema(schema).parse(dom).toJSON()\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport { TextSerializer } from '../types.js'\nimport { getTextBetween } from './getTextBetween.js'\n\nexport function getText(\n  node: ProseMirrorNode,\n  options?: {\n    blockSeparator?: string\n    textSerializers?: Record<string, TextSerializer>\n  },\n) {\n  const range = {\n    from: 0,\n    to: node.content.size,\n  }\n\n  return getTextBetween(node, range, options)\n}\n", "import { Node } from '@tiptap/pm/model'\n\nimport { Extensions, JSONContent, TextSerializer } from '../types.js'\nimport { getSchema } from './getSchema.js'\nimport { getText } from './getText.js'\nimport { getTextSerializersFromSchema } from './getTextSerializersFromSchema.js'\n\nexport function generateText(\n  doc: JSONContent,\n  extensions: Extensions,\n  options?: {\n    blockSeparator?: string\n    textSerializers?: Record<string, TextSerializer>\n  },\n): string {\n  const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {}\n  const schema = getSchema(extensions)\n  const contentNode = Node.fromJSON(schema, doc)\n\n  return getText(contentNode, {\n    blockSeparator,\n    textSerializers: {\n      ...getTextSerializersFromSchema(schema),\n      ...textSerializers,\n    },\n  })\n}\n", "import { Node, NodeType } from '@tiptap/pm/model'\nimport { EditorState } from '@tiptap/pm/state'\n\nimport { getNodeType } from './getNodeType.js'\n\nexport function getNodeAttributes(\n  state: EditorState,\n  typeOrName: string | NodeType,\n): Record<string, any> {\n  const type = getNodeType(typeOrName, state.schema)\n  const { from, to } = state.selection\n  const nodes: Node[] = []\n\n  state.doc.nodesBetween(from, to, node => {\n    nodes.push(node)\n  })\n\n  const node = nodes.reverse().find(nodeItem => nodeItem.type.name === type.name)\n\n  if (!node) {\n    return {}\n  }\n\n  return { ...node.attrs }\n}\n", "import { MarkType, NodeType } from '@tiptap/pm/model'\nimport { EditorState } from '@tiptap/pm/state'\n\nimport { getMarkAttributes } from './getMarkAttributes.js'\nimport { getNodeAttributes } from './getNodeAttributes.js'\nimport { getSchemaTypeNameByName } from './getSchemaTypeNameByName.js'\n\nexport function getAttributes(\n  state: EditorState,\n  typeOrName: string | NodeType | MarkType,\n): Record<string, any> {\n  const schemaType = getSchemaTypeNameByName(\n    typeof typeOrName === 'string' ? typeOrName : typeOrName.name,\n    state.schema,\n  )\n\n  if (schemaType === 'node') {\n    return getNodeAttributes(state, typeOrName as NodeType)\n  }\n\n  if (schemaType === 'mark') {\n    return getMarkAttributes(state, typeOrName as MarkType)\n  }\n\n  return {}\n}\n", "/**\n * Removes duplicated values within an array.\n * Supports numbers, strings and objects.\n */\nexport function removeDuplicates<T>(array: T[], by = JSON.stringify): T[] {\n  const seen: Record<any, any> = {}\n\n  return array.filter(item => {\n    const key = by(item)\n\n    return Object.prototype.hasOwnProperty.call(seen, key)\n      ? false\n      : (seen[key] = true)\n  })\n}\n", "import { Step, Transform } from '@tiptap/pm/transform'\n\nimport { Range } from '../types.js'\nimport { removeDuplicates } from '../utilities/removeDuplicates.js'\n\nexport type ChangedRange = {\n  oldRange: Range,\n  newRange: Range,\n}\n\n/**\n * Removes duplicated ranges and ranges that are\n * fully captured by other ranges.\n */\nfunction simplifyChangedRanges(changes: ChangedRange[]): ChangedRange[] {\n  const uniqueChanges = removeDuplicates(changes)\n\n  return uniqueChanges.length === 1\n    ? uniqueChanges\n    : uniqueChanges.filter((change, index) => {\n      const rest = uniqueChanges.filter((_, i) => i !== index)\n\n      return !rest.some(otherChange => {\n        return change.oldRange.from >= otherChange.oldRange.from\n          && change.oldRange.to <= otherChange.oldRange.to\n          && change.newRange.from >= otherChange.newRange.from\n          && change.newRange.to <= otherChange.newRange.to\n      })\n    })\n}\n\n/**\n * Returns a list of changed ranges\n * based on the first and last state of all steps.\n */\nexport function getChangedRanges(transform: Transform): ChangedRange[] {\n  const { mapping, steps } = transform\n  const changes: ChangedRange[] = []\n\n  mapping.maps.forEach((stepMap, index) => {\n    const ranges: Range[] = []\n\n    // This accounts for step changes where no range was actually altered\n    // e.g. when setting a mark, node attribute, etc.\n    // @ts-ignore\n    if (!stepMap.ranges.length) {\n      const { from, to } = steps[index] as Step & {\n        from?: number,\n        to?: number,\n      }\n\n      if (from === undefined || to === undefined) {\n        return\n      }\n\n      ranges.push({ from, to })\n    } else {\n      stepMap.forEach((from, to) => {\n        ranges.push({ from, to })\n      })\n    }\n\n    ranges.forEach(({ from, to }) => {\n      const newStart = mapping.slice(index).map(from, -1)\n      const newEnd = mapping.slice(index).map(to)\n      const oldStart = mapping.invert().map(newStart, -1)\n      const oldEnd = mapping.invert().map(newEnd)\n\n      changes.push({\n        oldRange: {\n          from: oldStart,\n          to: oldEnd,\n        },\n        newRange: {\n          from: newStart,\n          to: newEnd,\n        },\n      })\n    })\n  })\n\n  return simplifyChangedRanges(changes)\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport { JSONContent } from '../types.js'\n\ninterface DebugJSONContent extends JSONContent {\n  from: number\n  to: number\n}\n\nexport function getDebugJSON(node: ProseMirrorNode, startOffset = 0): DebugJSONContent {\n  const isTopNode = node.type === node.type.schema.topNodeType\n  const increment = isTopNode ? 0 : 1\n  const from = startOffset\n  const to = from + node.nodeSize\n  const marks = node.marks.map(mark => {\n    const output: { type: string; attrs?: Record<string, any> } = {\n      type: mark.type.name,\n    }\n\n    if (Object.keys(mark.attrs).length) {\n      output.attrs = { ...mark.attrs }\n    }\n\n    return output\n  })\n  const attrs = { ...node.attrs }\n  const output: DebugJSONContent = {\n    type: node.type.name,\n    from,\n    to,\n  }\n\n  if (Object.keys(attrs).length) {\n    output.attrs = attrs\n  }\n\n  if (marks.length) {\n    output.marks = marks\n  }\n\n  if (node.content.childCount) {\n    output.content = []\n\n    node.forEach((child, offset) => {\n      output.content?.push(getDebugJSON(child, startOffset + offset + increment))\n    })\n  }\n\n  if (node.text) {\n    output.text = node.text\n  }\n\n  return output\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport { MarkRange } from '../types.js'\nimport { getMarkRange } from './getMarkRange.js'\n\nexport function getMarksBetween(from: number, to: number, doc: ProseMirrorNode): MarkRange[] {\n  const marks: MarkRange[] = []\n\n  // get all inclusive marks on empty selection\n  if (from === to) {\n    doc\n      .resolve(from)\n      .marks()\n      .forEach(mark => {\n        const $pos = doc.resolve(from - 1)\n        const range = getMarkRange($pos, mark.type)\n\n        if (!range) {\n          return\n        }\n\n        marks.push({\n          mark,\n          ...range,\n        })\n      })\n  } else {\n    doc.nodesBetween(from, to, (node, pos) => {\n      marks.push(\n        ...node.marks.map(mark => ({\n          from: pos,\n          to: pos + node.nodeSize,\n          mark,\n        })),\n      )\n    })\n  }\n\n  return marks\n}\n", "import { Node, NodeType } from '@tiptap/pm/model'\nimport { EditorState } from '@tiptap/pm/state'\n\n/**\n * Finds the first node of a given type or name in the current selection.\n * @param state The editor state.\n * @param typeOrName The node type or name.\n * @param pos The position to start searching from.\n * @param maxDepth The maximum depth to search.\n * @returns The node and the depth as an array.\n */\nexport const getNodeAtPosition = (state: EditorState, typeOrName: string | NodeType, pos: number, maxDepth = 20) => {\n  const $pos = state.doc.resolve(pos)\n\n  let currentDepth = maxDepth\n  let node: Node | null = null\n\n  while (currentDepth > 0 && node === null) {\n    const currentNode = $pos.node(currentDepth)\n\n    if (currentNode?.type.name === typeOrName) {\n      node = currentNode\n    } else {\n      currentDepth -= 1\n    }\n  }\n\n  return [node, currentDepth] as [Node | null, number]\n}\n", "import { ExtensionAttribute } from '../types.js'\n\nexport function getSplittedAttributes(\n  extensionAttributes: ExtensionAttribute[],\n  typeName: string,\n  attributes: Record<string, any>,\n): Record<string, any> {\n  return Object.fromEntries(Object\n    .entries(attributes)\n    .filter(([name]) => {\n      const extensionAttribute = extensionAttributes.find(item => {\n        return item.type === typeName && item.name === name\n      })\n\n      if (!extensionAttribute) {\n        return false\n      }\n\n      return extensionAttribute.attribute.keepOnSplit\n    }))\n}\n", "import { MarkType } from '@tiptap/pm/model'\nimport { EditorState } from '@tiptap/pm/state'\n\nimport { MarkRange } from '../types.js'\nimport { objectIncludes } from '../utilities/objectIncludes.js'\nimport { getMarkType } from './getMarkType.js'\n\nexport function isMarkActive(\n  state: EditorState,\n  typeOrName: MarkType | string | null,\n  attributes: Record<string, any> = {},\n): boolean {\n  const { empty, ranges } = state.selection\n  const type = typeOrName ? getMarkType(typeOrName, state.schema) : null\n\n  if (empty) {\n    return !!(state.storedMarks || state.selection.$from.marks())\n      .filter(mark => {\n        if (!type) {\n          return true\n        }\n\n        return type.name === mark.type.name\n      })\n      .find(mark => objectIncludes(mark.attrs, attributes, { strict: false }))\n  }\n\n  let selectionRange = 0\n  const markRanges: MarkRange[] = []\n\n  ranges.forEach(({ $from, $to }) => {\n    const from = $from.pos\n    const to = $to.pos\n\n    state.doc.nodesBetween(from, to, (node, pos) => {\n      if (!node.isText && !node.marks.length) {\n        return\n      }\n\n      const relativeFrom = Math.max(from, pos)\n      const relativeTo = Math.min(to, pos + node.nodeSize)\n      const range = relativeTo - relativeFrom\n\n      selectionRange += range\n\n      markRanges.push(\n        ...node.marks.map(mark => ({\n          mark,\n          from: relativeFrom,\n          to: relativeTo,\n        })),\n      )\n    })\n  })\n\n  if (selectionRange === 0) {\n    return false\n  }\n\n  // calculate range of matched mark\n  const matchedRange = markRanges\n    .filter(markRange => {\n      if (!type) {\n        return true\n      }\n\n      return type.name === markRange.mark.type.name\n    })\n    .filter(markRange => objectIncludes(markRange.mark.attrs, attributes, { strict: false }))\n    .reduce((sum, markRange) => sum + markRange.to - markRange.from, 0)\n\n  // calculate range of marks that excludes the searched mark\n  // for example `code` doesn’t allow any other marks\n  const excludedRange = markRanges\n    .filter(markRange => {\n      if (!type) {\n        return true\n      }\n\n      return markRange.mark.type !== type && markRange.mark.type.excludes(type)\n    })\n    .reduce((sum, markRange) => sum + markRange.to - markRange.from, 0)\n\n  // we only include the result of `excludedRange`\n  // if there is a match at all\n  const range = matchedRange > 0 ? matchedRange + excludedRange : matchedRange\n\n  return range >= selectionRange\n}\n", "import { EditorState } from '@tiptap/pm/state'\n\nimport { getSchemaTypeNameByName } from './getSchemaTypeNameByName.js'\nimport { isMarkActive } from './isMarkActive.js'\nimport { isNodeActive } from './isNodeActive.js'\n\nexport function isActive(\n  state: EditorState,\n  name: string | null,\n  attributes: Record<string, any> = {},\n): boolean {\n  if (!name) {\n    return isNodeActive(state, null, attributes) || isMarkActive(state, null, attributes)\n  }\n\n  const schemaType = getSchemaTypeNameByName(name, state.schema)\n\n  if (schemaType === 'node') {\n    return isNodeActive(state, name, attributes)\n  }\n\n  if (schemaType === 'mark') {\n    return isMarkActive(state, name, attributes)\n  }\n\n  return false\n}\n", "import { EditorState } from '@tiptap/pm/state'\n\nimport { findParentNode } from './findParentNode.js'\n\nexport const isAtEndOfNode = (state: EditorState, nodeType?: string) => {\n  const { $from, $to, $anchor } = state.selection\n\n  if (nodeType) {\n    const parentNode = findParentNode(node => node.type.name === nodeType)(state.selection)\n\n    if (!parentNode) {\n      return false\n    }\n\n    const $parentPos = state.doc.resolve(parentNode.pos + 1)\n\n    if ($anchor.pos + 1 === $parentPos.end()) {\n      return true\n    }\n\n    return false\n  }\n\n  if ($to.parentOffset < $to.parent.nodeSize - 2 || $from.pos !== $to.pos) {\n    return false\n  }\n\n  return true\n}\n", "import { EditorState } from '@tiptap/pm/state'\n\nexport const isAtStartOfNode = (state: EditorState) => {\n  const { $from, $to } = state.selection\n\n  if ($from.parentOffset > 0 || $from.pos !== $to.pos) {\n    return false\n  }\n\n  return true\n}\n", "import { getExtensionField } from '../helpers/getExtensionField.js'\nimport { NodeConfig } from '../index.js'\nimport { Extensions } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\nimport { splitExtensions } from './splitExtensions.js'\n\nexport function isList(name: string, extensions: Extensions): boolean {\n  const { nodeExtensions } = splitExtensions(extensions)\n  const extension = nodeExtensions.find(item => item.name === name)\n\n  if (!extension) {\n    return false\n  }\n\n  const context = {\n    name: extension.name,\n    options: extension.options,\n    storage: extension.storage,\n  }\n  const group = callOrReturn(getExtensionField<NodeConfig['group']>(extension, 'group', context))\n\n  if (typeof group !== 'string') {\n    return false\n  }\n\n  return group.split(' ').includes('list')\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nexport function isNodeEmpty(node: ProseMirrorNode): boolean {\n  const defaultContent = node.type.createAndFill()?.toJSON()\n  const content = node.toJSON()\n\n  return JSON.stringify(defaultContent) === JSON.stringify(content)\n}\n", "import { NodeSelection } from '@tiptap/pm/state'\n\nexport function isNodeSelection(value: unknown): value is NodeSelection {\n  return value instanceof NodeSelection\n}\n", "import { EditorView } from '@tiptap/pm/view'\n\nimport { minMax } from '../utilities/minMax.js'\n\nexport function posToDOMRect(view: EditorView, from: number, to: number): DOMRect {\n  const minPos = 0\n  const maxPos = view.state.doc.content.size\n  const resolvedFrom = minMax(from, minPos, maxPos)\n  const resolvedEnd = minMax(to, minPos, maxPos)\n  const start = view.coordsAtPos(resolvedFrom)\n  const end = view.coordsAtPos(resolvedEnd, -1)\n  const top = Math.min(start.top, end.top)\n  const bottom = Math.max(start.bottom, end.bottom)\n  const left = Math.min(start.left, end.left)\n  const right = Math.max(start.right, end.right)\n  const width = right - left\n  const height = bottom - top\n  const x = left\n  const y = top\n  const data = {\n    top,\n    bottom,\n    left,\n    right,\n    width,\n    height,\n    x,\n    y,\n  }\n\n  return {\n    ...data,\n    toJSON: () => data,\n  }\n}\n", "import { MarkType, ResolvedPos } from '@tiptap/pm/model'\nimport { EditorState, Transaction } from '@tiptap/pm/state'\n\nimport { getMarkAttributes } from '../helpers/getMarkAttributes.js'\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { isTextSelection } from '../helpers/index.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setMark: {\n      /**\n       * Add a mark with new attributes.\n       */\n      setMark: (typeOrName: string | MarkType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nfunction canSetMark(state: EditorState, tr: Transaction, newMarkType: MarkType) {\n  const { selection } = tr\n  let cursor: ResolvedPos | null = null\n\n  if (isTextSelection(selection)) {\n    cursor = selection.$cursor\n  }\n\n  if (cursor) {\n    const currentMarks = state.storedMarks ?? cursor.marks()\n\n    // There can be no current marks that exclude the new mark\n    return (\n      !!newMarkType.isInSet(currentMarks)\n      || !currentMarks.some(mark => mark.type.excludes(newMarkType))\n    )\n  }\n\n  const { ranges } = selection\n\n  return ranges.some(({ $from, $to }) => {\n    let someNodeSupportsMark = $from.depth === 0\n      ? state.doc.inlineContent && state.doc.type.allowsMarkType(newMarkType)\n      : false\n\n    state.doc.nodesBetween($from.pos, $to.pos, (node, _pos, parent) => {\n      // If we already found a mark that we can enable, return false to bypass the remaining search\n      if (someNodeSupportsMark) {\n        return false\n      }\n\n      if (node.isInline) {\n        const parentAllowsMarkType = !parent || parent.type.allowsMarkType(newMarkType)\n        const currentMarksAllowMarkType = !!newMarkType.isInSet(node.marks)\n          || !node.marks.some(otherMark => otherMark.type.excludes(newMarkType))\n\n        someNodeSupportsMark = parentAllowsMarkType && currentMarksAllowMarkType\n      }\n      return !someNodeSupportsMark\n    })\n\n    return someNodeSupportsMark\n  })\n}\nexport const setMark: RawCommands['setMark'] = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\n  const { selection } = tr\n  const { empty, ranges } = selection\n  const type = getMarkType(typeOrName, state.schema)\n\n  if (dispatch) {\n    if (empty) {\n      const oldAttributes = getMarkAttributes(state, type)\n\n      tr.addStoredMark(\n        type.create({\n          ...oldAttributes,\n          ...attributes,\n        }),\n      )\n    } else {\n      ranges.forEach(range => {\n        const from = range.$from.pos\n        const to = range.$to.pos\n\n        state.doc.nodesBetween(from, to, (node, pos) => {\n          const trimmedFrom = Math.max(pos, from)\n          const trimmedTo = Math.min(pos + node.nodeSize, to)\n          const someHasMark = node.marks.find(mark => mark.type === type)\n\n          // if there is already a mark of this type\n          // we know that we have to merge its attributes\n          // otherwise we add a fresh new mark\n          if (someHasMark) {\n            node.marks.forEach(mark => {\n              if (type === mark.type) {\n                tr.addMark(\n                  trimmedFrom,\n                  trimmedTo,\n                  type.create({\n                    ...mark.attrs,\n                    ...attributes,\n                  }),\n                )\n              }\n            })\n          } else {\n            tr.addMark(trimmedFrom, trimmedTo, type.create(attributes))\n          }\n        })\n      })\n    }\n  }\n\n  return canSetMark(state, tr, type)\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setMeta: {\n      /**\n       * Store a metadata property in the current transaction.\n       */\n      setMeta: (key: string, value: any) => ReturnType,\n    }\n  }\n}\n\nexport const setMeta: RawCommands['setMeta'] = (key, value) => ({ tr }) => {\n  tr.setMeta(key, value)\n\n  return true\n}\n", "import { setBlockType } from '@tiptap/pm/commands'\nimport { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setNode: {\n      /**\n       * Replace a given range with a node.\n       */\n      setNode: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const setNode: RawCommands['setNode'] = (typeOrName, attributes = {}) => ({ state, dispatch, chain }) => {\n  const type = getNodeType(typeOrName, state.schema)\n\n  // TODO: use a fallback like insertContent?\n  if (!type.isTextblock) {\n    console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.')\n\n    return false\n  }\n\n  return (\n    chain()\n    // try to convert node to default node if needed\n      .command(({ commands }) => {\n        const canSetBlock = setBlockType(type, attributes)(state)\n\n        if (canSetBlock) {\n          return true\n        }\n\n        return commands.clearNodes()\n      })\n      .command(({ state: updatedState }) => {\n        return setBlockType(type, attributes)(updatedState, dispatch)\n      })\n      .run()\n  )\n}\n", "import { NodeSelection } from '@tiptap/pm/state'\n\nimport { RawCommands } from '../types.js'\nimport { minMax } from '../utilities/minMax.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setNodeSelection: {\n      /**\n       * Creates a NodeSelection.\n       */\n      setNodeSelection: (position: number) => ReturnType\n    }\n  }\n}\n\nexport const setNodeSelection: RawCommands['setNodeSelection'] = position => ({ tr, dispatch }) => {\n  if (dispatch) {\n    const { doc } = tr\n    const from = minMax(position, 0, doc.content.size)\n    const selection = NodeSelection.create(doc, from)\n\n    tr.setSelection(selection)\n  }\n\n  return true\n}\n", "import { TextSelection } from '@tiptap/pm/state'\n\nimport { Range, RawCommands } from '../types.js'\nimport { minMax } from '../utilities/minMax.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setTextSelection: {\n      /**\n       * Creates a TextSelection.\n       */\n      setTextSelection: (position: number | Range) => ReturnType\n    }\n  }\n}\n\nexport const setTextSelection: RawCommands['setTextSelection'] = position => ({ tr, dispatch }) => {\n  if (dispatch) {\n    const { doc } = tr\n    const { from, to } = typeof position === 'number' ? { from: position, to: position } : position\n    const minPos = TextSelection.atStart(doc).from\n    const maxPos = TextSelection.atEnd(doc).to\n    const resolvedFrom = minMax(from, minPos, maxPos)\n    const resolvedEnd = minMax(to, minPos, maxPos)\n    const selection = TextSelection.create(doc, resolvedFrom, resolvedEnd)\n\n    tr.setSelection(selection)\n  }\n\n  return true\n}\n", "import { NodeType } from '@tiptap/pm/model'\nimport { sinkListItem as originalSinkListItem } from '@tiptap/pm/schema-list'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    sinkListItem: {\n      /**\n       * Sink the list item down into an inner list.\n       */\n      sinkListItem: (typeOrName: string | NodeType) => ReturnType\n    }\n  }\n}\n\nexport const sinkListItem: RawCommands['sinkListItem'] = typeOrName => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema)\n\n  return originalSinkListItem(type)(state, dispatch)\n}\n", "import { EditorState, NodeSelection, TextSelection } from '@tiptap/pm/state'\nimport { canSplit } from '@tiptap/pm/transform'\n\nimport { defaultBlockAt } from '../helpers/defaultBlockAt.js'\nimport { getSplittedAttributes } from '../helpers/getSplittedAttributes.js'\nimport { RawCommands } from '../types.js'\n\nfunction ensureMarks(state: EditorState, splittableMarks?: string[]) {\n  const marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks())\n\n  if (marks) {\n    const filteredMarks = marks.filter(mark => splittableMarks?.includes(mark.type.name))\n\n    state.tr.ensureMarks(filteredMarks)\n  }\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    splitBlock: {\n      /**\n       * Forks a new node from an existing node.\n       */\n      splitBlock: (options?: { keepMarks?: boolean }) => ReturnType\n    }\n  }\n}\n\nexport const splitBlock: RawCommands['splitBlock'] = ({ keepMarks = true } = {}) => ({\n  tr, state, dispatch, editor,\n}) => {\n  const { selection, doc } = tr\n  const { $from, $to } = selection\n  const extensionAttributes = editor.extensionManager.attributes\n  const newAttributes = getSplittedAttributes(\n    extensionAttributes,\n    $from.node().type.name,\n    $from.node().attrs,\n  )\n\n  if (selection instanceof NodeSelection && selection.node.isBlock) {\n    if (!$from.parentOffset || !canSplit(doc, $from.pos)) {\n      return false\n    }\n\n    if (dispatch) {\n      if (keepMarks) {\n        ensureMarks(state, editor.extensionManager.splittableMarks)\n      }\n\n      tr.split($from.pos).scrollIntoView()\n    }\n\n    return true\n  }\n\n  if (!$from.parent.isBlock) {\n    return false\n  }\n\n  if (dispatch) {\n    const atEnd = $to.parentOffset === $to.parent.content.size\n\n    if (selection instanceof TextSelection) {\n      tr.deleteSelection()\n    }\n\n    const deflt = $from.depth === 0\n      ? undefined\n      : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)))\n\n    let types = atEnd && deflt\n      ? [\n        {\n          type: deflt,\n          attrs: newAttributes,\n        },\n      ]\n      : undefined\n\n    let can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types)\n\n    if (\n      !types\n        && !can\n        && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [{ type: deflt }] : undefined)\n    ) {\n      can = true\n      types = deflt\n        ? [\n          {\n            type: deflt,\n            attrs: newAttributes,\n          },\n        ]\n        : undefined\n    }\n\n    if (can) {\n      tr.split(tr.mapping.map($from.pos), 1, types)\n\n      if (deflt && !atEnd && !$from.parentOffset && $from.parent.type !== deflt) {\n        const first = tr.mapping.map($from.before())\n        const $first = tr.doc.resolve(first)\n\n        if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt)) {\n          tr.setNodeMarkup(tr.mapping.map($from.before()), deflt)\n        }\n      }\n    }\n\n    if (keepMarks) {\n      ensureMarks(state, editor.extensionManager.splittableMarks)\n    }\n\n    tr.scrollIntoView()\n  }\n\n  return true\n}\n", "import {\n  Fragment, Node as ProseMirrorNode, NodeType, Slice,\n} from '@tiptap/pm/model'\nimport { TextSelection } from '@tiptap/pm/state'\nimport { canSplit } from '@tiptap/pm/transform'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { getSplittedAttributes } from '../helpers/getSplittedAttributes.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    splitListItem: {\n      /**\n       * Splits one list item into two list items.\n       */\n      splitListItem: (typeOrName: string | NodeType) => ReturnType\n    }\n  }\n}\n\nexport const splitListItem: RawCommands['splitListItem'] = typeOrName => ({\n  tr, state, dispatch, editor,\n}) => {\n  const type = getNodeType(typeOrName, state.schema)\n  const { $from, $to } = state.selection\n\n  // @ts-ignore\n  // eslint-disable-next-line\n    const node: ProseMirrorNode = state.selection.node\n\n  if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to)) {\n    return false\n  }\n\n  const grandParent = $from.node(-1)\n\n  if (grandParent.type !== type) {\n    return false\n  }\n\n  const extensionAttributes = editor.extensionManager.attributes\n\n  if ($from.parent.content.size === 0 && $from.node(-1).childCount === $from.indexAfter(-1)) {\n    // In an empty block. If this is a nested list, the wrapping\n    // list item should be split. Otherwise, bail out and let next\n    // command handle lifting.\n    if (\n      $from.depth === 2\n        || $from.node(-3).type !== type\n        || $from.index(-2) !== $from.node(-2).childCount - 1\n    ) {\n      return false\n    }\n\n    if (dispatch) {\n      let wrap = Fragment.empty\n      // eslint-disable-next-line\n        const depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3\n\n      // Build a fragment containing empty versions of the structure\n      // from the outer list item to the parent node of the cursor\n      for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d -= 1) {\n        wrap = Fragment.from($from.node(d).copy(wrap))\n      }\n\n      // eslint-disable-next-line\n        const depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1 : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3\n\n      // Add a second list item with an empty default start node\n      const newNextTypeAttributes = getSplittedAttributes(\n        extensionAttributes,\n        $from.node().type.name,\n        $from.node().attrs,\n      )\n      const nextType = type.contentMatch.defaultType?.createAndFill(newNextTypeAttributes) || undefined\n\n      wrap = wrap.append(Fragment.from(type.createAndFill(null, nextType) || undefined))\n\n      const start = $from.before($from.depth - (depthBefore - 1))\n\n      tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0))\n\n      let sel = -1\n\n      tr.doc.nodesBetween(start, tr.doc.content.size, (n, pos) => {\n        if (sel > -1) {\n          return false\n        }\n\n        if (n.isTextblock && n.content.size === 0) {\n          sel = pos + 1\n        }\n      })\n\n      if (sel > -1) {\n        tr.setSelection(TextSelection.near(tr.doc.resolve(sel)))\n      }\n\n      tr.scrollIntoView()\n    }\n\n    return true\n  }\n\n  const nextType = $to.pos === $from.end() ? grandParent.contentMatchAt(0).defaultType : null\n\n  const newTypeAttributes = getSplittedAttributes(\n    extensionAttributes,\n    grandParent.type.name,\n    grandParent.attrs,\n  )\n  const newNextTypeAttributes = getSplittedAttributes(\n    extensionAttributes,\n    $from.node().type.name,\n    $from.node().attrs,\n  )\n\n  tr.delete($from.pos, $to.pos)\n\n  const types = nextType\n    ? [\n      { type, attrs: newTypeAttributes },\n      { type: nextType, attrs: newNextTypeAttributes },\n    ]\n    : [{ type, attrs: newTypeAttributes }]\n\n  if (!canSplit(tr.doc, $from.pos, 2)) {\n    return false\n  }\n\n  if (dispatch) {\n    const { selection, storedMarks } = state\n    const { splittableMarks } = editor.extensionManager\n    const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks())\n\n    tr.split($from.pos, 2, types).scrollIntoView()\n\n    if (!marks || !dispatch) {\n      return true\n    }\n\n    const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name))\n\n    tr.ensureMarks(filteredMarks)\n  }\n\n  return true\n}\n", "import { NodeType } from '@tiptap/pm/model'\nimport { Transaction } from '@tiptap/pm/state'\nimport { canJoin } from '@tiptap/pm/transform'\n\nimport { findParentNode } from '../helpers/findParentNode.js'\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { isList } from '../helpers/isList.js'\nimport { RawCommands } from '../types.js'\n\nconst joinListBackwards = (tr: Transaction, listType: NodeType): boolean => {\n  const list = findParentNode(node => node.type === listType)(tr.selection)\n\n  if (!list) {\n    return true\n  }\n\n  const before = tr.doc.resolve(Math.max(0, list.pos - 1)).before(list.depth)\n\n  if (before === undefined) {\n    return true\n  }\n\n  const nodeBefore = tr.doc.nodeAt(before)\n  const canJoinBackwards = list.node.type === nodeBefore?.type && canJoin(tr.doc, list.pos)\n\n  if (!canJoinBackwards) {\n    return true\n  }\n\n  tr.join(list.pos)\n\n  return true\n}\n\nconst joinListForwards = (tr: Transaction, listType: NodeType): boolean => {\n  const list = findParentNode(node => node.type === listType)(tr.selection)\n\n  if (!list) {\n    return true\n  }\n\n  const after = tr.doc.resolve(list.start).after(list.depth)\n\n  if (after === undefined) {\n    return true\n  }\n\n  const nodeAfter = tr.doc.nodeAt(after)\n  const canJoinForwards = list.node.type === nodeAfter?.type && canJoin(tr.doc, after)\n\n  if (!canJoinForwards) {\n    return true\n  }\n\n  tr.join(after)\n\n  return true\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    toggleList: {\n      /**\n       * Toggle between different list types.\n       */\n      toggleList: (listTypeOrName: string | NodeType, itemTypeOrName: string | NodeType, keepMarks?: boolean, attributes?: Record<string, any>) => ReturnType;\n    }\n  }\n}\n\nexport const toggleList: RawCommands['toggleList'] = (listTypeOrName, itemTypeOrName, keepMarks, attributes = {}) => ({\n  editor, tr, state, dispatch, chain, commands, can,\n}) => {\n  const { extensions, splittableMarks } = editor.extensionManager\n  const listType = getNodeType(listTypeOrName, state.schema)\n  const itemType = getNodeType(itemTypeOrName, state.schema)\n  const { selection, storedMarks } = state\n  const { $from, $to } = selection\n  const range = $from.blockRange($to)\n\n  const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks())\n\n  if (!range) {\n    return false\n  }\n\n  const parentList = findParentNode(node => isList(node.type.name, extensions))(selection)\n\n  if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n    // remove list\n    if (parentList.node.type === listType) {\n      return commands.liftListItem(itemType)\n    }\n\n    // change list type\n    if (\n      isList(parentList.node.type.name, extensions)\n        && listType.validContent(parentList.node.content)\n        && dispatch\n    ) {\n      return chain()\n        .command(() => {\n          tr.setNodeMarkup(parentList.pos, listType)\n\n          return true\n        })\n        .command(() => joinListBackwards(tr, listType))\n        .command(() => joinListForwards(tr, listType))\n        .run()\n    }\n  }\n  if (!keepMarks || !marks || !dispatch) {\n\n    return chain()\n      // try to convert node to default node if needed\n      .command(() => {\n        const canWrapInList = can().wrapInList(listType, attributes)\n\n        if (canWrapInList) {\n          return true\n        }\n\n        return commands.clearNodes()\n      })\n      .wrapInList(listType, attributes)\n      .command(() => joinListBackwards(tr, listType))\n      .command(() => joinListForwards(tr, listType))\n      .run()\n  }\n\n  return (\n    chain()\n    // try to convert node to default node if needed\n      .command(() => {\n        const canWrapInList = can().wrapInList(listType, attributes)\n\n        const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name))\n\n        tr.ensureMarks(filteredMarks)\n\n        if (canWrapInList) {\n          return true\n        }\n\n        return commands.clearNodes()\n      })\n      .wrapInList(listType, attributes)\n      .command(() => joinListBackwards(tr, listType))\n      .command(() => joinListForwards(tr, listType))\n      .run()\n  )\n}\n", "import { MarkType } from '@tiptap/pm/model'\n\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { isMarkActive } from '../helpers/isMarkActive.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    toggleMark: {\n      /**\n       * Toggle a mark on and off.\n       */\n      toggleMark: (\n        typeOrName: string | MarkType,\n        attributes?: Record<string, any>,\n        options?: {\n          /**\n           * Removes the mark even across the current selection. Defaults to `false`.\n           */\n          extendEmptyMarkRange?: boolean\n        },\n      ) => ReturnType\n    }\n  }\n}\n\nexport const toggleMark: RawCommands['toggleMark'] = (typeOrName, attributes = {}, options = {}) => ({ state, commands }) => {\n  const { extendEmptyMarkRange = false } = options\n  const type = getMarkType(typeOrName, state.schema)\n  const isActive = isMarkActive(state, type, attributes)\n\n  if (isActive) {\n    return commands.unsetMark(type, { extendEmptyMarkRange })\n  }\n\n  return commands.setMark(type, attributes)\n}\n", "import { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { isNodeActive } from '../helpers/isNodeActive.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    toggleNode: {\n      /**\n       * Toggle a node with another node.\n       */\n      toggleNode: (\n        typeOrName: string | NodeType,\n        toggleTypeOrName: string | NodeType,\n        attributes?: Record<string, any>,\n      ) => ReturnType\n    }\n  }\n}\n\nexport const toggleNode: RawCommands['toggleNode'] = (typeOrName, toggleTypeOrName, attributes = {}) => ({ state, commands }) => {\n  const type = getNodeType(typeOrName, state.schema)\n  const toggleType = getNodeType(toggleTypeOrName, state.schema)\n  const isActive = isNodeActive(state, type, attributes)\n\n  if (isActive) {\n    return commands.setNode(toggleType)\n  }\n\n  return commands.setNode(type, attributes)\n}\n", "import { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { isNodeActive } from '../helpers/isNodeActive.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    toggleWrap: {\n      /**\n       * Wraps nodes in another node, or removes an existing wrap.\n       */\n      toggleWrap: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const toggleWrap: RawCommands['toggleWrap'] = (typeOrName, attributes = {}) => ({ state, commands }) => {\n  const type = getNodeType(typeOrName, state.schema)\n  const isActive = isNodeActive(state, type, attributes)\n\n  if (isActive) {\n    return commands.lift(type)\n  }\n\n  return commands.wrapIn(type, attributes)\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    undoInputRule: {\n      /**\n       * Undo an input rule.\n       */\n      undoInputRule: () => ReturnType,\n    }\n  }\n}\n\nexport const undoInputRule: RawCommands['undoInputRule'] = () => ({ state, dispatch }) => {\n  const plugins = state.plugins\n\n  for (let i = 0; i < plugins.length; i += 1) {\n    const plugin = plugins[i]\n    let undoable\n\n    // @ts-ignore\n    // eslint-disable-next-line\n    if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n      if (dispatch) {\n        const tr = state.tr\n        const toUndo = undoable.transform\n\n        for (let j = toUndo.steps.length - 1; j >= 0; j -= 1) {\n          tr.step(toUndo.steps[j].invert(toUndo.docs[j]))\n        }\n\n        if (undoable.text) {\n          const marks = tr.doc.resolve(undoable.from).marks()\n\n          tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks))\n        } else {\n          tr.delete(undoable.from, undoable.to)\n        }\n      }\n\n      return true\n    }\n  }\n\n  return false\n}\n", "import { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    unsetAllMarks: {\n      /**\n       * Remove all marks in the current selection.\n       */\n      unsetAllMarks: () => ReturnType,\n    }\n  }\n}\n\nexport const unsetAllMarks: RawCommands['unsetAllMarks'] = () => ({ tr, dispatch }) => {\n  const { selection } = tr\n  const { empty, ranges } = selection\n\n  if (empty) {\n    return true\n  }\n\n  if (dispatch) {\n    ranges.forEach(range => {\n      tr.removeMark(range.$from.pos, range.$to.pos)\n    })\n  }\n\n  return true\n}\n", "import { MarkType } from '@tiptap/pm/model'\n\nimport { getMarkRange } from '../helpers/getMarkRange.js'\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    unsetMark: {\n      /**\n       * Remove all marks in the current selection.\n       */\n      unsetMark: (\n        typeOrName: string | MarkType,\n        options?: {\n          /**\n           * Removes the mark even across the current selection. Defaults to `false`.\n           */\n          extendEmptyMarkRange?: boolean\n        },\n      ) => ReturnType\n    }\n  }\n}\n\nexport const unsetMark: RawCommands['unsetMark'] = (typeOrName, options = {}) => ({ tr, state, dispatch }) => {\n  const { extendEmptyMarkRange = false } = options\n  const { selection } = tr\n  const type = getMarkType(typeOrName, state.schema)\n  const { $from, empty, ranges } = selection\n\n  if (!dispatch) {\n    return true\n  }\n\n  if (empty && extendEmptyMarkRange) {\n    let { from, to } = selection\n    const attrs = $from.marks().find(mark => mark.type === type)?.attrs\n    const range = getMarkRange($from, type, attrs)\n\n    if (range) {\n      from = range.from\n      to = range.to\n    }\n\n    tr.removeMark(from, to, type)\n  } else {\n    ranges.forEach(range => {\n      tr.removeMark(range.$from.pos, range.$to.pos, type)\n    })\n  }\n\n  tr.removeStoredMark(type)\n\n  return true\n}\n", "import { MarkType, NodeType } from '@tiptap/pm/model'\n\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { getSchemaTypeNameByName } from '../helpers/getSchemaTypeNameByName.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    updateAttributes: {\n      /**\n       * Update attributes of a node or mark.\n       */\n      updateAttributes: (\n        typeOrName: string | NodeType | MarkType,\n        attributes: Record<string, any>,\n      ) => ReturnType\n    }\n  }\n}\n\nexport const updateAttributes: RawCommands['updateAttributes'] = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\n  let nodeType: NodeType | null = null\n  let markType: MarkType | null = null\n\n  const schemaType = getSchemaTypeNameByName(\n    typeof typeOrName === 'string' ? typeOrName : typeOrName.name,\n    state.schema,\n  )\n\n  if (!schemaType) {\n    return false\n  }\n\n  if (schemaType === 'node') {\n    nodeType = getNodeType(typeOrName as NodeType, state.schema)\n  }\n\n  if (schemaType === 'mark') {\n    markType = getMarkType(typeOrName as MarkType, state.schema)\n  }\n\n  if (dispatch) {\n    tr.selection.ranges.forEach(range => {\n      const from = range.$from.pos\n      const to = range.$to.pos\n\n      state.doc.nodesBetween(from, to, (node, pos) => {\n        if (nodeType && nodeType === node.type) {\n          tr.setNodeMarkup(pos, undefined, {\n            ...node.attrs,\n            ...attributes,\n          })\n        }\n\n        if (markType && node.marks.length) {\n          node.marks.forEach(mark => {\n            if (markType === mark.type) {\n              const trimmedFrom = Math.max(pos, from)\n              const trimmedTo = Math.min(pos + node.nodeSize, to)\n\n              tr.addMark(\n                trimmedFrom,\n                trimmedTo,\n                markType.create({\n                  ...mark.attrs,\n                  ...attributes,\n                }),\n              )\n            }\n          })\n        }\n      })\n    })\n  }\n\n  return true\n}\n", "import { wrapIn as originalWrapIn } from '@tiptap/pm/commands'\nimport { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    wrapIn: {\n      /**\n       * Wraps nodes in another node.\n       */\n      wrapIn: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const wrapIn: RawCommands['wrapIn'] = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema)\n\n  return originalWrapIn(type, attributes)(state, dispatch)\n}\n", "import { NodeType } from '@tiptap/pm/model'\nimport { wrapInList as originalWrapInList } from '@tiptap/pm/schema-list'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    wrapInList: {\n      /**\n       * Wrap a node in a list.\n       */\n      wrapInList: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const wrapInList: RawCommands['wrapInList'] = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema)\n\n  return originalWrapInList(type, attributes)(state, dispatch)\n}\n", "import * as commands from '../commands/index.js'\nimport { Extension } from '../Extension.js'\n\nexport * from '../commands/index.js'\n\nexport const Commands = Extension.create({\n  name: 'commands',\n\n  addCommands() {\n    return {\n      ...commands,\n    }\n  },\n})\n", "import { Plugin, PluginKey } from '@tiptap/pm/state'\n\nimport { Extension } from '../Extension.js'\n\nexport const Editable = Extension.create({\n  name: 'editable',\n\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey('editable'),\n        props: {\n          editable: () => this.editor.options.editable,\n        },\n      }),\n    ]\n  },\n})\n", "import { Plugin, PluginKey } from '@tiptap/pm/state'\n\nimport { Extension } from '../Extension.js'\n\nexport const FocusEvents = Extension.create({\n  name: 'focusEvents',\n\n  addProseMirrorPlugins() {\n    const { editor } = this\n\n    return [\n      new Plugin({\n        key: new PluginKey('focusEvents'),\n        props: {\n          handleDOMEvents: {\n            focus: (view, event: Event) => {\n              editor.isFocused = true\n\n              const transaction = editor.state.tr\n                .setMeta('focus', { event })\n                .setMeta('addToHistory', false)\n\n              view.dispatch(transaction)\n\n              return false\n            },\n            blur: (view, event: Event) => {\n              editor.isFocused = false\n\n              const transaction = editor.state.tr\n                .setMeta('blur', { event })\n                .setMeta('addToHistory', false)\n\n              view.dispatch(transaction)\n\n              return false\n            },\n          },\n        },\n      }),\n    ]\n  },\n})\n", "import { Plugin, PluginKey, Selection } from '@tiptap/pm/state'\n\nimport { CommandManager } from '../CommandManager.js'\nimport { Extension } from '../Extension.js'\nimport { createChainableState } from '../helpers/createChainableState.js'\nimport { isiOS } from '../utilities/isiOS.js'\nimport { isMacOS } from '../utilities/isMacOS.js'\n\nexport const Keymap = Extension.create({\n  name: 'keymap',\n\n  addKeyboardShortcuts() {\n    const handleBackspace = () => this.editor.commands.first(({ commands }) => [\n      () => commands.undoInputRule(),\n\n      // maybe convert first text block node to default node\n      () => commands.command(({ tr }) => {\n        const { selection, doc } = tr\n        const { empty, $anchor } = selection\n        const { pos, parent } = $anchor\n        const $parentPos = $anchor.parent.isTextblock ? tr.doc.resolve(pos - 1) : $anchor\n        const parentIsIsolating = $parentPos.parent.type.spec.isolating\n\n        const parentPos = $anchor.pos - $anchor.parentOffset\n\n        const isAtStart = (parentIsIsolating && $parentPos.parent.childCount === 1)\n          ? parentPos === $anchor.pos\n          : Selection.atStart(doc).from === pos\n\n        if (!empty || !isAtStart || !parent.type.isTextblock || parent.textContent.length) {\n          return false\n        }\n\n        return commands.clearNodes()\n      }),\n\n      () => commands.deleteSelection(),\n      () => commands.joinBackward(),\n      () => commands.selectNodeBackward(),\n    ])\n\n    const handleDelete = () => this.editor.commands.first(({ commands }) => [\n      () => commands.deleteSelection(),\n      () => commands.deleteCurrentNode(),\n      () => commands.joinForward(),\n      () => commands.selectNodeForward(),\n    ])\n\n    const handleEnter = () => this.editor.commands.first(({ commands }) => [\n      () => commands.newlineInCode(),\n      () => commands.createParagraphNear(),\n      () => commands.liftEmptyBlock(),\n      () => commands.splitBlock(),\n    ])\n\n    const baseKeymap = {\n      Enter: handleEnter,\n      'Mod-Enter': () => this.editor.commands.exitCode(),\n      Backspace: handleBackspace,\n      'Mod-Backspace': handleBackspace,\n      'Shift-Backspace': handleBackspace,\n      Delete: handleDelete,\n      'Mod-Delete': handleDelete,\n      'Mod-a': () => this.editor.commands.selectAll(),\n    }\n\n    const pcKeymap = {\n      ...baseKeymap,\n    }\n\n    const macKeymap = {\n      ...baseKeymap,\n      'Ctrl-h': handleBackspace,\n      'Alt-Backspace': handleBackspace,\n      'Ctrl-d': handleDelete,\n      'Ctrl-Alt-Backspace': handleDelete,\n      'Alt-Delete': handleDelete,\n      'Alt-d': handleDelete,\n      'Ctrl-a': () => this.editor.commands.selectTextblockStart(),\n      'Ctrl-e': () => this.editor.commands.selectTextblockEnd(),\n    }\n\n    if (isiOS() || isMacOS()) {\n      return macKeymap\n    }\n\n    return pcKeymap\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      // With this plugin we check if the whole document was selected and deleted.\n      // In this case we will additionally call `clearNodes()` to convert e.g. a heading\n      // to a paragraph if necessary.\n      // This is an alternative to ProseMirror's `AllSelection`, which doesn’t work well\n      // with many other commands.\n      new Plugin({\n        key: new PluginKey('clearDocument'),\n        appendTransaction: (transactions, oldState, newState) => {\n          const docChanges = transactions.some(transaction => transaction.docChanged)\n            && !oldState.doc.eq(newState.doc)\n\n          if (!docChanges) {\n            return\n          }\n\n          const { empty, from, to } = oldState.selection\n          const allFrom = Selection.atStart(oldState.doc).from\n          const allEnd = Selection.atEnd(oldState.doc).to\n          const allWasSelected = from === allFrom && to === allEnd\n\n          if (empty || !allWasSelected) {\n            return\n          }\n\n          const isEmpty = newState.doc.textBetween(0, newState.doc.content.size, ' ', ' ').length === 0\n\n          if (!isEmpty) {\n            return\n          }\n\n          const tr = newState.tr\n          const state = createChainableState({\n            state: newState,\n            transaction: tr,\n          })\n          const { commands } = new CommandManager({\n            editor: this.editor,\n            state,\n          })\n\n          commands.clearNodes()\n\n          if (!tr.steps.length) {\n            return\n          }\n\n          return tr\n        },\n      }),\n    ]\n  },\n})\n", "import { Plugin, PluginKey } from '@tiptap/pm/state'\n\nimport { Extension } from '../Extension.js'\n\nexport const Tabindex = Extension.create({\n  name: 'tabindex',\n\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey('tabindex'),\n        props: {\n          attributes: this.editor.isEditable ? { tabindex: '0' } : {},\n        },\n      }),\n    ]\n  },\n})\n", "export const style = `.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: \"liga\" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable=\"false\"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable=\"false\"] [contenteditable=\"true\"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}`\n", "export function createStyleTag(style: string, nonce?: string, suffix?: string): HTMLStyleElement {\n  const tiptapStyleTag = (<HTMLStyleElement>document.querySelector(`style[data-tiptap-style${suffix ? `-${suffix}` : ''}]`))\n\n  if (tiptapStyleTag !== null) {\n    return tiptapStyleTag\n  }\n\n  const styleNode = document.createElement('style')\n\n  if (nonce) {\n    styleNode.setAttribute('nonce', nonce)\n  }\n\n  styleNode.setAttribute(`data-tiptap-style${suffix ? `-${suffix}` : ''}`, '')\n  styleNode.innerHTML = style\n  document.getElementsByTagName('head')[0].appendChild(styleNode)\n\n  return styleNode\n}\n", "import { MarkType, NodeType, Schema } from '@tiptap/pm/model'\nimport {\n  EditorState, Plugin, PluginKey, Transaction,\n} from '@tiptap/pm/state'\nimport { EditorView } from '@tiptap/pm/view'\n\nimport { CommandManager } from './CommandManager.js'\nimport { EventEmitter } from './EventEmitter.js'\nimport { ExtensionManager } from './ExtensionManager.js'\nimport * as extensions from './extensions/index.js'\nimport { createDocument } from './helpers/createDocument.js'\nimport { getAttributes } from './helpers/getAttributes.js'\nimport { getHTMLFromFragment } from './helpers/getHTMLFromFragment.js'\nimport { getText } from './helpers/getText.js'\nimport { getTextSerializersFromSchema } from './helpers/getTextSerializersFromSchema.js'\nimport { isActive } from './helpers/isActive.js'\nimport { isNodeEmpty } from './helpers/isNodeEmpty.js'\nimport { resolveFocusPosition } from './helpers/resolveFocusPosition.js'\nimport { style } from './style.js'\nimport {\n  CanCommands,\n  ChainedCommands,\n  EditorEvents,\n  EditorOptions,\n  JSONContent,\n  SingleCommands,\n  TextSerializer,\n} from './types.js'\nimport { createStyleTag } from './utilities/createStyleTag.js'\nimport { isFunction } from './utilities/isFunction.js'\n\nexport { extensions }\n\nexport interface HTMLElement {\n  editor?: Editor\n}\n\nexport class Editor extends EventEmitter<EditorEvents> {\n  private commandManager!: CommandManager\n\n  public extensionManager!: ExtensionManager\n\n  private css!: HTMLStyleElement\n\n  public schema!: Schema\n\n  public view!: EditorView\n\n  public isFocused = false\n\n  public extensionStorage: Record<string, any> = {}\n\n  public options: EditorOptions = {\n    element: document.createElement('div'),\n    content: '',\n    injectCSS: true,\n    injectNonce: undefined,\n    extensions: [],\n    autofocus: false,\n    editable: true,\n    editorProps: {},\n    parseOptions: {},\n    enableInputRules: true,\n    enablePasteRules: true,\n    enableCoreExtensions: true,\n    onBeforeCreate: () => null,\n    onCreate: () => null,\n    onUpdate: () => null,\n    onSelectionUpdate: () => null,\n    onTransaction: () => null,\n    onFocus: () => null,\n    onBlur: () => null,\n    onDestroy: () => null,\n  }\n\n  constructor(options: Partial<EditorOptions> = {}) {\n    super()\n    this.setOptions(options)\n    this.createExtensionManager()\n    this.createCommandManager()\n    this.createSchema()\n    this.on('beforeCreate', this.options.onBeforeCreate)\n    this.emit('beforeCreate', { editor: this })\n    this.createView()\n    this.injectCSS()\n    this.on('create', this.options.onCreate)\n    this.on('update', this.options.onUpdate)\n    this.on('selectionUpdate', this.options.onSelectionUpdate)\n    this.on('transaction', this.options.onTransaction)\n    this.on('focus', this.options.onFocus)\n    this.on('blur', this.options.onBlur)\n    this.on('destroy', this.options.onDestroy)\n\n    window.setTimeout(() => {\n      if (this.isDestroyed) {\n        return\n      }\n\n      this.commands.focus(this.options.autofocus)\n      this.emit('create', { editor: this })\n    }, 0)\n  }\n\n  /**\n   * Returns the editor storage.\n   */\n  public get storage(): Record<string, any> {\n    return this.extensionStorage\n  }\n\n  /**\n   * An object of all registered commands.\n   */\n  public get commands(): SingleCommands {\n    return this.commandManager.commands\n  }\n\n  /**\n   * Create a command chain to call multiple commands at once.\n   */\n  public chain(): ChainedCommands {\n    return this.commandManager.chain()\n  }\n\n  /**\n   * Check if a command or a command chain can be executed. Without executing it.\n   */\n  public can(): CanCommands {\n    return this.commandManager.can()\n  }\n\n  /**\n   * Inject CSS styles.\n   */\n  private injectCSS(): void {\n    if (this.options.injectCSS && document) {\n      this.css = createStyleTag(style, this.options.injectNonce)\n    }\n  }\n\n  /**\n   * Update editor options.\n   *\n   * @param options A list of options\n   */\n  public setOptions(options: Partial<EditorOptions> = {}): void {\n    this.options = {\n      ...this.options,\n      ...options,\n    }\n\n    if (!this.view || !this.state || this.isDestroyed) {\n      return\n    }\n\n    if (this.options.editorProps) {\n      this.view.setProps(this.options.editorProps)\n    }\n\n    this.view.updateState(this.state)\n  }\n\n  /**\n   * Update editable state of the editor.\n   */\n  public setEditable(editable: boolean, emitUpdate = true): void {\n    this.setOptions({ editable })\n\n    if (emitUpdate) {\n      this.emit('update', { editor: this, transaction: this.state.tr })\n    }\n  }\n\n  /**\n   * Returns whether the editor is editable.\n   */\n  public get isEditable(): boolean {\n    // since plugins are applied after creating the view\n    // `editable` is always `true` for one tick.\n    // that’s why we also have to check for `options.editable`\n    return this.options.editable && this.view && this.view.editable\n  }\n\n  /**\n   * Returns the editor state.\n   */\n  public get state(): EditorState {\n    return this.view.state\n  }\n\n  /**\n   * Register a ProseMirror plugin.\n   *\n   * @param plugin A ProseMirror plugin\n   * @param handlePlugins Control how to merge the plugin into the existing plugins.\n   */\n  public registerPlugin(\n    plugin: Plugin,\n    handlePlugins?: (newPlugin: Plugin, plugins: Plugin[]) => Plugin[],\n  ): void {\n    const plugins = isFunction(handlePlugins)\n      ? handlePlugins(plugin, [...this.state.plugins])\n      : [...this.state.plugins, plugin]\n\n    const state = this.state.reconfigure({ plugins })\n\n    this.view.updateState(state)\n  }\n\n  /**\n   * Unregister a ProseMirror plugin.\n   *\n   * @param nameOrPluginKey The plugins name\n   */\n  public unregisterPlugin(nameOrPluginKey: string | PluginKey): void {\n    if (this.isDestroyed) {\n      return\n    }\n\n    // @ts-ignore\n    const name = typeof nameOrPluginKey === 'string' ? `${nameOrPluginKey}$` : nameOrPluginKey.key\n\n    const state = this.state.reconfigure({\n      // @ts-ignore\n      plugins: this.state.plugins.filter(plugin => !plugin.key.startsWith(name)),\n    })\n\n    this.view.updateState(state)\n  }\n\n  /**\n   * Creates an extension manager.\n   */\n  private createExtensionManager(): void {\n    const coreExtensions = this.options.enableCoreExtensions ? Object.values(extensions) : []\n    const allExtensions = [...coreExtensions, ...this.options.extensions].filter(extension => {\n      return ['extension', 'node', 'mark'].includes(extension?.type)\n    })\n\n    this.extensionManager = new ExtensionManager(allExtensions, this)\n  }\n\n  /**\n   * Creates an command manager.\n   */\n  private createCommandManager(): void {\n    this.commandManager = new CommandManager({\n      editor: this,\n    })\n  }\n\n  /**\n   * Creates a ProseMirror schema.\n   */\n  private createSchema(): void {\n    this.schema = this.extensionManager.schema\n  }\n\n  /**\n   * Creates a ProseMirror view.\n   */\n  private createView(): void {\n    const doc = createDocument(this.options.content, this.schema, this.options.parseOptions)\n    const selection = resolveFocusPosition(doc, this.options.autofocus)\n\n    this.view = new EditorView(this.options.element, {\n      ...this.options.editorProps,\n      dispatchTransaction: this.dispatchTransaction.bind(this),\n      state: EditorState.create({\n        doc,\n        selection: selection || undefined,\n      }),\n    })\n\n    // `editor.view` is not yet available at this time.\n    // Therefore we will add all plugins and node views directly afterwards.\n    const newState = this.state.reconfigure({\n      plugins: this.extensionManager.plugins,\n    })\n\n    this.view.updateState(newState)\n\n    this.createNodeViews()\n    this.prependClass()\n\n    // Let’s store the editor instance in the DOM element.\n    // So we’ll have access to it for tests.\n    const dom = this.view.dom as HTMLElement\n\n    dom.editor = this\n  }\n\n  /**\n   * Creates all node views.\n   */\n  public createNodeViews(): void {\n    this.view.setProps({\n      nodeViews: this.extensionManager.nodeViews,\n    })\n  }\n\n  /**\n   * Prepend class name to element.\n   */\n  public prependClass(): void {\n    this.view.dom.className = `tiptap ${this.view.dom.className}`\n  }\n\n  public isCapturingTransaction = false\n\n  private capturedTransaction: Transaction | null = null\n\n  public captureTransaction(fn: Function) {\n    this.isCapturingTransaction = true\n    fn()\n    this.isCapturingTransaction = false\n\n    const tr = this.capturedTransaction\n\n    this.capturedTransaction = null\n\n    return tr\n  }\n\n  /**\n   * The callback over which to send transactions (state updates) produced by the view.\n   *\n   * @param transaction An editor state transaction\n   */\n  private dispatchTransaction(transaction: Transaction): void {\n    // if the editor / the view of the editor was destroyed\n    // the transaction should not be dispatched as there is no view anymore.\n    if (this.view.isDestroyed) {\n      return\n    }\n\n    if (this.isCapturingTransaction) {\n      if (!this.capturedTransaction) {\n        this.capturedTransaction = transaction\n\n        return\n      }\n\n      transaction.steps.forEach(step => this.capturedTransaction?.step(step))\n\n      return\n    }\n\n    const state = this.state.apply(transaction)\n    const selectionHasChanged = !this.state.selection.eq(state.selection)\n\n    this.view.updateState(state)\n    this.emit('transaction', {\n      editor: this,\n      transaction,\n    })\n\n    if (selectionHasChanged) {\n      this.emit('selectionUpdate', {\n        editor: this,\n        transaction,\n      })\n    }\n\n    const focus = transaction.getMeta('focus')\n    const blur = transaction.getMeta('blur')\n\n    if (focus) {\n      this.emit('focus', {\n        editor: this,\n        event: focus.event,\n        transaction,\n      })\n    }\n\n    if (blur) {\n      this.emit('blur', {\n        editor: this,\n        event: blur.event,\n        transaction,\n      })\n    }\n\n    if (!transaction.docChanged || transaction.getMeta('preventUpdate')) {\n      return\n    }\n\n    this.emit('update', {\n      editor: this,\n      transaction,\n    })\n  }\n\n  /**\n   * Get attributes of the currently selected node or mark.\n   */\n  public getAttributes(nameOrType: string | NodeType | MarkType): Record<string, any> {\n    return getAttributes(this.state, nameOrType)\n  }\n\n  /**\n   * Returns if the currently selected node or mark is active.\n   *\n   * @param name Name of the node or mark\n   * @param attributes Attributes of the node or mark\n   */\n  public isActive(name: string, attributes?: {}): boolean\n  public isActive(attributes: {}): boolean\n  public isActive(nameOrAttributes: string, attributesOrUndefined?: {}): boolean {\n    const name = typeof nameOrAttributes === 'string' ? nameOrAttributes : null\n\n    const attributes = typeof nameOrAttributes === 'string' ? attributesOrUndefined : nameOrAttributes\n\n    return isActive(this.state, name, attributes)\n  }\n\n  /**\n   * Get the document as JSON.\n   */\n  public getJSON(): JSONContent {\n    return this.state.doc.toJSON()\n  }\n\n  /**\n   * Get the document as HTML.\n   */\n  public getHTML(): string {\n    return getHTMLFromFragment(this.state.doc.content, this.schema)\n  }\n\n  /**\n   * Get the document as text.\n   */\n  public getText(options?: {\n    blockSeparator?: string\n    textSerializers?: Record<string, TextSerializer>\n  }): string {\n    const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {}\n\n    return getText(this.state.doc, {\n      blockSeparator,\n      textSerializers: {\n        ...getTextSerializersFromSchema(this.schema),\n        ...textSerializers,\n      },\n    })\n  }\n\n  /**\n   * Check if there is no content.\n   */\n  public get isEmpty(): boolean {\n    return isNodeEmpty(this.state.doc)\n  }\n\n  /**\n   * Get the number of characters for the current document.\n   *\n   * @deprecated\n   */\n  public getCharacterCount(): number {\n    console.warn(\n      '[tiptap warn]: \"editor.getCharacterCount()\" is deprecated. Please use \"editor.storage.characterCount.characters()\" instead.',\n    )\n\n    return this.state.doc.content.size - 2\n  }\n\n  /**\n   * Destroy the editor.\n   */\n  public destroy(): void {\n    this.emit('destroy')\n\n    if (this.view) {\n      this.view.destroy()\n    }\n\n    this.removeAllListeners()\n  }\n\n  /**\n   * Check if the editor is already destroyed.\n   */\n  public get isDestroyed(): boolean {\n    // @ts-ignore\n    return !this.view?.docView\n  }\n}\n", "import { MarkType } from '@tiptap/pm/model'\n\nimport { getMarksBetween } from '../helpers/getMarksBetween.js'\nimport { InputRule, InputRuleFinder } from '../InputRule.js'\nimport { ExtendedRegExpMatchArray } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\n\n/**\n * Build an input rule that adds a mark when the\n * matched text is typed into it.\n */\nexport function markInputRule(config: {\n  find: InputRuleFinder\n  type: MarkType\n  getAttributes?:\n    | Record<string, any>\n    | ((match: ExtendedRegExpMatchArray) => Record<string, any>)\n    | false\n    | null\n}) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const attributes = callOrReturn(config.getAttributes, undefined, match)\n\n      if (attributes === false || attributes === null) {\n        return null\n      }\n\n      const { tr } = state\n      const captureGroup = match[match.length - 1]\n      const fullMatch = match[0]\n\n      if (captureGroup) {\n        const startSpaces = fullMatch.search(/\\S/)\n        const textStart = range.from + fullMatch.indexOf(captureGroup)\n        const textEnd = textStart + captureGroup.length\n\n        const excludedMarks = getMarksBetween(range.from, range.to, state.doc)\n          .filter(item => {\n            // @ts-ignore\n            const excluded = item.mark.type.excluded as MarkType[]\n\n            return excluded.find(type => type === config.type && type !== item.mark.type)\n          })\n          .filter(item => item.to > textStart)\n\n        if (excludedMarks.length) {\n          return null\n        }\n\n        if (textEnd < range.to) {\n          tr.delete(textEnd, range.to)\n        }\n\n        if (textStart > range.from) {\n          tr.delete(range.from + startSpaces, textStart)\n        }\n\n        const markEnd = range.from + startSpaces + captureGroup.length\n\n        tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}))\n\n        tr.removeStoredMark(config.type)\n      }\n    },\n  })\n}\n", "import { NodeType } from '@tiptap/pm/model'\n\nimport { InputRule, InputRuleFinder } from '../InputRule.js'\nimport { ExtendedRegExpMatchArray } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\n\n/**\n * Build an input rule that adds a node when the\n * matched text is typed into it.\n */\nexport function nodeInputRule(config: {\n  /**\n   * The regex to match.\n   */\n  find: InputRuleFinder\n\n  /**\n   * The node type to add.\n   */\n  type: NodeType\n\n  /**\n   * A function that returns the attributes for the node\n   * can also be an object of attributes\n   */\n  getAttributes?:\n    | Record<string, any>\n    | ((match: ExtendedRegExpMatchArray) => Record<string, any>)\n    | false\n    | null\n}) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const attributes = callOrReturn(config.getAttributes, undefined, match) || {}\n      const { tr } = state\n      const start = range.from\n      let end = range.to\n\n      const newNode = config.type.create(attributes)\n\n      if (match[1]) {\n        const offset = match[0].lastIndexOf(match[1])\n        let matchStart = start + offset\n\n        if (matchStart > end) {\n          matchStart = end\n        } else {\n          end = matchStart + match[1].length\n        }\n\n        // insert last typed character\n        const lastChar = match[0][match[0].length - 1]\n\n        tr.insertText(lastChar, start + match[0].length - 1)\n\n        // insert node from input rule\n        tr.replaceWith(matchStart, end, newNode)\n      } else if (match[0]) {\n        tr.insert(start - 1, config.type.create(attributes)).delete(\n          tr.mapping.map(start),\n          tr.mapping.map(end),\n        )\n      }\n\n      tr.scrollIntoView()\n    },\n  })\n}\n", "import { NodeType } from '@tiptap/pm/model'\n\nimport { InputRule, InputRuleFinder } from '../InputRule.js'\nimport { ExtendedRegExpMatchArray } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\n\n/**\n * Build an input rule that changes the type of a textblock when the\n * matched text is typed into it. When using a regular expresion you’ll\n * probably want the regexp to start with `^`, so that the pattern can\n * only occur at the start of a textblock.\n */\nexport function textblockTypeInputRule(config: {\n  find: InputRuleFinder\n  type: NodeType\n  getAttributes?:\n    | Record<string, any>\n    | ((match: ExtendedRegExpMatchArray) => Record<string, any>)\n    | false\n    | null\n}) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const $start = state.doc.resolve(range.from)\n      const attributes = callOrReturn(config.getAttributes, undefined, match) || {}\n\n      if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), config.type)) {\n        return null\n      }\n\n      state.tr\n        .delete(range.from, range.to)\n        .setBlockType(range.from, range.from, config.type, attributes)\n    },\n  })\n}\n", "import { InputRule, InputRuleFinder } from '../InputRule.js'\n\n/**\n * Build an input rule that replaces text when the\n * matched text is typed into it.\n */\nexport function textInputRule(config: {\n  find: InputRuleFinder,\n  replace: string,\n}) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      let insert = config.replace\n      let start = range.from\n      const end = range.to\n\n      if (match[1]) {\n        const offset = match[0].lastIndexOf(match[1])\n\n        insert += match[0].slice(offset + match[1].length)\n        start += offset\n\n        const cutOff = start - end\n\n        if (cutOff > 0) {\n          insert = match[0].slice(offset - cutOff, offset) + insert\n          start = end\n        }\n      }\n\n      state.tr.insertText(insert, start, end)\n    },\n  })\n}\n", "import { Node as ProseMirrorNode, NodeType } from '@tiptap/pm/model'\nimport { canJoin, findWrapping } from '@tiptap/pm/transform'\n\nimport { Editor } from '../Editor.js'\nimport { InputRule, InputRuleFinder } from '../InputRule.js'\nimport { ExtendedRegExpMatchArray } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\n\n/**\n * Build an input rule for automatically wrapping a textblock when a\n * given string is typed. When using a regular expresion you’ll\n * probably want the regexp to start with `^`, so that the pattern can\n * only occur at the start of a textblock.\n *\n * `type` is the type of node to wrap in.\n *\n * By default, if there’s a node with the same type above the newly\n * wrapped node, the rule will try to join those\n * two nodes. You can pass a join predicate, which takes a regular\n * expression match and the node before the wrapped node, and can\n * return a boolean to indicate whether a join should happen.\n */\nexport function wrappingInputRule(config: {\n  find: InputRuleFinder,\n  type: NodeType,\n  keepMarks?: boolean,\n  keepAttributes?: boolean,\n  editor?: Editor\n  getAttributes?:\n  | Record<string, any>\n  | ((match: ExtendedRegExpMatchArray) => Record<string, any>)\n  | false\n  | null\n  ,\n  joinPredicate?: (match: ExtendedRegExpMatchArray, node: ProseMirrorNode) => boolean,\n}) {\n  return new InputRule({\n    find: config.find,\n    handler: ({\n      state, range, match, chain,\n    }) => {\n      const attributes = callOrReturn(config.getAttributes, undefined, match) || {}\n      const tr = state.tr.delete(range.from, range.to)\n      const $start = tr.doc.resolve(range.from)\n      const blockRange = $start.blockRange()\n      const wrapping = blockRange && findWrapping(blockRange, config.type, attributes)\n\n      if (!wrapping) {\n        return null\n      }\n\n      tr.wrap(blockRange, wrapping)\n\n      if (config.keepMarks && config.editor) {\n        const { selection, storedMarks } = state\n        const { splittableMarks } = config.editor.extensionManager\n        const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks())\n\n        if (marks) {\n          const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name))\n\n          tr.ensureMarks(filteredMarks)\n        }\n      }\n      if (config.keepAttributes) {\n        /** If the nodeType is `bulletList` or `orderedList` set the `nodeType` as `listItem` */\n        const nodeType = config.type.name === 'bulletList' || config.type.name === 'orderedList' ? 'listItem' : 'taskList'\n\n        chain().updateAttributes(nodeType, attributes).run()\n      }\n\n      const before = tr.doc.resolve(range.from - 1).nodeBefore\n\n      if (\n        before\n        && before.type === config.type\n        && canJoin(tr.doc, range.from - 1)\n        && (!config.joinPredicate || config.joinPredicate(match, before))\n      ) {\n        tr.join(range.from - 1)\n      }\n    },\n  })\n}\n", "import {\n  DOMOutputSpec, Mark as ProseMirrorMark, MarkSpec, MarkType,\n} from '@tiptap/pm/model'\nimport { Plugin, Transaction } from '@tiptap/pm/state'\n\nimport { Editor } from './Editor.js'\nimport { getExtensionField } from './helpers/getExtensionField.js'\nimport { MarkConfig } from './index.js'\nimport { InputRule } from './InputRule.js'\nimport { Node } from './Node.js'\nimport { PasteRule } from './PasteRule.js'\nimport {\n  AnyConfig,\n  Attributes,\n  Extensions,\n  GlobalAttributes,\n  KeyboardShortcutCommand,\n  ParentConfig,\n  RawCommands,\n} from './types.js'\nimport { callOrReturn } from './utilities/callOrReturn.js'\nimport { mergeDeep } from './utilities/mergeDeep.js'\n\ndeclare module '@tiptap/core' {\n  export interface MarkConfig<Options = any, Storage = any> {\n    [key: string]: any\n\n    /**\n     * Name\n     */\n    name: string\n\n    /**\n     * Priority\n     */\n    priority?: number\n\n    /**\n     * Default options\n     */\n    defaultOptions?: Options\n\n    /**\n     * Default Options\n     */\n    addOptions?: (this: {\n      name: string\n      parent: Exclude<ParentConfig<MarkConfig<Options, Storage>>['addOptions'], undefined>\n    }) => Options\n\n    /**\n     * Default Storage\n     */\n    addStorage?: (this: {\n      name: string\n      options: Options\n      parent: Exclude<ParentConfig<MarkConfig<Options, Storage>>['addStorage'], undefined>\n    }) => Storage\n\n    /**\n     * Global attributes\n     */\n    addGlobalAttributes?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addGlobalAttributes']\n    }) => GlobalAttributes | {}\n\n    /**\n     * Raw\n     */\n    addCommands?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: MarkType\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addCommands']\n    }) => Partial<RawCommands>\n\n    /**\n     * Keyboard shortcuts\n     */\n    addKeyboardShortcuts?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: MarkType\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addKeyboardShortcuts']\n    }) => {\n      [key: string]: KeyboardShortcutCommand\n    }\n\n    /**\n     * Input rules\n     */\n    addInputRules?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: MarkType\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addInputRules']\n    }) => InputRule[]\n\n    /**\n     * Paste rules\n     */\n    addPasteRules?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: MarkType\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addPasteRules']\n    }) => PasteRule[]\n\n    /**\n     * ProseMirror plugins\n     */\n    addProseMirrorPlugins?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: MarkType\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addProseMirrorPlugins']\n    }) => Plugin[]\n\n    /**\n     * Extensions\n     */\n    addExtensions?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addExtensions']\n    }) => Extensions\n\n    /**\n     * Extend Node Schema\n     */\n    extendNodeSchema?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<MarkConfig<Options, Storage>>['extendNodeSchema']\n          },\n          extension: Node,\n        ) => Record<string, any>)\n      | null\n\n    /**\n     * Extend Mark Schema\n     */\n    extendMarkSchema?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<MarkConfig<Options, Storage>>['extendMarkSchema']\n          },\n          extension: Mark,\n        ) => Record<string, any>)\n      | null\n\n    /**\n     * The editor is not ready yet.\n     */\n    onBeforeCreate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: MarkType\n          parent: ParentConfig<MarkConfig<Options, Storage>>['onBeforeCreate']\n        }) => void)\n      | null\n\n    /**\n     * The editor is ready.\n     */\n    onCreate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: MarkType\n          parent: ParentConfig<MarkConfig<Options, Storage>>['onCreate']\n        }) => void)\n      | null\n\n    /**\n     * The content has changed.\n     */\n    onUpdate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: MarkType\n          parent: ParentConfig<MarkConfig<Options, Storage>>['onUpdate']\n        }) => void)\n      | null\n\n    /**\n     * The selection has changed.\n     */\n    onSelectionUpdate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: MarkType\n          parent: ParentConfig<MarkConfig<Options, Storage>>['onSelectionUpdate']\n        }) => void)\n      | null\n\n    /**\n     * The editor state has changed.\n     */\n    onTransaction?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            type: MarkType\n            parent: ParentConfig<MarkConfig<Options, Storage>>['onTransaction']\n          },\n          props: {\n            transaction: Transaction\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor is focused.\n     */\n    onFocus?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            type: MarkType\n            parent: ParentConfig<MarkConfig<Options, Storage>>['onFocus']\n          },\n          props: {\n            event: FocusEvent\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor isn’t focused anymore.\n     */\n    onBlur?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            type: MarkType\n            parent: ParentConfig<MarkConfig<Options, Storage>>['onBlur']\n          },\n          props: {\n            event: FocusEvent\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor is destroyed.\n     */\n    onDestroy?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: MarkType\n          parent: ParentConfig<MarkConfig<Options, Storage>>['onDestroy']\n        }) => void)\n      | null\n\n    /**\n     * Keep mark after split node\n     */\n    keepOnSplit?: boolean | (() => boolean)\n\n    /**\n     * Inclusive\n     */\n    inclusive?:\n      | MarkSpec['inclusive']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<MarkConfig<Options, Storage>>['inclusive']\n          editor?: Editor\n        }) => MarkSpec['inclusive'])\n\n    /**\n     * Excludes\n     */\n    excludes?:\n      | MarkSpec['excludes']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<MarkConfig<Options, Storage>>['excludes']\n          editor?: Editor\n        }) => MarkSpec['excludes'])\n\n    /**\n     * Marks this Mark as exitable\n     */\n    exitable?: boolean | (() => boolean)\n\n    /**\n     * Group\n     */\n    group?:\n      | MarkSpec['group']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<MarkConfig<Options, Storage>>['group']\n          editor?: Editor\n        }) => MarkSpec['group'])\n\n    /**\n     * Spanning\n     */\n    spanning?:\n      | MarkSpec['spanning']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<MarkConfig<Options, Storage>>['spanning']\n          editor?: Editor\n        }) => MarkSpec['spanning'])\n\n    /**\n     * Code\n     */\n    code?:\n      | boolean\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<MarkConfig<Options, Storage>>['code']\n          editor?: Editor\n        }) => boolean)\n\n    /**\n     * Parse HTML\n     */\n    parseHTML?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<MarkConfig<Options, Storage>>['parseHTML']\n      editor?: Editor\n    }) => MarkSpec['parseDOM']\n\n    /**\n     * Render HTML\n     */\n    renderHTML?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<MarkConfig<Options, Storage>>['renderHTML']\n            editor?: Editor\n          },\n          props: {\n            mark: ProseMirrorMark\n            HTMLAttributes: Record<string, any>\n          },\n        ) => DOMOutputSpec)\n      | null\n\n    /**\n     * Attributes\n     */\n    addAttributes?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<MarkConfig<Options, Storage>>['addAttributes']\n      editor?: Editor\n    }) => Attributes | {}\n  }\n}\n\nexport class Mark<Options = any, Storage = any> {\n  type = 'mark'\n\n  name = 'mark'\n\n  parent: Mark | null = null\n\n  child: Mark | null = null\n\n  options: Options\n\n  storage: Storage\n\n  config: MarkConfig = {\n    name: this.name,\n    defaultOptions: {},\n  }\n\n  constructor(config: Partial<MarkConfig<Options, Storage>> = {}) {\n    this.config = {\n      ...this.config,\n      ...config,\n    }\n\n    this.name = this.config.name\n\n    if (config.defaultOptions) {\n      console.warn(\n        `[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`,\n      )\n    }\n\n    // TODO: remove `addOptions` fallback\n    this.options = this.config.defaultOptions\n\n    if (this.config.addOptions) {\n      this.options = callOrReturn(\n        getExtensionField<AnyConfig['addOptions']>(this, 'addOptions', {\n          name: this.name,\n        }),\n      )\n    }\n\n    this.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(this, 'addStorage', {\n        name: this.name,\n        options: this.options,\n      }),\n    ) || {}\n  }\n\n  static create<O = any, S = any>(config: Partial<MarkConfig<O, S>> = {}) {\n    return new Mark<O, S>(config)\n  }\n\n  configure(options: Partial<Options> = {}) {\n    // return a new instance so we can use the same extension\n    // with different calls of `configure`\n    const extension = this.extend()\n\n    extension.options = mergeDeep(this.options as Record<string, any>, options) as Options\n\n    extension.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(extension, 'addStorage', {\n        name: extension.name,\n        options: extension.options,\n      }),\n    )\n\n    return extension\n  }\n\n  extend<ExtendedOptions = Options, ExtendedStorage = Storage>(\n    extendedConfig: Partial<MarkConfig<ExtendedOptions, ExtendedStorage>> = {},\n  ) {\n    const extension = new Mark<ExtendedOptions, ExtendedStorage>(extendedConfig)\n\n    extension.parent = this\n\n    this.child = extension\n\n    extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name\n\n    if (extendedConfig.defaultOptions) {\n      console.warn(\n        `[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`,\n      )\n    }\n\n    extension.options = callOrReturn(\n      getExtensionField<AnyConfig['addOptions']>(extension, 'addOptions', {\n        name: extension.name,\n      }),\n    )\n\n    extension.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(extension, 'addStorage', {\n        name: extension.name,\n        options: extension.options,\n      }),\n    )\n\n    return extension\n  }\n\n  static handleExit({ editor, mark }: { editor: Editor; mark: Mark }) {\n    const { tr } = editor.state\n    const currentPos = editor.state.selection.$from\n    const isAtEnd = currentPos.pos === currentPos.end()\n\n    if (isAtEnd) {\n      const currentMarks = currentPos.marks()\n      const isInMark = !!currentMarks.find(m => m?.type.name === mark.name)\n\n      if (!isInMark) {\n        return false\n      }\n\n      const removeMark = currentMarks.find(m => m?.type.name === mark.name)\n\n      if (removeMark) {\n        tr.removeStoredMark(removeMark)\n      }\n      tr.insertText(' ', currentPos.pos)\n\n      editor.view.dispatch(tr)\n\n      return true\n    }\n\n    return false\n  }\n}\n", "import {\n  DOMOutputSpec, Node as ProseMirrorNode, NodeSpec, NodeType,\n} from '@tiptap/pm/model'\nimport { Plugin, Transaction } from '@tiptap/pm/state'\n\nimport { Editor } from './Editor.js'\nimport { getExtensionField } from './helpers/getExtensionField.js'\nimport { NodeConfig } from './index.js'\nimport { InputRule } from './InputRule.js'\nimport { PasteRule } from './PasteRule.js'\nimport {\n  AnyConfig,\n  Attributes,\n  Extensions,\n  GlobalAttributes,\n  KeyboardShortcutCommand,\n  NodeViewRenderer,\n  ParentConfig,\n  RawCommands,\n} from './types.js'\nimport { callOrReturn } from './utilities/callOrReturn.js'\nimport { mergeDeep } from './utilities/mergeDeep.js'\n\ndeclare module '@tiptap/core' {\n  interface NodeConfig<Options = any, Storage = any> {\n    [key: string]: any\n\n    /**\n     * Name\n     */\n    name: string\n\n    /**\n     * Priority\n     */\n    priority?: number\n\n    /**\n     * Default options\n     */\n    defaultOptions?: Options\n\n    /**\n     * Default Options\n     */\n    addOptions?: (this: {\n      name: string\n      parent: Exclude<ParentConfig<NodeConfig<Options, Storage>>['addOptions'], undefined>\n    }) => Options\n\n    /**\n     * Default Storage\n     */\n    addStorage?: (this: {\n      name: string\n      options: Options\n      parent: Exclude<ParentConfig<NodeConfig<Options, Storage>>['addStorage'], undefined>\n    }) => Storage\n\n    /**\n     * Global attributes\n     */\n    addGlobalAttributes?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addGlobalAttributes']\n    }) => GlobalAttributes | {}\n\n    /**\n     * Raw\n     */\n    addCommands?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: NodeType\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addCommands']\n    }) => Partial<RawCommands>\n\n    /**\n     * Keyboard shortcuts\n     */\n    addKeyboardShortcuts?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: NodeType\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addKeyboardShortcuts']\n    }) => {\n      [key: string]: KeyboardShortcutCommand\n    }\n\n    /**\n     * Input rules\n     */\n    addInputRules?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: NodeType\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addInputRules']\n    }) => InputRule[]\n\n    /**\n     * Paste rules\n     */\n    addPasteRules?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: NodeType\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addPasteRules']\n    }) => PasteRule[]\n\n    /**\n     * ProseMirror plugins\n     */\n    addProseMirrorPlugins?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      editor: Editor\n      type: NodeType\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addProseMirrorPlugins']\n    }) => Plugin[]\n\n    /**\n     * Extensions\n     */\n    addExtensions?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addExtensions']\n    }) => Extensions\n\n    /**\n     * Extend Node Schema\n     */\n    extendNodeSchema?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<NodeConfig<Options, Storage>>['extendNodeSchema']\n          },\n          extension: Node,\n        ) => Record<string, any>)\n      | null\n\n    /**\n     * Extend Mark Schema\n     */\n    extendMarkSchema?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<NodeConfig<Options, Storage>>['extendMarkSchema']\n            editor?: Editor\n          },\n          extension: Node,\n        ) => Record<string, any>)\n      | null\n\n    /**\n     * The editor is not ready yet.\n     */\n    onBeforeCreate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: NodeType\n          parent: ParentConfig<NodeConfig<Options, Storage>>['onBeforeCreate']\n        }) => void)\n      | null\n\n    /**\n     * The editor is ready.\n     */\n    onCreate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: NodeType\n          parent: ParentConfig<NodeConfig<Options, Storage>>['onCreate']\n        }) => void)\n      | null\n\n    /**\n     * The content has changed.\n     */\n    onUpdate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: NodeType\n          parent: ParentConfig<NodeConfig<Options, Storage>>['onUpdate']\n        }) => void)\n      | null\n\n    /**\n     * The selection has changed.\n     */\n    onSelectionUpdate?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: NodeType\n          parent: ParentConfig<NodeConfig<Options, Storage>>['onSelectionUpdate']\n        }) => void)\n      | null\n\n    /**\n     * The editor state has changed.\n     */\n    onTransaction?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            type: NodeType\n            parent: ParentConfig<NodeConfig<Options, Storage>>['onTransaction']\n          },\n          props: {\n            transaction: Transaction\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor is focused.\n     */\n    onFocus?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            type: NodeType\n            parent: ParentConfig<NodeConfig<Options, Storage>>['onFocus']\n          },\n          props: {\n            event: FocusEvent\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor isn’t focused anymore.\n     */\n    onBlur?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            editor: Editor\n            type: NodeType\n            parent: ParentConfig<NodeConfig<Options, Storage>>['onBlur']\n          },\n          props: {\n            event: FocusEvent\n          },\n        ) => void)\n      | null\n\n    /**\n     * The editor is destroyed.\n     */\n    onDestroy?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: NodeType\n          parent: ParentConfig<NodeConfig<Options, Storage>>['onDestroy']\n        }) => void)\n      | null\n\n    /**\n     * Node View\n     */\n    addNodeView?:\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          editor: Editor\n          type: NodeType\n          parent: ParentConfig<NodeConfig<Options, Storage>>['addNodeView']\n        }) => NodeViewRenderer)\n      | null\n\n    /**\n     * TopNode\n     */\n    topNode?: boolean\n\n    /**\n     * Content\n     */\n    content?:\n      | NodeSpec['content']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['content']\n          editor?: Editor\n        }) => NodeSpec['content'])\n\n    /**\n     * Marks\n     */\n    marks?:\n      | NodeSpec['marks']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['marks']\n          editor?: Editor\n        }) => NodeSpec['marks'])\n\n    /**\n     * Group\n     */\n    group?:\n      | NodeSpec['group']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['group']\n          editor?: Editor\n        }) => NodeSpec['group'])\n\n    /**\n     * Inline\n     */\n    inline?:\n      | NodeSpec['inline']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['inline']\n          editor?: Editor\n        }) => NodeSpec['inline'])\n\n    /**\n     * Atom\n     */\n    atom?:\n      | NodeSpec['atom']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['atom']\n          editor?: Editor\n        }) => NodeSpec['atom'])\n\n    /**\n     * Selectable\n     */\n    selectable?:\n      | NodeSpec['selectable']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['selectable']\n          editor?: Editor\n        }) => NodeSpec['selectable'])\n\n    /**\n     * Draggable\n     */\n    draggable?:\n      | NodeSpec['draggable']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['draggable']\n          editor?: Editor\n        }) => NodeSpec['draggable'])\n\n    /**\n     * Code\n     */\n    code?:\n      | NodeSpec['code']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['code']\n          editor?: Editor\n        }) => NodeSpec['code'])\n\n    /**\n     * Whitespace\n     */\n    whitespace?:\n      | NodeSpec['whitespace']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['whitespace']\n          editor?: Editor\n        }) => NodeSpec['whitespace'])\n\n    /**\n     * Defining\n     */\n    defining?:\n      | NodeSpec['defining']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['defining']\n          editor?: Editor\n        }) => NodeSpec['defining'])\n\n    /**\n     * Isolating\n     */\n    isolating?:\n      | NodeSpec['isolating']\n      | ((this: {\n          name: string\n          options: Options\n          storage: Storage\n          parent: ParentConfig<NodeConfig<Options, Storage>>['isolating']\n          editor?: Editor\n        }) => NodeSpec['isolating'])\n\n    /**\n     * Parse HTML\n     */\n    parseHTML?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<NodeConfig<Options, Storage>>['parseHTML']\n      editor?: Editor\n    }) => NodeSpec['parseDOM']\n\n    /**\n     * Render HTML\n     */\n    renderHTML?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<NodeConfig<Options, Storage>>['renderHTML']\n            editor?: Editor\n          },\n          props: {\n            node: ProseMirrorNode\n            HTMLAttributes: Record<string, any>\n          },\n        ) => DOMOutputSpec)\n      | null\n\n    /**\n     * Render Text\n     */\n    renderText?:\n      | ((\n          this: {\n            name: string\n            options: Options\n            storage: Storage\n            parent: ParentConfig<NodeConfig<Options, Storage>>['renderText']\n            editor?: Editor\n          },\n          props: {\n            node: ProseMirrorNode\n            pos: number\n            parent: ProseMirrorNode\n            index: number\n          },\n        ) => string)\n      | null\n\n    /**\n     * Add Attributes\n     */\n    addAttributes?: (this: {\n      name: string\n      options: Options\n      storage: Storage\n      parent: ParentConfig<NodeConfig<Options, Storage>>['addAttributes']\n      editor?: Editor\n    }) => Attributes | {}\n  }\n}\n\nexport class Node<Options = any, Storage = any> {\n  type = 'node'\n\n  name = 'node'\n\n  parent: Node | null = null\n\n  child: Node | null = null\n\n  options: Options\n\n  storage: Storage\n\n  config: NodeConfig = {\n    name: this.name,\n    defaultOptions: {},\n  }\n\n  constructor(config: Partial<NodeConfig<Options, Storage>> = {}) {\n    this.config = {\n      ...this.config,\n      ...config,\n    }\n\n    this.name = this.config.name\n\n    if (config.defaultOptions) {\n      console.warn(\n        `[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${this.name}\".`,\n      )\n    }\n\n    // TODO: remove `addOptions` fallback\n    this.options = this.config.defaultOptions\n\n    if (this.config.addOptions) {\n      this.options = callOrReturn(\n        getExtensionField<AnyConfig['addOptions']>(this, 'addOptions', {\n          name: this.name,\n        }),\n      )\n    }\n\n    this.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(this, 'addStorage', {\n        name: this.name,\n        options: this.options,\n      }),\n    ) || {}\n  }\n\n  static create<O = any, S = any>(config: Partial<NodeConfig<O, S>> = {}) {\n    return new Node<O, S>(config)\n  }\n\n  configure(options: Partial<Options> = {}) {\n    // return a new instance so we can use the same extension\n    // with different calls of `configure`\n    const extension = this.extend()\n\n    extension.options = mergeDeep(this.options as Record<string, any>, options) as Options\n\n    extension.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(extension, 'addStorage', {\n        name: extension.name,\n        options: extension.options,\n      }),\n    )\n\n    return extension\n  }\n\n  extend<ExtendedOptions = Options, ExtendedStorage = Storage>(\n    extendedConfig: Partial<NodeConfig<ExtendedOptions, ExtendedStorage>> = {},\n  ) {\n    const extension = new Node<ExtendedOptions, ExtendedStorage>(extendedConfig)\n\n    extension.parent = this\n\n    this.child = extension\n\n    extension.name = extendedConfig.name ? extendedConfig.name : extension.parent.name\n\n    if (extendedConfig.defaultOptions) {\n      console.warn(\n        `[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"${extension.name}\".`,\n      )\n    }\n\n    extension.options = callOrReturn(\n      getExtensionField<AnyConfig['addOptions']>(extension, 'addOptions', {\n        name: extension.name,\n      }),\n    )\n\n    extension.storage = callOrReturn(\n      getExtensionField<AnyConfig['addStorage']>(extension, 'addStorage', {\n        name: extension.name,\n        options: extension.options,\n      }),\n    )\n\n    return extension\n  }\n}\n", "export function isAndroid(): boolean {\n  return navigator.platform === 'Android' || /android/i.test(navigator.userAgent)\n}\n", "import { Node as ProseMirrorNode } from '@tiptap/pm/model'\nimport { NodeSelection } from '@tiptap/pm/state'\nimport { NodeView as ProseMirrorNodeView } from '@tiptap/pm/view'\n\nimport { Editor as CoreEditor } from './Editor.js'\nimport { Node } from './Node.js'\nimport { DecorationWithType, NodeViewRendererOptions, NodeViewRendererProps } from './types.js'\nimport { isAndroid } from './utilities/isAndroid.js'\nimport { isiOS } from './utilities/isiOS.js'\n\nexport class NodeView<\n  Component,\n  NodeEditor extends CoreEditor = CoreEditor,\n  Options extends NodeViewRendererOptions = NodeViewRendererOptions,\n> implements ProseMirrorNodeView {\n  component: Component\n\n  editor: NodeEditor\n\n  options: Options\n\n  extension: Node\n\n  node: ProseMirrorNode\n\n  decorations: DecorationWithType[]\n\n  getPos: any\n\n  isDragging = false\n\n  constructor(component: Component, props: NodeViewRendererProps, options?: Partial<Options>) {\n    this.component = component\n    this.editor = props.editor as NodeEditor\n    this.options = {\n      stopEvent: null,\n      ignoreMutation: null,\n      ...options,\n    } as Options\n    this.extension = props.extension\n    this.node = props.node\n    this.decorations = props.decorations as DecorationWithType[]\n    this.getPos = props.getPos\n    this.mount()\n  }\n\n  mount() {\n    // eslint-disable-next-line\n    return\n  }\n\n  get dom(): HTMLElement {\n    return this.editor.view.dom as HTMLElement\n  }\n\n  get contentDOM(): HTMLElement | null {\n    return null\n  }\n\n  onDragStart(event: DragEvent) {\n    const { view } = this.editor\n    const target = event.target as HTMLElement\n\n    // get the drag handle element\n    // `closest` is not available for text nodes so we may have to use its parent\n    const dragHandle = target.nodeType === 3\n      ? target.parentElement?.closest('[data-drag-handle]')\n      : target.closest('[data-drag-handle]')\n\n    if (!this.dom || this.contentDOM?.contains(target) || !dragHandle) {\n      return\n    }\n\n    let x = 0\n    let y = 0\n\n    // calculate offset for drag element if we use a different drag handle element\n    if (this.dom !== dragHandle) {\n      const domBox = this.dom.getBoundingClientRect()\n      const handleBox = dragHandle.getBoundingClientRect()\n\n      // In React, we have to go through nativeEvent to reach offsetX/offsetY.\n      const offsetX = event.offsetX ?? (event as any).nativeEvent?.offsetX\n      const offsetY = event.offsetY ?? (event as any).nativeEvent?.offsetY\n\n      x = handleBox.x - domBox.x + offsetX\n      y = handleBox.y - domBox.y + offsetY\n    }\n\n    event.dataTransfer?.setDragImage(this.dom, x, y)\n\n    // we need to tell ProseMirror that we want to move the whole node\n    // so we create a NodeSelection\n    const selection = NodeSelection.create(view.state.doc, this.getPos())\n    const transaction = view.state.tr.setSelection(selection)\n\n    view.dispatch(transaction)\n  }\n\n  stopEvent(event: Event) {\n    if (!this.dom) {\n      return false\n    }\n\n    if (typeof this.options.stopEvent === 'function') {\n      return this.options.stopEvent({ event })\n    }\n\n    const target = event.target as HTMLElement\n    const isInElement = this.dom.contains(target) && !this.contentDOM?.contains(target)\n\n    // any event from child nodes should be handled by ProseMirror\n    if (!isInElement) {\n      return false\n    }\n\n    const isDragEvent = event.type.startsWith('drag')\n    const isDropEvent = event.type === 'drop'\n    const isInput = ['INPUT', 'BUTTON', 'SELECT', 'TEXTAREA'].includes(target.tagName) || target.isContentEditable\n\n    // any input event within node views should be ignored by ProseMirror\n    if (isInput && !isDropEvent && !isDragEvent) {\n      return true\n    }\n\n    const { isEditable } = this.editor\n    const { isDragging } = this\n    const isDraggable = !!this.node.type.spec.draggable\n    const isSelectable = NodeSelection.isSelectable(this.node)\n    const isCopyEvent = event.type === 'copy'\n    const isPasteEvent = event.type === 'paste'\n    const isCutEvent = event.type === 'cut'\n    const isClickEvent = event.type === 'mousedown'\n\n    // ProseMirror tries to drag selectable nodes\n    // even if `draggable` is set to `false`\n    // this fix prevents that\n    if (!isDraggable && isSelectable && isDragEvent) {\n      event.preventDefault()\n    }\n\n    if (isDraggable && isDragEvent && !isDragging) {\n      event.preventDefault()\n      return false\n    }\n\n    // we have to store that dragging started\n    if (isDraggable && isEditable && !isDragging && isClickEvent) {\n      const dragHandle = target.closest('[data-drag-handle]')\n      const isValidDragHandle = dragHandle && (this.dom === dragHandle || this.dom.contains(dragHandle))\n\n      if (isValidDragHandle) {\n        this.isDragging = true\n\n        document.addEventListener(\n          'dragend',\n          () => {\n            this.isDragging = false\n          },\n          { once: true },\n        )\n\n        document.addEventListener(\n          'drop',\n          () => {\n            this.isDragging = false\n          },\n          { once: true },\n        )\n\n        document.addEventListener(\n          'mouseup',\n          () => {\n            this.isDragging = false\n          },\n          { once: true },\n        )\n      }\n    }\n\n    // these events are handled by prosemirror\n    if (\n      isDragging\n      || isDropEvent\n      || isCopyEvent\n      || isPasteEvent\n      || isCutEvent\n      || (isClickEvent && isSelectable)\n    ) {\n      return false\n    }\n\n    return true\n  }\n\n  ignoreMutation(mutation: MutationRecord | { type: 'selection'; target: Element }) {\n    if (!this.dom || !this.contentDOM) {\n      return true\n    }\n\n    if (typeof this.options.ignoreMutation === 'function') {\n      return this.options.ignoreMutation({ mutation })\n    }\n\n    // a leaf/atom node is like a black box for ProseMirror\n    // and should be fully handled by the node view\n    if (this.node.isLeaf || this.node.isAtom) {\n      return true\n    }\n\n    // ProseMirror should handle any selections\n    if (mutation.type === 'selection') {\n      return false\n    }\n\n    // try to prevent a bug on iOS and Android that will break node views on enter\n    // this is because ProseMirror can’t preventDispatch on enter\n    // this will lead to a re-render of the node view on enter\n    // see: https://github.com/ueberdosis/tiptap/issues/1214\n    // see: https://github.com/ueberdosis/tiptap/issues/2534\n    if (\n      this.dom.contains(mutation.target)\n      && mutation.type === 'childList'\n      && (isiOS() || isAndroid())\n      && this.editor.isFocused\n    ) {\n      const changedNodes = [\n        ...Array.from(mutation.addedNodes),\n        ...Array.from(mutation.removedNodes),\n      ] as HTMLElement[]\n\n      // we’ll check if every changed node is contentEditable\n      // to make sure it’s probably mutated by ProseMirror\n      if (changedNodes.every(node => node.isContentEditable)) {\n        return false\n      }\n    }\n\n    // we will allow mutation contentDOM with attributes\n    // so we can for example adding classes within our node view\n    if (this.contentDOM === mutation.target && mutation.type === 'attributes') {\n      return true\n    }\n\n    // ProseMirror should handle any changes within contentDOM\n    if (this.contentDOM.contains(mutation.target)) {\n      return false\n    }\n\n    return true\n  }\n\n  updateAttributes(attributes: {}) {\n    this.editor.commands.command(({ tr }) => {\n      const pos = this.getPos()\n\n      tr.setNodeMarkup(pos, undefined, {\n        ...this.node.attrs,\n        ...attributes,\n      })\n\n      return true\n    })\n  }\n\n  deleteNode(): void {\n    const from = this.getPos()\n    const to = from + this.node.nodeSize\n\n    this.editor.commands.deleteRange({ from, to })\n  }\n}\n", "import { MarkType } from '@tiptap/pm/model'\n\nimport { getMarksBetween } from '../helpers/getMarksBetween.js'\nimport { PasteRule, PasteRuleFinder } from '../PasteRule.js'\nimport { ExtendedRegExpMatchArray } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\n\n/**\n * Build an paste rule that adds a mark when the\n * matched text is pasted into it.\n */\nexport function markPasteRule(config: {\n  find: PasteRuleFinder\n  type: MarkType\n  getAttributes?:\n    | Record<string, any>\n    | ((match: ExtendedRegExpMatchArray) => Record<string, any>)\n    | false\n    | null\n}) {\n  return new PasteRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const attributes = callOrReturn(config.getAttributes, undefined, match)\n\n      if (attributes === false || attributes === null) {\n        return null\n      }\n\n      const { tr } = state\n      const captureGroup = match[match.length - 1]\n      const fullMatch = match[0]\n      let markEnd = range.to\n\n      if (captureGroup) {\n        const startSpaces = fullMatch.search(/\\S/)\n        const textStart = range.from + fullMatch.indexOf(captureGroup)\n        const textEnd = textStart + captureGroup.length\n\n        const excludedMarks = getMarksBetween(range.from, range.to, state.doc)\n          .filter(item => {\n            // @ts-ignore\n            const excluded = item.mark.type.excluded as MarkType[]\n\n            return excluded.find(type => type === config.type && type !== item.mark.type)\n          })\n          .filter(item => item.to > textStart)\n\n        if (excludedMarks.length) {\n          return null\n        }\n\n        if (textEnd < range.to) {\n          tr.delete(textEnd, range.to)\n        }\n\n        if (textStart > range.from) {\n          tr.delete(range.from + startSpaces, textStart)\n        }\n\n        markEnd = range.from + startSpaces + captureGroup.length\n\n        tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}))\n\n        tr.removeStoredMark(config.type)\n      }\n    },\n  })\n}\n", "// source: https://stackoverflow.com/a/6969486\nexport function escapeForRegEx(string: string): string {\n  return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n}\n", "export function isString(value: any): value is string {\n  return typeof value === 'string'\n}\n", "import { NodeType } from '@tiptap/pm/model'\n\nimport { PasteRule, PasteRuleFinder } from '../PasteRule.js'\nimport { ExtendedRegExpMatchArray } from '../types.js'\nimport { callOrReturn } from '../utilities/index.js'\n\n/**\n * Build an paste rule that adds a node when the\n * matched text is pasted into it.\n */\nexport function nodePasteRule(config: {\n  find: PasteRuleFinder\n  type: NodeType\n  getAttributes?:\n    | Record<string, any>\n    | ((match: ExtendedRegExpMatchArray) => Record<string, any>)\n    | false\n    | null\n}) {\n  return new PasteRule({\n    find: config.find,\n    handler({ match, chain, range }) {\n      const attributes = callOrReturn(config.getAttributes, undefined, match)\n\n      if (attributes === false || attributes === null) {\n        return null\n      }\n\n      if (match.input) {\n        chain().deleteRange(range).insertContentAt(range.from, {\n          type: config.type.name,\n          attrs: attributes,\n        })\n      }\n    },\n  })\n}\n", "import { PasteRule, PasteRuleFinder } from '../PasteRule.js'\n\n/**\n * Build an paste rule that replaces text when the\n * matched text is pasted into it.\n */\nexport function textPasteRule(config: {\n  find: PasteRuleFinder,\n  replace: string,\n}) {\n  return new PasteRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      let insert = config.replace\n      let start = range.from\n      const end = range.to\n\n      if (match[1]) {\n        const offset = match[0].lastIndexOf(match[1])\n\n        insert += match[0].slice(offset + match[1].length)\n        start += offset\n\n        const cutOff = start - end\n\n        if (cutOff > 0) {\n          insert = match[0].slice(offset - cutOff, offset) + insert\n          start = end\n        }\n      }\n\n      state.tr.insertText(insert, start, end)\n    },\n  })\n}\n", "import { Transaction } from '@tiptap/pm/state'\n\nexport interface TrackerResult {\n  position: number\n  deleted: boolean\n}\n\nexport class Tracker {\n  transaction: Transaction\n\n  currentStep: number\n\n  constructor(transaction: Transaction) {\n    this.transaction = transaction\n    this.currentStep = this.transaction.steps.length\n  }\n\n  map(position: number): TrackerResult {\n    let deleted = false\n\n    const mappedPosition = this.transaction.steps\n      .slice(this.currentStep)\n      .reduce((newPosition, step) => {\n        const mapResult = step.getMap().mapResult(newPosition)\n\n        if (mapResult.deleted) {\n          deleted = true\n        }\n\n        return mapResult.pos\n      }, position)\n\n    return {\n      position: mappedPosition,\n      deleted,\n    }\n  }\n}\n", "import { Plugin } from 'prosemirror-state';\nimport { dropPoint } from 'prosemirror-transform';\n\n/**\nCreate a plugin that, when added to a ProseMirror instance,\ncauses a decoration to show up at the drop position when something\nis dragged over the editor.\n\nNodes may add a `disableDropCursor` property to their spec to\ncontrol the showing of a drop cursor inside them. This may be a\nboolean or a function, which will be called with a view and a\nposition, and should return a boolean.\n*/\nfunction dropCursor(options = {}) {\n    return new Plugin({\n        view(editorView) { return new DropCursorView(editorView, options); }\n    });\n}\nclass DropCursorView {\n    constructor(editorView, options) {\n        var _a;\n        this.editorView = editorView;\n        this.cursorPos = null;\n        this.element = null;\n        this.timeout = -1;\n        this.width = (_a = options.width) !== null && _a !== void 0 ? _a : 1;\n        this.color = options.color === false ? undefined : (options.color || \"black\");\n        this.class = options.class;\n        this.handlers = [\"dragover\", \"dragend\", \"drop\", \"dragleave\"].map(name => {\n            let handler = (e) => { this[name](e); };\n            editorView.dom.addEventListener(name, handler);\n            return { name, handler };\n        });\n    }\n    destroy() {\n        this.handlers.forEach(({ name, handler }) => this.editorView.dom.removeEventListener(name, handler));\n    }\n    update(editorView, prevState) {\n        if (this.cursorPos != null && prevState.doc != editorView.state.doc) {\n            if (this.cursorPos > editorView.state.doc.content.size)\n                this.setCursor(null);\n            else\n                this.updateOverlay();\n        }\n    }\n    setCursor(pos) {\n        if (pos == this.cursorPos)\n            return;\n        this.cursorPos = pos;\n        if (pos == null) {\n            this.element.parentNode.removeChild(this.element);\n            this.element = null;\n        }\n        else {\n            this.updateOverlay();\n        }\n    }\n    updateOverlay() {\n        let $pos = this.editorView.state.doc.resolve(this.cursorPos);\n        let isBlock = !$pos.parent.inlineContent, rect;\n        if (isBlock) {\n            let before = $pos.nodeBefore, after = $pos.nodeAfter;\n            if (before || after) {\n                let node = this.editorView.nodeDOM(this.cursorPos - (before ? before.nodeSize : 0));\n                if (node) {\n                    let nodeRect = node.getBoundingClientRect();\n                    let top = before ? nodeRect.bottom : nodeRect.top;\n                    if (before && after)\n                        top = (top + this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top) / 2;\n                    rect = { left: nodeRect.left, right: nodeRect.right, top: top - this.width / 2, bottom: top + this.width / 2 };\n                }\n            }\n        }\n        if (!rect) {\n            let coords = this.editorView.coordsAtPos(this.cursorPos);\n            rect = { left: coords.left - this.width / 2, right: coords.left + this.width / 2, top: coords.top, bottom: coords.bottom };\n        }\n        let parent = this.editorView.dom.offsetParent;\n        if (!this.element) {\n            this.element = parent.appendChild(document.createElement(\"div\"));\n            if (this.class)\n                this.element.className = this.class;\n            this.element.style.cssText = \"position: absolute; z-index: 50; pointer-events: none;\";\n            if (this.color) {\n                this.element.style.backgroundColor = this.color;\n            }\n        }\n        this.element.classList.toggle(\"prosemirror-dropcursor-block\", isBlock);\n        this.element.classList.toggle(\"prosemirror-dropcursor-inline\", !isBlock);\n        let parentLeft, parentTop;\n        if (!parent || parent == document.body && getComputedStyle(parent).position == \"static\") {\n            parentLeft = -pageXOffset;\n            parentTop = -pageYOffset;\n        }\n        else {\n            let rect = parent.getBoundingClientRect();\n            parentLeft = rect.left - parent.scrollLeft;\n            parentTop = rect.top - parent.scrollTop;\n        }\n        this.element.style.left = (rect.left - parentLeft) + \"px\";\n        this.element.style.top = (rect.top - parentTop) + \"px\";\n        this.element.style.width = (rect.right - rect.left) + \"px\";\n        this.element.style.height = (rect.bottom - rect.top) + \"px\";\n    }\n    scheduleRemoval(timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = setTimeout(() => this.setCursor(null), timeout);\n    }\n    dragover(event) {\n        if (!this.editorView.editable)\n            return;\n        let pos = this.editorView.posAtCoords({ left: event.clientX, top: event.clientY });\n        let node = pos && pos.inside >= 0 && this.editorView.state.doc.nodeAt(pos.inside);\n        let disableDropCursor = node && node.type.spec.disableDropCursor;\n        let disabled = typeof disableDropCursor == \"function\" ? disableDropCursor(this.editorView, pos, event) : disableDropCursor;\n        if (pos && !disabled) {\n            let target = pos.pos;\n            if (this.editorView.dragging && this.editorView.dragging.slice) {\n                let point = dropPoint(this.editorView.state.doc, target, this.editorView.dragging.slice);\n                if (point != null)\n                    target = point;\n            }\n            this.setCursor(target);\n            this.scheduleRemoval(5000);\n        }\n    }\n    dragend() {\n        this.scheduleRemoval(20);\n    }\n    drop() {\n        this.scheduleRemoval(20);\n    }\n    dragleave(event) {\n        if (event.target == this.editorView.dom || !this.editorView.dom.contains(event.relatedTarget))\n            this.setCursor(null);\n    }\n}\n\nexport { dropCursor };\n", "// dropcursor/index.ts\nexport * from \"prosemirror-dropcursor\";\n", "import { keydownHandler } from 'prosemirror-keymap';\nimport { Selection, NodeSelection, TextSelection, Plugin } from 'prosemirror-state';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { DecorationSet, Decoration } from 'prosemirror-view';\n\n/**\nGap cursor selections are represented using this class. Its\n`$anchor` and `$head` properties both point at the cursor position.\n*/\nclass GapCursor extends Selection {\n    /**\n    Create a gap cursor.\n    */\n    constructor($pos) {\n        super($pos, $pos);\n    }\n    map(doc, mapping) {\n        let $pos = doc.resolve(mapping.map(this.head));\n        return GapCursor.valid($pos) ? new GapCursor($pos) : Selection.near($pos);\n    }\n    content() { return Slice.empty; }\n    eq(other) {\n        return other instanceof GapCursor && other.head == this.head;\n    }\n    toJSON() {\n        return { type: \"gapcursor\", pos: this.head };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for GapCursor.fromJSON\");\n        return new GapCursor(doc.resolve(json.pos));\n    }\n    /**\n    @internal\n    */\n    getBookmark() { return new GapBookmark(this.anchor); }\n    /**\n    @internal\n    */\n    static valid($pos) {\n        let parent = $pos.parent;\n        if (parent.isTextblock || !closedBefore($pos) || !closedAfter($pos))\n            return false;\n        let override = parent.type.spec.allowGapCursor;\n        if (override != null)\n            return override;\n        let deflt = parent.contentMatchAt($pos.index()).defaultType;\n        return deflt && deflt.isTextblock;\n    }\n    /**\n    @internal\n    */\n    static findGapCursorFrom($pos, dir, mustMove = false) {\n        search: for (;;) {\n            if (!mustMove && GapCursor.valid($pos))\n                return $pos;\n            let pos = $pos.pos, next = null;\n            // Scan up from this position\n            for (let d = $pos.depth;; d--) {\n                let parent = $pos.node(d);\n                if (dir > 0 ? $pos.indexAfter(d) < parent.childCount : $pos.index(d) > 0) {\n                    next = parent.child(dir > 0 ? $pos.indexAfter(d) : $pos.index(d) - 1);\n                    break;\n                }\n                else if (d == 0) {\n                    return null;\n                }\n                pos += dir;\n                let $cur = $pos.doc.resolve(pos);\n                if (GapCursor.valid($cur))\n                    return $cur;\n            }\n            // And then down into the next node\n            for (;;) {\n                let inside = dir > 0 ? next.firstChild : next.lastChild;\n                if (!inside) {\n                    if (next.isAtom && !next.isText && !NodeSelection.isSelectable(next)) {\n                        $pos = $pos.doc.resolve(pos + next.nodeSize * dir);\n                        mustMove = false;\n                        continue search;\n                    }\n                    break;\n                }\n                next = inside;\n                pos += dir;\n                let $cur = $pos.doc.resolve(pos);\n                if (GapCursor.valid($cur))\n                    return $cur;\n            }\n            return null;\n        }\n    }\n}\nGapCursor.prototype.visible = false;\nGapCursor.findFrom = GapCursor.findGapCursorFrom;\nSelection.jsonID(\"gapcursor\", GapCursor);\nclass GapBookmark {\n    constructor(pos) {\n        this.pos = pos;\n    }\n    map(mapping) {\n        return new GapBookmark(mapping.map(this.pos));\n    }\n    resolve(doc) {\n        let $pos = doc.resolve(this.pos);\n        return GapCursor.valid($pos) ? new GapCursor($pos) : Selection.near($pos);\n    }\n}\nfunction closedBefore($pos) {\n    for (let d = $pos.depth; d >= 0; d--) {\n        let index = $pos.index(d), parent = $pos.node(d);\n        // At the start of this parent, look at next one\n        if (index == 0) {\n            if (parent.type.spec.isolating)\n                return true;\n            continue;\n        }\n        // See if the node before (or its first ancestor) is closed\n        for (let before = parent.child(index - 1);; before = before.lastChild) {\n            if ((before.childCount == 0 && !before.inlineContent) || before.isAtom || before.type.spec.isolating)\n                return true;\n            if (before.inlineContent)\n                return false;\n        }\n    }\n    // Hit start of document\n    return true;\n}\nfunction closedAfter($pos) {\n    for (let d = $pos.depth; d >= 0; d--) {\n        let index = $pos.indexAfter(d), parent = $pos.node(d);\n        if (index == parent.childCount) {\n            if (parent.type.spec.isolating)\n                return true;\n            continue;\n        }\n        for (let after = parent.child(index);; after = after.firstChild) {\n            if ((after.childCount == 0 && !after.inlineContent) || after.isAtom || after.type.spec.isolating)\n                return true;\n            if (after.inlineContent)\n                return false;\n        }\n    }\n    return true;\n}\n\n/**\nCreate a gap cursor plugin. When enabled, this will capture clicks\nnear and arrow-key-motion past places that don't have a normally\nselectable position nearby, and create a gap cursor selection for\nthem. The cursor is drawn as an element with class\n`ProseMirror-gapcursor`. You can either include\n`style/gapcursor.css` from the package's directory or add your own\nstyles to make it visible.\n*/\nfunction gapCursor() {\n    return new Plugin({\n        props: {\n            decorations: drawGapCursor,\n            createSelectionBetween(_view, $anchor, $head) {\n                return $anchor.pos == $head.pos && GapCursor.valid($head) ? new GapCursor($head) : null;\n            },\n            handleClick,\n            handleKeyDown,\n            handleDOMEvents: { beforeinput: beforeinput }\n        }\n    });\n}\nconst handleKeyDown = keydownHandler({\n    \"ArrowLeft\": arrow(\"horiz\", -1),\n    \"ArrowRight\": arrow(\"horiz\", 1),\n    \"ArrowUp\": arrow(\"vert\", -1),\n    \"ArrowDown\": arrow(\"vert\", 1)\n});\nfunction arrow(axis, dir) {\n    const dirStr = axis == \"vert\" ? (dir > 0 ? \"down\" : \"up\") : (dir > 0 ? \"right\" : \"left\");\n    return function (state, dispatch, view) {\n        let sel = state.selection;\n        let $start = dir > 0 ? sel.$to : sel.$from, mustMove = sel.empty;\n        if (sel instanceof TextSelection) {\n            if (!view.endOfTextblock(dirStr) || $start.depth == 0)\n                return false;\n            mustMove = false;\n            $start = state.doc.resolve(dir > 0 ? $start.after() : $start.before());\n        }\n        let $found = GapCursor.findGapCursorFrom($start, dir, mustMove);\n        if (!$found)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setSelection(new GapCursor($found)));\n        return true;\n    };\n}\nfunction handleClick(view, pos, event) {\n    if (!view || !view.editable)\n        return false;\n    let $pos = view.state.doc.resolve(pos);\n    if (!GapCursor.valid($pos))\n        return false;\n    let clickPos = view.posAtCoords({ left: event.clientX, top: event.clientY });\n    if (clickPos && clickPos.inside > -1 && NodeSelection.isSelectable(view.state.doc.nodeAt(clickPos.inside)))\n        return false;\n    view.dispatch(view.state.tr.setSelection(new GapCursor($pos)));\n    return true;\n}\n// This is a hack that, when a composition starts while a gap cursor\n// is active, quickly creates an inline context for the composition to\n// happen in, to avoid it being aborted by the DOM selection being\n// moved into a valid position.\nfunction beforeinput(view, event) {\n    if (event.inputType != \"insertCompositionText\" || !(view.state.selection instanceof GapCursor))\n        return false;\n    let { $from } = view.state.selection;\n    let insert = $from.parent.contentMatchAt($from.index()).findWrapping(view.state.schema.nodes.text);\n    if (!insert)\n        return false;\n    let frag = Fragment.empty;\n    for (let i = insert.length - 1; i >= 0; i--)\n        frag = Fragment.from(insert[i].createAndFill(null, frag));\n    let tr = view.state.tr.replace($from.pos, $from.pos, new Slice(frag, 0, 0));\n    tr.setSelection(TextSelection.near(tr.doc.resolve($from.pos + 1)));\n    view.dispatch(tr);\n    return false;\n}\nfunction drawGapCursor(state) {\n    if (!(state.selection instanceof GapCursor))\n        return null;\n    let node = document.createElement(\"div\");\n    node.className = \"ProseMirror-gapcursor\";\n    return DecorationSet.create(state.doc, [Decoration.widget(state.selection.head, node, { key: \"gapcursor\" })]);\n}\n\nexport { GapCursor, gapCursor };\n", "// gapcursor/index.ts\nexport * from \"prosemirror-gapcursor\";\n", "var GOOD_LEAF_SIZE = 200;\n\n// :: class<T> A rope sequence is a persistent sequence data structure\n// that supports appending, prepending, and slicing without doing a\n// full copy. It is represented as a mostly-balanced tree.\nvar RopeSequence = function RopeSequence () {};\n\nRopeSequence.prototype.append = function append (other) {\n  if (!other.length) { return this }\n  other = RopeSequence.from(other);\n\n  return (!this.length && other) ||\n    (other.length < GOOD_LEAF_SIZE && this.leafAppend(other)) ||\n    (this.length < GOOD_LEAF_SIZE && other.leafPrepend(this)) ||\n    this.appendInner(other)\n};\n\n// :: (union<[T], RopeSequence<T>>) \u2192 RopeSequence<T>\n// Prepend an array or other rope to this one, returning a new rope.\nRopeSequence.prototype.prepend = function prepend (other) {\n  if (!other.length) { return this }\n  return RopeSequence.from(other).append(this)\n};\n\nRopeSequence.prototype.appendInner = function appendInner (other) {\n  return new Append(this, other)\n};\n\n// :: (?number, ?number) \u2192 RopeSequence<T>\n// Create a rope repesenting a sub-sequence of this rope.\nRopeSequence.prototype.slice = function slice (from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from >= to) { return RopeSequence.empty }\n  return this.sliceInner(Math.max(0, from), Math.min(this.length, to))\n};\n\n// :: (number) \u2192 T\n// Retrieve the element at the given position from this rope.\nRopeSequence.prototype.get = function get (i) {\n  if (i < 0 || i >= this.length) { return undefined }\n  return this.getInner(i)\n};\n\n// :: ((element: T, index: number) \u2192 ?bool, ?number, ?number)\n// Call the given function for each element between the given\n// indices. This tends to be more efficient than looping over the\n// indices and calling `get`, because it doesn't have to descend the\n// tree for every element.\nRopeSequence.prototype.forEach = function forEach (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from <= to)\n    { this.forEachInner(f, from, to, 0); }\n  else\n    { this.forEachInvertedInner(f, from, to, 0); }\n};\n\n// :: ((element: T, index: number) \u2192 U, ?number, ?number) \u2192 [U]\n// Map the given functions over the elements of the rope, producing\n// a flat array.\nRopeSequence.prototype.map = function map (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  var result = [];\n  this.forEach(function (elt, i) { return result.push(f(elt, i)); }, from, to);\n  return result\n};\n\n// :: (?union<[T], RopeSequence<T>>) \u2192 RopeSequence<T>\n// Create a rope representing the given array, or return the rope\n// itself if a rope was given.\nRopeSequence.from = function from (values) {\n  if (values instanceof RopeSequence) { return values }\n  return values && values.length ? new Leaf(values) : RopeSequence.empty\n};\n\nvar Leaf = /*@__PURE__*/(function (RopeSequence) {\n  function Leaf(values) {\n    RopeSequence.call(this);\n    this.values = values;\n  }\n\n  if ( RopeSequence ) Leaf.__proto__ = RopeSequence;\n  Leaf.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Leaf.prototype.constructor = Leaf;\n\n  var prototypeAccessors = { length: { configurable: true },depth: { configurable: true } };\n\n  Leaf.prototype.flatten = function flatten () {\n    return this.values\n  };\n\n  Leaf.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    return new Leaf(this.values.slice(from, to))\n  };\n\n  Leaf.prototype.getInner = function getInner (i) {\n    return this.values[i]\n  };\n\n  Leaf.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    for (var i = from; i < to; i++)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    for (var i = from - 1; i >= to; i--)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.leafAppend = function leafAppend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(this.values.concat(other.flatten())) }\n  };\n\n  Leaf.prototype.leafPrepend = function leafPrepend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(other.flatten().concat(this.values)) }\n  };\n\n  prototypeAccessors.length.get = function () { return this.values.length };\n\n  prototypeAccessors.depth.get = function () { return 0 };\n\n  Object.defineProperties( Leaf.prototype, prototypeAccessors );\n\n  return Leaf;\n}(RopeSequence));\n\n// :: RopeSequence\n// The empty rope sequence.\nRopeSequence.empty = new Leaf([]);\n\nvar Append = /*@__PURE__*/(function (RopeSequence) {\n  function Append(left, right) {\n    RopeSequence.call(this);\n    this.left = left;\n    this.right = right;\n    this.length = left.length + right.length;\n    this.depth = Math.max(left.depth, right.depth) + 1;\n  }\n\n  if ( RopeSequence ) Append.__proto__ = RopeSequence;\n  Append.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Append.prototype.constructor = Append;\n\n  Append.prototype.flatten = function flatten () {\n    return this.left.flatten().concat(this.right.flatten())\n  };\n\n  Append.prototype.getInner = function getInner (i) {\n    return i < this.left.length ? this.left.get(i) : this.right.get(i - this.left.length)\n  };\n\n  Append.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from < leftLen &&\n        this.left.forEachInner(f, from, Math.min(to, leftLen), start) === false)\n      { return false }\n    if (to > leftLen &&\n        this.right.forEachInner(f, Math.max(from - leftLen, 0), Math.min(this.length, to) - leftLen, start + leftLen) === false)\n      { return false }\n  };\n\n  Append.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from > leftLen &&\n        this.right.forEachInvertedInner(f, from - leftLen, Math.max(to, leftLen) - leftLen, start + leftLen) === false)\n      { return false }\n    if (to < leftLen &&\n        this.left.forEachInvertedInner(f, Math.min(from, leftLen), to, start) === false)\n      { return false }\n  };\n\n  Append.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    var leftLen = this.left.length;\n    if (to <= leftLen) { return this.left.slice(from, to) }\n    if (from >= leftLen) { return this.right.slice(from - leftLen, to - leftLen) }\n    return this.left.slice(from, leftLen).append(this.right.slice(0, to - leftLen))\n  };\n\n  Append.prototype.leafAppend = function leafAppend (other) {\n    var inner = this.right.leafAppend(other);\n    if (inner) { return new Append(this.left, inner) }\n  };\n\n  Append.prototype.leafPrepend = function leafPrepend (other) {\n    var inner = this.left.leafPrepend(other);\n    if (inner) { return new Append(inner, this.right) }\n  };\n\n  Append.prototype.appendInner = function appendInner (other) {\n    if (this.left.depth >= Math.max(this.right.depth, other.depth) + 1)\n      { return new Append(this.left, new Append(this.right, other)) }\n    return new Append(this, other)\n  };\n\n  return Append;\n}(RopeSequence));\n\nexport default RopeSequence;\n", "import RopeSequence from 'rope-sequence';\nimport { Mapping } from 'prosemirror-transform';\nimport { PluginKey, Plugin } from 'prosemirror-state';\n\n// ProseMirror's history isn't simply a way to roll back to a previous\n// state, because ProseMirror supports applying changes without adding\n// them to the history (for example during collaboration).\n//\n// To this end, each 'Branch' (one for the undo history and one for\n// the redo history) keeps an array of 'Items', which can optionally\n// hold a step (an actual undoable change), and always hold a position\n// map (which is needed to move changes below them to apply to the\n// current document).\n//\n// An item that has both a step and a selection bookmark is the start\n// of an 'event' \u2014 a group of changes that will be undone or redone at\n// once. (It stores only the bookmark, since that way we don't have to\n// provide a document until the selection is actually applied, which\n// is useful when compressing.)\n// Used to schedule history compression\nconst max_empty_items = 500;\nclass Branch {\n    constructor(items, eventCount) {\n        this.items = items;\n        this.eventCount = eventCount;\n    }\n    // Pop the latest event off the branch's history and apply it\n    // to a document transform.\n    popEvent(state, preserveItems) {\n        if (this.eventCount == 0)\n            return null;\n        let end = this.items.length;\n        for (;; end--) {\n            let next = this.items.get(end - 1);\n            if (next.selection) {\n                --end;\n                break;\n            }\n        }\n        let remap, mapFrom;\n        if (preserveItems) {\n            remap = this.remapping(end, this.items.length);\n            mapFrom = remap.maps.length;\n        }\n        let transform = state.tr;\n        let selection, remaining;\n        let addAfter = [], addBefore = [];\n        this.items.forEach((item, i) => {\n            if (!item.step) {\n                if (!remap) {\n                    remap = this.remapping(end, i + 1);\n                    mapFrom = remap.maps.length;\n                }\n                mapFrom--;\n                addBefore.push(item);\n                return;\n            }\n            if (remap) {\n                addBefore.push(new Item(item.map));\n                let step = item.step.map(remap.slice(mapFrom)), map;\n                if (step && transform.maybeStep(step).doc) {\n                    map = transform.mapping.maps[transform.mapping.maps.length - 1];\n                    addAfter.push(new Item(map, undefined, undefined, addAfter.length + addBefore.length));\n                }\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n            }\n            else {\n                transform.maybeStep(item.step);\n            }\n            if (item.selection) {\n                selection = remap ? item.selection.map(remap.slice(mapFrom)) : item.selection;\n                remaining = new Branch(this.items.slice(0, end).append(addBefore.reverse().concat(addAfter)), this.eventCount - 1);\n                return false;\n            }\n        }, this.items.length, 0);\n        return { remaining: remaining, transform, selection: selection };\n    }\n    // Create a new branch with the given transform added.\n    addTransform(transform, selection, histOptions, preserveItems) {\n        let newItems = [], eventCount = this.eventCount;\n        let oldItems = this.items, lastItem = !preserveItems && oldItems.length ? oldItems.get(oldItems.length - 1) : null;\n        for (let i = 0; i < transform.steps.length; i++) {\n            let step = transform.steps[i].invert(transform.docs[i]);\n            let item = new Item(transform.mapping.maps[i], step, selection), merged;\n            if (merged = lastItem && lastItem.merge(item)) {\n                item = merged;\n                if (i)\n                    newItems.pop();\n                else\n                    oldItems = oldItems.slice(0, oldItems.length - 1);\n            }\n            newItems.push(item);\n            if (selection) {\n                eventCount++;\n                selection = undefined;\n            }\n            if (!preserveItems)\n                lastItem = item;\n        }\n        let overflow = eventCount - histOptions.depth;\n        if (overflow > DEPTH_OVERFLOW) {\n            oldItems = cutOffEvents(oldItems, overflow);\n            eventCount -= overflow;\n        }\n        return new Branch(oldItems.append(newItems), eventCount);\n    }\n    remapping(from, to) {\n        let maps = new Mapping;\n        this.items.forEach((item, i) => {\n            let mirrorPos = item.mirrorOffset != null && i - item.mirrorOffset >= from\n                ? maps.maps.length - item.mirrorOffset : undefined;\n            maps.appendMap(item.map, mirrorPos);\n        }, from, to);\n        return maps;\n    }\n    addMaps(array) {\n        if (this.eventCount == 0)\n            return this;\n        return new Branch(this.items.append(array.map(map => new Item(map))), this.eventCount);\n    }\n    // When the collab module receives remote changes, the history has\n    // to know about those, so that it can adjust the steps that were\n    // rebased on top of the remote changes, and include the position\n    // maps for the remote changes in its array of items.\n    rebased(rebasedTransform, rebasedCount) {\n        if (!this.eventCount)\n            return this;\n        let rebasedItems = [], start = Math.max(0, this.items.length - rebasedCount);\n        let mapping = rebasedTransform.mapping;\n        let newUntil = rebasedTransform.steps.length;\n        let eventCount = this.eventCount;\n        this.items.forEach(item => { if (item.selection)\n            eventCount--; }, start);\n        let iRebased = rebasedCount;\n        this.items.forEach(item => {\n            let pos = mapping.getMirror(--iRebased);\n            if (pos == null)\n                return;\n            newUntil = Math.min(newUntil, pos);\n            let map = mapping.maps[pos];\n            if (item.step) {\n                let step = rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]);\n                let selection = item.selection && item.selection.map(mapping.slice(iRebased + 1, pos));\n                if (selection)\n                    eventCount++;\n                rebasedItems.push(new Item(map, step, selection));\n            }\n            else {\n                rebasedItems.push(new Item(map));\n            }\n        }, start);\n        let newMaps = [];\n        for (let i = rebasedCount; i < newUntil; i++)\n            newMaps.push(new Item(mapping.maps[i]));\n        let items = this.items.slice(0, start).append(newMaps).append(rebasedItems);\n        let branch = new Branch(items, eventCount);\n        if (branch.emptyItemCount() > max_empty_items)\n            branch = branch.compress(this.items.length - rebasedItems.length);\n        return branch;\n    }\n    emptyItemCount() {\n        let count = 0;\n        this.items.forEach(item => { if (!item.step)\n            count++; });\n        return count;\n    }\n    // Compressing a branch means rewriting it to push the air (map-only\n    // items) out. During collaboration, these naturally accumulate\n    // because each remote change adds one. The `upto` argument is used\n    // to ensure that only the items below a given level are compressed,\n    // because `rebased` relies on a clean, untouched set of items in\n    // order to associate old items with rebased steps.\n    compress(upto = this.items.length) {\n        let remap = this.remapping(0, upto), mapFrom = remap.maps.length;\n        let items = [], events = 0;\n        this.items.forEach((item, i) => {\n            if (i >= upto) {\n                items.push(item);\n                if (item.selection)\n                    events++;\n            }\n            else if (item.step) {\n                let step = item.step.map(remap.slice(mapFrom)), map = step && step.getMap();\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n                if (step) {\n                    let selection = item.selection && item.selection.map(remap.slice(mapFrom));\n                    if (selection)\n                        events++;\n                    let newItem = new Item(map.invert(), step, selection), merged, last = items.length - 1;\n                    if (merged = items.length && items[last].merge(newItem))\n                        items[last] = merged;\n                    else\n                        items.push(newItem);\n                }\n            }\n            else if (item.map) {\n                mapFrom--;\n            }\n        }, this.items.length, 0);\n        return new Branch(RopeSequence.from(items.reverse()), events);\n    }\n}\nBranch.empty = new Branch(RopeSequence.empty, 0);\nfunction cutOffEvents(items, n) {\n    let cutPoint;\n    items.forEach((item, i) => {\n        if (item.selection && (n-- == 0)) {\n            cutPoint = i;\n            return false;\n        }\n    });\n    return items.slice(cutPoint);\n}\nclass Item {\n    constructor(\n    // The (forward) step map for this item.\n    map, \n    // The inverted step\n    step, \n    // If this is non-null, this item is the start of a group, and\n    // this selection is the starting selection for the group (the one\n    // that was active before the first step was applied)\n    selection, \n    // If this item is the inverse of a previous mapping on the stack,\n    // this points at the inverse's offset\n    mirrorOffset) {\n        this.map = map;\n        this.step = step;\n        this.selection = selection;\n        this.mirrorOffset = mirrorOffset;\n    }\n    merge(other) {\n        if (this.step && other.step && !other.selection) {\n            let step = other.step.merge(this.step);\n            if (step)\n                return new Item(step.getMap().invert(), step, this.selection);\n        }\n    }\n}\n// The value of the state field that tracks undo/redo history for that\n// state. Will be stored in the plugin state when the history plugin\n// is active.\nclass HistoryState {\n    constructor(done, undone, prevRanges, prevTime, prevComposition) {\n        this.done = done;\n        this.undone = undone;\n        this.prevRanges = prevRanges;\n        this.prevTime = prevTime;\n        this.prevComposition = prevComposition;\n    }\n}\nconst DEPTH_OVERFLOW = 20;\n// Record a transformation in undo history.\nfunction applyTransaction(history, state, tr, options) {\n    let historyTr = tr.getMeta(historyKey), rebased;\n    if (historyTr)\n        return historyTr.historyState;\n    if (tr.getMeta(closeHistoryKey))\n        history = new HistoryState(history.done, history.undone, null, 0, -1);\n    let appended = tr.getMeta(\"appendedTransaction\");\n    if (tr.steps.length == 0) {\n        return history;\n    }\n    else if (appended && appended.getMeta(historyKey)) {\n        if (appended.getMeta(historyKey).redo)\n            return new HistoryState(history.done.addTransform(tr, undefined, options, mustPreserveItems(state)), history.undone, rangesFor(tr.mapping.maps[tr.steps.length - 1]), history.prevTime, history.prevComposition);\n        else\n            return new HistoryState(history.done, history.undone.addTransform(tr, undefined, options, mustPreserveItems(state)), null, history.prevTime, history.prevComposition);\n    }\n    else if (tr.getMeta(\"addToHistory\") !== false && !(appended && appended.getMeta(\"addToHistory\") === false)) {\n        // Group transforms that occur in quick succession into one event.\n        let composition = tr.getMeta(\"composition\");\n        let newGroup = history.prevTime == 0 ||\n            (!appended && history.prevComposition != composition &&\n                (history.prevTime < (tr.time || 0) - options.newGroupDelay || !isAdjacentTo(tr, history.prevRanges)));\n        let prevRanges = appended ? mapRanges(history.prevRanges, tr.mapping) : rangesFor(tr.mapping.maps[tr.steps.length - 1]);\n        return new HistoryState(history.done.addTransform(tr, newGroup ? state.selection.getBookmark() : undefined, options, mustPreserveItems(state)), Branch.empty, prevRanges, tr.time, composition == null ? history.prevComposition : composition);\n    }\n    else if (rebased = tr.getMeta(\"rebased\")) {\n        // Used by the collab module to tell the history that some of its\n        // content has been rebased.\n        return new HistoryState(history.done.rebased(tr, rebased), history.undone.rebased(tr, rebased), mapRanges(history.prevRanges, tr.mapping), history.prevTime, history.prevComposition);\n    }\n    else {\n        return new HistoryState(history.done.addMaps(tr.mapping.maps), history.undone.addMaps(tr.mapping.maps), mapRanges(history.prevRanges, tr.mapping), history.prevTime, history.prevComposition);\n    }\n}\nfunction isAdjacentTo(transform, prevRanges) {\n    if (!prevRanges)\n        return false;\n    if (!transform.docChanged)\n        return true;\n    let adjacent = false;\n    transform.mapping.maps[0].forEach((start, end) => {\n        for (let i = 0; i < prevRanges.length; i += 2)\n            if (start <= prevRanges[i + 1] && end >= prevRanges[i])\n                adjacent = true;\n    });\n    return adjacent;\n}\nfunction rangesFor(map) {\n    let result = [];\n    map.forEach((_from, _to, from, to) => result.push(from, to));\n    return result;\n}\nfunction mapRanges(ranges, mapping) {\n    if (!ranges)\n        return null;\n    let result = [];\n    for (let i = 0; i < ranges.length; i += 2) {\n        let from = mapping.map(ranges[i], 1), to = mapping.map(ranges[i + 1], -1);\n        if (from <= to)\n            result.push(from, to);\n    }\n    return result;\n}\n// Apply the latest event from one branch to the document and shift the event\n// onto the other branch.\nfunction histTransaction(history, state, dispatch, redo) {\n    let preserveItems = mustPreserveItems(state);\n    let histOptions = historyKey.get(state).spec.config;\n    let pop = (redo ? history.undone : history.done).popEvent(state, preserveItems);\n    if (!pop)\n        return;\n    let selection = pop.selection.resolve(pop.transform.doc);\n    let added = (redo ? history.done : history.undone).addTransform(pop.transform, state.selection.getBookmark(), histOptions, preserveItems);\n    let newHist = new HistoryState(redo ? added : pop.remaining, redo ? pop.remaining : added, null, 0, -1);\n    dispatch(pop.transform.setSelection(selection).setMeta(historyKey, { redo, historyState: newHist }).scrollIntoView());\n}\nlet cachedPreserveItems = false, cachedPreserveItemsPlugins = null;\n// Check whether any plugin in the given state has a\n// `historyPreserveItems` property in its spec, in which case we must\n// preserve steps exactly as they came in, so that they can be\n// rebased.\nfunction mustPreserveItems(state) {\n    let plugins = state.plugins;\n    if (cachedPreserveItemsPlugins != plugins) {\n        cachedPreserveItems = false;\n        cachedPreserveItemsPlugins = plugins;\n        for (let i = 0; i < plugins.length; i++)\n            if (plugins[i].spec.historyPreserveItems) {\n                cachedPreserveItems = true;\n                break;\n            }\n    }\n    return cachedPreserveItems;\n}\n/**\nSet a flag on the given transaction that will prevent further steps\nfrom being appended to an existing history event (so that they\nrequire a separate undo command to undo).\n*/\nfunction closeHistory(tr) {\n    return tr.setMeta(closeHistoryKey, true);\n}\nconst historyKey = new PluginKey(\"history\");\nconst closeHistoryKey = new PluginKey(\"closeHistory\");\n/**\nReturns a plugin that enables the undo history for an editor. The\nplugin will track undo and redo stacks, which can be used with the\n[`undo`](https://prosemirror.net/docs/ref/#history.undo) and [`redo`](https://prosemirror.net/docs/ref/#history.redo) commands.\n\nYou can set an `\"addToHistory\"` [metadata\nproperty](https://prosemirror.net/docs/ref/#state.Transaction.setMeta) of `false` on a transaction\nto prevent it from being rolled back by undo.\n*/\nfunction history(config = {}) {\n    config = { depth: config.depth || 100,\n        newGroupDelay: config.newGroupDelay || 500 };\n    return new Plugin({\n        key: historyKey,\n        state: {\n            init() {\n                return new HistoryState(Branch.empty, Branch.empty, null, 0, -1);\n            },\n            apply(tr, hist, state) {\n                return applyTransaction(hist, state, tr, config);\n            }\n        },\n        config,\n        props: {\n            handleDOMEvents: {\n                beforeinput(view, e) {\n                    let inputType = e.inputType;\n                    let command = inputType == \"historyUndo\" ? undo : inputType == \"historyRedo\" ? redo : null;\n                    if (!command)\n                        return false;\n                    e.preventDefault();\n                    return command(view.state, view.dispatch);\n                }\n            }\n        }\n    });\n}\n/**\nA command function that undoes the last change, if any.\n*/\nconst undo = (state, dispatch) => {\n    let hist = historyKey.getState(state);\n    if (!hist || hist.done.eventCount == 0)\n        return false;\n    if (dispatch)\n        histTransaction(hist, state, dispatch, false);\n    return true;\n};\n/**\nA command function that redoes the last undone change, if any.\n*/\nconst redo = (state, dispatch) => {\n    let hist = historyKey.getState(state);\n    if (!hist || hist.undone.eventCount == 0)\n        return false;\n    if (dispatch)\n        histTransaction(hist, state, dispatch, true);\n    return true;\n};\n/**\nThe amount of undoable events available in a given state.\n*/\nfunction undoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.done.eventCount : 0;\n}\n/**\nThe amount of redoable events available in a given editor state.\n*/\nfunction redoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.undone.eventCount : 0;\n}\n\nexport { closeHistory, history, redo, redoDepth, undo, undoDepth };\n", "// history/index.ts\nexport * from \"prosemirror-history\";\n", "import { mergeAttributes, Node, textblockTypeInputRule } from '@tiptap/core'\nimport { Plugin, PluginKey, TextSelection } from '@tiptap/pm/state'\n\nexport interface CodeBlockOptions {\n  /**\n   * Adds a prefix to language classes that are applied to code tags.\n   * Defaults to `'language-'`.\n   */\n  languageClassPrefix: string\n  /**\n   * Define whether the node should be exited on triple enter.\n   * Defaults to `true`.\n   */\n  exitOnTripleEnter: boolean\n  /**\n   * Define whether the node should be exited on arrow down if there is no node after it.\n   * Defaults to `true`.\n   */\n  exitOnArrowDown: boolean\n  /**\n   * Custom HTML attributes that should be added to the rendered HTML tag.\n   */\n  HTMLAttributes: Record<string, any>\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    codeBlock: {\n      /**\n       * Set a code block\n       */\n      setCodeBlock: (attributes?: { language: string }) => ReturnType\n      /**\n       * Toggle a code block\n       */\n      toggleCodeBlock: (attributes?: { language: string }) => ReturnType\n    }\n  }\n}\n\nexport const backtickInputRegex = /^```([a-z]+)?[\\s\\n]$/\nexport const tildeInputRegex = /^~~~([a-z]+)?[\\s\\n]$/\n\nexport const CodeBlock = Node.create<CodeBlockOptions>({\n  name: 'codeBlock',\n\n  addOptions() {\n    return {\n      languageClassPrefix: 'language-',\n      exitOnTripleEnter: true,\n      exitOnArrowDown: true,\n      HTMLAttributes: {},\n    }\n  },\n\n  content: 'text*',\n\n  marks: '',\n\n  group: 'block',\n\n  code: true,\n\n  defining: true,\n\n  addAttributes() {\n    return {\n      language: {\n        default: null,\n        parseHTML: element => {\n          const { languageClassPrefix } = this.options\n          const classNames = [...(element.firstElementChild?.classList || [])]\n          const languages = classNames\n            .filter(className => className.startsWith(languageClassPrefix))\n            .map(className => className.replace(languageClassPrefix, ''))\n          const language = languages[0]\n\n          if (!language) {\n            return null\n          }\n\n          return language\n        },\n        rendered: false,\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'pre',\n        preserveWhitespace: 'full',\n      },\n    ]\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      'pre',\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n      [\n        'code',\n        {\n          class: node.attrs.language\n            ? this.options.languageClassPrefix + node.attrs.language\n            : null,\n        },\n        0,\n      ],\n    ]\n  },\n\n  addCommands() {\n    return {\n      setCodeBlock:\n        attributes => ({ commands }) => {\n          return commands.setNode(this.name, attributes)\n        },\n      toggleCodeBlock:\n        attributes => ({ commands }) => {\n          return commands.toggleNode(this.name, 'paragraph', attributes)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Alt-c': () => this.editor.commands.toggleCodeBlock(),\n\n      // remove code block when at start of document or code block is empty\n      Backspace: () => {\n        const { empty, $anchor } = this.editor.state.selection\n        const isAtStart = $anchor.pos === 1\n\n        if (!empty || $anchor.parent.type.name !== this.name) {\n          return false\n        }\n\n        if (isAtStart || !$anchor.parent.textContent.length) {\n          return this.editor.commands.clearNodes()\n        }\n\n        return false\n      },\n\n      // exit node on triple enter\n      Enter: ({ editor }) => {\n        if (!this.options.exitOnTripleEnter) {\n          return false\n        }\n\n        const { state } = editor\n        const { selection } = state\n        const { $from, empty } = selection\n\n        if (!empty || $from.parent.type !== this.type) {\n          return false\n        }\n\n        const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2\n        const endsWithDoubleNewline = $from.parent.textContent.endsWith('\\n\\n')\n\n        if (!isAtEnd || !endsWithDoubleNewline) {\n          return false\n        }\n\n        return editor\n          .chain()\n          .command(({ tr }) => {\n            tr.delete($from.pos - 2, $from.pos)\n\n            return true\n          })\n          .exitCode()\n          .run()\n      },\n\n      // exit node on arrow down\n      ArrowDown: ({ editor }) => {\n        if (!this.options.exitOnArrowDown) {\n          return false\n        }\n\n        const { state } = editor\n        const { selection, doc } = state\n        const { $from, empty } = selection\n\n        if (!empty || $from.parent.type !== this.type) {\n          return false\n        }\n\n        const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2\n\n        if (!isAtEnd) {\n          return false\n        }\n\n        const after = $from.after()\n\n        if (after === undefined) {\n          return false\n        }\n\n        const nodeAfter = doc.nodeAt(after)\n\n        if (nodeAfter) {\n          return false\n        }\n\n        return editor.commands.exitCode()\n      },\n    }\n  },\n\n  addInputRules() {\n    return [\n      textblockTypeInputRule({\n        find: backtickInputRegex,\n        type: this.type,\n        getAttributes: match => ({\n          language: match[1],\n        }),\n      }),\n      textblockTypeInputRule({\n        find: tildeInputRegex,\n        type: this.type,\n        getAttributes: match => ({\n          language: match[1],\n        }),\n      }),\n    ]\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      // this plugin creates a code block for pasted content from VS Code\n      // we can also detect the copied code language\n      new Plugin({\n        key: new PluginKey('codeBlockVSCodeHandler'),\n        props: {\n          handlePaste: (view, event) => {\n            if (!event.clipboardData) {\n              return false\n            }\n\n            // don’t create a new code block within code blocks\n            if (this.editor.isActive(this.type.name)) {\n              return false\n            }\n\n            const text = event.clipboardData.getData('text/plain')\n            const vscode = event.clipboardData.getData('vscode-editor-data')\n            const vscodeData = vscode ? JSON.parse(vscode) : undefined\n            const language = vscodeData?.mode\n\n            if (!text || !language) {\n              return false\n            }\n\n            const { tr } = view.state\n\n            // create an empty code block\n            tr.replaceSelectionWith(this.type.create({ language }))\n\n            // put cursor inside the newly created code block\n            tr.setSelection(TextSelection.near(tr.doc.resolve(Math.max(0, tr.selection.from - 2))))\n\n            // add text to code block\n            // strip carriage return chars from text pasted as code\n            // see: https://github.com/ProseMirror/prosemirror-view/commit/a50a6bcceb4ce52ac8fcc6162488d8875613aacd\n            tr.insertText(text.replace(/\\r\\n?/g, '\\n'))\n\n            // store meta information\n            // this is useful for other plugins that depends on the paste event\n            // like the paste rule plugin\n            tr.setMeta('paste', true)\n\n            view.dispatch(tr)\n\n            return true\n          },\n        },\n      }),\n    ]\n  },\n})\n", "var deepFreezeEs6 = {exports: {}};\n\nfunction deepFreeze(obj) {\n    if (obj instanceof Map) {\n        obj.clear = obj.delete = obj.set = function () {\n            throw new Error('map is read-only');\n        };\n    } else if (obj instanceof Set) {\n        obj.add = obj.clear = obj.delete = function () {\n            throw new Error('set is read-only');\n        };\n    }\n\n    // Freeze self\n    Object.freeze(obj);\n\n    Object.getOwnPropertyNames(obj).forEach(function (name) {\n        var prop = obj[name];\n\n        // Freeze prop if it is an object\n        if (typeof prop == 'object' && !Object.isFrozen(prop)) {\n            deepFreeze(prop);\n        }\n    });\n\n    return obj;\n}\n\ndeepFreezeEs6.exports = deepFreeze;\ndeepFreezeEs6.exports.default = deepFreeze;\n\n/** @typedef {import('highlight.js').CallbackResponse} CallbackResponse */\n/** @typedef {import('highlight.js').CompiledMode} CompiledMode */\n/** @implements CallbackResponse */\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n    this.isMatchIgnored = false;\n  }\n\n  ignoreMatch() {\n    this.isMatchIgnored = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit$1(original, ...objects) {\n  /** @type Record<string,any> */\n  const result = Object.create(null);\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  // rarely we can have a sublanguage where language is undefined\n  // TODO: track down why\n  return !!node.scope || (node.sublanguage && node.language);\n};\n\n/**\n *\n * @param {string} name\n * @param {{prefix:string}} options\n */\nconst scopeToCSSClass = (name, { prefix }) => {\n  if (name.includes(\".\")) {\n    const pieces = name.split(\".\");\n    return [\n      `${prefix}${pieces.shift()}`,\n      ...(pieces.map((x, i) => `${x}${\"_\".repeat(i + 1)}`))\n    ].join(\" \");\n  }\n  return `${prefix}${name}`;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    let className = \"\";\n    if (node.sublanguage) {\n      className = `language-${node.language}`;\n    } else {\n      className = scopeToCSSClass(node.scope, { prefix: this.classPrefix });\n    }\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/** @typedef {import('highlight.js').Emitter} Emitter */\n/**  */\n\n/** @returns {DataNode} */\nconst newNode = (opts = {}) => {\n  /** @type DataNode */\n  const result = { children: [] };\n  Object.assign(result, opts);\n  return result;\n};\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = newNode();\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} scope */\n  openNode(scope) {\n    /** @type Node */\n    const node = newNode({ scope });\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addKeyword(text, scope)\n  - addText(text)\n  - addSublanguage(emitter, subLanguageName)\n  - finalize()\n  - openNode(scope)\n  - closeNode()\n  - closeAllNodes()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} scope\n   */\n  addKeyword(text, scope) {\n    if (text === \"\") { return; }\n\n    this.openNode(scope);\n    this.addText(text);\n    this.closeNode();\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    node.sublanguage = true;\n    node.language = name;\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction anyNumberOfTimes(re) {\n  return concat('(?:', re, ')*');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(?:', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param { Array<string | RegExp | Object> } args\n * @returns {object}\n */\nfunction stripOptionsFromArgs(args) {\n  const opts = args[args.length - 1];\n\n  if (typeof opts === 'object' && opts.constructor === Object) {\n    args.splice(args.length - 1, 1);\n    return opts;\n  } else {\n    return {};\n  }\n}\n\n/** @typedef { {capture?: boolean} } RegexEitherOptions */\n\n/**\n * Any of the passed expresssions may match\n *\n * Creates a huge this | this | that | that match\n * @param {(RegExp | string)[] | [...(RegExp | string)[], RegexEitherOptions]} args\n * @returns {string}\n */\nfunction either(...args) {\n  /** @type { object & {capture?: boolean} }  */\n  const opts = stripOptionsFromArgs(args);\n  const joined = '('\n    + (opts.capture ? \"\" : \"?:\")\n    + args.map((x) => source(x)).join(\"|\") + \")\";\n  return joined;\n}\n\n/**\n * @param {RegExp | string} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  const match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// BACKREF_RE matches an open parenthesis or backreference. To avoid\n// an incorrect parse, it additionally matches the following:\n// - [...] elements, where the meaning of parentheses and escapes change\n// - other escape sequences, so we do not misparse escape sequences as\n//   interesting elements\n// - non-matching or lookahead parentheses, which do not capture. These\n//   follow the '(' with a '?'.\nconst BACKREF_RE = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n\n// **INTERNAL** Not intended for outside usage\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {{joinWith: string}} opts\n * @returns {string}\n */\nfunction _rewriteBackreferences(regexps, { joinWith }) {\n  let numCaptures = 0;\n\n  return regexps.map((regex) => {\n    numCaptures += 1;\n    const offset = numCaptures;\n    let re = source(regex);\n    let out = '';\n\n    while (re.length > 0) {\n      const match = BACKREF_RE.exec(re);\n      if (!match) {\n        out += re;\n        break;\n      }\n      out += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        out += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        out += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    return out;\n  }).map(re => `(${re})`).join(joinWith);\n}\n\n/** @typedef {import('highlight.js').Mode} Mode */\n/** @typedef {import('highlight.js').ModeCallback} ModeCallback */\n\n// Common regexps\nconst MATCH_NOTHING_RE = /\\b\\B/;\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit$1({\n    scope: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  scope: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  scope: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  const mode = inherit$1(\n    {\n      scope: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push({\n    scope: 'doctag',\n    // hack to avoid the space from being included. the space is necessary to\n    // match here to prevent the plain text rule below from gobbling up doctags\n    begin: '[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)',\n    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,\n    excludeBegin: true,\n    relevance: 0\n  });\n  const ENGLISH_WORD = either(\n    // list of common 1 and 2 letter words in English\n    \"I\",\n    \"a\",\n    \"is\",\n    \"so\",\n    \"us\",\n    \"to\",\n    \"at\",\n    \"if\",\n    \"in\",\n    \"it\",\n    \"on\",\n    // note: this is not an exhaustive list of contractions, just popular ones\n    /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, // contractions - can't we'd they're let's, etc\n    /[A-Za-z]+[-][a-z]+/, // `no-way`, etc.\n    /[A-Za-z][a-z]{2,}/ // allow capitalized words at beginning of sentences\n  );\n  // looking like plain text, more likely to be a comment\n  mode.contains.push(\n    {\n      // TODO: how to include \", (, ) without breaking grammars that use these for\n      // comment delimiters?\n      // begin: /[ ]+([()\"]?([A-Za-z'-]{3,}|is|a|I|so|us|[tT][oO]|at|if|in|it|on)[.]?[()\":]?([.][ ]|[ ]|\\))){3}/\n      // ---\n\n      // this tries to find sequences of 3 english words in a row (without any\n      // \"programming\" type syntax) this gives us a strong signal that we've\n      // TRULY found a comment - vs perhaps scanning with the wrong language.\n      // It's possible to find something that LOOKS like the start of the\n      // comment - but then if there is no readable text - good chance it is a\n      // false match and not a comment.\n      //\n      // for a visual example please see:\n      // https://github.com/highlightjs/highlight.js/issues/2827\n\n      begin: concat(\n        /[ ]+/, // necessary to prevent us gobbling up doctags like /* @author Bob Mcgill */\n        '(',\n        ENGLISH_WORD,\n        /[.]?[:]?([.][ ]|[ ])/,\n        '){3}') // look for 3 words in a row\n    }\n  );\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  scope: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  scope: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  scope: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    scope: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  scope: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  scope: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    MATCH_NOTHING_RE: MATCH_NOTHING_RE,\n    IDENT_RE: IDENT_RE,\n    UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n    NUMBER_RE: NUMBER_RE,\n    C_NUMBER_RE: C_NUMBER_RE,\n    BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n    RE_STARTERS_RE: RE_STARTERS_RE,\n    SHEBANG: SHEBANG,\n    BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n    APOS_STRING_MODE: APOS_STRING_MODE,\n    QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n    PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n    COMMENT: COMMENT,\n    C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n    C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n    HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n    NUMBER_MODE: NUMBER_MODE,\n    C_NUMBER_MODE: C_NUMBER_MODE,\n    BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n    REGEXP_MODE: REGEXP_MODE,\n    TITLE_MODE: TITLE_MODE,\n    UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n    METHOD_GUARD: METHOD_GUARD,\n    END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n/**\n@typedef {import('highlight.js').CallbackResponse} CallbackResponse\n@typedef {import('highlight.js').CompilerExt} CompilerExt\n*/\n\n// Grammar extensions / plugins\n// See: https://github.com/highlightjs/highlight.js/issues/2833\n\n// Grammar extensions allow \"syntactic sugar\" to be added to the grammar modes\n// without requiring any underlying changes to the compiler internals.\n\n// `compileMatch` being the perfect small example of now allowing a grammar\n// author to write `match` when they desire to match a single expression rather\n// than being forced to use `begin`.  The extension then just moves `match` into\n// `begin` when it runs.  Ie, no features have been added, but we've just made\n// the experience of writing (and reading grammars) a little bit nicer.\n\n// ------\n\n// TODO: We need negative look-behind support to do this properly\n/**\n * Skip a match if it has a preceding dot\n *\n * This is used for `beginKeywords` to prevent matching expressions such as\n * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n * @param {RegExpMatchArray} match\n * @param {CallbackResponse} response\n */\nfunction skipIfHasPrecedingDot(match, response) {\n  const before = match.input[match.index - 1];\n  if (before === \".\") {\n    response.ignoreMatch();\n  }\n}\n\n/**\n *\n * @type {CompilerExt}\n */\nfunction scopeClassName(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.className !== undefined) {\n    mode.scope = mode.className;\n    delete mode.className;\n  }\n}\n\n/**\n * `beginKeywords` syntactic sugar\n * @type {CompilerExt}\n */\nfunction beginKeywords(mode, parent) {\n  if (!parent) return;\n  if (!mode.beginKeywords) return;\n\n  // for languages with keywords that include non-word characters checking for\n  // a word boundary is not sufficient, so instead we check for a word boundary\n  // or whitespace - this does no harm in any case since our keyword engine\n  // doesn't allow spaces in keywords anyways and we still check for the boundary\n  // first\n  mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?!\\\\.)(?=\\\\b|\\\\s)';\n  mode.__beforeBegin = skipIfHasPrecedingDot;\n  mode.keywords = mode.keywords || mode.beginKeywords;\n  delete mode.beginKeywords;\n\n  // prevents double relevance, the keywords themselves provide\n  // relevance, the mode doesn't need to double it\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 0;\n}\n\n/**\n * Allow `illegal` to contain an array of illegal values\n * @type {CompilerExt}\n */\nfunction compileIllegal(mode, _parent) {\n  if (!Array.isArray(mode.illegal)) return;\n\n  mode.illegal = either(...mode.illegal);\n}\n\n/**\n * `match` to match a single expression for readability\n * @type {CompilerExt}\n */\nfunction compileMatch(mode, _parent) {\n  if (!mode.match) return;\n  if (mode.begin || mode.end) throw new Error(\"begin & end are not supported with match\");\n\n  mode.begin = mode.match;\n  delete mode.match;\n}\n\n/**\n * provides the default 1 relevance to all modes\n * @type {CompilerExt}\n */\nfunction compileRelevance(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 1;\n}\n\n// allow beforeMatch to act as a \"qualifier\" for the match\n// the full match begin must be [beforeMatch][begin]\nconst beforeMatchExt = (mode, parent) => {\n  if (!mode.beforeMatch) return;\n  // starts conflicts with endsParent which we need to make sure the child\n  // rule is not matched multiple times\n  if (mode.starts) throw new Error(\"beforeMatch cannot be used with starts\");\n\n  const originalMode = Object.assign({}, mode);\n  Object.keys(mode).forEach((key) => { delete mode[key]; });\n\n  mode.keywords = originalMode.keywords;\n  mode.begin = concat(originalMode.beforeMatch, lookahead(originalMode.begin));\n  mode.starts = {\n    relevance: 0,\n    contains: [\n      Object.assign(originalMode, { endsParent: true })\n    ]\n  };\n  mode.relevance = 0;\n\n  delete originalMode.beforeMatch;\n};\n\n// keywords that should have no default relevance value\nconst COMMON_KEYWORDS = [\n  'of',\n  'and',\n  'for',\n  'in',\n  'not',\n  'or',\n  'if',\n  'then',\n  'parent', // common variable name\n  'list', // common variable name\n  'value' // common variable name\n];\n\nconst DEFAULT_KEYWORD_SCOPE = \"keyword\";\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string|string[]> | Array<string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive, scopeName = DEFAULT_KEYWORD_SCOPE) {\n  /** @type KeywordDict */\n  const compiledKeywords = Object.create(null);\n\n  // input can be a string of keywords, an array of keywords, or a object with\n  // named keys representing scopeName (which can then point to a string or array)\n  if (typeof rawKeywords === 'string') {\n    compileList(scopeName, rawKeywords.split(\" \"));\n  } else if (Array.isArray(rawKeywords)) {\n    compileList(scopeName, rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(scopeName) {\n      // collapse all our objects back into the parent object\n      Object.assign(\n        compiledKeywords,\n        compileKeywords(rawKeywords[scopeName], caseInsensitive, scopeName)\n      );\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} scopeName\n   * @param {Array<string>} keywordList\n   */\n  function compileList(scopeName, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.map(x => x.toLowerCase());\n    }\n    keywordList.forEach(function(keyword) {\n      const pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [scopeName, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\n/*\n\nFor the reasoning behind this please see:\nhttps://github.com/highlightjs/highlight.js/issues/2880#issuecomment-747275419\n\n*/\n\n/**\n * @type {Record<string, boolean>}\n */\nconst seenDeprecations = {};\n\n/**\n * @param {string} message\n */\nconst error = (message) => {\n  console.error(message);\n};\n\n/**\n * @param {string} message\n * @param {any} args\n */\nconst warn = (message, ...args) => {\n  console.log(`WARN: ${message}`, ...args);\n};\n\n/**\n * @param {string} version\n * @param {string} message\n */\nconst deprecated = (version, message) => {\n  if (seenDeprecations[`${version}/${message}`]) return;\n\n  console.log(`Deprecated as of ${version}. ${message}`);\n  seenDeprecations[`${version}/${message}`] = true;\n};\n\n/* eslint-disable no-throw-literal */\n\n/**\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n*/\n\nconst MultiClassError = new Error();\n\n/**\n * Renumbers labeled scope names to account for additional inner match\n * groups that otherwise would break everything.\n *\n * Lets say we 3 match scopes:\n *\n *   { 1 => ..., 2 => ..., 3 => ... }\n *\n * So what we need is a clean match like this:\n *\n *   (a)(b)(c) => [ \"a\", \"b\", \"c\" ]\n *\n * But this falls apart with inner match groups:\n *\n * (a)(((b)))(c) => [\"a\", \"b\", \"b\", \"b\", \"c\" ]\n *\n * Our scopes are now \"out of alignment\" and we're repeating `b` 3 times.\n * What needs to happen is the numbers are remapped:\n *\n *   { 1 => ..., 2 => ..., 5 => ... }\n *\n * We also need to know that the ONLY groups that should be output\n * are 1, 2, and 5.  This function handles this behavior.\n *\n * @param {CompiledMode} mode\n * @param {Array<RegExp | string>} regexes\n * @param {{key: \"beginScope\"|\"endScope\"}} opts\n */\nfunction remapScopeNames(mode, regexes, { key }) {\n  let offset = 0;\n  const scopeNames = mode[key];\n  /** @type Record<number,boolean> */\n  const emit = {};\n  /** @type Record<number,string> */\n  const positions = {};\n\n  for (let i = 1; i <= regexes.length; i++) {\n    positions[i + offset] = scopeNames[i];\n    emit[i + offset] = true;\n    offset += countMatchGroups(regexes[i - 1]);\n  }\n  // we use _emit to keep track of which match groups are \"top-level\" to avoid double\n  // output from inside match groups\n  mode[key] = positions;\n  mode[key]._emit = emit;\n  mode[key]._multi = true;\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction beginMultiClass(mode) {\n  if (!Array.isArray(mode.begin)) return;\n\n  if (mode.skip || mode.excludeBegin || mode.returnBegin) {\n    error(\"skip, excludeBegin, returnBegin not compatible with beginScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.beginScope !== \"object\" || mode.beginScope === null) {\n    error(\"beginScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.begin, { key: \"beginScope\" });\n  mode.begin = _rewriteBackreferences(mode.begin, { joinWith: \"\" });\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction endMultiClass(mode) {\n  if (!Array.isArray(mode.end)) return;\n\n  if (mode.skip || mode.excludeEnd || mode.returnEnd) {\n    error(\"skip, excludeEnd, returnEnd not compatible with endScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.endScope !== \"object\" || mode.endScope === null) {\n    error(\"endScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.end, { key: \"endScope\" });\n  mode.end = _rewriteBackreferences(mode.end, { joinWith: \"\" });\n}\n\n/**\n * this exists only to allow `scope: {}` to be used beside `match:`\n * Otherwise `beginScope` would necessary and that would look weird\n\n  {\n    match: [ /def/, /\\w+/ ]\n    scope: { 1: \"keyword\" , 2: \"title\" }\n  }\n\n * @param {CompiledMode} mode\n */\nfunction scopeSugar(mode) {\n  if (mode.scope && typeof mode.scope === \"object\" && mode.scope !== null) {\n    mode.beginScope = mode.scope;\n    delete mode.scope;\n  }\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction MultiClass(mode) {\n  scopeSugar(mode);\n\n  if (typeof mode.beginScope === \"string\") {\n    mode.beginScope = { _wrap: mode.beginScope };\n  }\n  if (typeof mode.endScope === \"string\") {\n    mode.endScope = { _wrap: mode.endScope };\n  }\n\n  beginMultiClass(mode);\n  endMultiClass(mode);\n}\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').CompiledLanguage} CompiledLanguage\n*/\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensitivity of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm'\n      + (language.case_insensitive ? 'i' : '')\n      + (language.unicodeRegex ? 'u' : '')\n      + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(_rewriteBackreferences(terminators, { joinWith: '|' }), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminatorEnd) {\n      mm.addRule(mode.terminatorEnd, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.isCompiled) return cmode;\n\n    [\n      scopeClassName,\n      // do this early so compiler extensions generally don't have to worry about\n      // the distinction between match/begin\n      compileMatch,\n      MultiClass,\n      beforeMatchExt\n    ].forEach(ext => ext(mode, parent));\n\n    language.compilerExtensions.forEach(ext => ext(mode, parent));\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    [\n      beginKeywords,\n      // do this later so compiler extensions that come earlier have access to the\n      // raw array if they wanted to perhaps manipulate it, etc.\n      compileIllegal,\n      // default to 1 relevance if not specified\n      compileRelevance\n    ].forEach(ext => ext(mode, parent));\n\n    mode.isCompiled = true;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\" && mode.keywords.$pattern) {\n      // we need a copy because keywords might be compiled multiple times\n      // so we can't go deleting $pattern from the original on the first\n      // pass\n      mode.keywords = Object.assign({}, mode.keywords);\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n    keywordPattern = keywordPattern || /\\w+/;\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    cmode.keywordPatternRe = langRe(keywordPattern, true);\n\n    if (parent) {\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(cmode.begin);\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(cmode.end);\n      cmode.terminatorEnd = source(cmode.end) || '';\n      if (mode.endsWithParent && parent.terminatorEnd) {\n        cmode.terminatorEnd += (mode.end ? '|' : '') + parent.terminatorEnd;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(/** @type {RegExp | string} */ (mode.illegal));\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  if (!language.compilerExtensions) language.compilerExtensions = [];\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n\n  // we need a null object, which inherit will guarantee\n  language.classNameAliases = inherit$1(language.classNameAliases || {});\n\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cachedVariants) {\n    mode.cachedVariants = mode.variants.map(function(variant) {\n      return inherit$1(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cachedVariants) {\n    return mode.cachedVariants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit$1(mode, { starts: mode.starts ? inherit$1(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit$1(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\nvar version = \"11.6.0\";\n\nclass HTMLInjectionError extends Error {\n  constructor(reason, html) {\n    super(reason);\n    this.name = \"HTMLInjectionError\";\n    this.html = html;\n  }\n}\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').CompiledScope} CompiledScope\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSApi} HLJSApi\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').PluginEvent} PluginEvent\n@typedef {import('highlight.js').HLJSOptions} HLJSOptions\n@typedef {import('highlight.js').LanguageFn} LanguageFn\n@typedef {import('highlight.js').HighlightedHTMLElement} HighlightedHTMLElement\n@typedef {import('highlight.js').BeforeHighlightContext} BeforeHighlightContext\n@typedef {import('highlight.js/private').MatchType} MatchType\n@typedef {import('highlight.js/private').KeywordData} KeywordData\n@typedef {import('highlight.js/private').EnhancedMatch} EnhancedMatch\n@typedef {import('highlight.js/private').AnnotatedError} AnnotatedError\n@typedef {import('highlight.js').AutoHighlightResult} AutoHighlightResult\n@typedef {import('highlight.js').HighlightOptions} HighlightOptions\n@typedef {import('highlight.js').HighlightResult} HighlightResult\n*/\n\n\nconst escape = escapeHTML;\nconst inherit = inherit$1;\nconst NO_MATCH = Symbol(\"nomatch\");\nconst MAX_KEYWORD_HITS = 7;\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  const languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  const aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  const plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  let SAFE_MODE = true;\n  const LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  let options = {\n    ignoreUnescapedHTML: false,\n    throwUnescapedHTML: false,\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    cssSelector: 'pre code',\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    let classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      const language = getLanguage(match[1]);\n      if (!language) {\n        warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * OLD API\n   * highlight(lang, code, ignoreIllegals, continuation)\n   *\n   * NEW API\n   * highlight(code, {lang, ignoreIllegals})\n   *\n   * @param {string} codeOrLanguageName - the language to use for highlighting\n   * @param {string | HighlightOptions} optionsOrCode - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {CompiledMode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(codeOrLanguageName, optionsOrCode, ignoreIllegals) {\n    let code = \"\";\n    let languageName = \"\";\n    if (typeof optionsOrCode === \"object\") {\n      code = codeOrLanguageName;\n      ignoreIllegals = optionsOrCode.ignoreIllegals;\n      languageName = optionsOrCode.language;\n    } else {\n      // old API\n      deprecated(\"10.7.0\", \"highlight(lang, code, ...args) has been deprecated.\");\n      deprecated(\"10.7.0\", \"Please use highlight(code, options) instead.\\nhttps://github.com/highlightjs/highlight.js/issues/2277\");\n      languageName = codeOrLanguageName;\n      code = optionsOrCode;\n    }\n\n    // https://github.com/highlightjs/highlight.js/issues/3149\n    // eslint-disable-next-line no-undefined\n    if (ignoreIllegals === undefined) { ignoreIllegals = true; }\n\n    /** @type {BeforeHighlightContext} */\n    const context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    const result = context.result\n      ? context.result\n      : _highlight(context.language, context.code, ignoreIllegals);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} codeToHighlight - the code to highlight\n   * @param {boolean?} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {CompiledMode?} [continuation] - current continuation mode, if any\n   * @returns {HighlightResult} - result of the highlight operation\n  */\n  function _highlight(languageName, codeToHighlight, ignoreIllegals, continuation) {\n    const keywordHits = Object.create(null);\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {string} matchText - the textual match\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, matchText) {\n      return mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const word = language.case_insensitive ? match[0].toLowerCase() : match[0];\n        const data = keywordData(top, word);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          keywordHits[word] = (keywordHits[word] || 0) + 1;\n          if (keywordHits[word] <= MAX_KEYWORD_HITS) relevance += keywordRelevance;\n          if (kind.startsWith(\"_\")) {\n            // _ implied for relevance only, do not highlight\n            // by applying a class name\n            buf += match[0];\n          } else {\n            const cssClass = language.classNameAliases[kind] || kind;\n            emitter.addKeyword(match[0], cssClass);\n          }\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substring(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      let result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = /** @type {CompiledMode} */ (result._top);\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.addSublanguage(result._emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {CompiledScope} scope\n     * @param {RegExpMatchArray} match\n     */\n    function emitMultiClass(scope, match) {\n      let i = 1;\n      const max = match.length - 1;\n      while (i <= max) {\n        if (!scope._emit[i]) { i++; continue; }\n        const klass = language.classNameAliases[scope[i]] || scope[i];\n        const text = match[i];\n        if (klass) {\n          emitter.addKeyword(text, klass);\n        } else {\n          modeBuffer = text;\n          processKeywords();\n          modeBuffer = \"\";\n        }\n        i++;\n      }\n    }\n\n    /**\n     * @param {CompiledMode} mode - new mode to start\n     * @param {RegExpMatchArray} match\n     */\n    function startNewMode(mode, match) {\n      if (mode.scope && typeof mode.scope === \"string\") {\n        emitter.openNode(language.classNameAliases[mode.scope] || mode.scope);\n      }\n      if (mode.beginScope) {\n        // beginScope just wraps the begin match itself in a scope\n        if (mode.beginScope._wrap) {\n          emitter.addKeyword(modeBuffer, language.classNameAliases[mode.beginScope._wrap] || mode.beginScope._wrap);\n          modeBuffer = \"\";\n        } else if (mode.beginScope._multi) {\n          // at this point modeBuffer should just be the match\n          emitMultiClass(mode.beginScope, match);\n          modeBuffer = \"\";\n        }\n      }\n\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.isMatchIgnored) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexes to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      const lexeme = match[0];\n      const newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.isMatchIgnored) return doIgnore(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode, match);\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      const lexeme = match[0];\n      const matchPlusRemainder = codeToHighlight.substring(match.index);\n\n      const endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      const origin = top;\n      if (top.endScope && top.endScope._wrap) {\n        processBuffer();\n        emitter.addKeyword(lexeme, top.endScope._wrap);\n      } else if (top.endScope && top.endScope._multi) {\n        processBuffer();\n        emitMultiClass(top.endScope, match);\n      } else if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.scope) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        startNewMode(endMode.starts, match);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      const list = [];\n      for (let current = top; current !== language; current = current.parent) {\n        if (current.scope) {\n          list.unshift(current.scope);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    let lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      const lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error(`0 width match regex (${languageName})`);\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.scope || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        const processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  An potential end match that was\n      triggered but could not be completed.  IE, `doEndMatch` returned NO_MATCH.\n      (this could be because a callback requests the match be ignored, etc)\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    const language = getLanguage(languageName);\n    if (!language) {\n      error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    const md = compileLanguage(language);\n    let result = '';\n    /** @type {CompiledMode} */\n    let top = continuation || md;\n    /** @type Record<string,CompiledMode> */\n    const continuations = {}; // keep continuations for sub-languages\n    const emitter = new options.__emitter(options);\n    processContinuations();\n    let modeBuffer = '';\n    let relevance = 0;\n    let index = 0;\n    let iterations = 0;\n    let resumeScanAtSamePosition = false;\n\n    try {\n      top.matcher.considerAll();\n\n      for (;;) {\n        iterations++;\n        if (resumeScanAtSamePosition) {\n          // only regexes not matched previously will now be\n          // considered for a potential match\n          resumeScanAtSamePosition = false;\n        } else {\n          top.matcher.considerAll();\n        }\n        top.matcher.lastIndex = index;\n\n        const match = top.matcher.exec(codeToHighlight);\n        // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n        if (!match) break;\n\n        const beforeMatch = codeToHighlight.substring(index, match.index);\n        const processedCount = processLexeme(beforeMatch, match);\n        index = match.index + processedCount;\n      }\n      processLexeme(codeToHighlight.substring(index));\n      emitter.closeAllNodes();\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        language: languageName,\n        value: result,\n        relevance: relevance,\n        illegal: false,\n        _emitter: emitter,\n        _top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: true,\n          relevance: 0,\n          _illegalBy: {\n            message: err.message,\n            index: index,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode,\n            resultSoFar: result\n          },\n          _emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: false,\n          relevance: 0,\n          errorRaised: err,\n          _emitter: emitter,\n          _top: top\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      value: escape(code),\n      illegal: false,\n      relevance: 0,\n      _top: PLAINTEXT_LANGUAGE,\n      _emitter: new options.__emitter(options)\n    };\n    result._emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - secondBest (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    const plaintext = justTextHighlightResult(code);\n\n    const results = languageSubset.filter(getLanguage).filter(autoDetection).map(name =>\n      _highlight(name, code, false)\n    );\n    results.unshift(plaintext); // plaintext is always an option\n\n    const sorted = results.sort((a, b) => {\n      // sort base on relevance\n      if (a.relevance !== b.relevance) return b.relevance - a.relevance;\n\n      // always award the tie to the base language\n      // ie if C++ and Arduino are tied, it's more likely to be C++\n      if (a.language && b.language) {\n        if (getLanguage(a.language).supersetOf === b.language) {\n          return 1;\n        } else if (getLanguage(b.language).supersetOf === a.language) {\n          return -1;\n        }\n      }\n\n      // otherwise say they are equal, which has the effect of sorting on\n      // relevance while preserving the original ordering - which is how ties\n      // have historically been settled, ie the language that comes first always\n      // wins in the case of a tie\n      return 0;\n    });\n\n    const [best, secondBest] = sorted;\n\n    /** @type {AutoHighlightResult} */\n    const result = best;\n    result.secondBest = secondBest;\n\n    return result;\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {HTMLElement} element\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function updateClassName(element, currentLang, resultLang) {\n    const language = (currentLang && aliases[currentLang]) || resultLang;\n\n    element.classList.add(\"hljs\");\n    element.classList.add(`language-${language}`);\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightElement(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightElement\",\n      { el: element, language: language });\n\n    // we should be all text, no child nodes (unescaped HTML) - this is possibly\n    // an HTML injection attack - it's likely too late if this is already in\n    // production (the code has likely already done its damage by the time\n    // we're seeing it)... but we yell loudly about this so that hopefully it's\n    // more likely to be caught in development before making it to production\n    if (element.children.length > 0) {\n      if (!options.ignoreUnescapedHTML) {\n        console.warn(\"One of your code blocks includes unescaped HTML. This is a potentially serious security risk.\");\n        console.warn(\"https://github.com/highlightjs/highlight.js/wiki/security\");\n        console.warn(\"The element with unescaped HTML:\");\n        console.warn(element);\n      }\n      if (options.throwUnescapedHTML) {\n        const err = new HTMLInjectionError(\n          \"One of your code blocks includes unescaped HTML.\",\n          element.innerHTML\n        );\n        throw err;\n      }\n    }\n\n    node = element;\n    const text = node.textContent;\n    const result = language ? highlight(text, { language, ignoreIllegals: true }) : highlightAuto(text);\n\n    element.innerHTML = result.value;\n    updateClassName(element, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relevance: result.relevance\n    };\n    if (result.secondBest) {\n      element.secondBest = {\n        language: result.secondBest.language,\n        relevance: result.secondBest.relevance\n      };\n    }\n\n    fire(\"after:highlightElement\", { el: element, result, text });\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {Partial<HLJSOptions>} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit(options, userOptions);\n  }\n\n  // TODO: remove v12, deprecated\n  const initHighlighting = () => {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlighting() deprecated.  Use highlightAll() now.\");\n  };\n\n  // TODO: remove v12, deprecated\n  function initHighlightingOnLoad() {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlightingOnLoad() deprecated.  Use highlightAll() now.\");\n  }\n\n  let wantsHighlight = false;\n\n  /**\n   * auto-highlights all pre>code elements on the page\n   */\n  function highlightAll() {\n    // if we are called too early in the loading process\n    if (document.readyState === \"loading\") {\n      wantsHighlight = true;\n      return;\n    }\n\n    const blocks = document.querySelectorAll(options.cssSelector);\n    blocks.forEach(highlightElement);\n  }\n\n  function boot() {\n    // if a highlight was requested before DOM was loaded, do now\n    if (wantsHighlight) highlightAll();\n  }\n\n  // make sure we are in the browser environment\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('DOMContentLoaded', boot, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    let lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error$1) {\n      error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error$1; } else { error(error$1); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * Remove a language grammar module\n   *\n   * @param {string} languageName\n   */\n  function unregisterLanguage(languageName) {\n    delete languages[languageName];\n    for (const alias of Object.keys(aliases)) {\n      if (aliases[alias] === languageName) {\n        delete aliases[alias];\n      }\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias.toLowerCase()] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    const lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * Upgrades the old highlightBlock plugins to the new\n   * highlightElement API\n   * @param {HLJSPlugin} plugin\n   */\n  function upgradePluginAPI(plugin) {\n    // TODO: remove with v12\n    if (plugin[\"before:highlightBlock\"] && !plugin[\"before:highlightElement\"]) {\n      plugin[\"before:highlightElement\"] = (data) => {\n        plugin[\"before:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n    if (plugin[\"after:highlightBlock\"] && !plugin[\"after:highlightElement\"]) {\n      plugin[\"after:highlightElement\"] = (data) => {\n        plugin[\"after:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    upgradePluginAPI(plugin);\n    plugins.push(plugin);\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    const cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n   * DEPRECATED\n   * @param {HighlightedHTMLElement} el\n   */\n  function deprecateHighlightBlock(el) {\n    deprecated(\"10.7.0\", \"highlightBlock will be removed entirely in v12.0\");\n    deprecated(\"10.7.0\", \"Please use highlightElement now.\");\n\n    return highlightElement(el);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    highlightAll,\n    highlightElement,\n    // TODO: Remove with v12 API\n    highlightBlock: deprecateHighlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    unregisterLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    autoDetection,\n    inherit,\n    addPlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  hljs.regex = {\n    concat: concat,\n    lookahead: lookahead,\n    either: either,\n    optional: optional,\n    anyNumberOfTimes: anyNumberOfTimes\n  };\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreezeEs6.exports(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexes into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// export an \"instance\" of the highlighter\nvar highlight = HLJS({});\n\nmodule.exports = highlight;\nhighlight.HighlightJS = highlight;\nhighlight.default = highlight;\n", "import { findChildren } from '@tiptap/core'\nimport { Node as ProsemirrorNode } from '@tiptap/pm/model'\nimport { Plugin, PluginKey } from '@tiptap/pm/state'\nimport { Decoration, DecorationSet } from '@tiptap/pm/view'\n// @ts-ignore\nimport highlight from 'highlight.js/lib/core'\n\nfunction parseNodes(nodes: any[], className: string[] = []): { text: string; classes: string[] }[] {\n  return nodes\n    .map(node => {\n      const classes = [...className, ...(node.properties ? node.properties.className : [])]\n\n      if (node.children) {\n        return parseNodes(node.children, classes)\n      }\n\n      return {\n        text: node.value,\n        classes,\n      }\n    })\n    .flat()\n}\n\nfunction getHighlightNodes(result: any) {\n  // `.value` for lowlight v1, `.children` for lowlight v2\n  return result.value || result.children || []\n}\n\nfunction registered(aliasOrLanguage: string) {\n  return Boolean(highlight.getLanguage(aliasOrLanguage))\n}\n\nfunction getDecorations({\n  doc,\n  name,\n  lowlight,\n  defaultLanguage,\n}: {\n  doc: ProsemirrorNode\n  name: string\n  lowlight: any\n  defaultLanguage: string | null | undefined\n}) {\n  const decorations: Decoration[] = []\n\n  findChildren(doc, node => node.type.name === name).forEach(block => {\n    let from = block.pos + 1\n    const language = block.node.attrs.language || defaultLanguage\n    const languages = lowlight.listLanguages()\n\n    const nodes = language && (languages.includes(language) || registered(language))\n      ? getHighlightNodes(lowlight.highlight(language, block.node.textContent))\n      : getHighlightNodes(lowlight.highlightAuto(block.node.textContent))\n\n    parseNodes(nodes).forEach(node => {\n      const to = from + node.text.length\n\n      if (node.classes.length) {\n        const decoration = Decoration.inline(from, to, {\n          class: node.classes.join(' '),\n        })\n\n        decorations.push(decoration)\n      }\n\n      from = to\n    })\n  })\n\n  return DecorationSet.create(doc, decorations)\n}\n\nfunction isFunction(param: Function) {\n  return typeof param === 'function'\n}\n\nexport function LowlightPlugin({\n  name,\n  lowlight,\n  defaultLanguage,\n}: {\n  name: string\n  lowlight: any\n  defaultLanguage: string | null | undefined\n}) {\n  if (!['highlight', 'highlightAuto', 'listLanguages'].every(api => isFunction(lowlight[api]))) {\n    throw Error(\n      'You should provide an instance of lowlight to use the code-block-lowlight extension',\n    )\n  }\n\n  const lowlightPlugin: Plugin<any> = new Plugin({\n    key: new PluginKey('lowlight'),\n\n    state: {\n      init: (_, { doc }) => getDecorations({\n        doc,\n        name,\n        lowlight,\n        defaultLanguage,\n      }),\n      apply: (transaction, decorationSet, oldState, newState) => {\n        const oldNodeName = oldState.selection.$head.parent.type.name\n        const newNodeName = newState.selection.$head.parent.type.name\n        const oldNodes = findChildren(oldState.doc, node => node.type.name === name)\n        const newNodes = findChildren(newState.doc, node => node.type.name === name)\n\n        if (\n          transaction.docChanged\n          // Apply decorations if:\n          // selection includes named node,\n          && ([oldNodeName, newNodeName].includes(name)\n            // OR transaction adds/removes named node,\n            || newNodes.length !== oldNodes.length\n            // OR transaction has changes that completely encapsulte a node\n            // (for example, a transaction that affects the entire document).\n            // Such transactions can happen during collab syncing via y-prosemirror, for example.\n            || transaction.steps.some(step => {\n              // @ts-ignore\n              return (\n                // @ts-ignore\n                step.from !== undefined\n                // @ts-ignore\n                && step.to !== undefined\n                && oldNodes.some(node => {\n                  // @ts-ignore\n                  return (\n                    // @ts-ignore\n                    node.pos >= step.from\n                    // @ts-ignore\n                    && node.pos + node.node.nodeSize <= step.to\n                  )\n                })\n              )\n            }))\n        ) {\n          return getDecorations({\n            doc: transaction.doc,\n            name,\n            lowlight,\n            defaultLanguage,\n          })\n        }\n\n        return decorationSet.map(transaction.mapping, transaction.doc)\n      },\n    },\n\n    props: {\n      decorations(state) {\n        return lowlightPlugin.getState(state)\n      },\n    },\n  })\n\n  return lowlightPlugin\n}\n", "import CodeBlock, { CodeBlockOptions } from '@tiptap/extension-code-block'\n\nimport { LowlightPlugin } from './lowlight-plugin.js'\n\nexport interface CodeBlockLowlightOptions extends CodeBlockOptions {\n  lowlight: any,\n  defaultLanguage: string | null | undefined,\n}\n\nexport const CodeBlockLowlight = CodeBlock.extend<CodeBlockLowlightOptions>({\n  addOptions() {\n    return {\n      ...this.parent?.(),\n      lowlight: {},\n      defaultLanguage: null,\n    }\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      ...this.parent?.() || [],\n      LowlightPlugin({\n        name: this.name,\n        lowlight: this.options.lowlight,\n        defaultLanguage: this.options.defaultLanguage,\n      }),\n    ]\n  },\n})\n", "// THIS FILE IS AUTOMATICALLY GENERATED DO NOT EDIT DIRECTLY\n// See update-tlds.js for encoding/decoding format\n// https://data.iana.org/TLD/tlds-alpha-by-domain.txt\nconst encodedTlds = 'aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\u00F6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2';\n// Internationalized domain names containing non-ASCII\nconst encodedUtlds = '\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2';\n\n/**\n * @template A\n * @template B\n * @param {A} target\n * @param {B} properties\n * @return {A & B}\n */\nconst assign = (target, properties) => {\n  for (const key in properties) {\n    target[key] = properties[key];\n  }\n  return target;\n};\n\n/**\n * Finite State Machine generation utilities\n */\n\n/**\n * @template T\n * @typedef {{ [group: string]: T[] }} Collections\n */\n\n/**\n * @typedef {{ [group: string]: true }} Flags\n */\n\n// Keys in scanner Collections instances\nconst numeric = 'numeric';\nconst ascii = 'ascii';\nconst alpha = 'alpha';\nconst asciinumeric = 'asciinumeric';\nconst alphanumeric = 'alphanumeric';\nconst domain = 'domain';\nconst emoji = 'emoji';\nconst scheme = 'scheme';\nconst slashscheme = 'slashscheme';\nconst whitespace = 'whitespace';\n\n/**\n * @template T\n * @param {string} name\n * @param {Collections<T>} groups to register in\n * @returns {T[]} Current list of tokens in the given collection\n */\nfunction registerGroup(name, groups) {\n  if (!(name in groups)) {\n    groups[name] = [];\n  }\n  return groups[name];\n}\n\n/**\n * @template T\n * @param {T} t token to add\n * @param {Collections<T>} groups\n * @param {Flags} flags\n */\nfunction addToGroups(t, flags, groups) {\n  if (flags[numeric]) {\n    flags[asciinumeric] = true;\n    flags[alphanumeric] = true;\n  }\n  if (flags[ascii]) {\n    flags[asciinumeric] = true;\n    flags[alpha] = true;\n  }\n  if (flags[asciinumeric]) {\n    flags[alphanumeric] = true;\n  }\n  if (flags[alpha]) {\n    flags[alphanumeric] = true;\n  }\n  if (flags[alphanumeric]) {\n    flags[domain] = true;\n  }\n  if (flags[emoji]) {\n    flags[domain] = true;\n  }\n  for (const k in flags) {\n    const group = registerGroup(k, groups);\n    if (group.indexOf(t) < 0) {\n      group.push(t);\n    }\n  }\n}\n\n/**\n * @template T\n * @param {T} t token to check\n * @param {Collections<T>} groups\n * @returns {Flags} group flags that contain this token\n */\nfunction flagsForToken(t, groups) {\n  const result = {};\n  for (const c in groups) {\n    if (groups[c].indexOf(t) >= 0) {\n      result[c] = true;\n    }\n  }\n  return result;\n}\n\n/**\n * @template T\n * @typedef {null | T } Transition\n */\n\n/**\n * Define a basic state machine state. j is the list of character transitions,\n * jr is the list of regex-match transitions, jd is the default state to\n * transition to t is the accepting token type, if any. If this is the terminal\n * state, then it does not emit a token.\n *\n * The template type T represents the type of the token this state accepts. This\n * should be a string (such as of the token exports in `text.js`) or a\n * MultiToken subclass (from `multi.js`)\n *\n * @template T\n * @param {T} [token] Token that this state emits\n */\nfunction State(token) {\n  if (token === void 0) {\n    token = null;\n  }\n  // this.n = null; // DEBUG: State name\n  /** @type {{ [input: string]: State<T> }} j */\n  this.j = {}; // IMPLEMENTATION 1\n  // this.j = []; // IMPLEMENTATION 2\n  /** @type {[RegExp, State<T>][]} jr */\n  this.jr = [];\n  /** @type {?State<T>} jd */\n  this.jd = null;\n  /** @type {?T} t */\n  this.t = token;\n}\n\n/**\n * Scanner token groups\n * @type Collections<string>\n */\nState.groups = {};\nState.prototype = {\n  accepts() {\n    return !!this.t;\n  },\n  /**\n   * Follow an existing transition from the given input to the next state.\n   * Does not mutate.\n   * @param {string} input character or token type to transition on\n   * @returns {?State<T>} the next state, if any\n   */\n  go(input) {\n    const state = this;\n    const nextState = state.j[input];\n    if (nextState) {\n      return nextState;\n    }\n    for (let i = 0; i < state.jr.length; i++) {\n      const regex = state.jr[i][0];\n      const nextState = state.jr[i][1]; // note: might be empty to prevent default jump\n      if (nextState && regex.test(input)) {\n        return nextState;\n      }\n    }\n    // Nowhere left to jump! Return default, if any\n    return state.jd;\n  },\n  /**\n   * Whether the state has a transition for the given input. Set the second\n   * argument to true to only look for an exact match (and not a default or\n   * regular-expression-based transition)\n   * @param {string} input\n   * @param {boolean} exactOnly\n   */\n  has(input, exactOnly) {\n    if (exactOnly === void 0) {\n      exactOnly = false;\n    }\n    return exactOnly ? input in this.j : !!this.go(input);\n  },\n  /**\n   * Short for \"transition all\"; create a transition from the array of items\n   * in the given list to the same final resulting state.\n   * @param {string | string[]} inputs Group of inputs to transition on\n   * @param {Transition<T> | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   */\n  ta(inputs, next, flags, groups) {\n    for (let i = 0; i < inputs.length; i++) {\n      this.tt(inputs[i], next, flags, groups);\n    }\n  },\n  /**\n   * Short for \"take regexp transition\"; defines a transition for this state\n   * when it encounters a token which matches the given regular expression\n   * @param {RegExp} regexp Regular expression transition (populate first)\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   * @returns {State<T>} taken after the given input\n   */\n  tr(regexp, next, flags, groups) {\n    groups = groups || State.groups;\n    let nextState;\n    if (next && next.j) {\n      nextState = next;\n    } else {\n      // Token with maybe token groups\n      nextState = new State(next);\n      if (flags && groups) {\n        addToGroups(next, flags, groups);\n      }\n    }\n    this.jr.push([regexp, nextState]);\n    return nextState;\n  },\n  /**\n   * Short for \"take transitions\", will take as many sequential transitions as\n   * the length of the given input and returns the\n   * resulting final state.\n   * @param {string | string[]} input\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   * @returns {State<T>} taken after the given input\n   */\n  ts(input, next, flags, groups) {\n    let state = this;\n    const len = input.length;\n    if (!len) {\n      return state;\n    }\n    for (let i = 0; i < len - 1; i++) {\n      state = state.tt(input[i]);\n    }\n    return state.tt(input[len - 1], next, flags, groups);\n  },\n  /**\n   * Short for \"take transition\", this is a method for building/working with\n   * state machines.\n   *\n   * If a state already exists for the given input, returns it.\n   *\n   * If a token is specified, that state will emit that token when reached by\n   * the linkify engine.\n   *\n   * If no state exists, it will be initialized with some default transitions\n   * that resemble existing default transitions.\n   *\n   * If a state is given for the second argument, that state will be\n   * transitioned to on the given input regardless of what that input\n   * previously did.\n   *\n   * Specify a token group flags to define groups that this token belongs to.\n   * The token will be added to corresponding entires in the given groups\n   * object.\n   *\n   * @param {string} input character, token type to transition on\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of groups\n   * @returns {State<T>} taken after the given input\n   */\n  tt(input, next, flags, groups) {\n    groups = groups || State.groups;\n    const state = this;\n\n    // Check if existing state given, just a basic transition\n    if (next && next.j) {\n      state.j[input] = next;\n      return next;\n    }\n    const t = next;\n\n    // Take the transition with the usual default mechanisms and use that as\n    // a template for creating the next state\n    let nextState,\n      templateState = state.go(input);\n    if (templateState) {\n      nextState = new State();\n      assign(nextState.j, templateState.j);\n      nextState.jr.push.apply(nextState.jr, templateState.jr);\n      nextState.jd = templateState.jd;\n      nextState.t = templateState.t;\n    } else {\n      nextState = new State();\n    }\n    if (t) {\n      // Ensure newly token is in the same groups as the old token\n      if (groups) {\n        if (nextState.t && typeof nextState.t === 'string') {\n          const allFlags = assign(flagsForToken(nextState.t, groups), flags);\n          addToGroups(t, allFlags, groups);\n        } else if (flags) {\n          addToGroups(t, flags, groups);\n        }\n      }\n      nextState.t = t; // overwrite anything that was previously there\n    }\n\n    state.j[input] = nextState;\n    return nextState;\n  }\n};\n\n// Helper functions to improve minification (not exported outside linkifyjs module)\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string | string[]} input\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst ta = (state, input, next, flags, groups) => state.ta(input, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {RegExp} regexp\n * @param {T | State<T>} [next]\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst tr = (state, regexp, next, flags, groups) => state.tr(regexp, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string | string[]} input\n * @param {T | State<T>} [next]\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst ts = (state, input, next, flags, groups) => state.ts(input, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string} input\n * @param {T | State<T>} [next]\n * @param {Collections<T>} [groups]\n * @param {Flags} [flags]\n */\nconst tt = (state, input, next, flags, groups) => state.tt(input, next, flags, groups);\n\n/******************************************************************************\nText Tokens\nIdentifiers for token outputs from the regexp scanner\n******************************************************************************/\n\n// A valid web domain token\nconst WORD = 'WORD'; // only contains a-z\nconst UWORD = 'UWORD'; // contains letters other than a-z, used for IDN\n\n// Special case of word\nconst LOCALHOST = 'LOCALHOST';\n\n// Valid top-level domain, special case of WORD (see tlds.js)\nconst TLD = 'TLD';\n\n// Valid IDN TLD, special case of UWORD (see tlds.js)\nconst UTLD = 'UTLD';\n\n// The scheme portion of a web URI protocol. Supported types include: `mailto`,\n// `file`, and user-defined custom protocols. Limited to schemes that contain\n// only letters\nconst SCHEME = 'SCHEME';\n\n// Similar to SCHEME, except makes distinction for schemes that must always be\n// followed by `://`, not just `:`. Supported types include `http`, `https`,\n// `ftp`, `ftps`\nconst SLASH_SCHEME = 'SLASH_SCHEME';\n\n// Any sequence of digits 0-9\nconst NUM = 'NUM';\n\n// Any number of consecutive whitespace characters that are not newline\nconst WS = 'WS';\n\n// New line (unix style)\nconst NL$1 = 'NL'; // \\n\n\n// Opening/closing bracket classes\nconst OPENBRACE = 'OPENBRACE'; // {\nconst OPENBRACKET = 'OPENBRACKET'; // [\nconst OPENANGLEBRACKET = 'OPENANGLEBRACKET'; // <\nconst OPENPAREN = 'OPENPAREN'; // (\nconst CLOSEBRACE = 'CLOSEBRACE'; // }\nconst CLOSEBRACKET = 'CLOSEBRACKET'; // ]\nconst CLOSEANGLEBRACKET = 'CLOSEANGLEBRACKET'; // >\nconst CLOSEPAREN = 'CLOSEPAREN'; // )\n\n// Various symbols\nconst AMPERSAND = 'AMPERSAND'; // &\nconst APOSTROPHE = 'APOSTROPHE'; // '\nconst ASTERISK = 'ASTERISK'; // *\nconst AT = 'AT'; // @\nconst BACKSLASH = 'BACKSLASH'; // \\\nconst BACKTICK = 'BACKTICK'; // `\nconst CARET = 'CARET'; // ^\nconst COLON = 'COLON'; // :\nconst COMMA = 'COMMA'; // ,\nconst DOLLAR = 'DOLLAR'; // $\nconst DOT = 'DOT'; // .\nconst EQUALS = 'EQUALS'; // =\nconst EXCLAMATION = 'EXCLAMATION'; // !\nconst HYPHEN = 'HYPHEN'; // -\nconst PERCENT = 'PERCENT'; // %\nconst PIPE = 'PIPE'; // |\nconst PLUS = 'PLUS'; // +\nconst POUND = 'POUND'; // #\nconst QUERY = 'QUERY'; // ?\nconst QUOTE = 'QUOTE'; // \"\n\nconst SEMI = 'SEMI'; // ;\nconst SLASH = 'SLASH'; // /\nconst TILDE = 'TILDE'; // ~\nconst UNDERSCORE = 'UNDERSCORE'; // _\n\n// Emoji symbol\nconst EMOJI$1 = 'EMOJI';\n\n// Default token - anything that is not one of the above\nconst SYM = 'SYM';\n\nvar tk = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tWORD: WORD,\n\tUWORD: UWORD,\n\tLOCALHOST: LOCALHOST,\n\tTLD: TLD,\n\tUTLD: UTLD,\n\tSCHEME: SCHEME,\n\tSLASH_SCHEME: SLASH_SCHEME,\n\tNUM: NUM,\n\tWS: WS,\n\tNL: NL$1,\n\tOPENBRACE: OPENBRACE,\n\tOPENBRACKET: OPENBRACKET,\n\tOPENANGLEBRACKET: OPENANGLEBRACKET,\n\tOPENPAREN: OPENPAREN,\n\tCLOSEBRACE: CLOSEBRACE,\n\tCLOSEBRACKET: CLOSEBRACKET,\n\tCLOSEANGLEBRACKET: CLOSEANGLEBRACKET,\n\tCLOSEPAREN: CLOSEPAREN,\n\tAMPERSAND: AMPERSAND,\n\tAPOSTROPHE: APOSTROPHE,\n\tASTERISK: ASTERISK,\n\tAT: AT,\n\tBACKSLASH: BACKSLASH,\n\tBACKTICK: BACKTICK,\n\tCARET: CARET,\n\tCOLON: COLON,\n\tCOMMA: COMMA,\n\tDOLLAR: DOLLAR,\n\tDOT: DOT,\n\tEQUALS: EQUALS,\n\tEXCLAMATION: EXCLAMATION,\n\tHYPHEN: HYPHEN,\n\tPERCENT: PERCENT,\n\tPIPE: PIPE,\n\tPLUS: PLUS,\n\tPOUND: POUND,\n\tQUERY: QUERY,\n\tQUOTE: QUOTE,\n\tSEMI: SEMI,\n\tSLASH: SLASH,\n\tTILDE: TILDE,\n\tUNDERSCORE: UNDERSCORE,\n\tEMOJI: EMOJI$1,\n\tSYM: SYM\n});\n\n// Note that these two Unicode ones expand into a really big one with Babel\nconst ASCII_LETTER = /[a-z]/;\nconst LETTER = /\\p{L}/u; // Any Unicode character with letter data type\nconst EMOJI = /\\p{Emoji}/u; // Any Unicode emoji character\nconst EMOJI_VARIATION$1 = /\\ufe0f/;\nconst DIGIT = /\\d/;\nconst SPACE = /\\s/;\n\nvar regexp = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tASCII_LETTER: ASCII_LETTER,\n\tLETTER: LETTER,\n\tEMOJI: EMOJI,\n\tEMOJI_VARIATION: EMOJI_VARIATION$1,\n\tDIGIT: DIGIT,\n\tSPACE: SPACE\n});\n\n/**\n\tThe scanner provides an interface that takes a string of text as input, and\n\toutputs an array of tokens instances that can be used for easy URL parsing.\n*/\nconst NL = '\\n'; // New line character\nconst EMOJI_VARIATION = '\\ufe0f'; // Variation selector, follows heart and others\nconst EMOJI_JOINER = '\\u200d'; // zero-width joiner\n\nlet tlds = null,\n  utlds = null; // don't change so only have to be computed once\n\n/**\n * Scanner output token:\n * - `t` is the token name (e.g., 'NUM', 'EMOJI', 'TLD')\n * - `v` is the value of the token (e.g., '123', '\u2764\uFE0F', 'com')\n * - `s` is the start index of the token in the original string\n * - `e` is the end index of the token in the original string\n * @typedef {{t: string, v: string, s: number, e: number}} Token\n */\n\n/**\n * @template T\n * @typedef {{ [collection: string]: T[] }} Collections\n */\n\n/**\n * Initialize the scanner character-based state machine for the given start\n * state\n * @param {[string, boolean][]} customSchemes List of custom schemes, where each\n * item is a length-2 tuple with the first element set to the string scheme, and\n * the second element set to `true` if the `://` after the scheme is optional\n */\nfunction init$2(customSchemes) {\n  if (customSchemes === void 0) {\n    customSchemes = [];\n  }\n  // Frequently used states (name argument removed during minification)\n  /** @type Collections<string> */\n  const groups = {}; // of tokens\n  State.groups = groups;\n  /** @type State<string> */\n  const Start = new State();\n  if (tlds == null) {\n    tlds = decodeTlds(encodedTlds);\n  }\n  if (utlds == null) {\n    utlds = decodeTlds(encodedUtlds);\n  }\n\n  // States for special URL symbols that accept immediately after start\n  tt(Start, \"'\", APOSTROPHE);\n  tt(Start, '{', OPENBRACE);\n  tt(Start, '[', OPENBRACKET);\n  tt(Start, '<', OPENANGLEBRACKET);\n  tt(Start, '(', OPENPAREN);\n  tt(Start, '}', CLOSEBRACE);\n  tt(Start, ']', CLOSEBRACKET);\n  tt(Start, '>', CLOSEANGLEBRACKET);\n  tt(Start, ')', CLOSEPAREN);\n  tt(Start, '&', AMPERSAND);\n  tt(Start, '*', ASTERISK);\n  tt(Start, '@', AT);\n  tt(Start, '`', BACKTICK);\n  tt(Start, '^', CARET);\n  tt(Start, ':', COLON);\n  tt(Start, ',', COMMA);\n  tt(Start, '$', DOLLAR);\n  tt(Start, '.', DOT);\n  tt(Start, '=', EQUALS);\n  tt(Start, '!', EXCLAMATION);\n  tt(Start, '-', HYPHEN);\n  tt(Start, '%', PERCENT);\n  tt(Start, '|', PIPE);\n  tt(Start, '+', PLUS);\n  tt(Start, '#', POUND);\n  tt(Start, '?', QUERY);\n  tt(Start, '\"', QUOTE);\n  tt(Start, '/', SLASH);\n  tt(Start, ';', SEMI);\n  tt(Start, '~', TILDE);\n  tt(Start, '_', UNDERSCORE);\n  tt(Start, '\\\\', BACKSLASH);\n  const Num = tr(Start, DIGIT, NUM, {\n    [numeric]: true\n  });\n  tr(Num, DIGIT, Num);\n\n  // State which emits a word token\n  const Word = tr(Start, ASCII_LETTER, WORD, {\n    [ascii]: true\n  });\n  tr(Word, ASCII_LETTER, Word);\n\n  // Same as previous, but specific to non-fsm.ascii alphabet words\n  const UWord = tr(Start, LETTER, UWORD, {\n    [alpha]: true\n  });\n  tr(UWord, ASCII_LETTER); // Non-accepting\n  tr(UWord, LETTER, UWord);\n\n  // Whitespace jumps\n  // Tokens of only non-newline whitespace are arbitrarily long\n  // If any whitespace except newline, more whitespace!\n  const Ws = tr(Start, SPACE, WS, {\n    [whitespace]: true\n  });\n  tt(Start, NL, NL$1, {\n    [whitespace]: true\n  });\n  tt(Ws, NL); // non-accepting state to avoid mixing whitespaces\n  tr(Ws, SPACE, Ws);\n\n  // Emoji tokens. They are not grouped by the scanner except in cases where a\n  // zero-width joiner is present\n  const Emoji = tr(Start, EMOJI, EMOJI$1, {\n    [emoji]: true\n  });\n  tr(Emoji, EMOJI, Emoji);\n  tt(Emoji, EMOJI_VARIATION, Emoji);\n  // tt(Start, EMOJI_VARIATION, Emoji); // This one is sketchy\n\n  const EmojiJoiner = tt(Emoji, EMOJI_JOINER);\n  tr(EmojiJoiner, EMOJI, Emoji);\n  // tt(EmojiJoiner, EMOJI_VARIATION, Emoji); // also sketchy\n\n  // Generates states for top-level domains\n  // Note that this is most accurate when tlds are in alphabetical order\n  const wordjr = [[ASCII_LETTER, Word]];\n  const uwordjr = [[ASCII_LETTER, null], [LETTER, UWord]];\n  for (let i = 0; i < tlds.length; i++) {\n    fastts(Start, tlds[i], TLD, WORD, wordjr);\n  }\n  for (let i = 0; i < utlds.length; i++) {\n    fastts(Start, utlds[i], UTLD, UWORD, uwordjr);\n  }\n  addToGroups(TLD, {\n    tld: true,\n    ascii: true\n  }, groups);\n  addToGroups(UTLD, {\n    utld: true,\n    alpha: true\n  }, groups);\n\n  // Collect the states generated by different protocols. NOTE: If any new TLDs\n  // get added that are also protocols, set the token to be the same as the\n  // protocol to ensure parsing works as expected.\n  fastts(Start, 'file', SCHEME, WORD, wordjr);\n  fastts(Start, 'mailto', SCHEME, WORD, wordjr);\n  fastts(Start, 'http', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'https', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'ftp', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'ftps', SLASH_SCHEME, WORD, wordjr);\n  addToGroups(SCHEME, {\n    scheme: true,\n    ascii: true\n  }, groups);\n  addToGroups(SLASH_SCHEME, {\n    slashscheme: true,\n    ascii: true\n  }, groups);\n\n  // Register custom schemes. Assumes each scheme is asciinumeric with hyphens\n  customSchemes = customSchemes.sort((a, b) => a[0] > b[0] ? 1 : -1);\n  for (let i = 0; i < customSchemes.length; i++) {\n    const sch = customSchemes[i][0];\n    const optionalSlashSlash = customSchemes[i][1];\n    const flags = optionalSlashSlash ? {\n      [scheme]: true\n    } : {\n      [slashscheme]: true\n    };\n    if (sch.indexOf('-') >= 0) {\n      flags[domain] = true;\n    } else if (!ASCII_LETTER.test(sch)) {\n      flags[numeric] = true; // numbers only\n    } else if (DIGIT.test(sch)) {\n      flags[asciinumeric] = true;\n    } else {\n      flags[ascii] = true;\n    }\n    ts(Start, sch, sch, flags);\n  }\n\n  // Localhost token\n  ts(Start, 'localhost', LOCALHOST, {\n    ascii: true\n  });\n\n  // Set default transition for start state (some symbol)\n  Start.jd = new State(SYM);\n  return {\n    start: Start,\n    tokens: assign({\n      groups\n    }, tk)\n  };\n}\n\n/**\n\tGiven a string, returns an array of TOKEN instances representing the\n\tcomposition of that string.\n\n\t@method run\n\t@param {State<string>} start scanner starting state\n\t@param {string} str input string to scan\n\t@return {Token[]} list of tokens, each with a type and value\n*/\nfunction run$1(start, str) {\n  // State machine is not case sensitive, so input is tokenized in lowercased\n  // form (still returns regular case). Uses selective `toLowerCase` because\n  // lowercasing the entire string causes the length and character position to\n  // vary in some non-English strings with V8-based runtimes.\n  const iterable = stringToArray(str.replace(/[A-Z]/g, c => c.toLowerCase()));\n  const charCount = iterable.length; // <= len if there are emojis, etc\n  const tokens = []; // return value\n\n  // cursor through the string itself, accounting for characters that have\n  // width with length 2 such as emojis\n  let cursor = 0;\n\n  // Cursor through the array-representation of the string\n  let charCursor = 0;\n\n  // Tokenize the string\n  while (charCursor < charCount) {\n    let state = start;\n    let nextState = null;\n    let tokenLength = 0;\n    let latestAccepting = null;\n    let sinceAccepts = -1;\n    let charsSinceAccepts = -1;\n    while (charCursor < charCount && (nextState = state.go(iterable[charCursor]))) {\n      state = nextState;\n\n      // Keep track of the latest accepting state\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        charsSinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts += iterable[charCursor].length;\n        charsSinceAccepts++;\n      }\n      tokenLength += iterable[charCursor].length;\n      cursor += iterable[charCursor].length;\n      charCursor++;\n    }\n\n    // Roll back to the latest accepting state\n    cursor -= sinceAccepts;\n    charCursor -= charsSinceAccepts;\n    tokenLength -= sinceAccepts;\n\n    // No more jumps, just make a new token from the last accepting one\n    tokens.push({\n      t: latestAccepting.t,\n      // token type/name\n      v: str.slice(cursor - tokenLength, cursor),\n      // string value\n      s: cursor - tokenLength,\n      // start index\n      e: cursor // end index (excluding)\n    });\n  }\n\n  return tokens;\n}\n\n/**\n * Convert a String to an Array of characters, taking into account that some\n * characters like emojis take up two string indexes.\n *\n * Adapted from core-js (MIT license)\n * https://github.com/zloirock/core-js/blob/2d69cf5f99ab3ea3463c395df81e5a15b68f49d9/packages/core-js/internals/string-multibyte.js\n *\n * @function stringToArray\n * @param {string} str\n * @returns {string[]}\n */\nfunction stringToArray(str) {\n  const result = [];\n  const len = str.length;\n  let index = 0;\n  while (index < len) {\n    let first = str.charCodeAt(index);\n    let second;\n    let char = first < 0xd800 || first > 0xdbff || index + 1 === len || (second = str.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? str[index] // single character\n    : str.slice(index, index + 2); // two-index characters\n    result.push(char);\n    index += char.length;\n  }\n  return result;\n}\n\n/**\n * Fast version of ts function for when transition defaults are well known\n * @param {State<string>} state\n * @param {string} input\n * @param {string} t\n * @param {string} defaultt\n * @param {[RegExp, State<string>][]} jr\n * @returns {State<string>}\n */\nfunction fastts(state, input, t, defaultt, jr) {\n  let next;\n  const len = input.length;\n  for (let i = 0; i < len - 1; i++) {\n    const char = input[i];\n    if (state.j[char]) {\n      next = state.j[char];\n    } else {\n      next = new State(defaultt);\n      next.jr = jr.slice();\n      state.j[char] = next;\n    }\n    state = next;\n  }\n  next = new State(t);\n  next.jr = jr.slice();\n  state.j[input[len - 1]] = next;\n  return next;\n}\n\n/**\n * Converts a string of Top-Level Domain names encoded in update-tlds.js back\n * into a list of strings.\n * @param {str} encoded encoded TLDs string\n * @returns {str[]} original TLDs list\n */\nfunction decodeTlds(encoded) {\n  const words = [];\n  const stack = [];\n  let i = 0;\n  let digits = '0123456789';\n  while (i < encoded.length) {\n    let popDigitCount = 0;\n    while (digits.indexOf(encoded[i + popDigitCount]) >= 0) {\n      popDigitCount++; // encountered some digits, have to pop to go one level up trie\n    }\n\n    if (popDigitCount > 0) {\n      words.push(stack.join('')); // whatever preceded the pop digits must be a word\n      for (let popCount = parseInt(encoded.substring(i, i + popDigitCount), 10); popCount > 0; popCount--) {\n        stack.pop();\n      }\n      i += popDigitCount;\n    } else {\n      stack.push(encoded[i]); // drop down a level into the trie\n      i++;\n    }\n  }\n  return words;\n}\n\n/**\n * An object where each key is a valid DOM Event Name such as `click` or `focus`\n * and each value is an event handler function.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element#events\n * @typedef {?{ [event: string]: Function }} EventListeners\n */\n\n/**\n * All formatted properties required to render a link, including `tagName`,\n * `attributes`, `content` and `eventListeners`.\n * @typedef {{ tagName: any, attributes: {[attr: string]: any}, content: string,\n * eventListeners: EventListeners }} IntermediateRepresentation\n */\n\n/**\n * Specify either an object described by the template type `O` or a function.\n *\n * The function takes a string value (usually the link's href attribute), the\n * link type (`'url'`, `'hashtag`', etc.) and an internal token representation\n * of the link. It should return an object of the template type `O`\n * @template O\n * @typedef {O | ((value: string, type: string, token: MultiToken) => O)} OptObj\n */\n\n/**\n * Specify either a function described by template type `F` or an object.\n *\n * Each key in the object should be a link type (`'url'`, `'hashtag`', etc.). Each\n * value should be a function with template type `F` that is called when the\n * corresponding link type is encountered.\n * @template F\n * @typedef {F | { [type: string]: F}} OptFn\n */\n\n/**\n * Specify either a value with template type `V`, a function that returns `V` or\n * an object where each value resolves to `V`.\n *\n * The function takes a string value (usually the link's href attribute), the\n * link type (`'url'`, `'hashtag`', etc.) and an internal token representation\n * of the link. It should return an object of the template type `V`\n *\n * For the object, each key should be a link type (`'url'`, `'hashtag`', etc.).\n * Each value should either have type `V` or a function that returns V. This\n * function similarly takes a string value and a token.\n *\n * Example valid types for `Opt<string>`:\n *\n * ```js\n * 'hello'\n * (value, type, token) => 'world'\n * { url: 'hello', email: (value, token) => 'world'}\n * ```\n * @template V\n * @typedef {V | ((value: string, type: string, token: MultiToken) => V) | { [type: string]: V | ((value: string, token: MultiToken) => V) }} Opt\n */\n\n/**\n * See available options: https://linkify.js.org/docs/options.html\n * @typedef {{\n * \tdefaultProtocol?: string,\n *  events?: OptObj<EventListeners>,\n * \tformat?: Opt<string>,\n * \tformatHref?: Opt<string>,\n * \tnl2br?: boolean,\n * \ttagName?: Opt<any>,\n * \ttarget?: Opt<string>,\n * \trel?: Opt<string>,\n * \tvalidate?: Opt<boolean>,\n * \ttruncate?: Opt<number>,\n * \tclassName?: Opt<string>,\n * \tattributes?: OptObj<({ [attr: string]: any })>,\n *  ignoreTags?: string[],\n * \trender?: OptFn<((ir: IntermediateRepresentation) => any)>\n * }} Opts\n */\n\n/**\n * @type Required<Opts>\n */\nconst defaults = {\n  defaultProtocol: 'http',\n  events: null,\n  format: noop,\n  formatHref: noop,\n  nl2br: false,\n  tagName: 'a',\n  target: null,\n  rel: null,\n  validate: true,\n  truncate: Infinity,\n  className: null,\n  attributes: null,\n  ignoreTags: [],\n  render: null\n};\n\n/**\n * Utility class for linkify interfaces to apply specified\n * {@link Opts formatting and rendering options}.\n *\n * @param {Opts | Options} [opts] Option value overrides.\n * @param {(ir: IntermediateRepresentation) => any} [defaultRender] (For\n *   internal use) default render function that determines how to generate an\n *   HTML element based on a link token's derived tagName, attributes and HTML.\n *   Similar to render option\n */\nfunction Options(opts, defaultRender) {\n  if (defaultRender === void 0) {\n    defaultRender = null;\n  }\n  let o = assign({}, defaults);\n  if (opts) {\n    o = assign(o, opts instanceof Options ? opts.o : opts);\n  }\n\n  // Ensure all ignored tags are uppercase\n  const ignoredTags = o.ignoreTags;\n  const uppercaseIgnoredTags = [];\n  for (let i = 0; i < ignoredTags.length; i++) {\n    uppercaseIgnoredTags.push(ignoredTags[i].toUpperCase());\n  }\n  /** @protected */\n  this.o = o;\n  if (defaultRender) {\n    this.defaultRender = defaultRender;\n  }\n  this.ignoreTags = uppercaseIgnoredTags;\n}\nOptions.prototype = {\n  o: defaults,\n  /**\n   * @type string[]\n   */\n  ignoreTags: [],\n  /**\n   * @param {IntermediateRepresentation} ir\n   * @returns {any}\n   */\n  defaultRender(ir) {\n    return ir;\n  },\n  /**\n   * Returns true or false based on whether a token should be displayed as a\n   * link based on the user options.\n   * @param {MultiToken} token\n   * @returns {boolean}\n   */\n  check(token) {\n    return this.get('validate', token.toString(), token);\n  },\n  // Private methods\n\n  /**\n   * Resolve an option's value based on the value of the option and the given\n   * params. If operator and token are specified and the target option is\n   * callable, automatically calls the function with the given argument.\n   * @template {keyof Opts} K\n   * @param {K} key Name of option to use\n   * @param {string} [operator] will be passed to the target option if it's a\n   * function. If not specified, RAW function value gets returned\n   * @param {MultiToken} [token] The token from linkify.tokenize\n   * @returns {Opts[K] | any}\n   */\n  get(key, operator, token) {\n    const isCallable = operator != null;\n    let option = this.o[key];\n    if (!option) {\n      return option;\n    }\n    if (typeof option === 'object') {\n      option = token.t in option ? option[token.t] : defaults[key];\n      if (typeof option === 'function' && isCallable) {\n        option = option(operator, token);\n      }\n    } else if (typeof option === 'function' && isCallable) {\n      option = option(operator, token.t, token);\n    }\n    return option;\n  },\n  /**\n   * @template {keyof Opts} L\n   * @param {L} key Name of options object to use\n   * @param {string} [operator]\n   * @param {MultiToken} [token]\n   * @returns {Opts[L] | any}\n   */\n  getObj(key, operator, token) {\n    let obj = this.o[key];\n    if (typeof obj === 'function' && operator != null) {\n      obj = obj(operator, token.t, token);\n    }\n    return obj;\n  },\n  /**\n   * Convert the given token to a rendered element that may be added to the\n   * calling-interface's DOM\n   * @param {MultiToken} token Token to render to an HTML element\n   * @returns {any} Render result; e.g., HTML string, DOM element, React\n   *   Component, etc.\n   */\n  render(token) {\n    const ir = token.render(this); // intermediate representation\n    const renderFn = this.get('render', null, token) || this.defaultRender;\n    return renderFn(ir, token.t, token);\n  }\n};\nfunction noop(val) {\n  return val;\n}\n\nvar options = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tdefaults: defaults,\n\tOptions: Options,\n\tassign: assign\n});\n\n/******************************************************************************\n\tMulti-Tokens\n\tTokens composed of arrays of TextTokens\n******************************************************************************/\n\n/**\n * @param {string} value\n * @param {Token[]} tokens\n */\nfunction MultiToken(value, tokens) {\n  this.t = 'token';\n  this.v = value;\n  this.tk = tokens;\n}\n\n/**\n * Abstract class used for manufacturing tokens of text tokens. That is rather\n * than the value for a token being a small string of text, it's value an array\n * of text tokens.\n *\n * Used for grouping together URLs, emails, hashtags, and other potential\n * creations.\n * @class MultiToken\n * @property {string} t\n * @property {string} v\n * @property {Token[]} tk\n * @abstract\n */\nMultiToken.prototype = {\n  isLink: false,\n  /**\n   * Return the string this token represents.\n   * @return {string}\n   */\n  toString() {\n    return this.v;\n  },\n  /**\n   * What should the value for this token be in the `href` HTML attribute?\n   * Returns the `.toString` value by default.\n   * @param {string} [scheme]\n   * @return {string}\n  */\n  toHref(scheme) {\n    return this.toString();\n  },\n  /**\n   * @param {Options} options Formatting options\n   * @returns {string}\n   */\n  toFormattedString(options) {\n    const val = this.toString();\n    const truncate = options.get('truncate', val, this);\n    const formatted = options.get('format', val, this);\n    return truncate && formatted.length > truncate ? formatted.substring(0, truncate) + '\u2026' : formatted;\n  },\n  /**\n   *\n   * @param {Options} options\n   * @returns {string}\n   */\n  toFormattedHref(options) {\n    return options.get('formatHref', this.toHref(options.get('defaultProtocol')), this);\n  },\n  /**\n   * The start index of this token in the original input string\n   * @returns {number}\n   */\n  startIndex() {\n    return this.tk[0].s;\n  },\n  /**\n   * The end index of this token in the original input string (up to this\n   * index but not including it)\n   * @returns {number}\n   */\n  endIndex() {\n    return this.tk[this.tk.length - 1].e;\n  },\n  /**\n  \tReturns an object  of relevant values for this token, which includes keys\n  \t* type - Kind of token ('url', 'email', etc.)\n  \t* value - Original text\n  \t* href - The value that should be added to the anchor tag's href\n  \t\tattribute\n  \t\t@method toObject\n  \t@param {string} [protocol] `'http'` by default\n  */\n  toObject(protocol) {\n    if (protocol === void 0) {\n      protocol = defaults.defaultProtocol;\n    }\n    return {\n      type: this.t,\n      value: this.toString(),\n      isLink: this.isLink,\n      href: this.toHref(protocol),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  },\n  /**\n   *\n   * @param {Options} options Formatting option\n   */\n  toFormattedObject(options) {\n    return {\n      type: this.t,\n      value: this.toFormattedString(options),\n      isLink: this.isLink,\n      href: this.toFormattedHref(options),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  },\n  /**\n   * Whether this token should be rendered as a link according to the given options\n   * @param {Options} options\n   * @returns {boolean}\n   */\n  validate(options) {\n    return options.get('validate', this.toString(), this);\n  },\n  /**\n   * Return an object that represents how this link should be rendered.\n   * @param {Options} options Formattinng options\n   */\n  render(options) {\n    const token = this;\n    const href = this.toHref(options.get('defaultProtocol'));\n    const formattedHref = options.get('formatHref', href, this);\n    const tagName = options.get('tagName', href, token);\n    const content = this.toFormattedString(options);\n    const attributes = {};\n    const className = options.get('className', href, token);\n    const target = options.get('target', href, token);\n    const rel = options.get('rel', href, token);\n    const attrs = options.getObj('attributes', href, token);\n    const eventListeners = options.getObj('events', href, token);\n    attributes.href = formattedHref;\n    if (className) {\n      attributes.class = className;\n    }\n    if (target) {\n      attributes.target = target;\n    }\n    if (rel) {\n      attributes.rel = rel;\n    }\n    if (attrs) {\n      assign(attributes, attrs);\n    }\n    return {\n      tagName,\n      attributes,\n      content,\n      eventListeners\n    };\n  }\n};\n\n/**\n * Create a new token that can be emitted by the parser state machine\n * @param {string} type readable type of the token\n * @param {object} props properties to assign or override, including isLink = true or false\n * @returns {new (value: string, tokens: Token[]) => MultiToken} new token class\n */\nfunction createTokenClass(type, props) {\n  class Token extends MultiToken {\n    constructor(value, tokens) {\n      super(value, tokens);\n      this.t = type;\n    }\n  }\n  for (const p in props) {\n    Token.prototype[p] = props[p];\n  }\n  Token.t = type;\n  return Token;\n}\n\n/**\n\tRepresents a list of tokens making up a valid email address\n*/\nconst Email = createTokenClass('email', {\n  isLink: true,\n  toHref() {\n    return 'mailto:' + this.toString();\n  }\n});\n\n/**\n\tRepresents some plain text\n*/\nconst Text = createTokenClass('text');\n\n/**\n\tMulti-linebreak token - represents a line break\n\t@class Nl\n*/\nconst Nl = createTokenClass('nl');\n\n/**\n\tRepresents a list of text tokens making up a valid URL\n\t@class Url\n*/\nconst Url = createTokenClass('url', {\n  isLink: true,\n  /**\n  \tLowercases relevant parts of the domain and adds the protocol if\n  \trequired. Note that this will not escape unsafe HTML characters in the\n  \tURL.\n  \t\t@param {string} [scheme] default scheme (e.g., 'https')\n  \t@return {string} the full href\n  */\n  toHref(scheme) {\n    if (scheme === void 0) {\n      scheme = defaults.defaultProtocol;\n    }\n    // Check if already has a prefix scheme\n    return this.hasProtocol() ? this.v : `${scheme}://${this.v}`;\n  },\n  /**\n   * Check whether this URL token has a protocol\n   * @return {boolean}\n   */\n  hasProtocol() {\n    const tokens = this.tk;\n    return tokens.length >= 2 && tokens[0].t !== LOCALHOST && tokens[1].t === COLON;\n  }\n});\n\nvar multi = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tMultiToken: MultiToken,\n\tBase: MultiToken,\n\tcreateTokenClass: createTokenClass,\n\tEmail: Email,\n\tText: Text,\n\tNl: Nl,\n\tUrl: Url\n});\n\n/**\n\tNot exactly parser, more like the second-stage scanner (although we can\n\ttheoretically hotswap the code here with a real parser in the future... but\n\tfor a little URL-finding utility abstract syntax trees may be a little\n\toverkill).\n\n\tURL format: http://en.wikipedia.org/wiki/URI_scheme\n\tEmail format: http://en.wikipedia.org/wiki/EmailAddress (links to RFC in\n\treference)\n\n\t@module linkify\n\t@submodule parser\n\t@main run\n*/\nconst makeState = arg => new State(arg);\n\n/**\n * Generate the parser multi token-based state machine\n * @param {{ groups: Collections<string> }} tokens\n */\nfunction init$1(_ref) {\n  let {\n    groups\n  } = _ref;\n  // Types of characters the URL can definitely end in\n  const qsAccepting = groups.domain.concat([AMPERSAND, ASTERISK, AT, BACKSLASH, BACKTICK, CARET, DOLLAR, EQUALS, HYPHEN, NUM, PERCENT, PIPE, PLUS, POUND, SLASH, SYM, TILDE, UNDERSCORE]);\n\n  // Types of tokens that can follow a URL and be part of the query string\n  // but cannot be the very last characters\n  // Characters that cannot appear in the URL at all should be excluded\n  const qsNonAccepting = [APOSTROPHE, CLOSEANGLEBRACKET, CLOSEBRACE, CLOSEBRACKET, CLOSEPAREN, COLON, COMMA, DOT, EXCLAMATION, OPENANGLEBRACKET, OPENBRACE, OPENBRACKET, OPENPAREN, QUERY, QUOTE, SEMI];\n\n  // For addresses without the mailto prefix\n  // Tokens allowed in the localpart of the email\n  const localpartAccepting = [AMPERSAND, APOSTROPHE, ASTERISK, BACKSLASH, BACKTICK, CARET, CLOSEBRACE, DOLLAR, EQUALS, HYPHEN, OPENBRACE, PERCENT, PIPE, PLUS, POUND, QUERY, SLASH, SYM, TILDE, UNDERSCORE];\n\n  // The universal starting state.\n  /**\n   * @type State<Token>\n   */\n  const Start = makeState();\n  const Localpart = tt(Start, TILDE); // Local part of the email address\n  ta(Localpart, localpartAccepting, Localpart);\n  ta(Localpart, groups.domain, Localpart);\n  const Domain = makeState(),\n    Scheme = makeState(),\n    SlashScheme = makeState();\n  ta(Start, groups.domain, Domain); // parsed string ends with a potential domain name (A)\n  ta(Start, groups.scheme, Scheme); // e.g., 'mailto'\n  ta(Start, groups.slashscheme, SlashScheme); // e.g., 'http'\n\n  ta(Domain, localpartAccepting, Localpart);\n  ta(Domain, groups.domain, Domain);\n  const LocalpartAt = tt(Domain, AT); // Local part of the email address plus @\n\n  tt(Localpart, AT, LocalpartAt); // close to an email address now\n\n  // Local part of an email address can be e.g. 'http' or 'mailto'\n  tt(Scheme, AT, LocalpartAt);\n  tt(SlashScheme, AT, LocalpartAt);\n  const LocalpartDot = tt(Localpart, DOT); // Local part of the email address plus '.' (localpart cannot end in .)\n  ta(LocalpartDot, localpartAccepting, Localpart);\n  ta(LocalpartDot, groups.domain, Localpart);\n  const EmailDomain = makeState();\n  ta(LocalpartAt, groups.domain, EmailDomain); // parsed string starts with local email info + @ with a potential domain name\n  ta(EmailDomain, groups.domain, EmailDomain);\n  const EmailDomainDot = tt(EmailDomain, DOT); // domain followed by DOT\n  ta(EmailDomainDot, groups.domain, EmailDomain);\n  const Email$1 = makeState(Email); // Possible email address (could have more tlds)\n  ta(EmailDomainDot, groups.tld, Email$1);\n  ta(EmailDomainDot, groups.utld, Email$1);\n  tt(LocalpartAt, LOCALHOST, Email$1);\n\n  // Hyphen can jump back to a domain name\n  const EmailDomainHyphen = tt(EmailDomain, HYPHEN); // parsed string starts with local email info + @ with a potential domain name\n  ta(EmailDomainHyphen, groups.domain, EmailDomain);\n  ta(Email$1, groups.domain, EmailDomain);\n  tt(Email$1, DOT, EmailDomainDot);\n  tt(Email$1, HYPHEN, EmailDomainHyphen);\n\n  // Final possible email states\n  const EmailColon = tt(Email$1, COLON); // URL followed by colon (potential port number here)\n  /*const EmailColonPort = */\n  ta(EmailColon, groups.numeric, Email); // URL followed by colon and port numner\n\n  // Account for dots and hyphens. Hyphens are usually parts of domain names\n  // (but not TLDs)\n  const DomainHyphen = tt(Domain, HYPHEN); // domain followed by hyphen\n  const DomainDot = tt(Domain, DOT); // domain followed by DOT\n  ta(DomainHyphen, groups.domain, Domain);\n  ta(DomainDot, localpartAccepting, Localpart);\n  ta(DomainDot, groups.domain, Domain);\n  const DomainDotTld = makeState(Url); // Simplest possible URL with no query string\n  ta(DomainDot, groups.tld, DomainDotTld);\n  ta(DomainDot, groups.utld, DomainDotTld);\n  ta(DomainDotTld, groups.domain, Domain);\n  ta(DomainDotTld, localpartAccepting, Localpart);\n  tt(DomainDotTld, DOT, DomainDot);\n  tt(DomainDotTld, HYPHEN, DomainHyphen);\n  tt(DomainDotTld, AT, LocalpartAt);\n  const DomainDotTldColon = tt(DomainDotTld, COLON); // URL followed by colon (potential port number here)\n  const DomainDotTldColonPort = makeState(Url); // TLD followed by a port number\n  ta(DomainDotTldColon, groups.numeric, DomainDotTldColonPort);\n\n  // Long URL with optional port and maybe query string\n  const Url$1 = makeState(Url);\n\n  // URL with extra symbols at the end, followed by an opening bracket\n  const UrlNonaccept = makeState(); // URL followed by some symbols (will not be part of the final URL)\n\n  // Query strings\n  ta(Url$1, qsAccepting, Url$1);\n  ta(Url$1, qsNonAccepting, UrlNonaccept);\n  ta(UrlNonaccept, qsAccepting, Url$1);\n  ta(UrlNonaccept, qsNonAccepting, UrlNonaccept);\n\n  // Become real URLs after `SLASH` or `COLON NUM SLASH`\n  // Here works with or without scheme:// prefix\n  tt(DomainDotTld, SLASH, Url$1);\n  tt(DomainDotTldColonPort, SLASH, Url$1);\n\n  // Note that domains that begin with schemes are treated slighly differently\n  const SchemeColon = tt(Scheme, COLON); // e.g., 'mailto:'\n  const SlashSchemeColon = tt(SlashScheme, COLON); // e.g., 'http:'\n  const SlashSchemeColonSlash = tt(SlashSchemeColon, SLASH); // e.g., 'http:/'\n\n  const UriPrefix = tt(SlashSchemeColonSlash, SLASH); // e.g., 'http://'\n\n  // Scheme states can transition to domain states\n  ta(Scheme, groups.domain, Domain);\n  tt(Scheme, DOT, DomainDot);\n  tt(Scheme, HYPHEN, DomainHyphen);\n  ta(SlashScheme, groups.domain, Domain);\n  tt(SlashScheme, DOT, DomainDot);\n  tt(SlashScheme, HYPHEN, DomainHyphen);\n\n  // Force URL with scheme prefix followed by anything sane\n  ta(SchemeColon, groups.domain, Url$1);\n  tt(SchemeColon, SLASH, Url$1);\n  ta(UriPrefix, groups.domain, Url$1);\n  ta(UriPrefix, qsAccepting, Url$1);\n  tt(UriPrefix, SLASH, Url$1);\n\n  // URL, followed by an opening bracket\n  const UrlOpenbrace = tt(Url$1, OPENBRACE); // URL followed by {\n  const UrlOpenbracket = tt(Url$1, OPENBRACKET); // URL followed by [\n  const UrlOpenanglebracket = tt(Url$1, OPENANGLEBRACKET); // URL followed by <\n  const UrlOpenparen = tt(Url$1, OPENPAREN); // URL followed by (\n\n  tt(UrlNonaccept, OPENBRACE, UrlOpenbrace);\n  tt(UrlNonaccept, OPENBRACKET, UrlOpenbracket);\n  tt(UrlNonaccept, OPENANGLEBRACKET, UrlOpenanglebracket);\n  tt(UrlNonaccept, OPENPAREN, UrlOpenparen);\n\n  // Closing bracket component. This character WILL be included in the URL\n  tt(UrlOpenbrace, CLOSEBRACE, Url$1);\n  tt(UrlOpenbracket, CLOSEBRACKET, Url$1);\n  tt(UrlOpenanglebracket, CLOSEANGLEBRACKET, Url$1);\n  tt(UrlOpenparen, CLOSEPAREN, Url$1);\n  tt(UrlOpenbrace, CLOSEBRACE, Url$1);\n\n  // URL that beings with an opening bracket, followed by a symbols.\n  // Note that the final state can still be `UrlOpenbrace` (if the URL only\n  // has a single opening bracket for some reason).\n  const UrlOpenbraceQ = makeState(Url); // URL followed by { and some symbols that the URL can end it\n  const UrlOpenbracketQ = makeState(Url); // URL followed by [ and some symbols that the URL can end it\n  const UrlOpenanglebracketQ = makeState(Url); // URL followed by < and some symbols that the URL can end it\n  const UrlOpenparenQ = makeState(Url); // URL followed by ( and some symbols that the URL can end it\n  ta(UrlOpenbrace, qsAccepting, UrlOpenbraceQ);\n  ta(UrlOpenbracket, qsAccepting, UrlOpenbracketQ);\n  ta(UrlOpenanglebracket, qsAccepting, UrlOpenanglebracketQ);\n  ta(UrlOpenparen, qsAccepting, UrlOpenparenQ);\n  const UrlOpenbraceSyms = makeState(); // UrlOpenbrace followed by some symbols it cannot end it\n  const UrlOpenbracketSyms = makeState(); // UrlOpenbracketQ followed by some symbols it cannot end it\n  const UrlOpenanglebracketSyms = makeState(); // UrlOpenanglebracketQ followed by some symbols it cannot end it\n  const UrlOpenparenSyms = makeState(); // UrlOpenparenQ followed by some symbols it cannot end it\n  ta(UrlOpenbrace, qsNonAccepting);\n  ta(UrlOpenbracket, qsNonAccepting);\n  ta(UrlOpenanglebracket, qsNonAccepting);\n  ta(UrlOpenparen, qsNonAccepting);\n\n  // URL that begins with an opening bracket, followed by some symbols\n  ta(UrlOpenbraceQ, qsAccepting, UrlOpenbraceQ);\n  ta(UrlOpenbracketQ, qsAccepting, UrlOpenbracketQ);\n  ta(UrlOpenanglebracketQ, qsAccepting, UrlOpenanglebracketQ);\n  ta(UrlOpenparenQ, qsAccepting, UrlOpenparenQ);\n  ta(UrlOpenbraceQ, qsNonAccepting, UrlOpenbraceQ);\n  ta(UrlOpenbracketQ, qsNonAccepting, UrlOpenbracketQ);\n  ta(UrlOpenanglebracketQ, qsNonAccepting, UrlOpenanglebracketQ);\n  ta(UrlOpenparenQ, qsNonAccepting, UrlOpenparenQ);\n  ta(UrlOpenbraceSyms, qsAccepting, UrlOpenbraceSyms);\n  ta(UrlOpenbracketSyms, qsAccepting, UrlOpenbracketQ);\n  ta(UrlOpenanglebracketSyms, qsAccepting, UrlOpenanglebracketQ);\n  ta(UrlOpenparenSyms, qsAccepting, UrlOpenparenQ);\n  ta(UrlOpenbraceSyms, qsNonAccepting, UrlOpenbraceSyms);\n  ta(UrlOpenbracketSyms, qsNonAccepting, UrlOpenbracketSyms);\n  ta(UrlOpenanglebracketSyms, qsNonAccepting, UrlOpenanglebracketSyms);\n  ta(UrlOpenparenSyms, qsNonAccepting, UrlOpenparenSyms);\n\n  // Close brace/bracket to become regular URL\n  tt(UrlOpenbracketQ, CLOSEBRACKET, Url$1);\n  tt(UrlOpenanglebracketQ, CLOSEANGLEBRACKET, Url$1);\n  tt(UrlOpenparenQ, CLOSEPAREN, Url$1);\n  tt(UrlOpenbraceQ, CLOSEBRACE, Url$1);\n  tt(UrlOpenbracketSyms, CLOSEBRACKET, Url$1);\n  tt(UrlOpenanglebracketSyms, CLOSEANGLEBRACKET, Url$1);\n  tt(UrlOpenparenSyms, CLOSEPAREN, Url$1);\n  tt(UrlOpenbraceSyms, CLOSEPAREN, Url$1);\n  tt(Start, LOCALHOST, DomainDotTld); // localhost is a valid URL state\n  tt(Start, NL$1, Nl); // single new line\n\n  return {\n    start: Start,\n    tokens: tk\n  };\n}\n\n/**\n * Run the parser state machine on a list of scanned string-based tokens to\n * create a list of multi tokens, each of which represents a URL, email address,\n * plain text, etc.\n *\n * @param {State<MultiToken>} start parser start state\n * @param {string} input the original input used to generate the given tokens\n * @param {Token[]} tokens list of scanned tokens\n * @returns {MultiToken[]}\n */\nfunction run(start, input, tokens) {\n  let len = tokens.length;\n  let cursor = 0;\n  let multis = [];\n  let textTokens = [];\n  while (cursor < len) {\n    let state = start;\n    let secondState = null;\n    let nextState = null;\n    let multiLength = 0;\n    let latestAccepting = null;\n    let sinceAccepts = -1;\n    while (cursor < len && !(secondState = state.go(tokens[cursor].t))) {\n      // Starting tokens with nowhere to jump to.\n      // Consider these to be just plain text\n      textTokens.push(tokens[cursor++]);\n    }\n    while (cursor < len && (nextState = secondState || state.go(tokens[cursor].t))) {\n      // Get the next state\n      secondState = null;\n      state = nextState;\n\n      // Keep track of the latest accepting state\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts++;\n      }\n      cursor++;\n      multiLength++;\n    }\n    if (sinceAccepts < 0) {\n      // No accepting state was found, part of a regular text token add\n      // the first text token to the text tokens array and try again from\n      // the next\n      cursor -= multiLength;\n      if (cursor < len) {\n        textTokens.push(tokens[cursor]);\n        cursor++;\n      }\n    } else {\n      // Accepting state!\n      // First close off the textTokens (if available)\n      if (textTokens.length > 0) {\n        multis.push(initMultiToken(Text, input, textTokens));\n        textTokens = [];\n      }\n\n      // Roll back to the latest accepting state\n      cursor -= sinceAccepts;\n      multiLength -= sinceAccepts;\n\n      // Create a new multitoken\n      const Multi = latestAccepting.t;\n      const subtokens = tokens.slice(cursor - multiLength, cursor);\n      multis.push(initMultiToken(Multi, input, subtokens));\n    }\n  }\n\n  // Finally close off the textTokens (if available)\n  if (textTokens.length > 0) {\n    multis.push(initMultiToken(Text, input, textTokens));\n  }\n  return multis;\n}\n\n/**\n * Utility function for instantiating a new multitoken with all the relevant\n * fields during parsing.\n * @param {new (value: string, tokens: Token[]) => MultiToken} Multi class to instantiate\n * @param {string} input original input string\n * @param {Token[]} tokens consecutive tokens scanned from input string\n * @returns {MultiToken}\n */\nfunction initMultiToken(Multi, input, tokens) {\n  const startIdx = tokens[0].s;\n  const endIdx = tokens[tokens.length - 1].e;\n  const value = input.slice(startIdx, endIdx);\n  return new Multi(value, tokens);\n}\n\nconst warn = typeof console !== 'undefined' && console && console.warn || (() => {});\nconst warnAdvice = 'until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.';\n\n// Side-effect initialization state\nconst INIT = {\n  scanner: null,\n  parser: null,\n  tokenQueue: [],\n  pluginQueue: [],\n  customSchemes: [],\n  initialized: false\n};\n\n/**\n * @typedef {{\n * \tstart: State<string>,\n * \ttokens: { groups: Collections<string> } & typeof tk\n * }} ScannerInit\n */\n\n/**\n * @typedef {{\n * \tstart: State<MultiToken>,\n * \ttokens: typeof multi\n * }} ParserInit\n */\n\n/**\n * @typedef {(arg: { scanner: ScannerInit }) => void} TokenPlugin\n */\n\n/**\n * @typedef {(arg: { scanner: ScannerInit, parser: ParserInit }) => void} Plugin\n */\n\n/**\n * De-register all plugins and reset the internal state-machine. Used for\n * testing; not required in practice.\n * @private\n */\nfunction reset() {\n  State.groups = {};\n  INIT.scanner = null;\n  INIT.parser = null;\n  INIT.tokenQueue = [];\n  INIT.pluginQueue = [];\n  INIT.customSchemes = [];\n  INIT.initialized = false;\n}\n\n/**\n * Register a token plugin to allow the scanner to recognize additional token\n * types before the parser state machine is constructed from the results.\n * @param {string} name of plugin to register\n * @param {TokenPlugin} plugin function that accepts the scanner state machine\n * and available scanner tokens and collections and extends the state machine to\n * recognize additional tokens or groups.\n */\nfunction registerTokenPlugin(name, plugin) {\n  if (typeof plugin !== 'function') {\n    throw new Error(`linkifyjs: Invalid token plugin ${plugin} (expects function)`);\n  }\n  for (let i = 0; i < INIT.tokenQueue.length; i++) {\n    if (name === INIT.tokenQueue[i][0]) {\n      warn(`linkifyjs: token plugin \"${name}\" already registered - will be overwritten`);\n      INIT.tokenQueue[i] = [name, plugin];\n      return;\n    }\n  }\n  INIT.tokenQueue.push([name, plugin]);\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register token plugin \"${name}\" ${warnAdvice}`);\n  }\n}\n\n/**\n * Register a linkify plugin\n * @param {string} name of plugin to register\n * @param {Plugin} plugin function that accepts the parser state machine and\n * extends the parser to recognize additional link types\n */\nfunction registerPlugin(name, plugin) {\n  if (typeof plugin !== 'function') {\n    throw new Error(`linkifyjs: Invalid plugin ${plugin} (expects function)`);\n  }\n  for (let i = 0; i < INIT.pluginQueue.length; i++) {\n    if (name === INIT.pluginQueue[i][0]) {\n      warn(`linkifyjs: plugin \"${name}\" already registered - will be overwritten`);\n      INIT.pluginQueue[i] = [name, plugin];\n      return;\n    }\n  }\n  INIT.pluginQueue.push([name, plugin]);\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register plugin \"${name}\" ${warnAdvice}`);\n  }\n}\n\n/**\n * Detect URLs with the following additional protocol. Anything with format\n * \"protocol://...\" will be considered a link. If `optionalSlashSlash` is set to\n * `true`, anything with format \"protocol:...\" will be considered a link.\n * @param {string} protocol\n * @param {boolean} [optionalSlashSlash]\n */\nfunction registerCustomProtocol(scheme, optionalSlashSlash) {\n  if (optionalSlashSlash === void 0) {\n    optionalSlashSlash = false;\n  }\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register custom scheme \"${scheme}\" ${warnAdvice}`);\n  }\n  if (!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(scheme)) {\n    throw new Error('linkifyjs: incorrect scheme format.\\n 1. Must only contain digits, lowercase ASCII letters or \"-\"\\n 2. Cannot start or end with \"-\"\\n 3. \"-\" cannot repeat');\n  }\n  INIT.customSchemes.push([scheme, optionalSlashSlash]);\n}\n\n/**\n * Initialize the linkify state machine. Called automatically the first time\n * linkify is called on a string, but may be called manually as well.\n */\nfunction init() {\n  // Initialize scanner state machine and plugins\n  INIT.scanner = init$2(INIT.customSchemes);\n  for (let i = 0; i < INIT.tokenQueue.length; i++) {\n    INIT.tokenQueue[i][1]({\n      scanner: INIT.scanner\n    });\n  }\n\n  // Initialize parser state machine and plugins\n  INIT.parser = init$1(INIT.scanner.tokens);\n  for (let i = 0; i < INIT.pluginQueue.length; i++) {\n    INIT.pluginQueue[i][1]({\n      scanner: INIT.scanner,\n      parser: INIT.parser\n    });\n  }\n  INIT.initialized = true;\n}\n\n/**\n * Parse a string into tokens that represent linkable and non-linkable sub-components\n * @param {string} str\n * @return {MultiToken[]} tokens\n */\nfunction tokenize(str) {\n  if (!INIT.initialized) {\n    init();\n  }\n  return run(INIT.parser.start, str, run$1(INIT.scanner.start, str));\n}\n\n/**\n * Find a list of linkable items in the given string.\n * @param {string} str string to find links in\n * @param {string | Opts} [type] either formatting options or specific type of\n * links to find, e.g., 'url' or 'email'\n * @param {Opts} [opts] formatting options for final output. Cannot be specified\n * if opts already provided in `type` argument\n*/\nfunction find(str, type, opts) {\n  if (type === void 0) {\n    type = null;\n  }\n  if (opts === void 0) {\n    opts = null;\n  }\n  if (type && typeof type === 'object') {\n    if (opts) {\n      throw Error(`linkifyjs: Invalid link type ${type}; must be a string`);\n    }\n    opts = type;\n    type = null;\n  }\n  const options = new Options(opts);\n  const tokens = tokenize(str);\n  const filtered = [];\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    if (token.isLink && (!type || token.t === type)) {\n      filtered.push(token.toFormattedObject(options));\n    }\n  }\n  return filtered;\n}\n\n/**\n * Is the given string valid linkable text of some sort. Note that this does not\n * trim the text for you.\n *\n * Optionally pass in a second `type` param, which is the type of link to test\n * for.\n *\n * For example,\n *\n *     linkify.test(str, 'email');\n *\n * Returns `true` if str is a valid email.\n * @param {string} str string to test for links\n * @param {string} [type] optional specific link type to look for\n * @returns boolean true/false\n */\nfunction test(str, type) {\n  if (type === void 0) {\n    type = null;\n  }\n  const tokens = tokenize(str);\n  return tokens.length === 1 && tokens[0].isLink && (!type || tokens[0].t === type);\n}\n\nexport { MultiToken, Options, State, createTokenClass, find, init, multi, options, regexp, registerCustomProtocol, registerPlugin, registerTokenPlugin, reset, stringToArray, test, tokenize };\n", "import {\n  combineTransactionSteps,\n  findChildrenInRange,\n  getChangedRanges,\n  getMarksBetween,\n  NodeWithPos,\n} from '@tiptap/core'\nimport { MarkType } from '@tiptap/pm/model'\nimport { Plugin, PluginKey } from '@tiptap/pm/state'\nimport { find } from 'linkifyjs'\n\ntype AutolinkOptions = {\n  type: MarkType\n  validate?: (url: string) => boolean\n}\n\nexport function autolink(options: AutolinkOptions): Plugin {\n  return new Plugin({\n    key: new PluginKey('autolink'),\n    appendTransaction: (transactions, oldState, newState) => {\n      const docChanges = transactions.some(transaction => transaction.docChanged) && !oldState.doc.eq(newState.doc)\n      const preventAutolink = transactions.some(transaction => transaction.getMeta('preventAutolink'))\n\n      if (!docChanges || preventAutolink) {\n        return\n      }\n\n      const { tr } = newState\n      const transform = combineTransactionSteps(oldState.doc, [...transactions])\n      const changes = getChangedRanges(transform)\n\n      changes.forEach(({ newRange }) => {\n        // Now let’s see if we can add new links.\n        const nodesInChangedRanges = findChildrenInRange(\n          newState.doc,\n          newRange,\n          node => node.isTextblock,\n        )\n\n        let textBlock: NodeWithPos | undefined\n        let textBeforeWhitespace: string | undefined\n\n        if (nodesInChangedRanges.length > 1) {\n          // Grab the first node within the changed ranges (ex. the first of two paragraphs when hitting enter).\n          textBlock = nodesInChangedRanges[0]\n          textBeforeWhitespace = newState.doc.textBetween(\n            textBlock.pos,\n            textBlock.pos + textBlock.node.nodeSize,\n            undefined,\n            ' ',\n          )\n        } else if (\n          nodesInChangedRanges.length\n          // We want to make sure to include the block seperator argument to treat hard breaks like spaces.\n          && newState.doc.textBetween(newRange.from, newRange.to, ' ', ' ').endsWith(' ')\n        ) {\n          textBlock = nodesInChangedRanges[0]\n          textBeforeWhitespace = newState.doc.textBetween(\n            textBlock.pos,\n            newRange.to,\n            undefined,\n            ' ',\n          )\n        }\n\n        if (textBlock && textBeforeWhitespace) {\n          const wordsBeforeWhitespace = textBeforeWhitespace.split(' ').filter(s => s !== '')\n\n          if (wordsBeforeWhitespace.length <= 0) {\n            return false\n          }\n\n          const lastWordBeforeSpace = wordsBeforeWhitespace[wordsBeforeWhitespace.length - 1]\n          const lastWordAndBlockOffset = textBlock.pos + textBeforeWhitespace.lastIndexOf(lastWordBeforeSpace)\n\n          if (!lastWordBeforeSpace) {\n            return false\n          }\n\n          find(lastWordBeforeSpace)\n            .filter(link => link.isLink)\n            // Calculate link position.\n            .map(link => ({\n              ...link,\n              from: lastWordAndBlockOffset + link.start + 1,\n              to: lastWordAndBlockOffset + link.end + 1,\n            }))\n            // ignore link inside code mark\n            .filter(link => {\n              if (!newState.schema.marks.code) {\n                return true\n              }\n\n              return !newState.doc.rangeHasMark(\n                link.from,\n                link.to,\n                newState.schema.marks.code,\n              )\n            })\n            // validate link\n            .filter(link => {\n              if (options.validate) {\n                return options.validate(link.value)\n              }\n              return true\n            })\n            // Add link mark.\n            .forEach(link => {\n              if (getMarksBetween(link.from, link.to, newState.doc).some(item => item.mark.type === options.type)) {\n                return\n              }\n\n              tr.addMark(\n                link.from,\n                link.to,\n                options.type.create({\n                  href: link.href,\n                }),\n              )\n            })\n        }\n      })\n\n      if (!tr.steps.length) {\n        return\n      }\n\n      return tr\n    },\n  })\n}\n", "import { getAttributes } from '@tiptap/core'\nimport { MarkType } from '@tiptap/pm/model'\nimport { Plugin, PluginKey } from '@tiptap/pm/state'\n\ntype ClickHandlerOptions = {\n  type: MarkType\n}\n\nexport function clickHandler(options: ClickHandlerOptions): Plugin {\n  return new Plugin({\n    key: new PluginKey('handleClickLink'),\n    props: {\n      handleClick: (view, pos, event) => {\n        if (event.button !== 0) {\n          return false\n        }\n\n        const eventTarget = event.target as HTMLElement\n\n        if (eventTarget.nodeName !== 'A') {\n          return false\n        }\n\n        const attrs = getAttributes(view.state, options.type.name)\n        const link = (event.target as HTMLLinkElement)\n\n        const href = link?.href ?? attrs.href\n        const target = link?.target ?? attrs.target\n\n        if (link && href) {\n          if (view.editable) {\n            window.open(href, target)\n          }\n\n          return true\n        }\n\n        return false\n      },\n    },\n  })\n}\n", "import { Editor } from '@tiptap/core'\nimport { MarkType } from '@tiptap/pm/model'\nimport { Plugin, PluginKey } from '@tiptap/pm/state'\nimport { find } from 'linkifyjs'\n\ntype PasteHandlerOptions = {\n  editor: Editor\n  type: MarkType\n  linkOnPaste?: boolean\n}\n\nexport function pasteHandler(options: PasteHandlerOptions): Plugin {\n  return new Plugin({\n    key: new PluginKey('handlePasteLink'),\n    props: {\n      handlePaste: (view, event, slice) => {\n        const { state } = view\n        const { selection } = state\n\n        // Do not proceed if in code block.\n        if (state.doc.resolve(selection.from).parent.type.spec.code) {\n          return false\n        }\n\n        let textContent = ''\n\n        slice.content.forEach(node => {\n          textContent += node.textContent\n        })\n\n        let isAlreadyLink = false\n\n        slice.content.descendants(node => {\n          if (node.marks.some(mark => mark.type.name === options.type.name)) {\n            isAlreadyLink = true\n          }\n        })\n\n        if (isAlreadyLink) {\n          return\n        }\n\n        const link = find(textContent).find(item => item.isLink && item.value === textContent)\n\n        if (!selection.empty && options.linkOnPaste) {\n          const pastedLink = link?.href || null\n\n          if (pastedLink) {\n            options.editor.commands.setMark(options.type, { href: pastedLink })\n\n            return true\n          }\n        }\n\n        const firstChildIsText = slice.content.firstChild?.type.name === 'text'\n        const firstChildContainsLinkMark = slice.content.firstChild?.marks.some(mark => mark.type.name === options.type.name)\n\n        if ((firstChildIsText && firstChildContainsLinkMark) || !options.linkOnPaste) {\n          return false\n        }\n\n        if (link && selection.empty) {\n          options.editor.commands.insertContent(`<a href=\"${link.href}\">${link.href}</a>`)\n\n          return true\n        }\n\n        const { tr } = state\n        let deleteOnly = false\n\n        if (!selection.empty) {\n          deleteOnly = true\n\n          tr.delete(selection.from, selection.to)\n        }\n\n        let currentPos = selection.from\n        let fragmentLinks = []\n\n        slice.content.forEach(node => {\n          fragmentLinks = find(node.textContent)\n\n          tr.insert(currentPos - 1, node)\n\n          if (fragmentLinks.length > 0) {\n            deleteOnly = false\n\n            fragmentLinks.forEach(fragmentLink => {\n              const linkStart = currentPos + fragmentLink.start\n              const linkEnd = currentPos + fragmentLink.end\n              const hasMark = tr.doc.rangeHasMark(linkStart, linkEnd, options.type)\n\n              if (!hasMark) {\n                tr.addMark(linkStart, linkEnd, options.type.create({ href: fragmentLink.href }))\n              }\n            })\n\n          }\n          currentPos += node.nodeSize\n        })\n\n        const hasFragmentLinks = fragmentLinks.length > 0\n\n        if (tr.docChanged && !deleteOnly && hasFragmentLinks) {\n          options.editor.view.dispatch(tr)\n\n          return true\n        }\n\n        return false\n      },\n    },\n  })\n}\n", "import { Mark, mergeAttributes } from '@tiptap/core'\nimport { Plugin } from '@tiptap/pm/state'\nimport { registerCustomProtocol, reset } from 'linkifyjs'\n\nimport { autolink } from './helpers/autolink.js'\nimport { clickHandler } from './helpers/clickHandler.js'\nimport { pasteHandler } from './helpers/pasteHandler.js'\n\nexport interface LinkProtocolOptions {\n  scheme: string;\n  optionalSlashes?: boolean;\n}\n\nexport interface LinkOptions {\n  /**\n   * If enabled, it adds links as you type.\n   */\n  autolink: boolean\n  /**\n   * An array of custom protocols to be registered with linkifyjs.\n   */\n  protocols: Array<LinkProtocolOptions | string>\n  /**\n   * If enabled, links will be opened on click.\n   */\n  openOnClick: boolean\n  /**\n   * Adds a link to the current selection if the pasted content only contains an url.\n   */\n  linkOnPaste: boolean\n  /**\n   * A list of HTML attributes to be rendered.\n   */\n  HTMLAttributes: Record<string, any>\n  /**\n   * A validation function that modifies link verification for the auto linker.\n   * @param url - The url to be validated.\n   * @returns - True if the url is valid, false otherwise.\n   */\n  validate?: (url: string) => boolean\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    link: {\n      /**\n       * Set a link mark\n       */\n      setLink: (attributes: { href: string; target?: string | null; rel?: string | null; class?: string | null }) => ReturnType\n      /**\n       * Toggle a link mark\n       */\n      toggleLink: (attributes: { href: string; target?: string | null; rel?: string | null; class?: string | null }) => ReturnType\n      /**\n       * Unset a link mark\n       */\n      unsetLink: () => ReturnType\n    }\n  }\n}\n\nexport const Link = Mark.create<LinkOptions>({\n  name: 'link',\n\n  priority: 1000,\n\n  keepOnSplit: false,\n\n  onCreate() {\n    this.options.protocols.forEach(protocol => {\n      if (typeof protocol === 'string') {\n        registerCustomProtocol(protocol)\n        return\n      }\n      registerCustomProtocol(protocol.scheme, protocol.optionalSlashes)\n    })\n  },\n\n  onDestroy() {\n    reset()\n  },\n\n  inclusive() {\n    return this.options.autolink\n  },\n\n  addOptions() {\n    return {\n      openOnClick: true,\n      linkOnPaste: true,\n      autolink: true,\n      protocols: [],\n      HTMLAttributes: {\n        target: '_blank',\n        rel: 'noopener noreferrer nofollow',\n        class: null,\n      },\n      validate: undefined,\n    }\n  },\n\n  addAttributes() {\n    return {\n      href: {\n        default: null,\n      },\n      target: {\n        default: this.options.HTMLAttributes.target,\n      },\n      rel: {\n        default: this.options.HTMLAttributes.rel,\n      },\n      class: {\n        default: this.options.HTMLAttributes.class,\n      },\n    }\n  },\n\n  parseHTML() {\n    return [{ tag: 'a[href]:not([href *= \"javascript:\" i])' }]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return ['a', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0]\n  },\n\n  addCommands() {\n    return {\n      setLink:\n        attributes => ({ chain }) => {\n          return chain().setMark(this.name, attributes).setMeta('preventAutolink', true).run()\n        },\n\n      toggleLink:\n        attributes => ({ chain }) => {\n          return chain()\n            .toggleMark(this.name, attributes, { extendEmptyMarkRange: true })\n            .setMeta('preventAutolink', true)\n            .run()\n        },\n\n      unsetLink:\n        () => ({ chain }) => {\n          return chain()\n            .unsetMark(this.name, { extendEmptyMarkRange: true })\n            .setMeta('preventAutolink', true)\n            .run()\n        },\n    }\n  },\n\n  addProseMirrorPlugins() {\n    const plugins: Plugin[] = []\n\n    if (this.options.autolink) {\n      plugins.push(\n        autolink({\n          type: this.type,\n          validate: this.options.validate,\n        }),\n      )\n    }\n\n    if (this.options.openOnClick) {\n      plugins.push(\n        clickHandler({\n          type: this.type,\n        }),\n      )\n    }\n\n    plugins.push(\n      pasteHandler({\n        editor: this.editor,\n        type: this.type,\n        linkOnPaste: this.options.linkOnPaste,\n      }),\n    )\n\n    return plugins\n  },\n})\n", "const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'p',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n];\n\nconst ATTRIBUTES = [\n  'align-content',\n  'align-items',\n  'align-self',\n  'all',\n  'animation',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-timing-function',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-repeat',\n  'background-size',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-decoration-break',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'direction',\n  'display',\n  'empty-cells',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-size',\n  'font-size-adjust',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-variant',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'gap',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'inline-size',\n  'isolation',\n  'justify-content',\n  'left',\n  'letter-spacing',\n  'line-break',\n  'line-height',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'pointer-events',\n  'position',\n  'quotes',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'row-gap',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-style',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-transform',\n  'text-underline-position',\n  'top',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'unicode-bidi',\n  'vertical-align',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'z-index'\n  // reverse makes sure longer attributes `font-weight` are matched fully\n  // instead of getting false positives on say `font`\n].reverse();\n\n/*\nLanguage: CSS\nCategory: common, css, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/CSS\n*/\n\n/** @type LanguageFn */\nfunction css(hljs) {\n  const regex = hljs.regex;\n  const modes = MODES(hljs);\n  const VENDOR_PREFIX = { begin: /-(webkit|moz|ms|o)-(?=[a-z])/ };\n  const AT_MODIFIERS = \"and or not only\";\n  const AT_PROPERTY_RE = /@-?\\w[\\w]*(-\\w+)*/; // @-webkit-keyframes\n  const IDENT_RE = '[a-zA-Z-][a-zA-Z0-9_-]*';\n  const STRINGS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE\n  ];\n\n  return {\n    name: 'CSS',\n    case_insensitive: true,\n    illegal: /[=|'\\$]/,\n    keywords: { keyframePosition: \"from to\" },\n    classNameAliases: {\n      // for visual continuity with `tag {}` and because we\n      // don't have a great class for this?\n      keyframePosition: \"selector-tag\" },\n    contains: [\n      modes.BLOCK_COMMENT,\n      VENDOR_PREFIX,\n      // to recognize keyframe 40% etc which are outside the scope of our\n      // attribute value mode\n      modes.CSS_NUMBER_MODE,\n      {\n        className: 'selector-id',\n        begin: /#[A-Za-z0-9_-]+/,\n        relevance: 0\n      },\n      {\n        className: 'selector-class',\n        begin: '\\\\.' + IDENT_RE,\n        relevance: 0\n      },\n      modes.ATTRIBUTE_SELECTOR_MODE,\n      {\n        className: 'selector-pseudo',\n        variants: [\n          { begin: ':(' + PSEUDO_CLASSES.join('|') + ')' },\n          { begin: ':(:)?(' + PSEUDO_ELEMENTS.join('|') + ')' }\n        ]\n      },\n      // we may actually need this (12/2020)\n      // { // pseudo-selector params\n      //   begin: /\\(/,\n      //   end: /\\)/,\n      //   contains: [ hljs.CSS_NUMBER_MODE ]\n      // },\n      modes.CSS_VARIABLE,\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b'\n      },\n      // attribute values\n      {\n        begin: /:/,\n        end: /[;}{]/,\n        contains: [\n          modes.BLOCK_COMMENT,\n          modes.HEXCOLOR,\n          modes.IMPORTANT,\n          modes.CSS_NUMBER_MODE,\n          ...STRINGS,\n          // needed to highlight these as strings and to avoid issues with\n          // illegal characters that might be inside urls that would tigger the\n          // languages illegal stack\n          {\n            begin: /(url|data-uri)\\(/,\n            end: /\\)/,\n            relevance: 0, // from keywords\n            keywords: { built_in: \"url data-uri\" },\n            contains: [\n              ...STRINGS,\n              {\n                className: \"string\",\n                // any character other than `)` as in `url()` will be the start\n                // of a string, which ends with `)` (from the parent mode)\n                begin: /[^)]/,\n                endsWithParent: true,\n                excludeEnd: true\n              }\n            ]\n          },\n          modes.FUNCTION_DISPATCH\n        ]\n      },\n      {\n        begin: regex.lookahead(/@/),\n        end: '[{;]',\n        relevance: 0,\n        illegal: /:/, // break on Less variables @var: ...\n        contains: [\n          {\n            className: 'keyword',\n            begin: AT_PROPERTY_RE\n          },\n          {\n            begin: /\\s/,\n            endsWithParent: true,\n            excludeEnd: true,\n            relevance: 0,\n            keywords: {\n              $pattern: /[a-z-]+/,\n              keyword: AT_MODIFIERS,\n              attribute: MEDIA_FEATURES.join(\" \")\n            },\n            contains: [\n              {\n                begin: /[a-z-]+(?=:)/,\n                className: \"attribute\"\n              },\n              ...STRINGS,\n              modes.CSS_NUMBER_MODE\n            ]\n          }\n        ]\n      },\n      {\n        className: 'selector-tag',\n        begin: '\\\\b(' + TAGS.join('|') + ')\\\\b'\n      }\n    ]\n  };\n}\n\nexport { css as default };\n", "const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: 'html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: 'css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: 'gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    begin: /\\(/,\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ]),\n      IDENT_RE$1, regex.lookahead(/\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        className: 'attr',\n        begin: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\nexport { javascript as default };\n", "const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: 'html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: 'css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: 'gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    begin: /\\(/,\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ]),\n      IDENT_RE$1, regex.lookahead(/\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        className: 'attr',\n        begin: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\n/*\nLanguage: TypeScript\nAuthor: Panu Horsmalahti <panu.horsmalahti@iki.fi>\nContributors: Ike Ku <dempfi@yahoo.com>\nDescription: TypeScript is a strict superset of JavaScript\nWebsite: https://www.typescriptlang.org\nCategory: common, scripting\n*/\n\n/** @type LanguageFn */\nfunction typescript(hljs) {\n  const tsLanguage = javascript(hljs);\n\n  const IDENT_RE$1 = IDENT_RE;\n  const TYPES = [\n    \"any\",\n    \"void\",\n    \"number\",\n    \"boolean\",\n    \"string\",\n    \"object\",\n    \"never\",\n    \"symbol\",\n    \"bigint\",\n    \"unknown\"\n  ];\n  const NAMESPACE = {\n    beginKeywords: 'namespace',\n    end: /\\{/,\n    excludeEnd: true,\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const INTERFACE = {\n    beginKeywords: 'interface',\n    end: /\\{/,\n    excludeEnd: true,\n    keywords: {\n      keyword: 'interface extends',\n      built_in: TYPES\n    },\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const USE_STRICT = {\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use strict['\"]/\n  };\n  const TS_SPECIFIC_KEYWORDS = [\n    \"type\",\n    \"namespace\",\n    \"interface\",\n    \"public\",\n    \"private\",\n    \"protected\",\n    \"implements\",\n    \"declare\",\n    \"abstract\",\n    \"readonly\",\n    \"enum\",\n    \"override\"\n  ];\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS.concat(TS_SPECIFIC_KEYWORDS),\n    literal: LITERALS,\n    built_in: BUILT_INS.concat(TYPES),\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n  const DECORATOR = {\n    className: 'meta',\n    begin: '@' + IDENT_RE$1,\n  };\n\n  const swapMode = (mode, label, replacement) => {\n    const indx = mode.contains.findIndex(m => m.label === label);\n    if (indx === -1) { throw new Error(\"can not find mode to replace\"); }\n\n    mode.contains.splice(indx, 1, replacement);\n  };\n\n\n  // this should update anywhere keywords is used since\n  // it will be the same actual JS object\n  Object.assign(tsLanguage.keywords, KEYWORDS$1);\n\n  tsLanguage.exports.PARAMS_CONTAINS.push(DECORATOR);\n  tsLanguage.contains = tsLanguage.contains.concat([\n    DECORATOR,\n    NAMESPACE,\n    INTERFACE,\n  ]);\n\n  // TS gets a simpler shebang rule than JS\n  swapMode(tsLanguage, \"shebang\", hljs.SHEBANG());\n  // JS use strict rule purposely excludes `asm` which makes no sense\n  swapMode(tsLanguage, \"use_strict\", USE_STRICT);\n\n  const functionDeclaration = tsLanguage.contains.find(m => m.label === \"func.def\");\n  functionDeclaration.relevance = 0; // () => {} is more typical in TypeScript\n\n  Object.assign(tsLanguage, {\n    name: 'TypeScript',\n    aliases: [\n      'ts',\n      'tsx',\n      'mts',\n      'cts'\n    ]\n  });\n\n  return tsLanguage;\n}\n\nexport { typescript as default };\n", "/*\nLanguage: HTML, XML\nWebsite: https://www.w3.org/XML/\nCategory: common, web\nAudit: 2020\n*/\n\n/** @type LanguageFn */\nfunction xml(hljs) {\n  const regex = hljs.regex;\n  // XML names can have the following additional letters: https://www.w3.org/TR/xml/#NT-NameChar\n  // OTHER_NAME_CHARS = /[:\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]/;\n  // Element names start with NAME_START_CHAR followed by optional other Unicode letters, ASCII digits, hyphens, underscores, and periods\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);;\n  // const XML_IDENT_RE = /[A-Z_a-z:\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]+/;\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);\n  // however, to cater for performance and more Unicode support rely simply on the Unicode letter class\n  const TAG_NAME_RE = regex.concat(/[\\p{L}_]/u, regex.optional(/[\\p{L}0-9_.-]*:/u), /[\\p{L}0-9_.-]*/u);\n  const XML_IDENT_RE = /[\\p{L}0-9._:-]+/u;\n  const XML_ENTITIES = {\n    className: 'symbol',\n    begin: /&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/\n  };\n  const XML_META_KEYWORDS = {\n    begin: /\\s/,\n    contains: [\n      {\n        className: 'keyword',\n        begin: /#?[a-z_][a-z1-9_-]+/,\n        illegal: /\\n/\n      }\n    ]\n  };\n  const XML_META_PAR_KEYWORDS = hljs.inherit(XML_META_KEYWORDS, {\n    begin: /\\(/,\n    end: /\\)/\n  });\n  const APOS_META_STRING_MODE = hljs.inherit(hljs.APOS_STRING_MODE, { className: 'string' });\n  const QUOTE_META_STRING_MODE = hljs.inherit(hljs.QUOTE_STRING_MODE, { className: 'string' });\n  const TAG_INTERNALS = {\n    endsWithParent: true,\n    illegal: /</,\n    relevance: 0,\n    contains: [\n      {\n        className: 'attr',\n        begin: XML_IDENT_RE,\n        relevance: 0\n      },\n      {\n        begin: /=\\s*/,\n        relevance: 0,\n        contains: [\n          {\n            className: 'string',\n            endsParent: true,\n            variants: [\n              {\n                begin: /\"/,\n                end: /\"/,\n                contains: [ XML_ENTITIES ]\n              },\n              {\n                begin: /'/,\n                end: /'/,\n                contains: [ XML_ENTITIES ]\n              },\n              { begin: /[^\\s\"'=<>`]+/ }\n            ]\n          }\n        ]\n      }\n    ]\n  };\n  return {\n    name: 'HTML, XML',\n    aliases: [\n      'html',\n      'xhtml',\n      'rss',\n      'atom',\n      'xjb',\n      'xsd',\n      'xsl',\n      'plist',\n      'wsf',\n      'svg'\n    ],\n    case_insensitive: true,\n    unicodeRegex: true,\n    contains: [\n      {\n        className: 'meta',\n        begin: /<![a-z]/,\n        end: />/,\n        relevance: 10,\n        contains: [\n          XML_META_KEYWORDS,\n          QUOTE_META_STRING_MODE,\n          APOS_META_STRING_MODE,\n          XML_META_PAR_KEYWORDS,\n          {\n            begin: /\\[/,\n            end: /\\]/,\n            contains: [\n              {\n                className: 'meta',\n                begin: /<![a-z]/,\n                end: />/,\n                contains: [\n                  XML_META_KEYWORDS,\n                  XML_META_PAR_KEYWORDS,\n                  QUOTE_META_STRING_MODE,\n                  APOS_META_STRING_MODE\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      hljs.COMMENT(\n        /<!--/,\n        /-->/,\n        { relevance: 10 }\n      ),\n      {\n        begin: /<!\\[CDATA\\[/,\n        end: /\\]\\]>/,\n        relevance: 10\n      },\n      XML_ENTITIES,\n      // xml processing instructions\n      {\n        className: 'meta',\n        end: /\\?>/,\n        variants: [\n          {\n            begin: /<\\?xml/,\n            relevance: 10,\n            contains: [\n              QUOTE_META_STRING_MODE\n            ]\n          },\n          {\n            begin: /<\\?[a-z][a-z0-9]+/,\n          }\n        ]\n\n      },\n      {\n        className: 'tag',\n        /*\n        The lookahead pattern (?=...) ensures that 'begin' only matches\n        '<style' as a single word, followed by a whitespace or an\n        ending bracket.\n        */\n        begin: /<style(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'style' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/style>/,\n          returnEnd: true,\n          subLanguage: [\n            'css',\n            'xml'\n          ]\n        }\n      },\n      {\n        className: 'tag',\n        // See the comment in the <style tag about the lookahead pattern\n        begin: /<script(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'script' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/script>/,\n          returnEnd: true,\n          subLanguage: [\n            'javascript',\n            'handlebars',\n            'xml'\n          ]\n        }\n      },\n      // we need this for now for jSX\n      {\n        className: 'tag',\n        begin: /<>|<\\/>/\n      },\n      // open tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /</,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE,\n            // <tag/>\n            // <tag>\n            // <tag ...\n            regex.either(/\\/>/, />/, /\\s/)\n          ))\n        ),\n        end: /\\/?>/,\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0,\n            starts: TAG_INTERNALS\n          }\n        ]\n      },\n      // close tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /<\\//,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE, />/\n          ))\n        ),\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0\n          },\n          {\n            begin: />/,\n            relevance: 0,\n            endsParent: true\n          }\n        ]\n      }\n    ]\n  };\n}\n\nexport { xml as default };\n", "export function deprecate(fn) {\n  return fn\n}\n\nexport function equal() {}\n\nexport function ok() {}\n\nexport function unreachable() {}\n", "/* eslint-disable no-multi-assign */\n\nfunction deepFreeze(obj) {\n  if (obj instanceof Map) {\n    obj.clear =\n      obj.delete =\n      obj.set =\n        function () {\n          throw new Error('map is read-only');\n        };\n  } else if (obj instanceof Set) {\n    obj.add =\n      obj.clear =\n      obj.delete =\n        function () {\n          throw new Error('set is read-only');\n        };\n  }\n\n  // Freeze self\n  Object.freeze(obj);\n\n  Object.getOwnPropertyNames(obj).forEach((name) => {\n    const prop = obj[name];\n    const type = typeof prop;\n\n    // Freeze prop if it is an object or function and also not already frozen\n    if ((type === 'object' || type === 'function') && !Object.isFrozen(prop)) {\n      deepFreeze(prop);\n    }\n  });\n\n  return obj;\n}\n\n/** @typedef {import('highlight.js').CallbackResponse} CallbackResponse */\n/** @typedef {import('highlight.js').CompiledMode} CompiledMode */\n/** @implements CallbackResponse */\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n    this.isMatchIgnored = false;\n  }\n\n  ignoreMatch() {\n    this.isMatchIgnored = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit$1(original, ...objects) {\n  /** @type Record<string,any> */\n  const result = Object.create(null);\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  // rarely we can have a sublanguage where language is undefined\n  // TODO: track down why\n  return !!node.scope;\n};\n\n/**\n *\n * @param {string} name\n * @param {{prefix:string}} options\n */\nconst scopeToCSSClass = (name, { prefix }) => {\n  // sub-language\n  if (name.startsWith(\"language:\")) {\n    return name.replace(\"language:\", \"language-\");\n  }\n  // tiered scope: comment.line\n  if (name.includes(\".\")) {\n    const pieces = name.split(\".\");\n    return [\n      `${prefix}${pieces.shift()}`,\n      ...(pieces.map((x, i) => `${x}${\"_\".repeat(i + 1)}`))\n    ].join(\" \");\n  }\n  // simple scope\n  return `${prefix}${name}`;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    const className = scopeToCSSClass(node.scope,\n      { prefix: this.classPrefix });\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/** @typedef {import('highlight.js').Emitter} Emitter */\n/**  */\n\n/** @returns {DataNode} */\nconst newNode = (opts = {}) => {\n  /** @type DataNode */\n  const result = { children: [] };\n  Object.assign(result, opts);\n  return result;\n};\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = newNode();\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} scope */\n  openNode(scope) {\n    /** @type Node */\n    const node = newNode({ scope });\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addText(text)\n  - __addSublanguage(emitter, subLanguageName)\n  - startScope(scope)\n  - endScope()\n  - finalize()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /** @param {string} scope */\n  startScope(scope) {\n    this.openNode(scope);\n  }\n\n  endScope() {\n    this.closeNode();\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  __addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    if (name) node.scope = `language:${name}`;\n\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    this.closeAllNodes();\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction anyNumberOfTimes(re) {\n  return concat('(?:', re, ')*');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(?:', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param { Array<string | RegExp | Object> } args\n * @returns {object}\n */\nfunction stripOptionsFromArgs(args) {\n  const opts = args[args.length - 1];\n\n  if (typeof opts === 'object' && opts.constructor === Object) {\n    args.splice(args.length - 1, 1);\n    return opts;\n  } else {\n    return {};\n  }\n}\n\n/** @typedef { {capture?: boolean} } RegexEitherOptions */\n\n/**\n * Any of the passed expresssions may match\n *\n * Creates a huge this | this | that | that match\n * @param {(RegExp | string)[] | [...(RegExp | string)[], RegexEitherOptions]} args\n * @returns {string}\n */\nfunction either(...args) {\n  /** @type { object & {capture?: boolean} }  */\n  const opts = stripOptionsFromArgs(args);\n  const joined = '('\n    + (opts.capture ? \"\" : \"?:\")\n    + args.map((x) => source(x)).join(\"|\") + \")\";\n  return joined;\n}\n\n/**\n * @param {RegExp | string} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  const match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// BACKREF_RE matches an open parenthesis or backreference. To avoid\n// an incorrect parse, it additionally matches the following:\n// - [...] elements, where the meaning of parentheses and escapes change\n// - other escape sequences, so we do not misparse escape sequences as\n//   interesting elements\n// - non-matching or lookahead parentheses, which do not capture. These\n//   follow the '(' with a '?'.\nconst BACKREF_RE = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n\n// **INTERNAL** Not intended for outside usage\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {{joinWith: string}} opts\n * @returns {string}\n */\nfunction _rewriteBackreferences(regexps, { joinWith }) {\n  let numCaptures = 0;\n\n  return regexps.map((regex) => {\n    numCaptures += 1;\n    const offset = numCaptures;\n    let re = source(regex);\n    let out = '';\n\n    while (re.length > 0) {\n      const match = BACKREF_RE.exec(re);\n      if (!match) {\n        out += re;\n        break;\n      }\n      out += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        out += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        out += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    return out;\n  }).map(re => `(${re})`).join(joinWith);\n}\n\n/** @typedef {import('highlight.js').Mode} Mode */\n/** @typedef {import('highlight.js').ModeCallback} ModeCallback */\n\n// Common regexps\nconst MATCH_NOTHING_RE = /\\b\\B/;\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit$1({\n    scope: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  scope: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  scope: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  const mode = inherit$1(\n    {\n      scope: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push({\n    scope: 'doctag',\n    // hack to avoid the space from being included. the space is necessary to\n    // match here to prevent the plain text rule below from gobbling up doctags\n    begin: '[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)',\n    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,\n    excludeBegin: true,\n    relevance: 0\n  });\n  const ENGLISH_WORD = either(\n    // list of common 1 and 2 letter words in English\n    \"I\",\n    \"a\",\n    \"is\",\n    \"so\",\n    \"us\",\n    \"to\",\n    \"at\",\n    \"if\",\n    \"in\",\n    \"it\",\n    \"on\",\n    // note: this is not an exhaustive list of contractions, just popular ones\n    /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, // contractions - can't we'd they're let's, etc\n    /[A-Za-z]+[-][a-z]+/, // `no-way`, etc.\n    /[A-Za-z][a-z]{2,}/ // allow capitalized words at beginning of sentences\n  );\n  // looking like plain text, more likely to be a comment\n  mode.contains.push(\n    {\n      // TODO: how to include \", (, ) without breaking grammars that use these for\n      // comment delimiters?\n      // begin: /[ ]+([()\"]?([A-Za-z'-]{3,}|is|a|I|so|us|[tT][oO]|at|if|in|it|on)[.]?[()\":]?([.][ ]|[ ]|\\))){3}/\n      // ---\n\n      // this tries to find sequences of 3 english words in a row (without any\n      // \"programming\" type syntax) this gives us a strong signal that we've\n      // TRULY found a comment - vs perhaps scanning with the wrong language.\n      // It's possible to find something that LOOKS like the start of the\n      // comment - but then if there is no readable text - good chance it is a\n      // false match and not a comment.\n      //\n      // for a visual example please see:\n      // https://github.com/highlightjs/highlight.js/issues/2827\n\n      begin: concat(\n        /[ ]+/, // necessary to prevent us gobbling up doctags like /* @author Bob Mcgill */\n        '(',\n        ENGLISH_WORD,\n        /[.]?[:]?([.][ ]|[ ])/,\n        '){3}') // look for 3 words in a row\n    }\n  );\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  scope: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  scope: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  scope: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    scope: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  scope: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  scope: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MATCH_NOTHING_RE: MATCH_NOTHING_RE,\n  IDENT_RE: IDENT_RE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  NUMBER_RE: NUMBER_RE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  COMMENT: COMMENT,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  NUMBER_MODE: NUMBER_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n  METHOD_GUARD: METHOD_GUARD,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n/**\n@typedef {import('highlight.js').CallbackResponse} CallbackResponse\n@typedef {import('highlight.js').CompilerExt} CompilerExt\n*/\n\n// Grammar extensions / plugins\n// See: https://github.com/highlightjs/highlight.js/issues/2833\n\n// Grammar extensions allow \"syntactic sugar\" to be added to the grammar modes\n// without requiring any underlying changes to the compiler internals.\n\n// `compileMatch` being the perfect small example of now allowing a grammar\n// author to write `match` when they desire to match a single expression rather\n// than being forced to use `begin`.  The extension then just moves `match` into\n// `begin` when it runs.  Ie, no features have been added, but we've just made\n// the experience of writing (and reading grammars) a little bit nicer.\n\n// ------\n\n// TODO: We need negative look-behind support to do this properly\n/**\n * Skip a match if it has a preceding dot\n *\n * This is used for `beginKeywords` to prevent matching expressions such as\n * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n * @param {RegExpMatchArray} match\n * @param {CallbackResponse} response\n */\nfunction skipIfHasPrecedingDot(match, response) {\n  const before = match.input[match.index - 1];\n  if (before === \".\") {\n    response.ignoreMatch();\n  }\n}\n\n/**\n *\n * @type {CompilerExt}\n */\nfunction scopeClassName(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.className !== undefined) {\n    mode.scope = mode.className;\n    delete mode.className;\n  }\n}\n\n/**\n * `beginKeywords` syntactic sugar\n * @type {CompilerExt}\n */\nfunction beginKeywords(mode, parent) {\n  if (!parent) return;\n  if (!mode.beginKeywords) return;\n\n  // for languages with keywords that include non-word characters checking for\n  // a word boundary is not sufficient, so instead we check for a word boundary\n  // or whitespace - this does no harm in any case since our keyword engine\n  // doesn't allow spaces in keywords anyways and we still check for the boundary\n  // first\n  mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?!\\\\.)(?=\\\\b|\\\\s)';\n  mode.__beforeBegin = skipIfHasPrecedingDot;\n  mode.keywords = mode.keywords || mode.beginKeywords;\n  delete mode.beginKeywords;\n\n  // prevents double relevance, the keywords themselves provide\n  // relevance, the mode doesn't need to double it\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 0;\n}\n\n/**\n * Allow `illegal` to contain an array of illegal values\n * @type {CompilerExt}\n */\nfunction compileIllegal(mode, _parent) {\n  if (!Array.isArray(mode.illegal)) return;\n\n  mode.illegal = either(...mode.illegal);\n}\n\n/**\n * `match` to match a single expression for readability\n * @type {CompilerExt}\n */\nfunction compileMatch(mode, _parent) {\n  if (!mode.match) return;\n  if (mode.begin || mode.end) throw new Error(\"begin & end are not supported with match\");\n\n  mode.begin = mode.match;\n  delete mode.match;\n}\n\n/**\n * provides the default 1 relevance to all modes\n * @type {CompilerExt}\n */\nfunction compileRelevance(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 1;\n}\n\n// allow beforeMatch to act as a \"qualifier\" for the match\n// the full match begin must be [beforeMatch][begin]\nconst beforeMatchExt = (mode, parent) => {\n  if (!mode.beforeMatch) return;\n  // starts conflicts with endsParent which we need to make sure the child\n  // rule is not matched multiple times\n  if (mode.starts) throw new Error(\"beforeMatch cannot be used with starts\");\n\n  const originalMode = Object.assign({}, mode);\n  Object.keys(mode).forEach((key) => { delete mode[key]; });\n\n  mode.keywords = originalMode.keywords;\n  mode.begin = concat(originalMode.beforeMatch, lookahead(originalMode.begin));\n  mode.starts = {\n    relevance: 0,\n    contains: [\n      Object.assign(originalMode, { endsParent: true })\n    ]\n  };\n  mode.relevance = 0;\n\n  delete originalMode.beforeMatch;\n};\n\n// keywords that should have no default relevance value\nconst COMMON_KEYWORDS = [\n  'of',\n  'and',\n  'for',\n  'in',\n  'not',\n  'or',\n  'if',\n  'then',\n  'parent', // common variable name\n  'list', // common variable name\n  'value' // common variable name\n];\n\nconst DEFAULT_KEYWORD_SCOPE = \"keyword\";\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string|string[]> | Array<string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive, scopeName = DEFAULT_KEYWORD_SCOPE) {\n  /** @type {import(\"highlight.js/private\").KeywordDict} */\n  const compiledKeywords = Object.create(null);\n\n  // input can be a string of keywords, an array of keywords, or a object with\n  // named keys representing scopeName (which can then point to a string or array)\n  if (typeof rawKeywords === 'string') {\n    compileList(scopeName, rawKeywords.split(\" \"));\n  } else if (Array.isArray(rawKeywords)) {\n    compileList(scopeName, rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(scopeName) {\n      // collapse all our objects back into the parent object\n      Object.assign(\n        compiledKeywords,\n        compileKeywords(rawKeywords[scopeName], caseInsensitive, scopeName)\n      );\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} scopeName\n   * @param {Array<string>} keywordList\n   */\n  function compileList(scopeName, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.map(x => x.toLowerCase());\n    }\n    keywordList.forEach(function(keyword) {\n      const pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [scopeName, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\n/*\n\nFor the reasoning behind this please see:\nhttps://github.com/highlightjs/highlight.js/issues/2880#issuecomment-747275419\n\n*/\n\n/**\n * @type {Record<string, boolean>}\n */\nconst seenDeprecations = {};\n\n/**\n * @param {string} message\n */\nconst error = (message) => {\n  console.error(message);\n};\n\n/**\n * @param {string} message\n * @param {any} args\n */\nconst warn = (message, ...args) => {\n  console.log(`WARN: ${message}`, ...args);\n};\n\n/**\n * @param {string} version\n * @param {string} message\n */\nconst deprecated = (version, message) => {\n  if (seenDeprecations[`${version}/${message}`]) return;\n\n  console.log(`Deprecated as of ${version}. ${message}`);\n  seenDeprecations[`${version}/${message}`] = true;\n};\n\n/* eslint-disable no-throw-literal */\n\n/**\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n*/\n\nconst MultiClassError = new Error();\n\n/**\n * Renumbers labeled scope names to account for additional inner match\n * groups that otherwise would break everything.\n *\n * Lets say we 3 match scopes:\n *\n *   { 1 => ..., 2 => ..., 3 => ... }\n *\n * So what we need is a clean match like this:\n *\n *   (a)(b)(c) => [ \"a\", \"b\", \"c\" ]\n *\n * But this falls apart with inner match groups:\n *\n * (a)(((b)))(c) => [\"a\", \"b\", \"b\", \"b\", \"c\" ]\n *\n * Our scopes are now \"out of alignment\" and we're repeating `b` 3 times.\n * What needs to happen is the numbers are remapped:\n *\n *   { 1 => ..., 2 => ..., 5 => ... }\n *\n * We also need to know that the ONLY groups that should be output\n * are 1, 2, and 5.  This function handles this behavior.\n *\n * @param {CompiledMode} mode\n * @param {Array<RegExp | string>} regexes\n * @param {{key: \"beginScope\"|\"endScope\"}} opts\n */\nfunction remapScopeNames(mode, regexes, { key }) {\n  let offset = 0;\n  const scopeNames = mode[key];\n  /** @type Record<number,boolean> */\n  const emit = {};\n  /** @type Record<number,string> */\n  const positions = {};\n\n  for (let i = 1; i <= regexes.length; i++) {\n    positions[i + offset] = scopeNames[i];\n    emit[i + offset] = true;\n    offset += countMatchGroups(regexes[i - 1]);\n  }\n  // we use _emit to keep track of which match groups are \"top-level\" to avoid double\n  // output from inside match groups\n  mode[key] = positions;\n  mode[key]._emit = emit;\n  mode[key]._multi = true;\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction beginMultiClass(mode) {\n  if (!Array.isArray(mode.begin)) return;\n\n  if (mode.skip || mode.excludeBegin || mode.returnBegin) {\n    error(\"skip, excludeBegin, returnBegin not compatible with beginScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.beginScope !== \"object\" || mode.beginScope === null) {\n    error(\"beginScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.begin, { key: \"beginScope\" });\n  mode.begin = _rewriteBackreferences(mode.begin, { joinWith: \"\" });\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction endMultiClass(mode) {\n  if (!Array.isArray(mode.end)) return;\n\n  if (mode.skip || mode.excludeEnd || mode.returnEnd) {\n    error(\"skip, excludeEnd, returnEnd not compatible with endScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.endScope !== \"object\" || mode.endScope === null) {\n    error(\"endScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.end, { key: \"endScope\" });\n  mode.end = _rewriteBackreferences(mode.end, { joinWith: \"\" });\n}\n\n/**\n * this exists only to allow `scope: {}` to be used beside `match:`\n * Otherwise `beginScope` would necessary and that would look weird\n\n  {\n    match: [ /def/, /\\w+/ ]\n    scope: { 1: \"keyword\" , 2: \"title\" }\n  }\n\n * @param {CompiledMode} mode\n */\nfunction scopeSugar(mode) {\n  if (mode.scope && typeof mode.scope === \"object\" && mode.scope !== null) {\n    mode.beginScope = mode.scope;\n    delete mode.scope;\n  }\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction MultiClass(mode) {\n  scopeSugar(mode);\n\n  if (typeof mode.beginScope === \"string\") {\n    mode.beginScope = { _wrap: mode.beginScope };\n  }\n  if (typeof mode.endScope === \"string\") {\n    mode.endScope = { _wrap: mode.endScope };\n  }\n\n  beginMultiClass(mode);\n  endMultiClass(mode);\n}\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').CompiledLanguage} CompiledLanguage\n*/\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensitivity of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm'\n      + (language.case_insensitive ? 'i' : '')\n      + (language.unicodeRegex ? 'u' : '')\n      + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(_rewriteBackreferences(terminators, { joinWith: '|' }), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminatorEnd) {\n      mm.addRule(mode.terminatorEnd, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.isCompiled) return cmode;\n\n    [\n      scopeClassName,\n      // do this early so compiler extensions generally don't have to worry about\n      // the distinction between match/begin\n      compileMatch,\n      MultiClass,\n      beforeMatchExt\n    ].forEach(ext => ext(mode, parent));\n\n    language.compilerExtensions.forEach(ext => ext(mode, parent));\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    [\n      beginKeywords,\n      // do this later so compiler extensions that come earlier have access to the\n      // raw array if they wanted to perhaps manipulate it, etc.\n      compileIllegal,\n      // default to 1 relevance if not specified\n      compileRelevance\n    ].forEach(ext => ext(mode, parent));\n\n    mode.isCompiled = true;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\" && mode.keywords.$pattern) {\n      // we need a copy because keywords might be compiled multiple times\n      // so we can't go deleting $pattern from the original on the first\n      // pass\n      mode.keywords = Object.assign({}, mode.keywords);\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n    keywordPattern = keywordPattern || /\\w+/;\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    cmode.keywordPatternRe = langRe(keywordPattern, true);\n\n    if (parent) {\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(cmode.begin);\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(cmode.end);\n      cmode.terminatorEnd = source(cmode.end) || '';\n      if (mode.endsWithParent && parent.terminatorEnd) {\n        cmode.terminatorEnd += (mode.end ? '|' : '') + parent.terminatorEnd;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(/** @type {RegExp | string} */ (mode.illegal));\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  if (!language.compilerExtensions) language.compilerExtensions = [];\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n\n  // we need a null object, which inherit will guarantee\n  language.classNameAliases = inherit$1(language.classNameAliases || {});\n\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cachedVariants) {\n    mode.cachedVariants = mode.variants.map(function(variant) {\n      return inherit$1(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cachedVariants) {\n    return mode.cachedVariants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit$1(mode, { starts: mode.starts ? inherit$1(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit$1(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\nvar version = \"11.8.0\";\n\nclass HTMLInjectionError extends Error {\n  constructor(reason, html) {\n    super(reason);\n    this.name = \"HTMLInjectionError\";\n    this.html = html;\n  }\n}\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').CompiledScope} CompiledScope\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSApi} HLJSApi\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').PluginEvent} PluginEvent\n@typedef {import('highlight.js').HLJSOptions} HLJSOptions\n@typedef {import('highlight.js').LanguageFn} LanguageFn\n@typedef {import('highlight.js').HighlightedHTMLElement} HighlightedHTMLElement\n@typedef {import('highlight.js').BeforeHighlightContext} BeforeHighlightContext\n@typedef {import('highlight.js/private').MatchType} MatchType\n@typedef {import('highlight.js/private').KeywordData} KeywordData\n@typedef {import('highlight.js/private').EnhancedMatch} EnhancedMatch\n@typedef {import('highlight.js/private').AnnotatedError} AnnotatedError\n@typedef {import('highlight.js').AutoHighlightResult} AutoHighlightResult\n@typedef {import('highlight.js').HighlightOptions} HighlightOptions\n@typedef {import('highlight.js').HighlightResult} HighlightResult\n*/\n\n\nconst escape = escapeHTML;\nconst inherit = inherit$1;\nconst NO_MATCH = Symbol(\"nomatch\");\nconst MAX_KEYWORD_HITS = 7;\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  const languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  const aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  const plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  let SAFE_MODE = true;\n  const LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  let options = {\n    ignoreUnescapedHTML: false,\n    throwUnescapedHTML: false,\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    cssSelector: 'pre code',\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    let classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      const language = getLanguage(match[1]);\n      if (!language) {\n        warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * OLD API\n   * highlight(lang, code, ignoreIllegals, continuation)\n   *\n   * NEW API\n   * highlight(code, {lang, ignoreIllegals})\n   *\n   * @param {string} codeOrLanguageName - the language to use for highlighting\n   * @param {string | HighlightOptions} optionsOrCode - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {CompiledMode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(codeOrLanguageName, optionsOrCode, ignoreIllegals) {\n    let code = \"\";\n    let languageName = \"\";\n    if (typeof optionsOrCode === \"object\") {\n      code = codeOrLanguageName;\n      ignoreIllegals = optionsOrCode.ignoreIllegals;\n      languageName = optionsOrCode.language;\n    } else {\n      // old API\n      deprecated(\"10.7.0\", \"highlight(lang, code, ...args) has been deprecated.\");\n      deprecated(\"10.7.0\", \"Please use highlight(code, options) instead.\\nhttps://github.com/highlightjs/highlight.js/issues/2277\");\n      languageName = codeOrLanguageName;\n      code = optionsOrCode;\n    }\n\n    // https://github.com/highlightjs/highlight.js/issues/3149\n    // eslint-disable-next-line no-undefined\n    if (ignoreIllegals === undefined) { ignoreIllegals = true; }\n\n    /** @type {BeforeHighlightContext} */\n    const context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    const result = context.result\n      ? context.result\n      : _highlight(context.language, context.code, ignoreIllegals);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} codeToHighlight - the code to highlight\n   * @param {boolean?} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {CompiledMode?} [continuation] - current continuation mode, if any\n   * @returns {HighlightResult} - result of the highlight operation\n  */\n  function _highlight(languageName, codeToHighlight, ignoreIllegals, continuation) {\n    const keywordHits = Object.create(null);\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {string} matchText - the textual match\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, matchText) {\n      return mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const word = language.case_insensitive ? match[0].toLowerCase() : match[0];\n        const data = keywordData(top, word);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          keywordHits[word] = (keywordHits[word] || 0) + 1;\n          if (keywordHits[word] <= MAX_KEYWORD_HITS) relevance += keywordRelevance;\n          if (kind.startsWith(\"_\")) {\n            // _ implied for relevance only, do not highlight\n            // by applying a class name\n            buf += match[0];\n          } else {\n            const cssClass = language.classNameAliases[kind] || kind;\n            emitKeyword(match[0], cssClass);\n          }\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substring(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      let result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = /** @type {CompiledMode} */ (result._top);\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.__addSublanguage(result._emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {string} text\n     * @param {string} scope\n     */\n    function emitKeyword(keyword, scope) {\n      if (keyword === \"\") return;\n\n      emitter.startScope(scope);\n      emitter.addText(keyword);\n      emitter.endScope();\n    }\n\n    /**\n     * @param {CompiledScope} scope\n     * @param {RegExpMatchArray} match\n     */\n    function emitMultiClass(scope, match) {\n      let i = 1;\n      const max = match.length - 1;\n      while (i <= max) {\n        if (!scope._emit[i]) { i++; continue; }\n        const klass = language.classNameAliases[scope[i]] || scope[i];\n        const text = match[i];\n        if (klass) {\n          emitKeyword(text, klass);\n        } else {\n          modeBuffer = text;\n          processKeywords();\n          modeBuffer = \"\";\n        }\n        i++;\n      }\n    }\n\n    /**\n     * @param {CompiledMode} mode - new mode to start\n     * @param {RegExpMatchArray} match\n     */\n    function startNewMode(mode, match) {\n      if (mode.scope && typeof mode.scope === \"string\") {\n        emitter.openNode(language.classNameAliases[mode.scope] || mode.scope);\n      }\n      if (mode.beginScope) {\n        // beginScope just wraps the begin match itself in a scope\n        if (mode.beginScope._wrap) {\n          emitKeyword(modeBuffer, language.classNameAliases[mode.beginScope._wrap] || mode.beginScope._wrap);\n          modeBuffer = \"\";\n        } else if (mode.beginScope._multi) {\n          // at this point modeBuffer should just be the match\n          emitMultiClass(mode.beginScope, match);\n          modeBuffer = \"\";\n        }\n      }\n\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.isMatchIgnored) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexes to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      const lexeme = match[0];\n      const newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.isMatchIgnored) return doIgnore(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode, match);\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      const lexeme = match[0];\n      const matchPlusRemainder = codeToHighlight.substring(match.index);\n\n      const endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      const origin = top;\n      if (top.endScope && top.endScope._wrap) {\n        processBuffer();\n        emitKeyword(lexeme, top.endScope._wrap);\n      } else if (top.endScope && top.endScope._multi) {\n        processBuffer();\n        emitMultiClass(top.endScope, match);\n      } else if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.scope) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        startNewMode(endMode.starts, match);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      const list = [];\n      for (let current = top; current !== language; current = current.parent) {\n        if (current.scope) {\n          list.unshift(current.scope);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    let lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      const lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error(`0 width match regex (${languageName})`);\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.scope || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        const processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  An potential end match that was\n      triggered but could not be completed.  IE, `doEndMatch` returned NO_MATCH.\n      (this could be because a callback requests the match be ignored, etc)\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    const language = getLanguage(languageName);\n    if (!language) {\n      error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    const md = compileLanguage(language);\n    let result = '';\n    /** @type {CompiledMode} */\n    let top = continuation || md;\n    /** @type Record<string,CompiledMode> */\n    const continuations = {}; // keep continuations for sub-languages\n    const emitter = new options.__emitter(options);\n    processContinuations();\n    let modeBuffer = '';\n    let relevance = 0;\n    let index = 0;\n    let iterations = 0;\n    let resumeScanAtSamePosition = false;\n\n    try {\n      if (!language.__emitTokens) {\n        top.matcher.considerAll();\n\n        for (;;) {\n          iterations++;\n          if (resumeScanAtSamePosition) {\n            // only regexes not matched previously will now be\n            // considered for a potential match\n            resumeScanAtSamePosition = false;\n          } else {\n            top.matcher.considerAll();\n          }\n          top.matcher.lastIndex = index;\n\n          const match = top.matcher.exec(codeToHighlight);\n          // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n          if (!match) break;\n\n          const beforeMatch = codeToHighlight.substring(index, match.index);\n          const processedCount = processLexeme(beforeMatch, match);\n          index = match.index + processedCount;\n        }\n        processLexeme(codeToHighlight.substring(index));\n      } else {\n        language.__emitTokens(codeToHighlight, emitter);\n      }\n\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        language: languageName,\n        value: result,\n        relevance,\n        illegal: false,\n        _emitter: emitter,\n        _top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: true,\n          relevance: 0,\n          _illegalBy: {\n            message: err.message,\n            index,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode,\n            resultSoFar: result\n          },\n          _emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: false,\n          relevance: 0,\n          errorRaised: err,\n          _emitter: emitter,\n          _top: top\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      value: escape(code),\n      illegal: false,\n      relevance: 0,\n      _top: PLAINTEXT_LANGUAGE,\n      _emitter: new options.__emitter(options)\n    };\n    result._emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - secondBest (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    const plaintext = justTextHighlightResult(code);\n\n    const results = languageSubset.filter(getLanguage).filter(autoDetection).map(name =>\n      _highlight(name, code, false)\n    );\n    results.unshift(plaintext); // plaintext is always an option\n\n    const sorted = results.sort((a, b) => {\n      // sort base on relevance\n      if (a.relevance !== b.relevance) return b.relevance - a.relevance;\n\n      // always award the tie to the base language\n      // ie if C++ and Arduino are tied, it's more likely to be C++\n      if (a.language && b.language) {\n        if (getLanguage(a.language).supersetOf === b.language) {\n          return 1;\n        } else if (getLanguage(b.language).supersetOf === a.language) {\n          return -1;\n        }\n      }\n\n      // otherwise say they are equal, which has the effect of sorting on\n      // relevance while preserving the original ordering - which is how ties\n      // have historically been settled, ie the language that comes first always\n      // wins in the case of a tie\n      return 0;\n    });\n\n    const [best, secondBest] = sorted;\n\n    /** @type {AutoHighlightResult} */\n    const result = best;\n    result.secondBest = secondBest;\n\n    return result;\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {HTMLElement} element\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function updateClassName(element, currentLang, resultLang) {\n    const language = (currentLang && aliases[currentLang]) || resultLang;\n\n    element.classList.add(\"hljs\");\n    element.classList.add(`language-${language}`);\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightElement(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightElement\",\n      { el: element, language });\n\n    // we should be all text, no child nodes (unescaped HTML) - this is possibly\n    // an HTML injection attack - it's likely too late if this is already in\n    // production (the code has likely already done its damage by the time\n    // we're seeing it)... but we yell loudly about this so that hopefully it's\n    // more likely to be caught in development before making it to production\n    if (element.children.length > 0) {\n      if (!options.ignoreUnescapedHTML) {\n        console.warn(\"One of your code blocks includes unescaped HTML. This is a potentially serious security risk.\");\n        console.warn(\"https://github.com/highlightjs/highlight.js/wiki/security\");\n        console.warn(\"The element with unescaped HTML:\");\n        console.warn(element);\n      }\n      if (options.throwUnescapedHTML) {\n        const err = new HTMLInjectionError(\n          \"One of your code blocks includes unescaped HTML.\",\n          element.innerHTML\n        );\n        throw err;\n      }\n    }\n\n    node = element;\n    const text = node.textContent;\n    const result = language ? highlight(text, { language, ignoreIllegals: true }) : highlightAuto(text);\n\n    element.innerHTML = result.value;\n    updateClassName(element, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relevance: result.relevance\n    };\n    if (result.secondBest) {\n      element.secondBest = {\n        language: result.secondBest.language,\n        relevance: result.secondBest.relevance\n      };\n    }\n\n    fire(\"after:highlightElement\", { el: element, result, text });\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {Partial<HLJSOptions>} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit(options, userOptions);\n  }\n\n  // TODO: remove v12, deprecated\n  const initHighlighting = () => {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlighting() deprecated.  Use highlightAll() now.\");\n  };\n\n  // TODO: remove v12, deprecated\n  function initHighlightingOnLoad() {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlightingOnLoad() deprecated.  Use highlightAll() now.\");\n  }\n\n  let wantsHighlight = false;\n\n  /**\n   * auto-highlights all pre>code elements on the page\n   */\n  function highlightAll() {\n    // if we are called too early in the loading process\n    if (document.readyState === \"loading\") {\n      wantsHighlight = true;\n      return;\n    }\n\n    const blocks = document.querySelectorAll(options.cssSelector);\n    blocks.forEach(highlightElement);\n  }\n\n  function boot() {\n    // if a highlight was requested before DOM was loaded, do now\n    if (wantsHighlight) highlightAll();\n  }\n\n  // make sure we are in the browser environment\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('DOMContentLoaded', boot, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    let lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error$1) {\n      error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error$1; } else { error(error$1); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * Remove a language grammar module\n   *\n   * @param {string} languageName\n   */\n  function unregisterLanguage(languageName) {\n    delete languages[languageName];\n    for (const alias of Object.keys(aliases)) {\n      if (aliases[alias] === languageName) {\n        delete aliases[alias];\n      }\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias.toLowerCase()] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    const lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * Upgrades the old highlightBlock plugins to the new\n   * highlightElement API\n   * @param {HLJSPlugin} plugin\n   */\n  function upgradePluginAPI(plugin) {\n    // TODO: remove with v12\n    if (plugin[\"before:highlightBlock\"] && !plugin[\"before:highlightElement\"]) {\n      plugin[\"before:highlightElement\"] = (data) => {\n        plugin[\"before:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n    if (plugin[\"after:highlightBlock\"] && !plugin[\"after:highlightElement\"]) {\n      plugin[\"after:highlightElement\"] = (data) => {\n        plugin[\"after:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    upgradePluginAPI(plugin);\n    plugins.push(plugin);\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function removePlugin(plugin) {\n    const index = plugins.indexOf(plugin);\n    if (index !== -1) {\n      plugins.splice(index, 1);\n    }\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    const cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n   * DEPRECATED\n   * @param {HighlightedHTMLElement} el\n   */\n  function deprecateHighlightBlock(el) {\n    deprecated(\"10.7.0\", \"highlightBlock will be removed entirely in v12.0\");\n    deprecated(\"10.7.0\", \"Please use highlightElement now.\");\n\n    return highlightElement(el);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    highlightAll,\n    highlightElement,\n    // TODO: Remove with v12 API\n    highlightBlock: deprecateHighlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    unregisterLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    autoDetection,\n    inherit,\n    addPlugin,\n    removePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  hljs.regex = {\n    concat: concat,\n    lookahead: lookahead,\n    either: either,\n    optional: optional,\n    anyNumberOfTimes: anyNumberOfTimes\n  };\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexes into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// Other names for the variable may break build script\nconst highlight = HLJS({});\n\n// returns a new instance of the highlighter to be used for extensions\n// check https://github.com/wooorm/lowlight/issues/47\nhighlight.newInstance = () => HLJS({});\n\nmodule.exports = highlight;\nhighlight.HighlightJS = highlight;\nhighlight.default = highlight;\n", "// https://nodejs.org/api/packages.html#packages_writing_dual_packages_while_avoiding_or_minimizing_hazards\nimport HighlightJS from '../lib/core.js';\nexport { HighlightJS };\nexport default HighlightJS;\n", "/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').RootData} RootData\n *\n * @typedef {import('highlight.js').Emitter} Emitter\n * @typedef {import('highlight.js').HLJSOptions} HljsOptions\n * @typedef {import('highlight.js').HighlightResult} HighlightResult\n * @typedef {import('highlight.js').LanguageFn} LanguageFn\n */\n\n/**\n * @typedef {Object} ExtraOptions\n *   Extra fields.\n * @property {ReadonlyArray<string> | null | undefined} [subset]\n *   List of allowed languages (default: all registered languages).\n *\n * @typedef {Object} Options\n *   Configuration for `highlight`.\n * @property {string | null | undefined} [prefix='hljs-']\n *   Class prefix (default: `'hljs-'`).\n *\n * @typedef {Options & ExtraOptions} AutoOptions\n *   Configuration for `highlightAuto`.\n */\n\nimport {ok as assert} from 'devlop'\nimport HighlightJs from 'highlight.js/lib/core'\n\n/** @type {AutoOptions} */\nconst emptyOptions = {}\n\nconst defaultPrefix = 'hljs-'\n\n/**\n * Create a `lowlight` instance.\n *\n * @param {Readonly<Record<string, LanguageFn>> | null | undefined} [grammars]\n *   Grammars to add (optional).\n * @returns\n *   Lowlight.\n */\nexport function createLowlight(grammars) {\n  const high = HighlightJs.newInstance()\n\n  if (grammars) {\n    register(grammars)\n  }\n\n  return {\n    highlight,\n    highlightAuto,\n    listLanguages,\n    register,\n    registerAlias,\n    registered\n  }\n\n  /**\n   * Highlight `value` (code) as `language` (name).\n   *\n   * @example\n   *   ```js\n   *   import {common, createLowlight} from 'lowlight'\n   *\n   *   const lowlight = createLowlight(common)\n   *\n   *   console.log(lowlight.highlight('css', 'em { color: red }'))\n   *   ```\n   *\n   *   Yields:\n   *\n   *   ```js\n   *   {type: 'root', children: [Array], data: {language: 'css', relevance: 3}}\n   *   ```\n   *\n   * @param {string} language\n   *   Programming language name.\n   * @param {string} value\n   *   Code to highlight.\n   * @param {Readonly<Options> | null | undefined} [options={}]\n   *   Configuration (optional).\n   * @returns {Root}\n   *   Tree; with the following `data` fields: `language` (`string`), detected\n   *   programming language name; `relevance` (`number`), how sure lowlight is\n   *   that the given code is in the language.\n   */\n  function highlight(language, value, options) {\n    assert(typeof language === 'string', 'expected `string` as `name`')\n    assert(typeof value === 'string', 'expected `string` as `value`')\n    const settings = options || emptyOptions\n    const prefix =\n      typeof settings.prefix === 'string' ? settings.prefix : defaultPrefix\n\n    if (!high.getLanguage(language)) {\n      throw new Error('Unknown language: `' + language + '` is not registered')\n    }\n\n    // @ts-expect-error: `__emitter` works but isn\u2019t typed.\n    // See: <https://github.com/highlightjs/highlight.js/issues/3621#issuecomment-1528841888>\n    high.configure({__emitter: HastEmitter, classPrefix: prefix})\n\n    const result = /** @type {HighlightResult & {_emitter: HastEmitter}} */ (\n      high.highlight(value, {ignoreIllegals: true, language})\n    )\n\n    // `highlight.js` seems to use this (currently) for broken grammars, so let\u2019s\n    // keep it in there just to be sure.\n    /* c8 ignore next 5 */\n    if (result.errorRaised) {\n      throw new Error('Could not highlight with `Highlight.js`', {\n        cause: result.errorRaised\n      })\n    }\n\n    const root = result._emitter.root\n\n    // Cast because it is always defined.\n    const data = /** @type {RootData} */ (root.data)\n\n    data.language = result.language\n    data.relevance = result.relevance\n\n    return root\n  }\n\n  /**\n   * Highlight `value` (code) and guess its programming language.\n   *\n   * @example\n   *   ```js\n   *   import {common, createLowlight} from 'lowlight'\n   *\n   *   const lowlight = createLowlight(common)\n   *\n   *   console.log(lowlight.highlightAuto('\"hello, \" + name + \"!\"'))\n   *   ```\n   *\n   *   Yields:\n   *\n   *   ```js\n   *   {type: 'root', children: [Array], data: {language: 'arduino', relevance: 2}}\n   *   ```\n   *\n   * @param {string} value\n   *   Code to highlight.\n   * @param {Readonly<AutoOptions> | null | undefined} [options={}]\n   *   Configuration (optional).\n   * @returns {Root}\n   *   Tree; with the following `data` fields: `language` (`string`), detected\n   *   programming language name; `relevance` (`number`), how sure lowlight is\n   *   that the given code is in the language.\n   */\n  function highlightAuto(value, options) {\n    assert(typeof value === 'string', 'expected `string` as `value`')\n    const settings = options || emptyOptions\n    const subset = settings.subset || listLanguages()\n\n    let index = -1\n    let relevance = 0\n    /** @type {Root | undefined} */\n    let result\n\n    while (++index < subset.length) {\n      const name = subset[index]\n\n      if (!high.getLanguage(name)) continue\n\n      const current = highlight(name, value, options)\n\n      if (\n        current.data &&\n        current.data.relevance !== undefined &&\n        current.data.relevance > relevance\n      ) {\n        relevance = current.data.relevance\n        result = current\n      }\n    }\n\n    return (\n      result || {\n        type: 'root',\n        children: [],\n        data: {language: undefined, relevance}\n      }\n    )\n  }\n\n  /**\n   * List registered languages.\n   *\n   * @example\n   *   ```js\n   *   import {createLowlight} from 'lowlight'\n   *   import markdown from 'highlight.js/lib/languages/markdown'\n   *\n   *   const lowlight = createLowlight()\n   *\n   *   console.log(lowlight.listLanguages()) // => []\n   *\n   *   lowlight.register({markdown})\n   *\n   *   console.log(lowlight.listLanguages()) // => ['markdown']\n   *   ```\n   *\n   * @returns {Array<string>}\n   *   Names of registered language.\n   */\n  function listLanguages() {\n    return high.listLanguages()\n  }\n\n  /**\n   * Register languages.\n   *\n   * @example\n   *   ```js\n   *   import {createLowlight} from 'lowlight'\n   *   import xml from 'highlight.js/lib/languages/xml'\n   *\n   *   const lowlight = createLowlight()\n   *\n   *   lowlight.register({xml})\n   *\n   *   // Note: `html` is an alias for `xml`.\n   *   console.log(lowlight.highlight('html', '<em>Emphasis</em>'))\n   *   ```\n   *\n   *   Yields:\n   *\n   *   ```js\n   *   {type: 'root', children: [Array], data: {language: 'html', relevance: 2}}\n   *   ```\n   *\n   * @overload\n   * @param {Readonly<Record<string, LanguageFn>>} grammars\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {string} name\n   * @param {LanguageFn} grammar\n   * @returns {undefined}\n   *\n   * @param {Readonly<Record<string, LanguageFn>> | string} grammarsOrName\n   *   Grammars or programming language name.\n   * @param {LanguageFn | undefined} [grammar]\n   *   Grammar, if with name.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function register(grammarsOrName, grammar) {\n    if (typeof grammarsOrName === 'string') {\n      assert(grammar !== undefined, 'expected `grammar`')\n      high.registerLanguage(grammarsOrName, grammar)\n    } else {\n      /** @type {string} */\n      let name\n\n      for (name in grammarsOrName) {\n        if (Object.hasOwn(grammarsOrName, name)) {\n          high.registerLanguage(name, grammarsOrName[name])\n        }\n      }\n    }\n  }\n\n  /**\n   * Register aliases.\n   *\n   * @example\n   *   ```js\n   *   import {createLowlight} from 'lowlight'\n   *   import markdown from 'highlight.js/lib/languages/markdown'\n   *\n   *   const lowlight = createLowlight()\n   *\n   *   lowlight.register({markdown})\n   *\n   *   // lowlight.highlight('mdown', '<em>Emphasis</em>')\n   *   // ^ would throw: Error: Unknown language: `mdown` is not registered\n   *\n   *   lowlight.registerAlias({markdown: ['mdown', 'mkdn', 'mdwn', 'ron']})\n   *   lowlight.highlight('mdown', '<em>Emphasis</em>')\n   *   // ^ Works!\n   *   ```\n   *\n   * @overload\n   * @param {Readonly<Record<string, ReadonlyArray<string> | string>>} aliases\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {string} language\n   * @param {ReadonlyArray<string> | string} alias\n   * @returns {undefined}\n   *\n   * @param {Readonly<Record<string, ReadonlyArray<string> | string>> | string} aliasesOrName\n   *   Map of programming language names to one or more aliases, or programming\n   *   language name.\n   * @param {ReadonlyArray<string> | string | undefined} [alias]\n   *   One or more aliases for the programming language, if with `name`.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function registerAlias(aliasesOrName, alias) {\n    if (typeof aliasesOrName === 'string') {\n      assert(alias !== undefined)\n      high.registerAliases(\n        // Note: copy needed because hljs doesn\u2019t accept readonly arrays yet.\n        typeof alias === 'string' ? alias : [...alias],\n        {languageName: aliasesOrName}\n      )\n    } else {\n      /** @type {string} */\n      let key\n\n      for (key in aliasesOrName) {\n        if (Object.hasOwn(aliasesOrName, key)) {\n          const aliases = aliasesOrName[key]\n          high.registerAliases(\n            // Note: copy needed because hljs doesn\u2019t accept readonly arrays yet.\n            typeof aliases === 'string' ? aliases : [...aliases],\n            {languageName: key}\n          )\n        }\n      }\n    }\n  }\n\n  /**\n   * Check whether an alias or name is registered.\n   *\n   * @example\n   *   ```js\n   *   import {createLowlight} from 'lowlight'\n   *   import javascript from 'highlight.js/lib/languages/javascript'\n   *\n   *   const lowlight = createLowlight({javascript})\n   *\n   *   console.log(lowlight.registered('funkyscript')) // => `false`\n   *\n   *   lowlight.registerAlias({javascript: 'funkyscript'})\n   *   console.log(lowlight.registered('funkyscript')) // => `true`\n   *   ```\n   *\n   * @param {string} aliasOrName\n   *   Name of a language or alias for one.\n   * @returns {boolean}\n   *   Whether `aliasOrName` is registered.\n   */\n  function registered(aliasOrName) {\n    return Boolean(high.getLanguage(aliasOrName))\n  }\n}\n\n/** @type {Emitter} */\nclass HastEmitter {\n  /**\n   * @param {Readonly<HljsOptions>} options\n   *   Configuration.\n   * @returns\n   *   Instance.\n   */\n  constructor(options) {\n    /** @type {HljsOptions} */\n    this.options = options\n    /** @type {Root} */\n    this.root = {\n      type: 'root',\n      children: [],\n      data: {language: undefined, relevance: 0}\n    }\n    /** @type {[Root, ...Array<Element>]} */\n    this.stack = [this.root]\n  }\n\n  /**\n   * @param {string} value\n   *   Text to add.\n   * @returns {undefined}\n   *   Nothing.\n   *\n   */\n  addText(value) {\n    if (value === '') return\n\n    const current = this.stack[this.stack.length - 1]\n    const tail = current.children[current.children.length - 1]\n\n    if (tail && tail.type === 'text') {\n      tail.value += value\n    } else {\n      current.children.push({type: 'text', value})\n    }\n  }\n\n  /**\n   *\n   * @param {unknown} rawName\n   *   Name to add.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  startScope(rawName) {\n    this.openNode(String(rawName))\n  }\n\n  /**\n   * @returns {undefined}\n   *   Nothing.\n   */\n  endScope() {\n    this.closeNode()\n  }\n\n  /**\n   * @param {HastEmitter} other\n   *   Other emitter.\n   * @param {string} name\n   *   Name of the sublanguage.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  __addSublanguage(other, name) {\n    const current = this.stack[this.stack.length - 1]\n    // Assume only element content.\n    const results = /** @type {Array<ElementContent>} */ (other.root.children)\n\n    if (name) {\n      current.children.push({\n        type: 'element',\n        tagName: 'span',\n        properties: {className: [name]},\n        children: results\n      })\n    } else {\n      current.children.push(...results)\n    }\n  }\n\n  /**\n   * @param {string} name\n   *   Name to add.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  openNode(name) {\n    const self = this\n    // First \u201Cclass\u201D gets the prefix. Rest gets a repeated underscore suffix.\n    // See: <https://github.com/highlightjs/highlight.js/commit/51806aa>\n    // See: <https://github.com/wooorm/lowlight/issues/43>\n    const className = name.split('.').map(function (d, i) {\n      return i ? d + '_'.repeat(i) : self.options.classPrefix + d\n    })\n    const current = this.stack[this.stack.length - 1]\n    /** @type {Element} */\n    const child = {\n      type: 'element',\n      tagName: 'span',\n      properties: {className},\n      children: []\n    }\n\n    current.children.push(child)\n    this.stack.push(child)\n  }\n\n  /**\n   * @returns {undefined}\n   *   Nothing.\n   */\n  closeNode() {\n    this.stack.pop()\n  }\n\n  /**\n   * @returns {undefined}\n   *   Nothing.\n   */\n  finalize() {}\n\n  /**\n   * @returns {string}\n   *   Nothing.\n   */\n  toHTML() {\n    return ''\n  }\n}\n", "// Note: types exposed from `index.d.ts`.\nexport {grammars as all} from './lib/all.js'\nexport {grammars as common} from './lib/common.js'\nexport {createLowlight} from './lib/index.js'\n", "import { c as create_ssr_component, p as compute_rest_props, q as spread, u as escape_attribute_value, t as escape_object, a as add_attribute, h as subscribe, o as onDestroy, g as escape, v as validate_component } from \"../../../../chunks/ssr.js\";\nimport \"../../../../chunks/Toaster.svelte_svelte_type_style_lang.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { Node, mergeAttributes, wrappingInputRule, Mark, markInputRule, markPasteRule, getMarkAttributes, Extension, callOrReturn, getExtensionField, textblockTypeInputRule, nodeInputRule, isMacOS } from \"@tiptap/core\";\nimport { Plugin, PluginKey, TextSelection, NodeSelection } from \"@tiptap/pm/state\";\nimport { dropCursor } from \"@tiptap/pm/dropcursor\";\nimport { gapCursor } from \"@tiptap/pm/gapcursor\";\nimport { undo, redo, history } from \"@tiptap/pm/history\";\nimport { Decoration, DecorationSet } from \"@tiptap/pm/view\";\nimport \"@tiptap/extension-code-block-lowlight\";\nimport \"@tiptap/extension-link\";\nimport css from \"highlight.js/lib/languages/css\";\nimport js from \"highlight.js/lib/languages/javascript\";\nimport ts from \"highlight.js/lib/languages/typescript\";\nimport html from \"highlight.js/lib/languages/xml\";\nimport { createLowlight } from \"lowlight\";\nconst CheckCircled = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$restProps = compute_rest_props($$props, [\"color\", \"size\"]);\n  let { color = \"currentColor\" } = $$props;\n  let { size = 15 } = $$props;\n  if ($$props.color === void 0 && $$bindings.color && color !== void 0)\n    $$bindings.color(color);\n  if ($$props.size === void 0 && $$bindings.size && size !== void 0)\n    $$bindings.size(size);\n  return `<svg${spread(\n    [\n      { width: escape_attribute_value(size) },\n      { height: escape_attribute_value(size) },\n      { viewBox: \"0 0 15 15\" },\n      { fill: \"none\" },\n      { xmlns: \"http://www.w3.org/2000/svg\" },\n      escape_object($$restProps)\n    ],\n    {}\n  )}><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z\"${add_attribute(\"fill\", color, 0)}></path></svg>`;\n});\nconst CheckCircled$1 = CheckCircled;\nconst NoteTitle = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { note } = $$props;\n  let name = note.name;\n  if ($$props.note === void 0 && $$bindings.note && note !== void 0)\n    $$bindings.note(note);\n  {\n    {\n      name = note.name;\n    }\n  }\n  return `<input type=\"text\" class=\"w-full py-6 px-4 text-3xl font-semibold bg-transparent border-b border-neutral-700 focus:outline-none\" placeholder=\"Title\" maxlength=\"75\"${add_attribute(\"value\", name, 0)}>`;\n});\nconst inputRegex$5 = /^\\s*>\\s$/;\nNode.create({\n  name: \"blockquote\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  content: \"block+\",\n  group: \"block\",\n  defining: true,\n  parseHTML() {\n    return [{ tag: \"blockquote\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"blockquote\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setBlockquote: () => ({ commands }) => {\n        return commands.wrapIn(this.name);\n      },\n      toggleBlockquote: () => ({ commands }) => {\n        return commands.toggleWrap(this.name);\n      },\n      unsetBlockquote: () => ({ commands }) => {\n        return commands.lift(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-b\": () => this.editor.commands.toggleBlockquote()\n    };\n  },\n  addInputRules() {\n    return [\n      wrappingInputRule({\n        find: inputRegex$5,\n        type: this.type\n      })\n    ];\n  }\n});\nconst starInputRegex$1 = /(?:^|\\s)((?:\\*\\*)((?:[^*]+))(?:\\*\\*))$/;\nconst starPasteRegex$1 = /(?:^|\\s)((?:\\*\\*)((?:[^*]+))(?:\\*\\*))/g;\nconst underscoreInputRegex$1 = /(?:^|\\s)((?:__)((?:[^__]+))(?:__))$/;\nconst underscorePasteRegex$1 = /(?:^|\\s)((?:__)((?:[^__]+))(?:__))/g;\nMark.create({\n  name: \"bold\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"strong\"\n      },\n      {\n        tag: \"b\",\n        getAttrs: (node) => node.style.fontWeight !== \"normal\" && null\n      },\n      {\n        style: \"font-weight\",\n        getAttrs: (value) => /^(bold(er)?|[5-9]\\d{2,})$/.test(value) && null\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"strong\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setBold: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleBold: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetBold: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-b\": () => this.editor.commands.toggleBold(),\n      \"Mod-B\": () => this.editor.commands.toggleBold()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: starInputRegex$1,\n        type: this.type\n      }),\n      markInputRule({\n        find: underscoreInputRegex$1,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: starPasteRegex$1,\n        type: this.type\n      }),\n      markPasteRule({\n        find: underscorePasteRegex$1,\n        type: this.type\n      })\n    ];\n  }\n});\nconst ListItem = Node.create({\n  name: \"listItem\",\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      bulletListTypeName: \"bulletList\",\n      orderedListTypeName: \"orderedList\"\n    };\n  },\n  content: \"paragraph block*\",\n  defining: true,\n  parseHTML() {\n    return [\n      {\n        tag: \"li\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"li\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      Tab: () => this.editor.commands.sinkListItem(this.name),\n      \"Shift-Tab\": () => this.editor.commands.liftListItem(this.name)\n    };\n  }\n});\nconst TextStyle = Mark.create({\n  name: \"textStyle\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"span\",\n        getAttrs: (element) => {\n          const hasStyles = element.hasAttribute(\"style\");\n          if (!hasStyles) {\n            return false;\n          }\n          return {};\n        }\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"span\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      removeEmptyTextStyle: () => ({ state, commands }) => {\n        const attributes = getMarkAttributes(state, this.type);\n        const hasStyles = Object.entries(attributes).some(([, value]) => !!value);\n        if (hasStyles) {\n          return true;\n        }\n        return commands.unsetMark(this.name);\n      }\n    };\n  }\n});\nconst inputRegex$4 = /^\\s*([-+*])\\s$/;\nNode.create({\n  name: \"bulletList\",\n  addOptions() {\n    return {\n      itemTypeName: \"listItem\",\n      HTMLAttributes: {},\n      keepMarks: false,\n      keepAttributes: false\n    };\n  },\n  group: \"block list\",\n  content() {\n    return `${this.options.itemTypeName}+`;\n  },\n  parseHTML() {\n    return [{ tag: \"ul\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"ul\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      toggleBulletList: () => ({ commands, chain }) => {\n        if (this.options.keepAttributes) {\n          return chain().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(ListItem.name, this.editor.getAttributes(TextStyle.name)).run();\n        }\n        return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-8\": () => this.editor.commands.toggleBulletList()\n    };\n  },\n  addInputRules() {\n    let inputRule = wrappingInputRule({\n      find: inputRegex$4,\n      type: this.type\n    });\n    if (this.options.keepMarks || this.options.keepAttributes) {\n      inputRule = wrappingInputRule({\n        find: inputRegex$4,\n        type: this.type,\n        keepMarks: this.options.keepMarks,\n        keepAttributes: this.options.keepAttributes,\n        getAttributes: () => {\n          return this.editor.getAttributes(TextStyle.name);\n        },\n        editor: this.editor\n      });\n    }\n    return [inputRule];\n  }\n});\nExtension.create({\n  name: \"characterCount\",\n  addOptions() {\n    return {\n      limit: null,\n      mode: \"textSize\"\n    };\n  },\n  addStorage() {\n    return {\n      characters: () => 0,\n      words: () => 0\n    };\n  },\n  onBeforeCreate() {\n    this.storage.characters = (options) => {\n      const node = options?.node || this.editor.state.doc;\n      const mode = options?.mode || this.options.mode;\n      if (mode === \"textSize\") {\n        const text = node.textBetween(0, node.content.size, void 0, \" \");\n        return text.length;\n      }\n      return node.nodeSize;\n    };\n    this.storage.words = (options) => {\n      const node = options?.node || this.editor.state.doc;\n      const text = node.textBetween(0, node.content.size, \" \", \" \");\n      const words = text.split(\" \").filter((word) => word !== \"\");\n      return words.length;\n    };\n  },\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey(\"characterCount\"),\n        filterTransaction: (transaction, state) => {\n          const limit = this.options.limit;\n          if (!transaction.docChanged || limit === 0 || limit === null || limit === void 0) {\n            return true;\n          }\n          const oldSize = this.storage.characters({ node: state.doc });\n          const newSize = this.storage.characters({ node: transaction.doc });\n          if (newSize <= limit) {\n            return true;\n          }\n          if (oldSize > limit && newSize > limit && newSize <= oldSize) {\n            return true;\n          }\n          if (oldSize > limit && newSize > limit && newSize > oldSize) {\n            return false;\n          }\n          const isPaste = transaction.getMeta(\"paste\");\n          if (!isPaste) {\n            return false;\n          }\n          const pos = transaction.selection.$head.pos;\n          const over = newSize - limit;\n          const from = pos - over;\n          const to = pos;\n          transaction.deleteRange(from, to);\n          const updatedSize = this.storage.characters({ node: transaction.doc });\n          if (updatedSize > limit) {\n            return false;\n          }\n          return true;\n        }\n      })\n    ];\n  }\n});\nconst inputRegex$3 = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))$/;\nconst pasteRegex$1 = /(?:^|\\s)((?:`)((?:[^`]+))(?:`))/g;\nMark.create({\n  name: \"code\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  excludes: \"_\",\n  code: true,\n  exitable: true,\n  parseHTML() {\n    return [{ tag: \"code\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"code\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setCode: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleCode: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetCode: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-e\": () => this.editor.commands.toggleCode()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: inputRegex$3,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: pasteRegex$1,\n        type: this.type\n      })\n    ];\n  }\n});\nNode.create({\n  name: \"doc\",\n  topNode: true,\n  content: \"block+\"\n});\nExtension.create({\n  name: \"dropCursor\",\n  addOptions() {\n    return {\n      color: \"currentColor\",\n      width: 1,\n      class: void 0\n    };\n  },\n  addProseMirrorPlugins() {\n    return [dropCursor(this.options)];\n  }\n});\nExtension.create({\n  name: \"gapCursor\",\n  addProseMirrorPlugins() {\n    return [gapCursor()];\n  },\n  extendNodeSchema(extension) {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage\n    };\n    return {\n      allowGapCursor: callOrReturn(getExtensionField(extension, \"allowGapCursor\", context)) ?? null\n    };\n  }\n});\nNode.create({\n  name: \"hardBreak\",\n  addOptions() {\n    return {\n      keepMarks: true,\n      HTMLAttributes: {}\n    };\n  },\n  inline: true,\n  group: \"inline\",\n  selectable: false,\n  parseHTML() {\n    return [{ tag: \"br\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"br\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)];\n  },\n  renderText() {\n    return \"\\n\";\n  },\n  addCommands() {\n    return {\n      setHardBreak: () => ({ commands, chain, state, editor }) => {\n        return commands.first([\n          () => commands.exitCode(),\n          () => commands.command(() => {\n            const { selection, storedMarks } = state;\n            if (selection.$from.parent.type.spec.isolating) {\n              return false;\n            }\n            const { keepMarks } = this.options;\n            const { splittableMarks } = editor.extensionManager;\n            const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n            return chain().insertContent({ type: this.name }).command(({ tr, dispatch }) => {\n              if (dispatch && marks && keepMarks) {\n                const filteredMarks = marks.filter(\n                  (mark) => splittableMarks.includes(mark.type.name)\n                );\n                tr.ensureMarks(filteredMarks);\n              }\n              return true;\n            }).run();\n          })\n        ]);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Enter\": () => this.editor.commands.setHardBreak(),\n      \"Shift-Enter\": () => this.editor.commands.setHardBreak()\n    };\n  }\n});\nNode.create({\n  name: \"heading\",\n  addOptions() {\n    return {\n      levels: [1, 2, 3, 4, 5, 6],\n      HTMLAttributes: {}\n    };\n  },\n  content: \"inline*\",\n  group: \"block\",\n  defining: true,\n  addAttributes() {\n    return {\n      level: {\n        default: 1,\n        rendered: false\n      }\n    };\n  },\n  parseHTML() {\n    return this.options.levels.map((level) => ({\n      tag: `h${level}`,\n      attrs: { level }\n    }));\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    const hasLevel = this.options.levels.includes(node.attrs.level);\n    const level = hasLevel ? node.attrs.level : this.options.levels[0];\n    return [`h${level}`, mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setHeading: (attributes) => ({ commands }) => {\n        if (!this.options.levels.includes(attributes.level)) {\n          return false;\n        }\n        return commands.setNode(this.name, attributes);\n      },\n      toggleHeading: (attributes) => ({ commands }) => {\n        if (!this.options.levels.includes(attributes.level)) {\n          return false;\n        }\n        return commands.toggleNode(this.name, \"paragraph\", attributes);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return this.options.levels.reduce(\n      (items, level) => ({\n        ...items,\n        ...{\n          [`Mod-Alt-${level}`]: () => this.editor.commands.toggleHeading({ level })\n        }\n      }),\n      {}\n    );\n  },\n  addInputRules() {\n    return this.options.levels.map((level) => {\n      return textblockTypeInputRule({\n        find: new RegExp(`^(#{1,${level}})\\\\s$`),\n        type: this.type,\n        getAttributes: {\n          level\n        }\n      });\n    });\n  }\n});\nExtension.create({\n  name: \"history\",\n  addOptions() {\n    return {\n      depth: 100,\n      newGroupDelay: 500\n    };\n  },\n  addCommands() {\n    return {\n      undo: () => ({ state, dispatch }) => {\n        return undo(state, dispatch);\n      },\n      redo: () => ({ state, dispatch }) => {\n        return redo(state, dispatch);\n      }\n    };\n  },\n  addProseMirrorPlugins() {\n    return [history(this.options)];\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-z\": () => this.editor.commands.undo(),\n      \"Mod-Z\": () => this.editor.commands.undo(),\n      \"Mod-y\": () => this.editor.commands.redo(),\n      \"Mod-Y\": () => this.editor.commands.redo(),\n      \"Shift-Mod-z\": () => this.editor.commands.redo(),\n      \"Shift-Mod-Z\": () => this.editor.commands.redo(),\n      // Russian keyboard layouts\n      \"Mod-\u044F\": () => this.editor.commands.undo(),\n      \"Shift-Mod-\u044F\": () => this.editor.commands.redo()\n    };\n  }\n});\nNode.create({\n  name: \"horizontalRule\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  group: \"block\",\n  parseHTML() {\n    return [{ tag: \"hr\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"hr\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)];\n  },\n  addCommands() {\n    return {\n      setHorizontalRule: () => ({ chain, state }) => {\n        const { $to: $originTo } = state.selection;\n        const currentChain = chain();\n        if ($originTo.parentOffset === 0) {\n          currentChain.insertContentAt(Math.max($originTo.pos - 2, 0), { type: this.name });\n        } else {\n          currentChain.insertContent({ type: this.name });\n        }\n        return currentChain.command(({ tr, dispatch }) => {\n          if (dispatch) {\n            const { $to } = tr.selection;\n            const posAfter = $to.end();\n            if ($to.nodeAfter) {\n              if ($to.nodeAfter.isTextblock) {\n                tr.setSelection(TextSelection.create(tr.doc, $to.pos + 1));\n              } else if ($to.nodeAfter.isBlock) {\n                tr.setSelection(NodeSelection.create(tr.doc, $to.pos));\n              } else {\n                tr.setSelection(TextSelection.create(tr.doc, $to.pos));\n              }\n            } else {\n              const node = $to.parent.type.contentMatch.defaultType?.create();\n              if (node) {\n                tr.insert(posAfter, node);\n                tr.setSelection(TextSelection.create(tr.doc, posAfter + 1));\n              }\n            }\n            tr.scrollIntoView();\n          }\n          return true;\n        }).run();\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      nodeInputRule({\n        find: /^(?:---|\u2014-|___\\s|\\*\\*\\*\\s)$/,\n        type: this.type\n      })\n    ];\n  }\n});\nconst starInputRegex = /(?:^|\\s)((?:\\*)((?:[^*]+))(?:\\*))$/;\nconst starPasteRegex = /(?:^|\\s)((?:\\*)((?:[^*]+))(?:\\*))/g;\nconst underscoreInputRegex = /(?:^|\\s)((?:_)((?:[^_]+))(?:_))$/;\nconst underscorePasteRegex = /(?:^|\\s)((?:_)((?:[^_]+))(?:_))/g;\nMark.create({\n  name: \"italic\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"em\"\n      },\n      {\n        tag: \"i\",\n        getAttrs: (node) => node.style.fontStyle !== \"normal\" && null\n      },\n      {\n        style: \"font-style=italic\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"em\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setItalic: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleItalic: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetItalic: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-i\": () => this.editor.commands.toggleItalic(),\n      \"Mod-I\": () => this.editor.commands.toggleItalic()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: starInputRegex,\n        type: this.type\n      }),\n      markInputRule({\n        find: underscoreInputRegex,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: starPasteRegex,\n        type: this.type\n      }),\n      markPasteRule({\n        find: underscorePasteRegex,\n        type: this.type\n      })\n    ];\n  }\n});\nconst inputRegex$2 = /^(\\d+)\\.\\s$/;\nNode.create({\n  name: \"orderedList\",\n  addOptions() {\n    return {\n      itemTypeName: \"listItem\",\n      HTMLAttributes: {},\n      keepMarks: false,\n      keepAttributes: false\n    };\n  },\n  group: \"block list\",\n  content() {\n    return `${this.options.itemTypeName}+`;\n  },\n  addAttributes() {\n    return {\n      start: {\n        default: 1,\n        parseHTML: (element) => {\n          return element.hasAttribute(\"start\") ? parseInt(element.getAttribute(\"start\") || \"\", 10) : 1;\n        }\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"ol\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    const { start, ...attributesWithoutStart } = HTMLAttributes;\n    return start === 1 ? [\"ol\", mergeAttributes(this.options.HTMLAttributes, attributesWithoutStart), 0] : [\"ol\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      toggleOrderedList: () => ({ commands, chain }) => {\n        if (this.options.keepAttributes) {\n          return chain().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(ListItem.name, this.editor.getAttributes(TextStyle.name)).run();\n        }\n        return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-7\": () => this.editor.commands.toggleOrderedList()\n    };\n  },\n  addInputRules() {\n    let inputRule = wrappingInputRule({\n      find: inputRegex$2,\n      type: this.type,\n      getAttributes: (match) => ({ start: +match[1] }),\n      joinPredicate: (match, node) => node.childCount + node.attrs.start === +match[1]\n    });\n    if (this.options.keepMarks || this.options.keepAttributes) {\n      inputRule = wrappingInputRule({\n        find: inputRegex$2,\n        type: this.type,\n        keepMarks: this.options.keepMarks,\n        keepAttributes: this.options.keepAttributes,\n        getAttributes: (match) => ({\n          start: +match[1],\n          ...this.editor.getAttributes(TextStyle.name)\n        }),\n        joinPredicate: (match, node) => node.childCount + node.attrs.start === +match[1],\n        editor: this.editor\n      });\n    }\n    return [inputRule];\n  }\n});\nNode.create({\n  name: \"paragraph\",\n  priority: 1e3,\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  group: \"block\",\n  content: \"inline*\",\n  parseHTML() {\n    return [{ tag: \"p\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"p\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setParagraph: () => ({ commands }) => {\n        return commands.setNode(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Alt-0\": () => this.editor.commands.setParagraph()\n    };\n  }\n});\nExtension.create({\n  name: \"placeholder\",\n  addOptions() {\n    return {\n      emptyEditorClass: \"is-editor-empty\",\n      emptyNodeClass: \"is-empty\",\n      placeholder: \"Write something \u2026\",\n      showOnlyWhenEditable: true,\n      considerAnyAsEmpty: false,\n      showOnlyCurrent: true,\n      includeChildren: false\n    };\n  },\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey(\"placeholder\"),\n        props: {\n          decorations: ({ doc, selection }) => {\n            const active = this.editor.isEditable || !this.options.showOnlyWhenEditable;\n            const { anchor } = selection;\n            const decorations = [];\n            if (!active) {\n              return null;\n            }\n            const { firstChild } = doc.content;\n            const isLeaf = firstChild && firstChild.type.isLeaf;\n            const isAtom = firstChild && firstChild.isAtom;\n            const isValidNode = this.options.considerAnyAsEmpty ? true : firstChild && firstChild.type.name === doc.type.contentMatch.defaultType?.name;\n            const isEmptyDoc = doc.content.childCount <= 1 && firstChild && isValidNode && firstChild.nodeSize <= 2 && (!isLeaf || !isAtom);\n            doc.descendants((node, pos) => {\n              const hasAnchor = anchor >= pos && anchor <= pos + node.nodeSize;\n              const isEmpty = !node.isLeaf && !node.childCount;\n              if ((hasAnchor || !this.options.showOnlyCurrent) && isEmpty) {\n                const classes = [this.options.emptyNodeClass];\n                if (isEmptyDoc) {\n                  classes.push(this.options.emptyEditorClass);\n                }\n                const decoration = Decoration.node(pos, pos + node.nodeSize, {\n                  class: classes.join(\" \"),\n                  \"data-placeholder\": typeof this.options.placeholder === \"function\" ? this.options.placeholder({\n                    editor: this.editor,\n                    node,\n                    pos,\n                    hasAnchor\n                  }) : this.options.placeholder\n                });\n                decorations.push(decoration);\n              }\n              return this.options.includeChildren;\n            });\n            return DecorationSet.create(doc, decorations);\n          }\n        }\n      })\n    ];\n  }\n});\nconst inputRegex$1 = /(?:^|\\s)((?:~~)((?:[^~]+))(?:~~))$/;\nconst pasteRegex = /(?:^|\\s)((?:~~)((?:[^~]+))(?:~~))/g;\nMark.create({\n  name: \"strike\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"s\"\n      },\n      {\n        tag: \"del\"\n      },\n      {\n        tag: \"strike\"\n      },\n      {\n        style: \"text-decoration\",\n        consuming: false,\n        getAttrs: (style) => style.includes(\"line-through\") ? {} : false\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"s\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setStrike: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleStrike: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetStrike: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    const shortcuts = {};\n    if (isMacOS()) {\n      shortcuts[\"Mod-Shift-s\"] = () => this.editor.commands.toggleStrike();\n    } else {\n      shortcuts[\"Ctrl-Shift-s\"] = () => this.editor.commands.toggleStrike();\n    }\n    return shortcuts;\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: inputRegex$1,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: pasteRegex,\n        type: this.type\n      })\n    ];\n  }\n});\nconst inputRegex = /^\\s*(-\\[ ?\\])\\s*$/;\nNode.create({\n  name: \"taskItem\",\n  addOptions() {\n    return {\n      nested: false,\n      HTMLAttributes: {},\n      taskListTypeName: \"taskList\"\n    };\n  },\n  content() {\n    return this.options.nested ? \"paragraph block*\" : \"paragraph+\";\n  },\n  defining: true,\n  addAttributes() {\n    return {\n      checked: {\n        default: false,\n        keepOnSplit: false,\n        parseHTML: (element) => element.getAttribute(\"data-checked\") === \"true\",\n        renderHTML: (attributes) => ({\n          \"data-checked\": attributes.checked\n        })\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: `li[data-type=\"${this.name}\"]`,\n        priority: 51\n      }\n    ];\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      \"li\",\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, {\n        \"data-type\": this.name\n      }),\n      [\n        \"label\",\n        [\n          \"input\",\n          {\n            type: \"checkbox\",\n            checked: node.attrs.checked ? \"checked\" : null\n          }\n        ],\n        [\"span\"]\n      ],\n      [\"div\", 0]\n    ];\n  },\n  addKeyboardShortcuts() {\n    const shortcuts = {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      \"Shift-Tab\": () => this.editor.commands.liftListItem(this.name)\n    };\n    if (!this.options.nested) {\n      return shortcuts;\n    }\n    return {\n      ...shortcuts,\n      Tab: () => this.editor.commands.sinkListItem(this.name)\n    };\n  },\n  addNodeView() {\n    return ({ node, HTMLAttributes, getPos, editor }) => {\n      const listItem = document.createElement(\"li\");\n      const checkboxWrapper = document.createElement(\"label\");\n      const checkboxStyler = document.createElement(\"span\");\n      const checkbox = document.createElement(\"input\");\n      const content = document.createElement(\"div\");\n      checkboxWrapper.contentEditable = \"false\";\n      checkbox.type = \"checkbox\";\n      checkbox.addEventListener(\"change\", (event) => {\n        if (!editor.isEditable && !this.options.onReadOnlyChecked) {\n          checkbox.checked = !checkbox.checked;\n          return;\n        }\n        const { checked } = event.target;\n        if (editor.isEditable && typeof getPos === \"function\") {\n          editor.chain().focus(void 0, { scrollIntoView: false }).command(({ tr }) => {\n            const position = getPos();\n            const currentNode = tr.doc.nodeAt(position);\n            tr.setNodeMarkup(position, void 0, {\n              ...currentNode?.attrs,\n              checked\n            });\n            return true;\n          }).run();\n        }\n        if (!editor.isEditable && this.options.onReadOnlyChecked) {\n          if (!this.options.onReadOnlyChecked(node, checked)) {\n            checkbox.checked = !checkbox.checked;\n          }\n        }\n      });\n      Object.entries(this.options.HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value);\n      });\n      listItem.dataset.checked = node.attrs.checked;\n      if (node.attrs.checked) {\n        checkbox.setAttribute(\"checked\", \"checked\");\n      }\n      checkboxWrapper.append(checkbox, checkboxStyler);\n      listItem.append(checkboxWrapper, content);\n      Object.entries(HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value);\n      });\n      return {\n        dom: listItem,\n        contentDOM: content,\n        update: (updatedNode) => {\n          if (updatedNode.type !== this.type) {\n            return false;\n          }\n          listItem.dataset.checked = updatedNode.attrs.checked;\n          if (updatedNode.attrs.checked) {\n            checkbox.setAttribute(\"checked\", \"checked\");\n          } else {\n            checkbox.removeAttribute(\"checked\");\n          }\n          return true;\n        }\n      };\n    };\n  },\n  addInputRules() {\n    return [\n      wrappingInputRule({\n        find: inputRegex,\n        type: this.type,\n        getAttributes: (match) => ({\n          checked: match[match.length - 1] === \"x\"\n        })\n      })\n    ];\n  }\n});\nNode.create({\n  name: \"taskList\",\n  addOptions() {\n    return {\n      itemTypeName: \"taskItem\",\n      HTMLAttributes: {}\n    };\n  },\n  group: \"block list\",\n  content() {\n    return `${this.options.itemTypeName}+`;\n  },\n  parseHTML() {\n    return [\n      {\n        tag: `ul[data-type=\"${this.name}\"]`,\n        priority: 51\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\n      \"ul\",\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, { \"data-type\": this.name }),\n      0\n    ];\n  },\n  addCommands() {\n    return {\n      toggleTaskList: () => ({ commands }) => {\n        return commands.toggleList(this.name, this.options.itemTypeName);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-9\": () => this.editor.commands.toggleTaskList()\n    };\n  }\n});\nNode.create({\n  name: \"text\",\n  group: \"inline\"\n});\nconst tiptap = \"\";\nconst TipTap = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => value);\n  let { content } = $$props;\n  createLowlight({ html, css, js, ts });\n  let element;\n  onDestroy(() => {\n  });\n  if ($$props.content === void 0 && $$bindings.content && content !== void 0)\n    $$bindings.content(content);\n  $$unsubscribe_page();\n  return `<div${add_attribute(\"this\", element, 0)}></div> <div class=\"fixed bottom-0 right-0 px-3 py-2 rounded-md shadow-md bg-popover flex items-center justify-center gap-2 text-xs text-popover-foreground\"><span>${escape(0)} characters</span> <span>${escape(0)} words</span> ${`${validate_component(CheckCircled$1, \"CheckCircled\").$$render($$result, { size: 16, color: \"green\" }, {}, {})}`}</div>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  return `<div class=\"overflow-y-scroll h-full\">${validate_component(NoteTitle, \"NoteTitle\").$$render($$result, { note: data.note }, {}, {})} <div class=\"md:pt-6 md:px-5 xl:px-6 pt-3 px-4 text-sm md:text-base\">${validate_component(TipTap, \"TipTap\").$$render($$result, { content: data.note.file?.content ?? \"\" }, {}, {})}</div></div> ${$$result.head += `<!-- HEAD_svelte-1fbok04_START -->${$$result.title = `<title>Vault</title>`, \"\"}<!-- HEAD_svelte-1fbok04_END -->`, \"\"}`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/(authed)/_itemId_/_page.server.ts.js';\n\nexport const index = 4;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(authed)/_itemId_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(authed)/[itemId]/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/4.6ce3f004.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/navigation.2b543295.js\",\"_app/immutable/chunks/singletons.844f0d64.js\",\"_app/immutable/chunks/index.6cb2aa35.js\",\"_app/immutable/chunks/Toaster.svelte_svelte_type_style_lang.7ad7c14e.js\",\"_app/immutable/chunks/stores.7848577e.js\",\"_app/immutable/chunks/spread.8a54911c.js\"];\nexport const stylesheets = [\"_app/immutable/assets/4.ec81a1b1.css\",\"_app/immutable/assets/Toaster.37b6ac62.css\"];\nexport const fonts = [];\n", "import { a as auth, L as LuciaError } from \"../../../../chunks/lucia.js\";\nimport { r as redirect, f as fail } from \"../../../../chunks/index.js\";\nconst load = async ({ locals }) => {\n  const session = await locals.auth.validate();\n  if (session)\n    throw redirect(302, \"/\");\n  return {};\n};\nconst actions = {\n  default: async ({ request, locals }) => {\n    const formData = await request.formData();\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n    if (typeof email !== \"string\" || email.length < 1 || email.length > 31) {\n      return fail(400, {\n        message: \"Invalid email\"\n      });\n    }\n    if (typeof password !== \"string\" || password.length < 1 || password.length > 255) {\n      return fail(400, {\n        message: \"Invalid password\"\n      });\n    }\n    try {\n      const key = await auth.useKey(\"email\", email.toLowerCase(), password);\n      const session = await auth.createSession({\n        userId: key.userId,\n        attributes: {}\n      });\n      locals.auth.setSession(session);\n    } catch (e) {\n      if (e instanceof LuciaError && (e.message === \"AUTH_INVALID_KEY_ID\" || e.message === \"AUTH_INVALID_PASSWORD\")) {\n        return fail(400, {\n          message: \"Incorrect email or password\"\n        });\n      }\n      return fail(500, {\n        message: \"An unknown error occurred\"\n      });\n    }\n    throw redirect(302, \"/\");\n  }\n};\nexport {\n  actions,\n  load\n};\n", "import { c as create_ssr_component } from \"../../../../chunks/ssr.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<h1 data-svelte-h=\"svelte-gn9sfy\">Sign in</h1> <form method=\"post\" data-svelte-h=\"svelte-1eci1os\"><label for=\"email\">email</label> <input name=\"email\" id=\"email\"><br> <label for=\"password\">Password</label> <input type=\"password\" name=\"password\" id=\"password\"><br> <input type=\"submit\"></form> <a href=\"/signup\" data-svelte-h=\"svelte-1cpnm5p\">Create an account</a>`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/(unauthed)/signin/_page.server.ts.js';\n\nexport const index = 5;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(unauthed)/signin/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(unauthed)/signin/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/5.66e01a69.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/forms.74b24cae.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/singletons.844f0d64.js\",\"_app/immutable/chunks/index.6cb2aa35.js\",\"_app/immutable/chunks/navigation.2b543295.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { a as auth } from \"../../../../chunks/lucia.js\";\nimport { r as redirect, f as fail } from \"../../../../chunks/index.js\";\nconst load = async ({ locals }) => {\n  const session = await locals.auth.validate();\n  if (session)\n    throw redirect(302, \"/\");\n  return {};\n};\nconst actions = {\n  default: async ({ request, locals }) => {\n    const formData = await request.formData();\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n    if (typeof email !== \"string\" || email.length < 4 || email.length > 31) {\n      return fail(400, {\n        message: \"Invalid email\"\n      });\n    }\n    if (typeof password !== \"string\" || password.length < 6 || password.length > 255) {\n      return fail(400, {\n        message: \"Invalid password\"\n      });\n    }\n    try {\n      const user = await auth.createUser({\n        key: {\n          providerId: \"email\",\n          // auth method\n          providerUserId: email.toLowerCase(),\n          // unique id when using \"email\" auth method\n          password\n          // hashed by Lucia\n        },\n        attributes: {\n          email\n        }\n      });\n      const session = await auth.createSession({\n        userId: user.userId,\n        attributes: {}\n      });\n      locals.auth.setSession(session);\n    } catch (e) {\n      return fail(500, {\n        message: \"An unknown error occurred\"\n      });\n    }\n    throw redirect(302, \"/\");\n  }\n};\nexport {\n  actions,\n  load\n};\n", "import { c as create_ssr_component } from \"../../../../chunks/ssr.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  return `<h1 data-svelte-h=\"svelte-13vjqy4\">Sign up</h1> <form method=\"post\" data-svelte-h=\"svelte-1eci1os\"><label for=\"email\">email</label> <input name=\"email\" id=\"email\"><br> <label for=\"password\">Password</label> <input type=\"password\" name=\"password\" id=\"password\"><br> <input type=\"submit\"></form> <a href=\"/login\" data-svelte-h=\"svelte-1wr9uf8\">Sign in</a>`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/(unauthed)/signup/_page.server.ts.js';\n\nexport const index = 6;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(unauthed)/signup/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(unauthed)/signup/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/6.4a456aa4.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\",\"_app/immutable/chunks/forms.74b24cae.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/singletons.844f0d64.js\",\"_app/immutable/chunks/index.6cb2aa35.js\",\"_app/immutable/chunks/navigation.2b543295.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { d as db, f as filesTable, i as itemsTable } from \"../../../../chunks/index3.js\";\nimport { createId } from \"@paralleldrive/cuid2\";\nimport { e as error } from \"../../../../chunks/index.js\";\nimport { eq } from \"drizzle-orm\";\nimport { z } from \"zod\";\nconst schema = z.object({\n  itemId: z.string().min(1),\n  content: z.string()\n});\nasync function POST({ locals, request }) {\n  const session = await locals.auth.validate();\n  if (!session)\n    throw error(401, \"Unauthorized\");\n  const userId = session.user.userId;\n  const body = await request.json();\n  const parsedBody = schema.safeParse(body);\n  if (!parsedBody.success) {\n    throw error(400, parsedBody.error.message);\n  }\n  const item = await db.query.itemsTable.findFirst({\n    where: (table, { eq: eq2 }) => eq2(table.id, parsedBody.data.itemId),\n    with: {\n      file: true\n    }\n  });\n  if (!item)\n    throw error(404, \"Item not found\");\n  if (item && item.userId !== userId)\n    throw error(401, \"Unauthorized\");\n  if (!item.file) {\n    await Promise.all([\n      db.insert(filesTable).values({\n        id: createId(),\n        content: parsedBody.data.content,\n        itemId: parsedBody.data.itemId\n      }),\n      db.update(itemsTable).set({\n        updatedAt: /* @__PURE__ */ new Date()\n      }).where(eq(itemsTable.id, parsedBody.data.itemId))\n    ]);\n  } else {\n    await Promise.all([\n      db.update(filesTable).set({\n        content: parsedBody.data.content\n      }).where(eq(filesTable.id, item.file.id)),\n      db.update(itemsTable).set({\n        updatedAt: /* @__PURE__ */ new Date()\n      }).where(eq(itemsTable.id, parsedBody.data.itemId))\n    ]);\n  }\n  return new Response();\n}\nexport {\n  POST\n};\n", "import { d as db, i as itemsTable } from \"../../../../chunks/index3.js\";\nimport { e as error } from \"../../../../chunks/index.js\";\nimport { eq } from \"drizzle-orm\";\nimport { z } from \"zod\";\nconst editItemSchema = z.object({\n  name: z.string().min(1),\n  itemId: z.string().min(1)\n});\nasync function PUT({ locals, request }) {\n  const session = await locals.auth.validate();\n  if (!session)\n    throw error(401, \"Unauthorized\");\n  const userId = session.user.userId;\n  const body = await request.json();\n  const parsedBody = editItemSchema.safeParse(body);\n  if (!parsedBody.success) {\n    throw error(400, parsedBody.error.message);\n  }\n  const item = await db.query.itemsTable.findFirst({\n    where: (table, { eq: eq2, and }) => and(eq2(table.id, parsedBody.data.itemId), eq2(table.userId, userId))\n  });\n  if (!item)\n    throw error(404, \"Item not found\");\n  await db.update(itemsTable).set({\n    name: parsedBody.data.name\n  }).where(eq(itemsTable.id, parsedBody.data.itemId));\n  return new Response();\n}\nexport {\n  PUT\n};\n", "import { d as db, i as itemsTable } from \"../../../../chunks/index3.js\";\nimport { createId } from \"@paralleldrive/cuid2\";\nimport { e as error } from \"../../../../chunks/index.js\";\nasync function POST({ locals }) {\n  const session = await locals.auth.validate();\n  if (!session)\n    throw error(401, \"Unauthorized\");\n  const userId = session.user.userId;\n  const folder1Id = createId();\n  await db.insert(itemsTable).values({\n    id: folder1Id,\n    userId,\n    name: \"Folder 1\",\n    parentId: null,\n    type: \"folder\"\n  });\n  const folder2Id = createId();\n  await db.insert(itemsTable).values({\n    id: folder2Id,\n    userId,\n    name: \"Folder 1 1\",\n    parentId: folder1Id,\n    type: \"folder\"\n  });\n  const folder3Id = createId();\n  await db.insert(itemsTable).values({\n    id: folder3Id,\n    userId,\n    name: \"Folder 1 1 1\",\n    parentId: folder2Id,\n    type: \"folder\"\n  });\n  await Promise.all([\n    db.insert(itemsTable).values({\n      id: createId(),\n      userId,\n      name: \"File 1 1\",\n      parentId: folder1Id,\n      type: \"file\"\n    }),\n    db.insert(itemsTable).values({\n      id: createId(),\n      userId,\n      name: \"File 1 1 1\",\n      parentId: folder2Id,\n      type: \"file\"\n    }),\n    db.insert(itemsTable).values({\n      id: createId(),\n      userId,\n      name: \"File 1 1 2\",\n      parentId: folder2Id,\n      type: \"file\"\n    }),\n    db.insert(itemsTable).values({\n      id: createId(),\n      userId,\n      name: \"File 1 1 1 1\",\n      parentId: folder3Id,\n      type: \"file\"\n    }),\n    db.insert(itemsTable).values({\n      id: createId(),\n      userId,\n      name: \"File 1\",\n      parentId: null,\n      type: \"file\"\n    }),\n    db.insert(itemsTable).values({\n      id: createId(),\n      userId,\n      name: \"File 2\",\n      parentId: null,\n      type: \"file\"\n    })\n  ]);\n  return new Response();\n}\nexport {\n  POST\n};\n", "import { c as create_ssr_component, s as setContext, v as validate_component, m as missing_component } from \"./ssr.js\";\nimport \"./shared-server.js\";\nlet base = \"\";\nlet assets = base;\nconst initial = { base, assets };\nfunction reset() {\n  base = initial.base;\n  assets = initial.assets;\n}\nfunction set_assets(path) {\n  assets = initial.assets = path;\n}\nfunction afterUpdate() {\n}\nfunction set_building() {\n}\nconst Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { stores } = $$props;\n  let { page } = $$props;\n  let { constructors } = $$props;\n  let { components = [] } = $$props;\n  let { form } = $$props;\n  let { data_0 = null } = $$props;\n  let { data_1 = null } = $$props;\n  let { data_2 = null } = $$props;\n  {\n    setContext(\"__svelte__\", stores);\n  }\n  afterUpdate(stores.page.notify);\n  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)\n    $$bindings.stores(stores);\n  if ($$props.page === void 0 && $$bindings.page && page !== void 0)\n    $$bindings.page(page);\n  if ($$props.constructors === void 0 && $$bindings.constructors && constructors !== void 0)\n    $$bindings.constructors(constructors);\n  if ($$props.components === void 0 && $$bindings.components && components !== void 0)\n    $$bindings.components(components);\n  if ($$props.form === void 0 && $$bindings.form && form !== void 0)\n    $$bindings.form(form);\n  if ($$props.data_0 === void 0 && $$bindings.data_0 && data_0 !== void 0)\n    $$bindings.data_0(data_0);\n  if ($$props.data_1 === void 0 && $$bindings.data_1 && data_1 !== void 0)\n    $$bindings.data_1(data_1);\n  if ($$props.data_2 === void 0 && $$bindings.data_2 && data_2 !== void 0)\n    $$bindings.data_2(data_2);\n  let $$settled;\n  let $$rendered;\n  do {\n    $$settled = true;\n    {\n      stores.page.set(page);\n    }\n    $$rendered = `  ${constructors[1] ? `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { data: data_0, this: components[0] },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${constructors[2] ? `${validate_component(constructors[1] || missing_component, \"svelte:component\").$$render(\n            $$result,\n            { data: data_1, this: components[1] },\n            {\n              this: ($$value) => {\n                components[1] = $$value;\n                $$settled = false;\n              }\n            },\n            {\n              default: () => {\n                return `${validate_component(constructors[2] || missing_component, \"svelte:component\").$$render(\n                  $$result,\n                  { data: data_2, form, this: components[2] },\n                  {\n                    this: ($$value) => {\n                      components[2] = $$value;\n                      $$settled = false;\n                    }\n                  },\n                  {}\n                )}`;\n              }\n            }\n          )}` : `${validate_component(constructors[1] || missing_component, \"svelte:component\").$$render(\n            $$result,\n            { data: data_1, form, this: components[1] },\n            {\n              this: ($$value) => {\n                components[1] = $$value;\n                $$settled = false;\n              }\n            },\n            {}\n          )}`}`;\n        }\n      }\n    )}` : `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { data: data_0, form, this: components[0] },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`} ${``}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nconst options = {\n  app_template_contains_nonce: false,\n  csp: { \"mode\": \"auto\", \"directives\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false }, \"reportOnly\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false } },\n  csrf_check_origin: true,\n  track_server_fetches: false,\n  embedded: false,\n  env_public_prefix: \"PUBLIC_\",\n  env_private_prefix: \"\",\n  hooks: null,\n  // added lazily, via `get_hooks`\n  preload_strategy: \"modulepreload\",\n  root: Root,\n  service_worker: false,\n  templates: {\n    app: ({ head, body, assets: assets2, nonce, env }) => '<!DOCTYPE html>\\r\\n<html lang=\"en\">\\r\\n\t<head>\\r\\n\t\t<meta charset=\"utf-8\" />\\r\\n\t\t<link rel=\"icon\" href=\"' + assets2 + '/favicon.png\" />\\r\\n\t\t<meta name=\"viewport\" content=\"width=device-width\" />\\r\\n\t\t' + head + '\\r\\n\t</head>\\r\\n\t<body data-sveltekit-preload-data=\"hover\">\\r\\n\t\t<div style=\"display: contents\">' + body + \"</div>\\r\\n\t</body>\\r\\n</html>\\r\\n\",\n    error: ({ status, message }) => '<!DOCTYPE html>\\n<html lang=\"en\">\\n\t<head>\\n\t\t<meta charset=\"utf-8\" />\\n\t\t<title>' + message + `</title>\n\n\t\t<style>\n\t\t\tbody {\n\t\t\t\t--bg: white;\n\t\t\t\t--fg: #222;\n\t\t\t\t--divider: #ccc;\n\t\t\t\tbackground: var(--bg);\n\t\t\t\tcolor: var(--fg);\n\t\t\t\tfont-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,\n\t\t\t\t\tUbuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.error {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmax-width: 32rem;\n\t\t\t\tmargin: 0 1rem;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\tfont-weight: 200;\n\t\t\t\tfont-size: 3rem;\n\t\t\t\tline-height: 1;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -0.05rem;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tborder-left: 1px solid var(--divider);\n\t\t\t\tpadding: 0 0 0 1rem;\n\t\t\t\tmargin: 0 0 0 1rem;\n\t\t\t\tmin-height: 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.message h1 {\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\tbody {\n\t\t\t\t\t--bg: #222;\n\t\t\t\t\t--fg: #ddd;\n\t\t\t\t\t--divider: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"error\">\n\t\t\t<span class=\"status\">` + status + '</span>\\n\t\t\t<div class=\"message\">\\n\t\t\t\t<h1>' + message + \"</h1>\\n\t\t\t</div>\\n\t\t</div>\\n\t</body>\\n</html>\\n\"\n  },\n  version_hash: \"sce6dw\"\n};\nfunction get_hooks() {\n  return import(\"./hooks.server.js\");\n}\nexport {\n  assets as a,\n  base as b,\n  set_building as c,\n  get_hooks as g,\n  options as o,\n  reset as r,\n  set_assets as s\n};\n", "import { b as base, a as assets, r as reset, o as options, g as get_hooks } from \"./chunks/internal.js\";\nimport { t as text, H as HttpError, j as json, R as Redirect, e as error, A as ActionFailure } from \"./chunks/index.js\";\nimport { w as writable, r as readable } from \"./chunks/index2.js\";\nimport { p as public_env, s as set_private_env, a as set_public_env } from \"./chunks/shared-server.js\";\nconst DEV = false;\nconst SVELTE_KIT_ASSETS = \"/_svelte_kit_assets\";\nconst ENDPOINT_METHODS = /* @__PURE__ */ new Set([\n  \"GET\",\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\",\n  \"OPTIONS\",\n  \"HEAD\"\n]);\nconst PAGE_METHODS = /* @__PURE__ */ new Set([\"GET\", \"POST\", \"HEAD\"]);\nfunction negotiate(accept, types) {\n  const parts = [];\n  accept.split(\",\").forEach((str, i) => {\n    const match = /([^/]+)\\/([^;]+)(?:;q=([0-9.]+))?/.exec(str);\n    if (match) {\n      const [, type, subtype, q = \"1\"] = match;\n      parts.push({ type, subtype, q: +q, i });\n    }\n  });\n  parts.sort((a, b) => {\n    if (a.q !== b.q) {\n      return b.q - a.q;\n    }\n    if (a.subtype === \"*\" !== (b.subtype === \"*\")) {\n      return a.subtype === \"*\" ? 1 : -1;\n    }\n    if (a.type === \"*\" !== (b.type === \"*\")) {\n      return a.type === \"*\" ? 1 : -1;\n    }\n    return a.i - b.i;\n  });\n  let accepted;\n  let min_priority = Infinity;\n  for (const mimetype of types) {\n    const [type, subtype] = mimetype.split(\"/\");\n    const priority = parts.findIndex(\n      (part) => (part.type === type || part.type === \"*\") && (part.subtype === subtype || part.subtype === \"*\")\n    );\n    if (priority !== -1 && priority < min_priority) {\n      accepted = mimetype;\n      min_priority = priority;\n    }\n  }\n  return accepted;\n}\nfunction is_content_type(request, ...types) {\n  const type = request.headers.get(\"content-type\")?.split(\";\", 1)[0].trim() ?? \"\";\n  return types.includes(type.toLowerCase());\n}\nfunction is_form_content_type(request) {\n  return is_content_type(\n    request,\n    \"application/x-www-form-urlencoded\",\n    \"multipart/form-data\",\n    \"text/plain\"\n  );\n}\nfunction exec(match, params, matchers) {\n  const result = {};\n  const values = match.slice(1);\n  let buffered = 0;\n  for (let i = 0; i < params.length; i += 1) {\n    const param = params[i];\n    let value = values[i - buffered];\n    if (param.chained && param.rest && buffered) {\n      value = values.slice(i - buffered, i + 1).filter((s2) => s2).join(\"/\");\n      buffered = 0;\n    }\n    if (value === void 0) {\n      if (param.rest)\n        result[param.name] = \"\";\n      continue;\n    }\n    if (!param.matcher || matchers[param.matcher](value)) {\n      result[param.name] = value;\n      const next_param = params[i + 1];\n      const next_value = values[i + 1];\n      if (next_param && !next_param.rest && next_param.optional && next_value && param.chained) {\n        buffered = 0;\n      }\n      continue;\n    }\n    if (param.optional && param.chained) {\n      buffered++;\n      continue;\n    }\n    return;\n  }\n  if (buffered)\n    return;\n  return result;\n}\nfunction coalesce_to_error(err) {\n  return err instanceof Error || err && /** @type {any} */\n  err.name && /** @type {any} */\n  err.message ? (\n    /** @type {Error} */\n    err\n  ) : new Error(JSON.stringify(err));\n}\nfunction normalize_error(error2) {\n  return (\n    /** @type {import('../runtime/control.js').Redirect | import('../runtime/control.js').HttpError | Error} */\n    error2\n  );\n}\nfunction method_not_allowed(mod, method) {\n  return text(`${method} method not allowed`, {\n    status: 405,\n    headers: {\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: allowed_methods(mod).join(\", \")\n    }\n  });\n}\nfunction allowed_methods(mod) {\n  const allowed = Array.from(ENDPOINT_METHODS).filter((method) => method in mod);\n  if (\"GET\" in mod || \"HEAD\" in mod)\n    allowed.push(\"HEAD\");\n  return allowed;\n}\nfunction static_error_page(options2, status, message) {\n  let page = options2.templates.error({ status, message });\n  return text(page, {\n    headers: { \"content-type\": \"text/html; charset=utf-8\" },\n    status\n  });\n}\nasync function handle_fatal_error(event, options2, error2) {\n  error2 = error2 instanceof HttpError ? error2 : coalesce_to_error(error2);\n  const status = error2 instanceof HttpError ? error2.status : 500;\n  const body = await handle_error_and_jsonify(event, options2, error2);\n  const type = negotiate(event.request.headers.get(\"accept\") || \"text/html\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  if (event.isDataRequest || type === \"application/json\") {\n    return json(body, {\n      status\n    });\n  }\n  return static_error_page(options2, status, body.message);\n}\nasync function handle_error_and_jsonify(event, options2, error2) {\n  if (error2 instanceof HttpError) {\n    return error2.body;\n  } else {\n    return await options2.hooks.handleError({ error: error2, event }) ?? {\n      message: event.route.id != null ? \"Internal Error\" : \"Not Found\"\n    };\n  }\n}\nfunction redirect_response(status, location) {\n  const response = new Response(void 0, {\n    status,\n    headers: { location }\n  });\n  return response;\n}\nfunction clarify_devalue_error(event, error2) {\n  if (error2.path) {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not serializable: ${error2.message} (data${error2.path})`;\n  }\n  if (error2.path === \"\") {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not a plain object`;\n  }\n  return error2.message;\n}\nfunction stringify_uses(node) {\n  const uses = [];\n  if (node.uses && node.uses.dependencies.size > 0) {\n    uses.push(`\"dependencies\":${JSON.stringify(Array.from(node.uses.dependencies))}`);\n  }\n  if (node.uses && node.uses.params.size > 0) {\n    uses.push(`\"params\":${JSON.stringify(Array.from(node.uses.params))}`);\n  }\n  if (node.uses?.parent)\n    uses.push('\"parent\":1');\n  if (node.uses?.route)\n    uses.push('\"route\":1');\n  if (node.uses?.url)\n    uses.push('\"url\":1');\n  return `\"uses\":{${uses.join(\",\")}}`;\n}\nasync function render_endpoint(event, mod, state) {\n  const method = (\n    /** @type {import('types').HttpMethod} */\n    event.request.method\n  );\n  let handler = mod[method] || mod.fallback;\n  if (method === \"HEAD\" && mod.GET && !mod.HEAD) {\n    handler = mod.GET;\n  }\n  if (!handler) {\n    return method_not_allowed(mod, method);\n  }\n  const prerender = mod.prerender ?? state.prerender_default;\n  if (prerender && (mod.POST || mod.PATCH || mod.PUT || mod.DELETE)) {\n    throw new Error(\"Cannot prerender endpoints that have mutative methods\");\n  }\n  if (state.prerendering && !prerender) {\n    if (state.depth > 0) {\n      throw new Error(`${event.route.id} is not prerenderable`);\n    } else {\n      return new Response(void 0, { status: 204 });\n    }\n  }\n  try {\n    let response = await handler(\n      /** @type {import('@sveltejs/kit').RequestEvent<Record<string, any>>} */\n      event\n    );\n    if (!(response instanceof Response)) {\n      throw new Error(\n        `Invalid response from route ${event.url.pathname}: handler should return a Response object`\n      );\n    }\n    if (state.prerendering) {\n      response = new Response(response.body, {\n        status: response.status,\n        statusText: response.statusText,\n        headers: new Headers(response.headers)\n      });\n      response.headers.set(\"x-sveltekit-prerender\", String(prerender));\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return new Response(void 0, {\n        status: e.status,\n        headers: { location: e.location }\n      });\n    }\n    throw e;\n  }\n}\nfunction is_endpoint_request(event) {\n  const { method, headers } = event.request;\n  if (ENDPOINT_METHODS.has(method) && !PAGE_METHODS.has(method)) {\n    return true;\n  }\n  if (method === \"POST\" && headers.get(\"x-sveltekit-action\") === \"true\")\n    return false;\n  const accept = event.request.headers.get(\"accept\") ?? \"*/*\";\n  return negotiate(accept, [\"*\", \"text/html\"]) !== \"text/html\";\n}\nfunction compact(arr) {\n  return arr.filter(\n    /** @returns {val is NonNullable<T>} */\n    (val) => val != null\n  );\n}\nfunction normalize_path(path, trailing_slash) {\n  if (path === \"/\" || trailing_slash === \"ignore\")\n    return path;\n  if (trailing_slash === \"never\") {\n    return path.endsWith(\"/\") ? path.slice(0, -1) : path;\n  } else if (trailing_slash === \"always\" && !path.endsWith(\"/\")) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction decode_pathname(pathname) {\n  return pathname.split(\"%25\").map(decodeURI).join(\"%25\");\n}\nfunction decode_params(params) {\n  for (const key2 in params) {\n    params[key2] = decodeURIComponent(params[key2]);\n  }\n  return params;\n}\nconst tracked_url_properties = (\n  /** @type {const} */\n  [\n    \"href\",\n    \"pathname\",\n    \"search\",\n    \"searchParams\",\n    \"toString\",\n    \"toJSON\"\n  ]\n);\nfunction make_trackable(url, callback) {\n  const tracked = new URL(url);\n  for (const property of tracked_url_properties) {\n    Object.defineProperty(tracked, property, {\n      get() {\n        callback();\n        return url[property];\n      },\n      enumerable: true,\n      configurable: true\n    });\n  }\n  {\n    tracked[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(url, opts);\n    };\n  }\n  disable_hash(tracked);\n  return tracked;\n}\nfunction disable_hash(url) {\n  allow_nodejs_console_log(url);\n  Object.defineProperty(url, \"hash\", {\n    get() {\n      throw new Error(\n        \"Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead\"\n      );\n    }\n  });\n}\nfunction disable_search(url) {\n  allow_nodejs_console_log(url);\n  for (const property of [\"search\", \"searchParams\"]) {\n    Object.defineProperty(url, property, {\n      get() {\n        throw new Error(`Cannot access url.${property} on a page with prerendering enabled`);\n      }\n    });\n  }\n}\nfunction allow_nodejs_console_log(url) {\n  {\n    url[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(new URL(url), opts);\n    };\n  }\n}\nconst DATA_SUFFIX = \"/__data.json\";\nfunction has_data_suffix(pathname) {\n  return pathname.endsWith(DATA_SUFFIX);\n}\nfunction add_data_suffix(pathname) {\n  return pathname.replace(/\\/$/, \"\") + DATA_SUFFIX;\n}\nfunction strip_data_suffix(pathname) {\n  return pathname.slice(0, -DATA_SUFFIX.length);\n}\nconst escaped = {\n  \"<\": \"\\\\u003C\",\n  \"\\\\\": \"\\\\\\\\\",\n  \"\\b\": \"\\\\b\",\n  \"\\f\": \"\\\\f\",\n  \"\\n\": \"\\\\n\",\n  \"\\r\": \"\\\\r\",\n  \"\t\": \"\\\\t\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nclass DevalueError extends Error {\n  /**\n   * @param {string} message\n   * @param {string[]} keys\n   */\n  constructor(message, keys) {\n    super(message);\n    this.name = \"DevalueError\";\n    this.path = keys.join(\"\");\n  }\n}\nfunction is_primitive(thing) {\n  return Object(thing) !== thing;\n}\nconst object_proto_names = /* @__PURE__ */ Object.getOwnPropertyNames(\n  Object.prototype\n).sort().join(\"\\0\");\nfunction is_plain_object(thing) {\n  const proto = Object.getPrototypeOf(thing);\n  return proto === Object.prototype || proto === null || Object.getOwnPropertyNames(proto).sort().join(\"\\0\") === object_proto_names;\n}\nfunction get_type(thing) {\n  return Object.prototype.toString.call(thing).slice(8, -1);\n}\nfunction get_escaped_char(char) {\n  switch (char) {\n    case '\"':\n      return '\\\\\"';\n    case \"<\":\n      return \"\\\\u003C\";\n    case \"\\\\\":\n      return \"\\\\\\\\\";\n    case \"\\n\":\n      return \"\\\\n\";\n    case \"\\r\":\n      return \"\\\\r\";\n    case \"\t\":\n      return \"\\\\t\";\n    case \"\\b\":\n      return \"\\\\b\";\n    case \"\\f\":\n      return \"\\\\f\";\n    case \"\\u2028\":\n      return \"\\\\u2028\";\n    case \"\\u2029\":\n      return \"\\\\u2029\";\n    default:\n      return char < \" \" ? `\\\\u${char.charCodeAt(0).toString(16).padStart(4, \"0\")}` : \"\";\n  }\n}\nfunction stringify_string(str) {\n  let result = \"\";\n  let last_pos = 0;\n  const len = str.length;\n  for (let i = 0; i < len; i += 1) {\n    const char = str[i];\n    const replacement = get_escaped_char(char);\n    if (replacement) {\n      result += str.slice(last_pos, i) + replacement;\n      last_pos = i + 1;\n    }\n  }\n  return `\"${last_pos === 0 ? str : result + str.slice(last_pos)}\"`;\n}\nconst chars$1 = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$\";\nconst unsafe_chars = /[<\\b\\f\\n\\r\\t\\0\\u2028\\u2029]/g;\nconst reserved = /^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;\nfunction uneval(value, replacer) {\n  const counts = /* @__PURE__ */ new Map();\n  const keys = [];\n  const custom = /* @__PURE__ */ new Map();\n  function walk(thing) {\n    if (typeof thing === \"function\") {\n      throw new DevalueError(`Cannot stringify a function`, keys);\n    }\n    if (!is_primitive(thing)) {\n      if (counts.has(thing)) {\n        counts.set(thing, counts.get(thing) + 1);\n        return;\n      }\n      counts.set(thing, 1);\n      if (replacer) {\n        const str2 = replacer(thing);\n        if (typeof str2 === \"string\") {\n          custom.set(thing, str2);\n          return;\n        }\n      }\n      const type = get_type(thing);\n      switch (type) {\n        case \"Number\":\n        case \"BigInt\":\n        case \"String\":\n        case \"Boolean\":\n        case \"Date\":\n        case \"RegExp\":\n          return;\n        case \"Array\":\n          thing.forEach((value2, i) => {\n            keys.push(`[${i}]`);\n            walk(value2);\n            keys.pop();\n          });\n          break;\n        case \"Set\":\n          Array.from(thing).forEach(walk);\n          break;\n        case \"Map\":\n          for (const [key2, value2] of thing) {\n            keys.push(\n              `.get(${is_primitive(key2) ? stringify_primitive$1(key2) : \"...\"})`\n            );\n            walk(value2);\n            keys.pop();\n          }\n          break;\n        default:\n          if (!is_plain_object(thing)) {\n            throw new DevalueError(\n              `Cannot stringify arbitrary non-POJOs`,\n              keys\n            );\n          }\n          if (Object.getOwnPropertySymbols(thing).length > 0) {\n            throw new DevalueError(\n              `Cannot stringify POJOs with symbolic keys`,\n              keys\n            );\n          }\n          for (const key2 in thing) {\n            keys.push(`.${key2}`);\n            walk(thing[key2]);\n            keys.pop();\n          }\n      }\n    }\n  }\n  walk(value);\n  const names = /* @__PURE__ */ new Map();\n  Array.from(counts).filter((entry) => entry[1] > 1).sort((a, b) => b[1] - a[1]).forEach((entry, i) => {\n    names.set(entry[0], get_name(i));\n  });\n  function stringify2(thing) {\n    if (names.has(thing)) {\n      return names.get(thing);\n    }\n    if (is_primitive(thing)) {\n      return stringify_primitive$1(thing);\n    }\n    if (custom.has(thing)) {\n      return custom.get(thing);\n    }\n    const type = get_type(thing);\n    switch (type) {\n      case \"Number\":\n      case \"String\":\n      case \"Boolean\":\n        return `Object(${stringify2(thing.valueOf())})`;\n      case \"RegExp\":\n        return `new RegExp(${stringify_string(thing.source)}, \"${thing.flags}\")`;\n      case \"Date\":\n        return `new Date(${thing.getTime()})`;\n      case \"Array\":\n        const members = (\n          /** @type {any[]} */\n          thing.map(\n            (v, i) => i in thing ? stringify2(v) : \"\"\n          )\n        );\n        const tail = thing.length === 0 || thing.length - 1 in thing ? \"\" : \",\";\n        return `[${members.join(\",\")}${tail}]`;\n      case \"Set\":\n      case \"Map\":\n        return `new ${type}([${Array.from(thing).map(stringify2).join(\",\")}])`;\n      default:\n        const obj = `{${Object.keys(thing).map((key2) => `${safe_key(key2)}:${stringify2(thing[key2])}`).join(\",\")}}`;\n        const proto = Object.getPrototypeOf(thing);\n        if (proto === null) {\n          return Object.keys(thing).length > 0 ? `Object.assign(Object.create(null),${obj})` : `Object.create(null)`;\n        }\n        return obj;\n    }\n  }\n  const str = stringify2(value);\n  if (names.size) {\n    const params = [];\n    const statements = [];\n    const values = [];\n    names.forEach((name, thing) => {\n      params.push(name);\n      if (custom.has(thing)) {\n        values.push(\n          /** @type {string} */\n          custom.get(thing)\n        );\n        return;\n      }\n      if (is_primitive(thing)) {\n        values.push(stringify_primitive$1(thing));\n        return;\n      }\n      const type = get_type(thing);\n      switch (type) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n          values.push(`Object(${stringify2(thing.valueOf())})`);\n          break;\n        case \"RegExp\":\n          values.push(thing.toString());\n          break;\n        case \"Date\":\n          values.push(`new Date(${thing.getTime()})`);\n          break;\n        case \"Array\":\n          values.push(`Array(${thing.length})`);\n          thing.forEach((v, i) => {\n            statements.push(`${name}[${i}]=${stringify2(v)}`);\n          });\n          break;\n        case \"Set\":\n          values.push(`new Set`);\n          statements.push(\n            `${name}.${Array.from(thing).map((v) => `add(${stringify2(v)})`).join(\".\")}`\n          );\n          break;\n        case \"Map\":\n          values.push(`new Map`);\n          statements.push(\n            `${name}.${Array.from(thing).map(([k, v]) => `set(${stringify2(k)}, ${stringify2(v)})`).join(\".\")}`\n          );\n          break;\n        default:\n          values.push(\n            Object.getPrototypeOf(thing) === null ? \"Object.create(null)\" : \"{}\"\n          );\n          Object.keys(thing).forEach((key2) => {\n            statements.push(\n              `${name}${safe_prop(key2)}=${stringify2(thing[key2])}`\n            );\n          });\n      }\n    });\n    statements.push(`return ${str}`);\n    return `(function(${params.join(\",\")}){${statements.join(\n      \";\"\n    )}}(${values.join(\",\")}))`;\n  } else {\n    return str;\n  }\n}\nfunction get_name(num) {\n  let name = \"\";\n  do {\n    name = chars$1[num % chars$1.length] + name;\n    num = ~~(num / chars$1.length) - 1;\n  } while (num >= 0);\n  return reserved.test(name) ? `${name}0` : name;\n}\nfunction escape_unsafe_char(c) {\n  return escaped[c] || c;\n}\nfunction escape_unsafe_chars(str) {\n  return str.replace(unsafe_chars, escape_unsafe_char);\n}\nfunction safe_key(key2) {\n  return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key2) ? key2 : escape_unsafe_chars(JSON.stringify(key2));\n}\nfunction safe_prop(key2) {\n  return /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key2) ? `.${key2}` : `[${escape_unsafe_chars(JSON.stringify(key2))}]`;\n}\nfunction stringify_primitive$1(thing) {\n  if (typeof thing === \"string\")\n    return stringify_string(thing);\n  if (thing === void 0)\n    return \"void 0\";\n  if (thing === 0 && 1 / thing < 0)\n    return \"-0\";\n  const str = String(thing);\n  if (typeof thing === \"number\")\n    return str.replace(/^(-)?0\\./, \"$1.\");\n  if (typeof thing === \"bigint\")\n    return thing + \"n\";\n  return str;\n}\nconst UNDEFINED = -1;\nconst HOLE = -2;\nconst NAN = -3;\nconst POSITIVE_INFINITY = -4;\nconst NEGATIVE_INFINITY = -5;\nconst NEGATIVE_ZERO = -6;\nfunction stringify(value, reducers) {\n  const stringified = [];\n  const indexes = /* @__PURE__ */ new Map();\n  const custom = [];\n  for (const key2 in reducers) {\n    custom.push({ key: key2, fn: reducers[key2] });\n  }\n  const keys = [];\n  let p = 0;\n  function flatten(thing) {\n    if (typeof thing === \"function\") {\n      throw new DevalueError(`Cannot stringify a function`, keys);\n    }\n    if (indexes.has(thing))\n      return indexes.get(thing);\n    if (thing === void 0)\n      return UNDEFINED;\n    if (Number.isNaN(thing))\n      return NAN;\n    if (thing === Infinity)\n      return POSITIVE_INFINITY;\n    if (thing === -Infinity)\n      return NEGATIVE_INFINITY;\n    if (thing === 0 && 1 / thing < 0)\n      return NEGATIVE_ZERO;\n    const index2 = p++;\n    indexes.set(thing, index2);\n    for (const { key: key2, fn } of custom) {\n      const value2 = fn(thing);\n      if (value2) {\n        stringified[index2] = `[\"${key2}\",${flatten(value2)}]`;\n        return index2;\n      }\n    }\n    let str = \"\";\n    if (is_primitive(thing)) {\n      str = stringify_primitive(thing);\n    } else {\n      const type = get_type(thing);\n      switch (type) {\n        case \"Number\":\n        case \"String\":\n        case \"Boolean\":\n          str = `[\"Object\",${stringify_primitive(thing)}]`;\n          break;\n        case \"BigInt\":\n          str = `[\"BigInt\",${thing}]`;\n          break;\n        case \"Date\":\n          str = `[\"Date\",\"${thing.toISOString()}\"]`;\n          break;\n        case \"RegExp\":\n          const { source, flags } = thing;\n          str = flags ? `[\"RegExp\",${stringify_string(source)},\"${flags}\"]` : `[\"RegExp\",${stringify_string(source)}]`;\n          break;\n        case \"Array\":\n          str = \"[\";\n          for (let i = 0; i < thing.length; i += 1) {\n            if (i > 0)\n              str += \",\";\n            if (i in thing) {\n              keys.push(`[${i}]`);\n              str += flatten(thing[i]);\n              keys.pop();\n            } else {\n              str += HOLE;\n            }\n          }\n          str += \"]\";\n          break;\n        case \"Set\":\n          str = '[\"Set\"';\n          for (const value2 of thing) {\n            str += `,${flatten(value2)}`;\n          }\n          str += \"]\";\n          break;\n        case \"Map\":\n          str = '[\"Map\"';\n          for (const [key2, value2] of thing) {\n            keys.push(\n              `.get(${is_primitive(key2) ? stringify_primitive(key2) : \"...\"})`\n            );\n            str += `,${flatten(key2)},${flatten(value2)}`;\n          }\n          str += \"]\";\n          break;\n        default:\n          if (!is_plain_object(thing)) {\n            throw new DevalueError(\n              `Cannot stringify arbitrary non-POJOs`,\n              keys\n            );\n          }\n          if (Object.getOwnPropertySymbols(thing).length > 0) {\n            throw new DevalueError(\n              `Cannot stringify POJOs with symbolic keys`,\n              keys\n            );\n          }\n          if (Object.getPrototypeOf(thing) === null) {\n            str = '[\"null\"';\n            for (const key2 in thing) {\n              keys.push(`.${key2}`);\n              str += `,${stringify_string(key2)},${flatten(thing[key2])}`;\n              keys.pop();\n            }\n            str += \"]\";\n          } else {\n            str = \"{\";\n            let started = false;\n            for (const key2 in thing) {\n              if (started)\n                str += \",\";\n              started = true;\n              keys.push(`.${key2}`);\n              str += `${stringify_string(key2)}:${flatten(thing[key2])}`;\n              keys.pop();\n            }\n            str += \"}\";\n          }\n      }\n    }\n    stringified[index2] = str;\n    return index2;\n  }\n  const index = flatten(value);\n  if (index < 0)\n    return `${index}`;\n  return `[${stringified.join(\",\")}]`;\n}\nfunction stringify_primitive(thing) {\n  const type = typeof thing;\n  if (type === \"string\")\n    return stringify_string(thing);\n  if (thing instanceof String)\n    return stringify_string(thing.toString());\n  if (thing === void 0)\n    return UNDEFINED.toString();\n  if (thing === 0 && 1 / thing < 0)\n    return NEGATIVE_ZERO.toString();\n  if (type === \"bigint\")\n    return `[\"BigInt\",\"${thing}\"]`;\n  return String(thing);\n}\nfunction is_action_json_request(event) {\n  const accept = negotiate(event.request.headers.get(\"accept\") ?? \"*/*\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  return accept === \"application/json\" && event.request.method === \"POST\";\n}\nasync function handle_action_json_request(event, options2, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    const no_actions_error = error(405, \"POST method not allowed. No actions exist for this page\");\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, options2, no_actions_error)\n      },\n      {\n        status: no_actions_error.status,\n        headers: {\n          // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n          // \"The server must generate an Allow header field in a 405 status code response\"\n          allow: \"GET\"\n        }\n      }\n    );\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, actions);\n    if (false)\n      ;\n    if (data instanceof ActionFailure) {\n      return action_json({\n        type: \"failure\",\n        status: data.status,\n        // @ts-expect-error we assign a string to what is supposed to be an object. That's ok\n        // because we don't use the object outside, and this way we have better code navigation\n        // through knowing where the related interface is used.\n        data: stringify_action_response(\n          data.data,\n          /** @type {string} */\n          event.route.id\n        )\n      });\n    } else {\n      return action_json({\n        type: \"success\",\n        status: data ? 200 : 204,\n        // @ts-expect-error see comment above\n        data: stringify_action_response(\n          data,\n          /** @type {string} */\n          event.route.id\n        )\n      });\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return action_json_redirect(err);\n    }\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, options2, check_incorrect_fail_use(err))\n      },\n      {\n        status: err instanceof HttpError ? err.status : 500\n      }\n    );\n  }\n}\nfunction check_incorrect_fail_use(error2) {\n  return error2 instanceof ActionFailure ? new Error('Cannot \"throw fail()\". Use \"return fail()\"') : error2;\n}\nfunction action_json_redirect(redirect) {\n  return action_json({\n    type: \"redirect\",\n    status: redirect.status,\n    location: redirect.location\n  });\n}\nfunction action_json(data, init2) {\n  return json(data, init2);\n}\nfunction is_action_request(event) {\n  return event.request.method === \"POST\";\n}\nasync function handle_action_request(event, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    event.setHeaders({\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: \"GET\"\n    });\n    return {\n      type: \"error\",\n      error: error(405, \"POST method not allowed. No actions exist for this page\")\n    };\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, actions);\n    if (false)\n      ;\n    if (data instanceof ActionFailure) {\n      return {\n        type: \"failure\",\n        status: data.status,\n        data: data.data\n      };\n    } else {\n      return {\n        type: \"success\",\n        status: 200,\n        // @ts-expect-error this will be removed upon serialization, so `undefined` is the same as omission\n        data\n      };\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return {\n        type: \"redirect\",\n        status: err.status,\n        location: err.location\n      };\n    }\n    return {\n      type: \"error\",\n      error: check_incorrect_fail_use(err)\n    };\n  }\n}\nfunction check_named_default_separate(actions) {\n  if (actions.default && Object.keys(actions).length > 1) {\n    throw new Error(\n      \"When using named actions, the default action cannot be used. See the docs for more info: https://kit.svelte.dev/docs/form-actions#named-actions\"\n    );\n  }\n}\nasync function call_action(event, actions) {\n  const url = new URL(event.request.url);\n  let name = \"default\";\n  for (const param of url.searchParams) {\n    if (param[0].startsWith(\"/\")) {\n      name = param[0].slice(1);\n      if (name === \"default\") {\n        throw new Error('Cannot use reserved action name \"default\"');\n      }\n      break;\n    }\n  }\n  const action = actions[name];\n  if (!action) {\n    throw new Error(`No action with name '${name}' found`);\n  }\n  if (!is_form_content_type(event.request)) {\n    throw new Error(\n      `Actions expect form-encoded data (received ${event.request.headers.get(\"content-type\")})`\n    );\n  }\n  return action(event);\n}\nfunction validate_action_return(data) {\n  if (data instanceof Redirect) {\n    throw new Error(\"Cannot `return redirect(...)` \u2014 use `throw redirect(...)` instead\");\n  }\n  if (data instanceof HttpError) {\n    throw new Error(\n      \"Cannot `return error(...)` \u2014 use `throw error(...)` or `return fail(...)` instead\"\n    );\n  }\n}\nfunction uneval_action_response(data, route_id) {\n  return try_deserialize(data, uneval, route_id);\n}\nfunction stringify_action_response(data, route_id) {\n  return try_deserialize(data, stringify, route_id);\n}\nfunction try_deserialize(data, fn, route_id) {\n  try {\n    return fn(data);\n  } catch (e) {\n    const error2 = (\n      /** @type {any} */\n      e\n    );\n    if (\"path\" in error2) {\n      let message = `Data returned from action inside ${route_id} is not serializable: ${error2.message}`;\n      if (error2.path !== \"\")\n        message += ` (data.${error2.path})`;\n      throw new Error(message);\n    }\n    throw error2;\n  }\n}\nasync function unwrap_promises(object) {\n  for (const key2 in object) {\n    if (typeof object[key2]?.then === \"function\") {\n      return Object.fromEntries(\n        await Promise.all(Object.entries(object).map(async ([key3, value]) => [key3, await value]))\n      );\n    }\n  }\n  return object;\n}\nconst INVALIDATED_PARAM = \"x-sveltekit-invalidated\";\nconst TRAILING_SLASH_PARAM = \"x-sveltekit-trailing-slash\";\nasync function load_server_data({\n  event,\n  state,\n  node,\n  parent,\n  // TODO 2.0: Remove this\n  track_server_fetches\n}) {\n  if (!node?.server)\n    return null;\n  const uses = {\n    dependencies: /* @__PURE__ */ new Set(),\n    params: /* @__PURE__ */ new Set(),\n    parent: false,\n    route: false,\n    url: false\n  };\n  const url = make_trackable(event.url, () => {\n    uses.url = true;\n  });\n  if (state.prerendering) {\n    disable_search(url);\n  }\n  const result = await node.server.load?.call(null, {\n    ...event,\n    fetch: (info, init2) => {\n      const url2 = new URL(info instanceof Request ? info.url : info, event.url);\n      if (track_server_fetches) {\n        uses.dependencies.add(url2.href);\n      }\n      return event.fetch(info, init2);\n    },\n    /** @param {string[]} deps */\n    depends: (...deps) => {\n      for (const dep of deps) {\n        const { href } = new URL(dep, event.url);\n        uses.dependencies.add(href);\n      }\n    },\n    params: new Proxy(event.params, {\n      get: (target, key2) => {\n        uses.params.add(key2);\n        return target[\n          /** @type {string} */\n          key2\n        ];\n      }\n    }),\n    parent: async () => {\n      uses.parent = true;\n      return parent();\n    },\n    route: new Proxy(event.route, {\n      get: (target, key2) => {\n        uses.route = true;\n        return target[\n          /** @type {'id'} */\n          key2\n        ];\n      }\n    }),\n    url\n  });\n  const data = result ? await unwrap_promises(result) : null;\n  return {\n    type: \"data\",\n    data,\n    uses,\n    slash: node.server.trailingSlash\n  };\n}\nasync function load_data({\n  event,\n  fetched,\n  node,\n  parent,\n  server_data_promise,\n  state,\n  resolve_opts,\n  csr\n}) {\n  const server_data_node = await server_data_promise;\n  if (!node?.universal?.load) {\n    return server_data_node?.data ?? null;\n  }\n  const result = await node.universal.load.call(null, {\n    url: event.url,\n    params: event.params,\n    data: server_data_node?.data ?? null,\n    route: event.route,\n    fetch: create_universal_fetch(event, state, fetched, csr, resolve_opts),\n    setHeaders: event.setHeaders,\n    depends: () => {\n    },\n    parent\n  });\n  const data = result ? await unwrap_promises(result) : null;\n  return data;\n}\nfunction create_universal_fetch(event, state, fetched, csr, resolve_opts) {\n  return async (input, init2) => {\n    const cloned_body = input instanceof Request && input.body ? input.clone().body : null;\n    const cloned_headers = input instanceof Request && [...input.headers].length ? new Headers(input.headers) : init2?.headers;\n    let response = await event.fetch(input, init2);\n    const url = new URL(input instanceof Request ? input.url : input, event.url);\n    const same_origin = url.origin === event.url.origin;\n    let dependency;\n    if (same_origin) {\n      if (state.prerendering) {\n        dependency = { response, body: null };\n        state.prerendering.dependencies.set(url.pathname, dependency);\n      }\n    } else {\n      const mode = input instanceof Request ? input.mode : init2?.mode ?? \"cors\";\n      if (mode === \"no-cors\") {\n        response = new Response(\"\", {\n          status: response.status,\n          statusText: response.statusText,\n          headers: response.headers\n        });\n      } else {\n        const acao = response.headers.get(\"access-control-allow-origin\");\n        if (!acao || acao !== event.url.origin && acao !== \"*\") {\n          throw new Error(\n            `CORS error: ${acao ? \"Incorrect\" : \"No\"} 'Access-Control-Allow-Origin' header is present on the requested resource`\n          );\n        }\n      }\n    }\n    const proxy = new Proxy(response, {\n      get(response2, key2, _receiver) {\n        async function text2() {\n          const body = await response2.text();\n          if (!body || typeof body === \"string\") {\n            const status_number = Number(response2.status);\n            if (isNaN(status_number)) {\n              throw new Error(\n                `response.status is not a number. value: \"${response2.status}\" type: ${typeof response2.status}`\n              );\n            }\n            fetched.push({\n              url: same_origin ? url.href.slice(event.url.origin.length) : url.href,\n              method: event.request.method,\n              request_body: (\n                /** @type {string | ArrayBufferView | undefined} */\n                input instanceof Request && cloned_body ? await stream_to_string(cloned_body) : init2?.body\n              ),\n              request_headers: cloned_headers,\n              response_body: body,\n              response: response2\n            });\n          }\n          if (dependency) {\n            dependency.body = body;\n          }\n          return body;\n        }\n        if (key2 === \"arrayBuffer\") {\n          return async () => {\n            const buffer = await response2.arrayBuffer();\n            if (dependency) {\n              dependency.body = new Uint8Array(buffer);\n            }\n            return buffer;\n          };\n        }\n        if (key2 === \"text\") {\n          return text2;\n        }\n        if (key2 === \"json\") {\n          return async () => {\n            return JSON.parse(await text2());\n          };\n        }\n        return Reflect.get(response2, key2, response2);\n      }\n    });\n    if (csr) {\n      const get = response.headers.get;\n      response.headers.get = (key2) => {\n        const lower = key2.toLowerCase();\n        const value = get.call(response.headers, lower);\n        if (value && !lower.startsWith(\"x-sveltekit-\")) {\n          const included = resolve_opts.filterSerializedResponseHeaders(lower, value);\n          if (!included) {\n            throw new Error(\n              `Failed to get response header \"${lower}\" \u2014 it must be included by the \\`filterSerializedResponseHeaders\\` option: https://kit.svelte.dev/docs/hooks#server-hooks-handle (at ${event.route.id})`\n            );\n          }\n        }\n        return value;\n      };\n    }\n    return proxy;\n  };\n}\nasync function stream_to_string(stream) {\n  let result = \"\";\n  const reader = stream.getReader();\n  const decoder = new TextDecoder();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    result += decoder.decode(value);\n  }\n  return result;\n}\nfunction hash(...values) {\n  let hash2 = 5381;\n  for (const value of values) {\n    if (typeof value === \"string\") {\n      let i = value.length;\n      while (i)\n        hash2 = hash2 * 33 ^ value.charCodeAt(--i);\n    } else if (ArrayBuffer.isView(value)) {\n      const buffer = new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n      let i = buffer.length;\n      while (i)\n        hash2 = hash2 * 33 ^ buffer[--i];\n    } else {\n      throw new TypeError(\"value must be a string or TypedArray\");\n    }\n  }\n  return (hash2 >>> 0).toString(36);\n}\nconst escape_html_attr_dict = {\n  \"&\": \"&amp;\",\n  '\"': \"&quot;\"\n};\nconst escape_html_attr_regex = new RegExp(\n  // special characters\n  `[${Object.keys(escape_html_attr_dict).join(\"\")}]|[\\\\ud800-\\\\udbff](?![\\\\udc00-\\\\udfff])|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]|[\\\\udc00-\\\\udfff]`,\n  \"g\"\n);\nfunction escape_html_attr(str) {\n  const escaped_str = str.replace(escape_html_attr_regex, (match) => {\n    if (match.length === 2) {\n      return match;\n    }\n    return escape_html_attr_dict[match] ?? `&#${match.charCodeAt(0)};`;\n  });\n  return `\"${escaped_str}\"`;\n}\nconst replacements = {\n  \"<\": \"\\\\u003C\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nconst pattern = new RegExp(`[${Object.keys(replacements).join(\"\")}]`, \"g\");\nfunction serialize_data(fetched, filter, prerendering = false) {\n  const headers = {};\n  let cache_control = null;\n  let age = null;\n  let varyAny = false;\n  for (const [key2, value] of fetched.response.headers) {\n    if (filter(key2, value)) {\n      headers[key2] = value;\n    }\n    if (key2 === \"cache-control\")\n      cache_control = value;\n    else if (key2 === \"age\")\n      age = value;\n    else if (key2 === \"vary\" && value.trim() === \"*\")\n      varyAny = true;\n  }\n  const payload = {\n    status: fetched.response.status,\n    statusText: fetched.response.statusText,\n    headers,\n    body: fetched.response_body\n  };\n  const safe_payload = JSON.stringify(payload).replace(pattern, (match) => replacements[match]);\n  const attrs = [\n    'type=\"application/json\"',\n    \"data-sveltekit-fetched\",\n    `data-url=${escape_html_attr(fetched.url)}`\n  ];\n  if (fetched.request_headers || fetched.request_body) {\n    const values = [];\n    if (fetched.request_headers) {\n      values.push([...new Headers(fetched.request_headers)].join(\",\"));\n    }\n    if (fetched.request_body) {\n      values.push(fetched.request_body);\n    }\n    attrs.push(`data-hash=\"${hash(...values)}\"`);\n  }\n  if (!prerendering && fetched.method === \"GET\" && cache_control && !varyAny) {\n    const match = /s-maxage=(\\d+)/g.exec(cache_control) ?? /max-age=(\\d+)/g.exec(cache_control);\n    if (match) {\n      const ttl = +match[1] - +(age ?? \"0\");\n      attrs.push(`data-ttl=\"${ttl}\"`);\n    }\n  }\n  return `<script ${attrs.join(\" \")}>${safe_payload}<\\/script>`;\n}\nconst s = JSON.stringify;\nconst encoder$2 = new TextEncoder();\nfunction sha256(data) {\n  if (!key[0])\n    precompute();\n  const out = init.slice(0);\n  const array2 = encode$1(data);\n  for (let i = 0; i < array2.length; i += 16) {\n    const w = array2.subarray(i, i + 16);\n    let tmp;\n    let a;\n    let b;\n    let out0 = out[0];\n    let out1 = out[1];\n    let out2 = out[2];\n    let out3 = out[3];\n    let out4 = out[4];\n    let out5 = out[5];\n    let out6 = out[6];\n    let out7 = out[7];\n    for (let i2 = 0; i2 < 64; i2++) {\n      if (i2 < 16) {\n        tmp = w[i2];\n      } else {\n        a = w[i2 + 1 & 15];\n        b = w[i2 + 14 & 15];\n        tmp = w[i2 & 15] = (a >>> 7 ^ a >>> 18 ^ a >>> 3 ^ a << 25 ^ a << 14) + (b >>> 17 ^ b >>> 19 ^ b >>> 10 ^ b << 15 ^ b << 13) + w[i2 & 15] + w[i2 + 9 & 15] | 0;\n      }\n      tmp = tmp + out7 + (out4 >>> 6 ^ out4 >>> 11 ^ out4 >>> 25 ^ out4 << 26 ^ out4 << 21 ^ out4 << 7) + (out6 ^ out4 & (out5 ^ out6)) + key[i2];\n      out7 = out6;\n      out6 = out5;\n      out5 = out4;\n      out4 = out3 + tmp | 0;\n      out3 = out2;\n      out2 = out1;\n      out1 = out0;\n      out0 = tmp + (out1 & out2 ^ out3 & (out1 ^ out2)) + (out1 >>> 2 ^ out1 >>> 13 ^ out1 >>> 22 ^ out1 << 30 ^ out1 << 19 ^ out1 << 10) | 0;\n    }\n    out[0] = out[0] + out0 | 0;\n    out[1] = out[1] + out1 | 0;\n    out[2] = out[2] + out2 | 0;\n    out[3] = out[3] + out3 | 0;\n    out[4] = out[4] + out4 | 0;\n    out[5] = out[5] + out5 | 0;\n    out[6] = out[6] + out6 | 0;\n    out[7] = out[7] + out7 | 0;\n  }\n  const bytes = new Uint8Array(out.buffer);\n  reverse_endianness(bytes);\n  return base64(bytes);\n}\nconst init = new Uint32Array(8);\nconst key = new Uint32Array(64);\nfunction precompute() {\n  function frac(x) {\n    return (x - Math.floor(x)) * 4294967296;\n  }\n  let prime = 2;\n  for (let i = 0; i < 64; prime++) {\n    let is_prime = true;\n    for (let factor = 2; factor * factor <= prime; factor++) {\n      if (prime % factor === 0) {\n        is_prime = false;\n        break;\n      }\n    }\n    if (is_prime) {\n      if (i < 8) {\n        init[i] = frac(prime ** (1 / 2));\n      }\n      key[i] = frac(prime ** (1 / 3));\n      i++;\n    }\n  }\n}\nfunction reverse_endianness(bytes) {\n  for (let i = 0; i < bytes.length; i += 4) {\n    const a = bytes[i + 0];\n    const b = bytes[i + 1];\n    const c = bytes[i + 2];\n    const d = bytes[i + 3];\n    bytes[i + 0] = d;\n    bytes[i + 1] = c;\n    bytes[i + 2] = b;\n    bytes[i + 3] = a;\n  }\n}\nfunction encode$1(str) {\n  const encoded = encoder$2.encode(str);\n  const length = encoded.length * 8;\n  const size = 512 * Math.ceil((length + 65) / 512);\n  const bytes = new Uint8Array(size / 8);\n  bytes.set(encoded);\n  bytes[encoded.length] = 128;\n  reverse_endianness(bytes);\n  const words = new Uint32Array(bytes.buffer);\n  words[words.length - 2] = Math.floor(length / 4294967296);\n  words[words.length - 1] = length;\n  return words;\n}\nconst chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");\nfunction base64(bytes) {\n  const l = bytes.length;\n  let result = \"\";\n  let i;\n  for (i = 2; i < l; i += 3) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4 | bytes[i - 1] >> 4];\n    result += chars[(bytes[i - 1] & 15) << 2 | bytes[i] >> 6];\n    result += chars[bytes[i] & 63];\n  }\n  if (i === l + 1) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4];\n    result += \"==\";\n  }\n  if (i === l) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4 | bytes[i - 1] >> 4];\n    result += chars[(bytes[i - 1] & 15) << 2];\n    result += \"=\";\n  }\n  return result;\n}\nconst array = new Uint8Array(16);\nfunction generate_nonce() {\n  crypto.getRandomValues(array);\n  return base64(array);\n}\nconst quoted = /* @__PURE__ */ new Set([\n  \"self\",\n  \"unsafe-eval\",\n  \"unsafe-hashes\",\n  \"unsafe-inline\",\n  \"none\",\n  \"strict-dynamic\",\n  \"report-sample\",\n  \"wasm-unsafe-eval\",\n  \"script\"\n]);\nconst crypto_pattern = /^(nonce|sha\\d\\d\\d)-/;\nclass BaseProvider {\n  /** @type {boolean} */\n  #use_hashes;\n  /** @type {boolean} */\n  #script_needs_csp;\n  /** @type {boolean} */\n  #style_needs_csp;\n  /** @type {import('types').CspDirectives} */\n  #directives;\n  /** @type {import('types').Csp.Source[]} */\n  #script_src;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src;\n  /** @type {string} */\n  #nonce;\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    this.#use_hashes = use_hashes;\n    this.#directives = directives;\n    const d = this.#directives;\n    this.#script_src = [];\n    this.#style_src = [];\n    const effective_script_src = d[\"script-src\"] || d[\"default-src\"];\n    const effective_style_src = d[\"style-src\"] || d[\"default-src\"];\n    this.#script_needs_csp = !!effective_script_src && effective_script_src.filter((value) => value !== \"unsafe-inline\").length > 0;\n    this.#style_needs_csp = !!effective_style_src && effective_style_src.filter((value) => value !== \"unsafe-inline\").length > 0;\n    this.script_needs_nonce = this.#script_needs_csp && !this.#use_hashes;\n    this.style_needs_nonce = this.#style_needs_csp && !this.#use_hashes;\n    this.#nonce = nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    if (this.#script_needs_csp) {\n      if (this.#use_hashes) {\n        this.#script_src.push(`sha256-${sha256(content)}`);\n      } else if (this.#script_src.length === 0) {\n        this.#script_src.push(`nonce-${this.#nonce}`);\n      }\n    }\n  }\n  /** @param {string} content */\n  add_style(content) {\n    if (this.#style_needs_csp) {\n      if (this.#use_hashes) {\n        this.#style_src.push(`sha256-${sha256(content)}`);\n      } else if (this.#style_src.length === 0) {\n        this.#style_src.push(`nonce-${this.#nonce}`);\n      }\n    }\n  }\n  /**\n   * @param {boolean} [is_meta]\n   */\n  get_header(is_meta = false) {\n    const header = [];\n    const directives = { ...this.#directives };\n    if (this.#style_src.length > 0) {\n      directives[\"style-src\"] = [\n        ...directives[\"style-src\"] || directives[\"default-src\"] || [],\n        ...this.#style_src\n      ];\n    }\n    if (this.#script_src.length > 0) {\n      directives[\"script-src\"] = [\n        ...directives[\"script-src\"] || directives[\"default-src\"] || [],\n        ...this.#script_src\n      ];\n    }\n    for (const key2 in directives) {\n      if (is_meta && (key2 === \"frame-ancestors\" || key2 === \"report-uri\" || key2 === \"sandbox\")) {\n        continue;\n      }\n      const value = (\n        /** @type {string[] | true} */\n        directives[key2]\n      );\n      if (!value)\n        continue;\n      const directive = [key2];\n      if (Array.isArray(value)) {\n        value.forEach((value2) => {\n          if (quoted.has(value2) || crypto_pattern.test(value2)) {\n            directive.push(`'${value2}'`);\n          } else {\n            directive.push(value2);\n          }\n        });\n      }\n      header.push(directive.join(\" \"));\n    }\n    return header.join(\"; \");\n  }\n}\nclass CspProvider extends BaseProvider {\n  get_meta() {\n    const content = this.get_header(true);\n    if (!content) {\n      return;\n    }\n    return `<meta http-equiv=\"content-security-policy\" content=${escape_html_attr(content)}>`;\n  }\n}\nclass CspReportOnlyProvider extends BaseProvider {\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    super(use_hashes, directives, nonce);\n    if (Object.values(directives).filter((v) => !!v).length > 0) {\n      const has_report_to = directives[\"report-to\"]?.length ?? 0 > 0;\n      const has_report_uri = directives[\"report-uri\"]?.length ?? 0 > 0;\n      if (!has_report_to && !has_report_uri) {\n        throw Error(\n          \"`content-security-policy-report-only` must be specified with either the `report-to` or `report-uri` directives, or both\"\n        );\n      }\n    }\n  }\n}\nclass Csp {\n  /** @readonly */\n  nonce = generate_nonce();\n  /** @type {CspProvider} */\n  csp_provider;\n  /** @type {CspReportOnlyProvider} */\n  report_only_provider;\n  /**\n   * @param {import('./types').CspConfig} config\n   * @param {import('./types').CspOpts} opts\n   */\n  constructor({ mode, directives, reportOnly }, { prerender }) {\n    const use_hashes = mode === \"hash\" || mode === \"auto\" && prerender;\n    this.csp_provider = new CspProvider(use_hashes, directives, this.nonce);\n    this.report_only_provider = new CspReportOnlyProvider(use_hashes, reportOnly, this.nonce);\n  }\n  get script_needs_nonce() {\n    return this.csp_provider.script_needs_nonce || this.report_only_provider.script_needs_nonce;\n  }\n  get style_needs_nonce() {\n    return this.csp_provider.style_needs_nonce || this.report_only_provider.style_needs_nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    this.csp_provider.add_script(content);\n    this.report_only_provider.add_script(content);\n  }\n  /** @param {string} content */\n  add_style(content) {\n    this.csp_provider.add_style(content);\n    this.report_only_provider.add_style(content);\n  }\n}\nfunction defer() {\n  let fulfil;\n  let reject;\n  const promise = new Promise((f, r) => {\n    fulfil = f;\n    reject = r;\n  });\n  return { promise, fulfil, reject };\n}\nfunction create_async_iterator() {\n  const deferred = [defer()];\n  return {\n    iterator: {\n      [Symbol.asyncIterator]() {\n        return {\n          next: async () => {\n            const next = await deferred[0].promise;\n            if (!next.done)\n              deferred.shift();\n            return next;\n          }\n        };\n      }\n    },\n    push: (value) => {\n      deferred[deferred.length - 1].fulfil({\n        value,\n        done: false\n      });\n      deferred.push(defer());\n    },\n    done: () => {\n      deferred[deferred.length - 1].fulfil({ done: true });\n    }\n  };\n}\nconst updated = {\n  ...readable(false),\n  check: () => false\n};\nconst encoder$1 = new TextEncoder();\nasync function render_response({\n  branch,\n  fetched,\n  options: options2,\n  manifest,\n  state,\n  page_config,\n  status,\n  error: error2 = null,\n  event,\n  resolve_opts,\n  action_result\n}) {\n  if (state.prerendering) {\n    if (options2.csp.mode === \"nonce\") {\n      throw new Error('Cannot use prerendering if config.kit.csp.mode === \"nonce\"');\n    }\n    if (options2.app_template_contains_nonce) {\n      throw new Error(\"Cannot use prerendering if page template contains %sveltekit.nonce%\");\n    }\n  }\n  const { client } = manifest._;\n  const modulepreloads = new Set(client.imports);\n  const stylesheets = new Set(client.stylesheets);\n  const fonts = new Set(client.fonts);\n  const link_header_preloads = /* @__PURE__ */ new Set();\n  const inline_styles = /* @__PURE__ */ new Map();\n  let rendered;\n  const form_value = action_result?.type === \"success\" || action_result?.type === \"failure\" ? action_result.data ?? null : null;\n  let base$1 = base;\n  let assets$1 = assets;\n  let base_expression = s(base);\n  if (!state.prerendering?.fallback) {\n    const segments = event.url.pathname.slice(base.length).split(\"/\").slice(2);\n    base$1 = segments.map(() => \"..\").join(\"/\") || \".\";\n    base_expression = `new URL(${s(base$1)}, location).pathname.slice(0, -1)`;\n    if (!assets || assets[0] === \"/\" && assets !== SVELTE_KIT_ASSETS) {\n      assets$1 = base$1;\n    }\n  }\n  if (page_config.ssr) {\n    const props = {\n      stores: {\n        page: writable(null),\n        navigating: writable(null),\n        updated\n      },\n      constructors: await Promise.all(branch.map(({ node }) => node.component())),\n      form: form_value\n    };\n    let data2 = {};\n    for (let i = 0; i < branch.length; i += 1) {\n      data2 = { ...data2, ...branch[i].data };\n      props[`data_${i}`] = data2;\n    }\n    props.page = {\n      error: error2,\n      params: (\n        /** @type {Record<string, any>} */\n        event.params\n      ),\n      route: event.route,\n      status,\n      url: event.url,\n      data: data2,\n      form: form_value\n    };\n    {\n      try {\n        rendered = options2.root.render(props);\n      } finally {\n        reset();\n      }\n    }\n    for (const { node } of branch) {\n      for (const url of node.imports)\n        modulepreloads.add(url);\n      for (const url of node.stylesheets)\n        stylesheets.add(url);\n      for (const url of node.fonts)\n        fonts.add(url);\n      if (node.inline_styles) {\n        Object.entries(await node.inline_styles()).forEach(([k, v]) => inline_styles.set(k, v));\n      }\n    }\n  } else {\n    rendered = { head: \"\", html: \"\", css: { code: \"\", map: null } };\n  }\n  let head = \"\";\n  let body = rendered.html;\n  const csp = new Csp(options2.csp, {\n    prerender: !!state.prerendering\n  });\n  const prefixed = (path) => {\n    if (path.startsWith(\"/\")) {\n      return base + path;\n    }\n    return `${assets$1}/${path}`;\n  };\n  if (inline_styles.size > 0) {\n    const content = Array.from(inline_styles.values()).join(\"\\n\");\n    const attributes = [];\n    if (csp.style_needs_nonce)\n      attributes.push(` nonce=\"${csp.nonce}\"`);\n    csp.add_style(content);\n    head += `\n\t<style${attributes.join(\"\")}>${content}</style>`;\n  }\n  for (const dep of stylesheets) {\n    const path = prefixed(dep);\n    const attributes = ['rel=\"stylesheet\"'];\n    if (inline_styles.has(dep)) {\n      attributes.push(\"disabled\", 'media=\"(max-width: 0)\"');\n    } else {\n      if (resolve_opts.preload({ type: \"css\", path })) {\n        const preload_atts = ['rel=\"preload\"', 'as=\"style\"'];\n        link_header_preloads.add(`<${encodeURI(path)}>; ${preload_atts.join(\";\")}; nopush`);\n      }\n    }\n    head += `\n\t\t<link href=\"${path}\" ${attributes.join(\" \")}>`;\n  }\n  for (const dep of fonts) {\n    const path = prefixed(dep);\n    if (resolve_opts.preload({ type: \"font\", path })) {\n      const ext = dep.slice(dep.lastIndexOf(\".\") + 1);\n      const attributes = [\n        'rel=\"preload\"',\n        'as=\"font\"',\n        `type=\"font/${ext}\"`,\n        `href=\"${path}\"`,\n        \"crossorigin\"\n      ];\n      head += `\n\t\t<link ${attributes.join(\" \")}>`;\n    }\n  }\n  const global = `__sveltekit_${options2.version_hash}`;\n  const { data, chunks } = get_data(\n    event,\n    options2,\n    branch.map((b) => b.server_data),\n    global\n  );\n  if (page_config.ssr && page_config.csr) {\n    body += `\n\t\t\t${fetched.map(\n      (item) => serialize_data(item, resolve_opts.filterSerializedResponseHeaders, !!state.prerendering)\n    ).join(\"\\n\t\t\t\")}`;\n  }\n  if (page_config.csr) {\n    const included_modulepreloads = Array.from(modulepreloads, (dep) => prefixed(dep)).filter(\n      (path) => resolve_opts.preload({ type: \"js\", path })\n    );\n    for (const path of included_modulepreloads) {\n      link_header_preloads.add(`<${encodeURI(path)}>; rel=\"modulepreload\"; nopush`);\n      if (options2.preload_strategy !== \"modulepreload\") {\n        head += `\n\t\t<link rel=\"preload\" as=\"script\" crossorigin=\"anonymous\" href=\"${path}\">`;\n      } else if (state.prerendering) {\n        head += `\n\t\t<link rel=\"modulepreload\" href=\"${path}\">`;\n      }\n    }\n    const blocks = [];\n    const properties = [\n      assets && `assets: ${s(assets)}`,\n      `base: ${base_expression}`,\n      `env: ${s(public_env)}`\n    ].filter(Boolean);\n    if (chunks) {\n      blocks.push(\"const deferred = new Map();\");\n      properties.push(`defer: (id) => new Promise((fulfil, reject) => {\n\t\t\t\t\t\t\tdeferred.set(id, { fulfil, reject });\n\t\t\t\t\t\t})`);\n      properties.push(`resolve: ({ id, data, error }) => {\n\t\t\t\t\t\t\tconst { fulfil, reject } = deferred.get(id);\n\t\t\t\t\t\t\tdeferred.delete(id);\n\n\t\t\t\t\t\t\tif (error) reject(error);\n\t\t\t\t\t\t\telse fulfil(data);\n\t\t\t\t\t\t}`);\n    }\n    blocks.push(`${global} = {\n\t\t\t\t\t\t${properties.join(\",\\n\t\t\t\t\t\t\")}\n\t\t\t\t\t};`);\n    const args = [\"app\", \"element\"];\n    blocks.push(\"const element = document.currentScript.parentElement;\");\n    if (page_config.ssr) {\n      const serialized = { form: \"null\", error: \"null\" };\n      blocks.push(`const data = ${data};`);\n      if (form_value) {\n        serialized.form = uneval_action_response(\n          form_value,\n          /** @type {string} */\n          event.route.id\n        );\n      }\n      if (error2) {\n        serialized.error = uneval(error2);\n      }\n      const hydrate = [\n        `node_ids: [${branch.map(({ node }) => node.index).join(\", \")}]`,\n        \"data\",\n        `form: ${serialized.form}`,\n        `error: ${serialized.error}`\n      ];\n      if (status !== 200) {\n        hydrate.push(`status: ${status}`);\n      }\n      if (options2.embedded) {\n        hydrate.push(`params: ${uneval(event.params)}`, `route: ${s(event.route)}`);\n      }\n      args.push(`{\n\t\t\t\t\t\t\t${hydrate.join(\",\\n\t\t\t\t\t\t\t\")}\n\t\t\t\t\t\t}`);\n    }\n    blocks.push(`Promise.all([\n\t\t\t\t\t\timport(${s(prefixed(client.start))}),\n\t\t\t\t\t\timport(${s(prefixed(client.app))})\n\t\t\t\t\t]).then(([kit, app]) => {\n\t\t\t\t\t\tkit.start(${args.join(\", \")});\n\t\t\t\t\t});`);\n    if (options2.service_worker) {\n      const opts = \"\";\n      blocks.push(`if ('serviceWorker' in navigator) {\n\t\t\t\t\t\taddEventListener('load', function () {\n\t\t\t\t\t\t\tnavigator.serviceWorker.register('${prefixed(\"service-worker.js\")}'${opts});\n\t\t\t\t\t\t});\n\t\t\t\t\t}`);\n    }\n    const init_app = `\n\t\t\t\t{\n\t\t\t\t\t${blocks.join(\"\\n\\n\t\t\t\t\t\")}\n\t\t\t\t}\n\t\t\t`;\n    csp.add_script(init_app);\n    body += `\n\t\t\t<script${csp.script_needs_nonce ? ` nonce=\"${csp.nonce}\"` : \"\"}>${init_app}<\\/script>\n\t\t`;\n  }\n  const headers = new Headers({\n    \"x-sveltekit-page\": \"true\",\n    \"content-type\": \"text/html\"\n  });\n  if (state.prerendering) {\n    const http_equiv = [];\n    const csp_headers = csp.csp_provider.get_meta();\n    if (csp_headers) {\n      http_equiv.push(csp_headers);\n    }\n    if (state.prerendering.cache) {\n      http_equiv.push(`<meta http-equiv=\"cache-control\" content=\"${state.prerendering.cache}\">`);\n    }\n    if (http_equiv.length > 0) {\n      head = http_equiv.join(\"\\n\") + head;\n    }\n  } else {\n    const csp_header = csp.csp_provider.get_header();\n    if (csp_header) {\n      headers.set(\"content-security-policy\", csp_header);\n    }\n    const report_only_header = csp.report_only_provider.get_header();\n    if (report_only_header) {\n      headers.set(\"content-security-policy-report-only\", report_only_header);\n    }\n    if (link_header_preloads.size) {\n      headers.set(\"link\", Array.from(link_header_preloads).join(\", \"));\n    }\n  }\n  head += rendered.head;\n  const html = options2.templates.app({\n    head,\n    body,\n    assets: assets$1,\n    nonce: (\n      /** @type {string} */\n      csp.nonce\n    ),\n    env: public_env\n  });\n  const transformed = await resolve_opts.transformPageChunk({\n    html,\n    done: true\n  }) || \"\";\n  if (!chunks) {\n    headers.set(\"etag\", `\"${hash(transformed)}\"`);\n  }\n  return !chunks ? text(transformed, {\n    status,\n    headers\n  }) : new Response(\n    new ReadableStream({\n      async start(controller) {\n        controller.enqueue(encoder$1.encode(transformed + \"\\n\"));\n        for await (const chunk of chunks) {\n          controller.enqueue(encoder$1.encode(chunk));\n        }\n        controller.close();\n      },\n      type: \"bytes\"\n    }),\n    {\n      headers: {\n        \"content-type\": \"text/html\"\n      }\n    }\n  );\n}\nfunction get_data(event, options2, nodes, global) {\n  let promise_id = 1;\n  let count = 0;\n  const { iterator, push, done } = create_async_iterator();\n  function replacer(thing) {\n    if (typeof thing?.then === \"function\") {\n      const id = promise_id++;\n      count += 1;\n      thing.then(\n        /** @param {any} data */\n        (data) => ({ data })\n      ).catch(\n        /** @param {any} error */\n        async (error2) => ({\n          error: await handle_error_and_jsonify(event, options2, error2)\n        })\n      ).then(\n        /**\n         * @param {{data: any; error: any}} result\n         */\n        async ({ data, error: error2 }) => {\n          count -= 1;\n          let str;\n          try {\n            str = uneval({ id, data, error: error2 }, replacer);\n          } catch (e) {\n            error2 = await handle_error_and_jsonify(\n              event,\n              options2,\n              new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n            );\n            data = void 0;\n            str = uneval({ id, data, error: error2 }, replacer);\n          }\n          push(`<script>${global}.resolve(${str})<\\/script>\n`);\n          if (count === 0)\n            done();\n        }\n      );\n      return `${global}.defer(${id})`;\n    }\n  }\n  try {\n    const strings = nodes.map((node) => {\n      if (!node)\n        return \"null\";\n      return `{\"type\":\"data\",\"data\":${uneval(node.data, replacer)},${stringify_uses(node)}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n    });\n    return {\n      data: `[${strings.join(\",\")}]`,\n      chunks: count > 0 ? iterator : null\n    };\n  } catch (e) {\n    throw new Error(clarify_devalue_error(\n      event,\n      /** @type {any} */\n      e\n    ));\n  }\n}\nfunction get_option(nodes, option) {\n  return nodes.reduce(\n    (value, node) => {\n      return (\n        /** @type {Value} TypeScript's too dumb to understand this */\n        node?.universal?.[option] ?? node?.server?.[option] ?? value\n      );\n    },\n    /** @type {Value | undefined} */\n    void 0\n  );\n}\nasync function respond_with_error({\n  event,\n  options: options2,\n  manifest,\n  state,\n  status,\n  error: error2,\n  resolve_opts\n}) {\n  const fetched = [];\n  try {\n    const branch = [];\n    const default_layout = await manifest._.nodes[0]();\n    const ssr = get_option([default_layout], \"ssr\") ?? true;\n    const csr = get_option([default_layout], \"csr\") ?? true;\n    if (ssr) {\n      state.error = true;\n      const server_data_promise = load_server_data({\n        event,\n        state,\n        node: default_layout,\n        parent: async () => ({}),\n        track_server_fetches: options2.track_server_fetches\n      });\n      const server_data = await server_data_promise;\n      const data = await load_data({\n        event,\n        fetched,\n        node: default_layout,\n        parent: async () => ({}),\n        resolve_opts,\n        server_data_promise,\n        state,\n        csr\n      });\n      branch.push(\n        {\n          node: default_layout,\n          server_data,\n          data\n        },\n        {\n          node: await manifest._.nodes[1](),\n          // 1 is always the root error\n          data: null,\n          server_data: null\n        }\n      );\n    }\n    return await render_response({\n      options: options2,\n      manifest,\n      state,\n      page_config: {\n        ssr,\n        csr: get_option([default_layout], \"csr\") ?? true\n      },\n      status,\n      error: await handle_error_and_jsonify(event, options2, error2),\n      branch,\n      fetched,\n      event,\n      resolve_opts\n    });\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return redirect_response(e.status, e.location);\n    }\n    return static_error_page(\n      options2,\n      e instanceof HttpError ? e.status : 500,\n      (await handle_error_and_jsonify(event, options2, e)).message\n    );\n  }\n}\nfunction once(fn) {\n  let done = false;\n  let result;\n  return () => {\n    if (done)\n      return result;\n    done = true;\n    return result = fn();\n  };\n}\nconst encoder = new TextEncoder();\nasync function render_data(event, route, options2, manifest, state, invalidated_data_nodes, trailing_slash) {\n  if (!route.page) {\n    return new Response(void 0, {\n      status: 404\n    });\n  }\n  try {\n    const node_ids = [...route.page.layouts, route.page.leaf];\n    const invalidated = invalidated_data_nodes ?? node_ids.map(() => true);\n    let aborted = false;\n    const url = new URL(event.url);\n    url.pathname = normalize_path(url.pathname, trailing_slash);\n    const new_event = { ...event, url };\n    const functions = node_ids.map((n, i) => {\n      return once(async () => {\n        try {\n          if (aborted) {\n            return (\n              /** @type {import('types').ServerDataSkippedNode} */\n              {\n                type: \"skip\"\n              }\n            );\n          }\n          const node = n == void 0 ? n : await manifest._.nodes[n]();\n          return load_server_data({\n            event: new_event,\n            state,\n            node,\n            parent: async () => {\n              const data2 = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = (\n                  /** @type {import('types').ServerDataNode | null} */\n                  await functions[j]()\n                );\n                if (parent) {\n                  Object.assign(data2, parent.data);\n                }\n              }\n              return data2;\n            },\n            track_server_fetches: options2.track_server_fetches\n          });\n        } catch (e) {\n          aborted = true;\n          throw e;\n        }\n      });\n    });\n    const promises = functions.map(async (fn, i) => {\n      if (!invalidated[i]) {\n        return (\n          /** @type {import('types').ServerDataSkippedNode} */\n          {\n            type: \"skip\"\n          }\n        );\n      }\n      return fn();\n    });\n    let length = promises.length;\n    const nodes = await Promise.all(\n      promises.map(\n        (p, i) => p.catch(async (error2) => {\n          if (error2 instanceof Redirect) {\n            throw error2;\n          }\n          length = Math.min(length, i + 1);\n          return (\n            /** @type {import('types').ServerErrorNode} */\n            {\n              type: \"error\",\n              error: await handle_error_and_jsonify(event, options2, error2),\n              status: error2 instanceof HttpError ? error2.status : void 0\n            }\n          );\n        })\n      )\n    );\n    const { data, chunks } = get_data_json(event, options2, nodes);\n    if (!chunks) {\n      return json_response(data);\n    }\n    return new Response(\n      new ReadableStream({\n        async start(controller) {\n          controller.enqueue(encoder.encode(data));\n          for await (const chunk of chunks) {\n            controller.enqueue(encoder.encode(chunk));\n          }\n          controller.close();\n        },\n        type: \"bytes\"\n      }),\n      {\n        headers: {\n          // we use a proprietary content type to prevent buffering.\n          // the `text` prefix makes it inspectable\n          \"content-type\": \"text/sveltekit-data\",\n          \"cache-control\": \"private, no-store\"\n        }\n      }\n    );\n  } catch (e) {\n    const error2 = normalize_error(e);\n    if (error2 instanceof Redirect) {\n      return redirect_json_response(error2);\n    } else {\n      return json_response(await handle_error_and_jsonify(event, options2, error2), 500);\n    }\n  }\n}\nfunction json_response(json2, status = 200) {\n  return text(typeof json2 === \"string\" ? json2 : JSON.stringify(json2), {\n    status,\n    headers: {\n      \"content-type\": \"application/json\",\n      \"cache-control\": \"private, no-store\"\n    }\n  });\n}\nfunction redirect_json_response(redirect) {\n  return json_response({\n    type: \"redirect\",\n    location: redirect.location\n  });\n}\nfunction get_data_json(event, options2, nodes) {\n  let promise_id = 1;\n  let count = 0;\n  const { iterator, push, done } = create_async_iterator();\n  const reducers = {\n    /** @param {any} thing */\n    Promise: (thing) => {\n      if (typeof thing?.then === \"function\") {\n        const id = promise_id++;\n        count += 1;\n        let key2 = \"data\";\n        thing.catch(\n          /** @param {any} e */\n          async (e) => {\n            key2 = \"error\";\n            return handle_error_and_jsonify(\n              event,\n              options2,\n              /** @type {any} */\n              e\n            );\n          }\n        ).then(\n          /** @param {any} value */\n          async (value) => {\n            let str;\n            try {\n              str = stringify(value, reducers);\n            } catch (e) {\n              const error2 = await handle_error_and_jsonify(\n                event,\n                options2,\n                new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n              );\n              key2 = \"error\";\n              str = stringify(error2, reducers);\n            }\n            count -= 1;\n            push(`{\"type\":\"chunk\",\"id\":${id},\"${key2}\":${str}}\n`);\n            if (count === 0)\n              done();\n          }\n        );\n        return id;\n      }\n    }\n  };\n  try {\n    const strings = nodes.map((node) => {\n      if (!node)\n        return \"null\";\n      if (node.type === \"error\" || node.type === \"skip\") {\n        return JSON.stringify(node);\n      }\n      return `{\"type\":\"data\",\"data\":${stringify(node.data, reducers)},${stringify_uses(\n        node\n      )}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n    });\n    return {\n      data: `{\"type\":\"data\",\"nodes\":[${strings.join(\",\")}]}\n`,\n      chunks: count > 0 ? iterator : null\n    };\n  } catch (e) {\n    throw new Error(clarify_devalue_error(\n      event,\n      /** @type {any} */\n      e\n    ));\n  }\n}\nconst MAX_DEPTH = 10;\nasync function render_page(event, page, options2, manifest, state, resolve_opts) {\n  if (state.depth > MAX_DEPTH) {\n    return text(`Not found: ${event.url.pathname}`, {\n      status: 404\n      // TODO in some cases this should be 500. not sure how to differentiate\n    });\n  }\n  if (is_action_json_request(event)) {\n    const node = await manifest._.nodes[page.leaf]();\n    return handle_action_json_request(event, options2, node?.server);\n  }\n  try {\n    const nodes = await Promise.all([\n      // we use == here rather than === because [undefined] serializes as \"[null]\"\n      ...page.layouts.map((n) => n == void 0 ? n : manifest._.nodes[n]()),\n      manifest._.nodes[page.leaf]()\n    ]);\n    const leaf_node = (\n      /** @type {import('types').SSRNode} */\n      nodes.at(-1)\n    );\n    let status = 200;\n    let action_result = void 0;\n    if (is_action_request(event)) {\n      action_result = await handle_action_request(event, leaf_node.server);\n      if (action_result?.type === \"redirect\") {\n        return redirect_response(action_result.status, action_result.location);\n      }\n      if (action_result?.type === \"error\") {\n        const error2 = action_result.error;\n        status = error2 instanceof HttpError ? error2.status : 500;\n      }\n      if (action_result?.type === \"failure\") {\n        status = action_result.status;\n      }\n    }\n    const should_prerender_data = nodes.some((node) => node?.server);\n    const data_pathname = add_data_suffix(event.url.pathname);\n    const should_prerender = get_option(nodes, \"prerender\") ?? false;\n    if (should_prerender) {\n      const mod = leaf_node.server;\n      if (mod?.actions) {\n        throw new Error(\"Cannot prerender pages with actions\");\n      }\n    } else if (state.prerendering) {\n      return new Response(void 0, {\n        status: 204\n      });\n    }\n    state.prerender_default = should_prerender;\n    const fetched = [];\n    if (get_option(nodes, \"ssr\") === false) {\n      return await render_response({\n        branch: [],\n        fetched,\n        page_config: {\n          ssr: false,\n          csr: get_option(nodes, \"csr\") ?? true\n        },\n        status,\n        error: null,\n        event,\n        options: options2,\n        manifest,\n        state,\n        resolve_opts\n      });\n    }\n    const branch = [];\n    let load_error = null;\n    const server_promises = nodes.map((node, i) => {\n      if (load_error) {\n        throw load_error;\n      }\n      return Promise.resolve().then(async () => {\n        try {\n          if (node === leaf_node && action_result?.type === \"error\") {\n            throw action_result.error;\n          }\n          return await load_server_data({\n            event,\n            state,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = await server_promises[j];\n                if (parent)\n                  Object.assign(data, await parent.data);\n              }\n              return data;\n            },\n            track_server_fetches: options2.track_server_fetches\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    const csr = get_option(nodes, \"csr\") ?? true;\n    const load_promises = nodes.map((node, i) => {\n      if (load_error)\n        throw load_error;\n      return Promise.resolve().then(async () => {\n        try {\n          return await load_data({\n            event,\n            fetched,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                Object.assign(data, await load_promises[j]);\n              }\n              return data;\n            },\n            resolve_opts,\n            server_data_promise: server_promises[i],\n            state,\n            csr\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    for (const p of server_promises)\n      p.catch(() => {\n      });\n    for (const p of load_promises)\n      p.catch(() => {\n      });\n    for (let i = 0; i < nodes.length; i += 1) {\n      const node = nodes[i];\n      if (node) {\n        try {\n          const server_data = await server_promises[i];\n          const data = await load_promises[i];\n          branch.push({ node, server_data, data });\n        } catch (e) {\n          const err = normalize_error(e);\n          if (err instanceof Redirect) {\n            if (state.prerendering && should_prerender_data) {\n              const body = JSON.stringify({\n                type: \"redirect\",\n                location: err.location\n              });\n              state.prerendering.dependencies.set(data_pathname, {\n                response: text(body),\n                body\n              });\n            }\n            return redirect_response(err.status, err.location);\n          }\n          const status2 = err instanceof HttpError ? err.status : 500;\n          const error2 = await handle_error_and_jsonify(event, options2, err);\n          while (i--) {\n            if (page.errors[i]) {\n              const index = (\n                /** @type {number} */\n                page.errors[i]\n              );\n              const node2 = await manifest._.nodes[index]();\n              let j = i;\n              while (!branch[j])\n                j -= 1;\n              return await render_response({\n                event,\n                options: options2,\n                manifest,\n                state,\n                resolve_opts,\n                page_config: { ssr: true, csr: true },\n                status: status2,\n                error: error2,\n                branch: compact(branch.slice(0, j + 1)).concat({\n                  node: node2,\n                  data: null,\n                  server_data: null\n                }),\n                fetched\n              });\n            }\n          }\n          return static_error_page(options2, status2, error2.message);\n        }\n      } else {\n        branch.push(null);\n      }\n    }\n    if (state.prerendering && should_prerender_data) {\n      let { data, chunks } = get_data_json(\n        event,\n        options2,\n        branch.map((node) => node?.server_data)\n      );\n      if (chunks) {\n        for await (const chunk of chunks) {\n          data += chunk;\n        }\n      }\n      state.prerendering.dependencies.set(data_pathname, {\n        response: text(data),\n        body: data\n      });\n    }\n    return await render_response({\n      event,\n      options: options2,\n      manifest,\n      state,\n      resolve_opts,\n      page_config: {\n        csr: get_option(nodes, \"csr\") ?? true,\n        ssr: true\n      },\n      status,\n      error: null,\n      branch: compact(branch),\n      action_result,\n      fetched\n    });\n  } catch (e) {\n    return await respond_with_error({\n      event,\n      options: options2,\n      manifest,\n      state,\n      status: 500,\n      error: e,\n      resolve_opts\n    });\n  }\n}\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\nvar parse_1 = parse$1;\nvar serialize_1 = serialize;\nvar __toString = Object.prototype.toString;\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nfunction parse$1(str, options2) {\n  if (typeof str !== \"string\") {\n    throw new TypeError(\"argument str must be a string\");\n  }\n  var obj = {};\n  var opt = options2 || {};\n  var dec = opt.decode || decode;\n  var index = 0;\n  while (index < str.length) {\n    var eqIdx = str.indexOf(\"=\", index);\n    if (eqIdx === -1) {\n      break;\n    }\n    var endIdx = str.indexOf(\";\", index);\n    if (endIdx === -1) {\n      endIdx = str.length;\n    } else if (endIdx < eqIdx) {\n      index = str.lastIndexOf(\";\", eqIdx - 1) + 1;\n      continue;\n    }\n    var key2 = str.slice(index, eqIdx).trim();\n    if (void 0 === obj[key2]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim();\n      if (val.charCodeAt(0) === 34) {\n        val = val.slice(1, -1);\n      }\n      obj[key2] = tryDecode(val, dec);\n    }\n    index = endIdx + 1;\n  }\n  return obj;\n}\nfunction serialize(name, val, options2) {\n  var opt = options2 || {};\n  var enc = opt.encode || encode;\n  if (typeof enc !== \"function\") {\n    throw new TypeError(\"option encode is invalid\");\n  }\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError(\"argument name is invalid\");\n  }\n  var value = enc(val);\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError(\"argument val is invalid\");\n  }\n  var str = name + \"=\" + value;\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError(\"option maxAge is invalid\");\n    }\n    str += \"; Max-Age=\" + Math.floor(maxAge);\n  }\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError(\"option domain is invalid\");\n    }\n    str += \"; Domain=\" + opt.domain;\n  }\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError(\"option path is invalid\");\n    }\n    str += \"; Path=\" + opt.path;\n  }\n  if (opt.expires) {\n    var expires = opt.expires;\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError(\"option expires is invalid\");\n    }\n    str += \"; Expires=\" + expires.toUTCString();\n  }\n  if (opt.httpOnly) {\n    str += \"; HttpOnly\";\n  }\n  if (opt.secure) {\n    str += \"; Secure\";\n  }\n  if (opt.priority) {\n    var priority = typeof opt.priority === \"string\" ? opt.priority.toLowerCase() : opt.priority;\n    switch (priority) {\n      case \"low\":\n        str += \"; Priority=Low\";\n        break;\n      case \"medium\":\n        str += \"; Priority=Medium\";\n        break;\n      case \"high\":\n        str += \"; Priority=High\";\n        break;\n      default:\n        throw new TypeError(\"option priority is invalid\");\n    }\n  }\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === \"string\" ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += \"; SameSite=Strict\";\n        break;\n      case \"lax\":\n        str += \"; SameSite=Lax\";\n        break;\n      case \"strict\":\n        str += \"; SameSite=Strict\";\n        break;\n      case \"none\":\n        str += \"; SameSite=None\";\n        break;\n      default:\n        throw new TypeError(\"option sameSite is invalid\");\n    }\n  }\n  return str;\n}\nfunction decode(str) {\n  return str.indexOf(\"%\") !== -1 ? decodeURIComponent(str) : str;\n}\nfunction encode(val) {\n  return encodeURIComponent(val);\n}\nfunction isDate(val) {\n  return __toString.call(val) === \"[object Date]\" || val instanceof Date;\n}\nfunction tryDecode(str, decode2) {\n  try {\n    return decode2(str);\n  } catch (e) {\n    return str;\n  }\n}\nfunction get_cookies(request, url, trailing_slash) {\n  const header = request.headers.get(\"cookie\") ?? \"\";\n  const initial_cookies = parse_1(header, { decode: (value) => value });\n  const normalized_url = normalize_path(url.pathname, trailing_slash);\n  const default_path = normalized_url.split(\"/\").slice(0, -1).join(\"/\") || \"/\";\n  const new_cookies = {};\n  const defaults = {\n    httpOnly: true,\n    sameSite: \"lax\",\n    secure: url.hostname === \"localhost\" && url.protocol === \"http:\" ? false : true\n  };\n  const cookies = {\n    // The JSDoc param annotations appearing below for get, set and delete\n    // are necessary to expose the `cookie` library types to\n    // typescript users. `@type {import('@sveltejs/kit').Cookies}` above is not\n    // sufficient to do so.\n    /**\n     * @param {string} name\n     * @param {import('cookie').CookieParseOptions} opts\n     */\n    get(name, opts) {\n      const c = new_cookies[name];\n      if (c && domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n        return c.value;\n      }\n      const decoder = opts?.decode || decodeURIComponent;\n      const req_cookies = parse_1(header, { decode: decoder });\n      const cookie = req_cookies[name];\n      return cookie;\n    },\n    /**\n     * @param {import('cookie').CookieParseOptions} opts\n     */\n    getAll(opts) {\n      const decoder = opts?.decode || decodeURIComponent;\n      const cookies2 = parse_1(header, { decode: decoder });\n      for (const c of Object.values(new_cookies)) {\n        if (domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n          cookies2[c.name] = c.value;\n        }\n      }\n      return Object.entries(cookies2).map(([name, value]) => ({ name, value }));\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     * @param {import('cookie').CookieSerializeOptions} opts\n     */\n    set(name, value, opts = {}) {\n      set_internal(name, value, { ...defaults, ...opts });\n    },\n    /**\n     * @param {string} name\n     * @param {import('cookie').CookieSerializeOptions} opts\n     */\n    delete(name, opts = {}) {\n      cookies.set(name, \"\", {\n        ...opts,\n        maxAge: 0\n      });\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     * @param {import('cookie').CookieSerializeOptions} opts\n     */\n    serialize(name, value, opts) {\n      return serialize_1(name, value, {\n        ...defaults,\n        ...opts\n      });\n    }\n  };\n  function get_cookie_header(destination, header2) {\n    const combined_cookies = {\n      // cookies sent by the user agent have lowest precedence\n      ...initial_cookies\n    };\n    for (const key2 in new_cookies) {\n      const cookie = new_cookies[key2];\n      if (!domain_matches(destination.hostname, cookie.options.domain))\n        continue;\n      if (!path_matches(destination.pathname, cookie.options.path))\n        continue;\n      const encoder2 = cookie.options.encode || encodeURIComponent;\n      combined_cookies[cookie.name] = encoder2(cookie.value);\n    }\n    if (header2) {\n      const parsed = parse_1(header2, { decode: (value) => value });\n      for (const name in parsed) {\n        combined_cookies[name] = parsed[name];\n      }\n    }\n    return Object.entries(combined_cookies).map(([name, value]) => `${name}=${value}`).join(\"; \");\n  }\n  function set_internal(name, value, opts) {\n    const path = opts.path ?? default_path;\n    new_cookies[name] = {\n      name,\n      value,\n      options: {\n        ...opts,\n        path\n      }\n    };\n  }\n  return { cookies, new_cookies, get_cookie_header, set_internal };\n}\nfunction domain_matches(hostname, constraint) {\n  if (!constraint)\n    return true;\n  const normalized = constraint[0] === \".\" ? constraint.slice(1) : constraint;\n  if (hostname === normalized)\n    return true;\n  return hostname.endsWith(\".\" + normalized);\n}\nfunction path_matches(path, constraint) {\n  if (!constraint)\n    return true;\n  const normalized = constraint.endsWith(\"/\") ? constraint.slice(0, -1) : constraint;\n  if (path === normalized)\n    return true;\n  return path.startsWith(normalized + \"/\");\n}\nfunction add_cookies_to_headers(headers, cookies) {\n  for (const new_cookie of cookies) {\n    const { name, value, options: options2 } = new_cookie;\n    headers.append(\"set-cookie\", serialize_1(name, value, options2));\n  }\n}\nvar setCookie = { exports: {} };\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false\n};\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\nfunction parseString(setCookieValue, options2) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n  options2 = options2 ? Object.assign({}, defaultParseOptions, options2) : defaultParseOptions;\n  try {\n    value = options2.decodeValues ? decodeURIComponent(value) : value;\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" + value + \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n  var cookie = {\n    name,\n    value\n  };\n  parts.forEach(function(part) {\n    var sides = part.split(\"=\");\n    var key2 = sides.shift().trimLeft().toLowerCase();\n    var value2 = sides.join(\"=\");\n    if (key2 === \"expires\") {\n      cookie.expires = new Date(value2);\n    } else if (key2 === \"max-age\") {\n      cookie.maxAge = parseInt(value2, 10);\n    } else if (key2 === \"secure\") {\n      cookie.secure = true;\n    } else if (key2 === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key2 === \"samesite\") {\n      cookie.sameSite = value2;\n    } else {\n      cookie[key2] = value2;\n    }\n  });\n  return cookie;\n}\nfunction parseNameValuePair(nameValuePairStr) {\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\");\n  } else {\n    value = nameValuePairStr;\n  }\n  return { name, value };\n}\nfunction parse(input, options2) {\n  options2 = options2 ? Object.assign({}, defaultParseOptions, options2) : defaultParseOptions;\n  if (!input) {\n    if (!options2.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n  if (input.headers) {\n    if (typeof input.headers.getSetCookie === \"function\") {\n      input = input.headers.getSetCookie();\n    } else if (input.headers[\"set-cookie\"]) {\n      input = input.headers[\"set-cookie\"];\n    } else {\n      var sch = input.headers[Object.keys(input.headers).find(function(key2) {\n        return key2.toLowerCase() === \"set-cookie\";\n      })];\n      if (!sch && input.headers.cookie && !options2.silent) {\n        console.warn(\n          \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n        );\n      }\n      input = sch;\n    }\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n  options2 = options2 ? Object.assign({}, defaultParseOptions, options2) : defaultParseOptions;\n  if (!options2.map) {\n    return input.filter(isNonEmptyString).map(function(str) {\n      return parseString(str, options2);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function(cookies2, str) {\n      var cookie = parseString(str, options2);\n      cookies2[cookie.name] = cookie;\n      return cookies2;\n    }, cookies);\n  }\n}\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        lastComma = pos;\n        pos += 1;\n        skipWhitespace();\n        nextStart = pos;\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          cookiesSeparatorFound = true;\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n  return cookiesStrings;\n}\nsetCookie.exports = parse;\nsetCookie.exports.parse = parse;\nvar parseString_1 = setCookie.exports.parseString = parseString;\nvar splitCookiesString_1 = setCookie.exports.splitCookiesString = splitCookiesString;\nfunction create_fetch({ event, options: options2, manifest, state, get_cookie_header, set_internal }) {\n  return async (info, init2) => {\n    const original_request = normalize_fetch_input(info, init2, event.url);\n    let mode = (info instanceof Request ? info.mode : init2?.mode) ?? \"cors\";\n    let credentials = (info instanceof Request ? info.credentials : init2?.credentials) ?? \"same-origin\";\n    return await options2.hooks.handleFetch({\n      event,\n      request: original_request,\n      fetch: async (info2, init3) => {\n        const request = normalize_fetch_input(info2, init3, event.url);\n        const url = new URL(request.url);\n        if (!request.headers.has(\"origin\")) {\n          request.headers.set(\"origin\", event.url.origin);\n        }\n        if (info2 !== original_request) {\n          mode = (info2 instanceof Request ? info2.mode : init3?.mode) ?? \"cors\";\n          credentials = (info2 instanceof Request ? info2.credentials : init3?.credentials) ?? \"same-origin\";\n        }\n        if ((request.method === \"GET\" || request.method === \"HEAD\") && (mode === \"no-cors\" && url.origin !== event.url.origin || url.origin === event.url.origin)) {\n          request.headers.delete(\"origin\");\n        }\n        if (url.origin !== event.url.origin) {\n          if (`.${url.hostname}`.endsWith(`.${event.url.hostname}`) && credentials !== \"omit\") {\n            const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n            if (cookie)\n              request.headers.set(\"cookie\", cookie);\n          }\n          return fetch(request);\n        }\n        const prefix = assets || base;\n        const decoded = decodeURIComponent(url.pathname);\n        const filename = (decoded.startsWith(prefix) ? decoded.slice(prefix.length) : decoded).slice(1);\n        const filename_html = `${filename}/index.html`;\n        const is_asset = manifest.assets.has(filename);\n        const is_asset_html = manifest.assets.has(filename_html);\n        if (is_asset || is_asset_html) {\n          const file = is_asset ? filename : filename_html;\n          if (state.read) {\n            const type = is_asset ? manifest.mimeTypes[filename.slice(filename.lastIndexOf(\".\"))] : \"text/html\";\n            return new Response(state.read(file), {\n              headers: type ? { \"content-type\": type } : {}\n            });\n          }\n          return await fetch(request);\n        }\n        if (credentials !== \"omit\") {\n          const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n          if (cookie) {\n            request.headers.set(\"cookie\", cookie);\n          }\n          const authorization = event.request.headers.get(\"authorization\");\n          if (authorization && !request.headers.has(\"authorization\")) {\n            request.headers.set(\"authorization\", authorization);\n          }\n        }\n        if (!request.headers.has(\"accept\")) {\n          request.headers.set(\"accept\", \"*/*\");\n        }\n        if (!request.headers.has(\"accept-language\")) {\n          request.headers.set(\n            \"accept-language\",\n            /** @type {string} */\n            event.request.headers.get(\"accept-language\")\n          );\n        }\n        const response = await respond(request, options2, manifest, {\n          ...state,\n          depth: state.depth + 1\n        });\n        const set_cookie = response.headers.get(\"set-cookie\");\n        if (set_cookie) {\n          for (const str of splitCookiesString_1(set_cookie)) {\n            const { name, value, ...options3 } = parseString_1(str);\n            set_internal(\n              name,\n              value,\n              /** @type {import('cookie').CookieSerializeOptions} */\n              options3\n            );\n          }\n        }\n        return response;\n      }\n    });\n  };\n}\nfunction normalize_fetch_input(info, init2, url) {\n  if (info instanceof Request) {\n    return info;\n  }\n  return new Request(typeof info === \"string\" ? new URL(info, url) : info, init2);\n}\nfunction validator(expected) {\n  function validate(module, file) {\n    if (!module)\n      return;\n    for (const key2 in module) {\n      if (key2[0] === \"_\" || expected.has(key2))\n        continue;\n      const values = [...expected.values()];\n      const hint = hint_for_supported_files(key2, file?.slice(file.lastIndexOf(\".\"))) ?? `valid exports are ${values.join(\", \")}, or anything with a '_' prefix`;\n      throw new Error(`Invalid export '${key2}'${file ? ` in ${file}` : \"\"} (${hint})`);\n    }\n  }\n  return validate;\n}\nfunction hint_for_supported_files(key2, ext = \".js\") {\n  const supported_files = [];\n  if (valid_layout_exports.has(key2)) {\n    supported_files.push(`+layout${ext}`);\n  }\n  if (valid_page_exports.has(key2)) {\n    supported_files.push(`+page${ext}`);\n  }\n  if (valid_layout_server_exports.has(key2)) {\n    supported_files.push(`+layout.server${ext}`);\n  }\n  if (valid_page_server_exports.has(key2)) {\n    supported_files.push(`+page.server${ext}`);\n  }\n  if (valid_server_exports.has(key2)) {\n    supported_files.push(`+server${ext}`);\n  }\n  if (supported_files.length > 0) {\n    return `'${key2}' is a valid export in ${supported_files.slice(0, -1).join(\", \")}${supported_files.length > 1 ? \" or \" : \"\"}${supported_files.at(-1)}`;\n  }\n}\nconst valid_layout_exports = /* @__PURE__ */ new Set([\n  \"load\",\n  \"prerender\",\n  \"csr\",\n  \"ssr\",\n  \"trailingSlash\",\n  \"config\"\n]);\nconst valid_page_exports = /* @__PURE__ */ new Set([...valid_layout_exports, \"entries\"]);\nconst valid_layout_server_exports = /* @__PURE__ */ new Set([...valid_layout_exports]);\nconst valid_page_server_exports = /* @__PURE__ */ new Set([...valid_layout_server_exports, \"actions\", \"entries\"]);\nconst valid_server_exports = /* @__PURE__ */ new Set([\n  \"GET\",\n  \"POST\",\n  \"PATCH\",\n  \"PUT\",\n  \"DELETE\",\n  \"OPTIONS\",\n  \"HEAD\",\n  \"fallback\",\n  \"prerender\",\n  \"trailingSlash\",\n  \"config\",\n  \"entries\"\n]);\nconst validate_layout_exports = validator(valid_layout_exports);\nconst validate_page_exports = validator(valid_page_exports);\nconst validate_layout_server_exports = validator(valid_layout_server_exports);\nconst validate_page_server_exports = validator(valid_page_server_exports);\nconst validate_server_exports = validator(valid_server_exports);\nconst default_transform = ({ html }) => html;\nconst default_filter = () => false;\nconst default_preload = ({ type }) => type === \"js\" || type === \"css\";\nconst page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"POST\"]);\nconst allowed_page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"OPTIONS\"]);\nasync function respond(request, options2, manifest, state) {\n  const url = new URL(request.url);\n  if (options2.csrf_check_origin) {\n    const forbidden = is_form_content_type(request) && (request.method === \"POST\" || request.method === \"PUT\" || request.method === \"PATCH\" || request.method === \"DELETE\") && request.headers.get(\"origin\") !== url.origin;\n    if (forbidden) {\n      const csrf_error = error(403, `Cross-site ${request.method} form submissions are forbidden`);\n      if (request.headers.get(\"accept\") === \"application/json\") {\n        return json(csrf_error.body, { status: csrf_error.status });\n      }\n      return text(csrf_error.body.message, { status: csrf_error.status });\n    }\n  }\n  let decoded;\n  try {\n    decoded = decode_pathname(url.pathname);\n  } catch {\n    return text(\"Malformed URI\", { status: 400 });\n  }\n  let route = null;\n  let params = {};\n  if (base && !state.prerendering?.fallback) {\n    if (!decoded.startsWith(base)) {\n      return text(\"Not found\", { status: 404 });\n    }\n    decoded = decoded.slice(base.length) || \"/\";\n  }\n  const is_data_request = has_data_suffix(decoded);\n  let invalidated_data_nodes;\n  if (is_data_request) {\n    decoded = strip_data_suffix(decoded) || \"/\";\n    url.pathname = strip_data_suffix(url.pathname) + (url.searchParams.get(TRAILING_SLASH_PARAM) === \"1\" ? \"/\" : \"\") || \"/\";\n    url.searchParams.delete(TRAILING_SLASH_PARAM);\n    invalidated_data_nodes = url.searchParams.get(INVALIDATED_PARAM)?.split(\"\").map((node) => node === \"1\");\n    url.searchParams.delete(INVALIDATED_PARAM);\n  }\n  if (!state.prerendering?.fallback) {\n    const matchers = await manifest._.matchers();\n    for (const candidate of manifest._.routes) {\n      const match = candidate.pattern.exec(decoded);\n      if (!match)\n        continue;\n      const matched = exec(match, candidate.params, matchers);\n      if (matched) {\n        route = candidate;\n        params = decode_params(matched);\n        break;\n      }\n    }\n  }\n  let trailing_slash = void 0;\n  const headers = {};\n  let cookies_to_add = {};\n  const event = {\n    // @ts-expect-error `cookies` and `fetch` need to be created after the `event` itself\n    cookies: null,\n    // @ts-expect-error\n    fetch: null,\n    getClientAddress: state.getClientAddress || (() => {\n      throw new Error(\n        `${\"@sveltejs/adapter-vercel\"} does not specify getClientAddress. Please raise an issue`\n      );\n    }),\n    locals: {},\n    params,\n    platform: state.platform,\n    request,\n    route: { id: route?.id ?? null },\n    setHeaders: (new_headers) => {\n      for (const key2 in new_headers) {\n        const lower = key2.toLowerCase();\n        const value = new_headers[key2];\n        if (lower === \"set-cookie\") {\n          throw new Error(\n            \"Use `event.cookies.set(name, value, options)` instead of `event.setHeaders` to set cookies\"\n          );\n        } else if (lower in headers) {\n          throw new Error(`\"${key2}\" header is already set`);\n        } else {\n          headers[lower] = value;\n          if (state.prerendering && lower === \"cache-control\") {\n            state.prerendering.cache = /** @type {string} */\n            value;\n          }\n        }\n      }\n    },\n    url,\n    isDataRequest: is_data_request,\n    isSubRequest: state.depth > 0\n  };\n  let resolve_opts = {\n    transformPageChunk: default_transform,\n    filterSerializedResponseHeaders: default_filter,\n    preload: default_preload\n  };\n  try {\n    if (route) {\n      if (url.pathname === base || url.pathname === base + \"/\") {\n        trailing_slash = \"always\";\n      } else if (route.page) {\n        const nodes = await Promise.all([\n          // we use == here rather than === because [undefined] serializes as \"[null]\"\n          ...route.page.layouts.map((n) => n == void 0 ? n : manifest._.nodes[n]()),\n          manifest._.nodes[route.page.leaf]()\n        ]);\n        if (DEV)\n          ;\n        trailing_slash = get_option(nodes, \"trailingSlash\");\n      } else if (route.endpoint) {\n        const node = await route.endpoint();\n        trailing_slash = node.trailingSlash;\n        if (DEV)\n          ;\n      }\n      if (!is_data_request) {\n        const normalized = normalize_path(url.pathname, trailing_slash ?? \"never\");\n        if (normalized !== url.pathname && !state.prerendering?.fallback) {\n          return new Response(void 0, {\n            status: 308,\n            headers: {\n              \"x-sveltekit-normalize\": \"1\",\n              location: (\n                // ensure paths starting with '//' are not treated as protocol-relative\n                (normalized.startsWith(\"//\") ? url.origin + normalized : normalized) + (url.search === \"?\" ? \"\" : url.search)\n              )\n            }\n          });\n        }\n      }\n    }\n    const { cookies, new_cookies, get_cookie_header, set_internal } = get_cookies(\n      request,\n      url,\n      trailing_slash ?? \"never\"\n    );\n    cookies_to_add = new_cookies;\n    event.cookies = cookies;\n    event.fetch = create_fetch({\n      event,\n      options: options2,\n      manifest,\n      state,\n      get_cookie_header,\n      set_internal\n    });\n    if (state.prerendering && !state.prerendering.fallback)\n      disable_search(url);\n    const response = await options2.hooks.handle({\n      event,\n      resolve: (event2, opts) => resolve(event2, opts).then((response2) => {\n        for (const key2 in headers) {\n          const value = headers[key2];\n          response2.headers.set(\n            key2,\n            /** @type {string} */\n            value\n          );\n        }\n        add_cookies_to_headers(response2.headers, Object.values(cookies_to_add));\n        if (state.prerendering && event2.route.id !== null) {\n          response2.headers.set(\"x-sveltekit-routeid\", encodeURI(event2.route.id));\n        }\n        return response2;\n      })\n    });\n    if (response.status === 200 && response.headers.has(\"etag\")) {\n      let if_none_match_value = request.headers.get(\"if-none-match\");\n      if (if_none_match_value?.startsWith('W/\"')) {\n        if_none_match_value = if_none_match_value.substring(2);\n      }\n      const etag = (\n        /** @type {string} */\n        response.headers.get(\"etag\")\n      );\n      if (if_none_match_value === etag) {\n        const headers2 = new Headers({ etag });\n        for (const key2 of [\n          \"cache-control\",\n          \"content-location\",\n          \"date\",\n          \"expires\",\n          \"vary\",\n          \"set-cookie\"\n        ]) {\n          const value = response.headers.get(key2);\n          if (value)\n            headers2.set(key2, value);\n        }\n        return new Response(void 0, {\n          status: 304,\n          headers: headers2\n        });\n      }\n    }\n    if (is_data_request && response.status >= 300 && response.status <= 308) {\n      const location = response.headers.get(\"location\");\n      if (location) {\n        return redirect_json_response(new Redirect(\n          /** @type {any} */\n          response.status,\n          location\n        ));\n      }\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      const response = is_data_request ? redirect_json_response(e) : route?.page && is_action_json_request(event) ? action_json_redirect(e) : redirect_response(e.status, e.location);\n      add_cookies_to_headers(response.headers, Object.values(cookies_to_add));\n      return response;\n    }\n    return await handle_fatal_error(event, options2, e);\n  }\n  async function resolve(event2, opts) {\n    try {\n      if (opts) {\n        if (\"ssr\" in opts) {\n          throw new Error(\n            \"ssr has been removed, set it in the appropriate +layout.js instead. See the PR for more information: https://github.com/sveltejs/kit/pull/6197\"\n          );\n        }\n        resolve_opts = {\n          transformPageChunk: opts.transformPageChunk || default_transform,\n          filterSerializedResponseHeaders: opts.filterSerializedResponseHeaders || default_filter,\n          preload: opts.preload || default_preload\n        };\n      }\n      if (state.prerendering?.fallback) {\n        return await render_response({\n          event: event2,\n          options: options2,\n          manifest,\n          state,\n          page_config: { ssr: false, csr: true },\n          status: 200,\n          error: null,\n          branch: [],\n          fetched: [],\n          resolve_opts\n        });\n      }\n      if (route) {\n        const method = (\n          /** @type {import('types').HttpMethod} */\n          event2.request.method\n        );\n        let response;\n        if (is_data_request) {\n          response = await render_data(\n            event2,\n            route,\n            options2,\n            manifest,\n            state,\n            invalidated_data_nodes,\n            trailing_slash ?? \"never\"\n          );\n        } else if (route.endpoint && (!route.page || is_endpoint_request(event2))) {\n          response = await render_endpoint(event2, await route.endpoint(), state);\n        } else if (route.page) {\n          if (page_methods.has(method)) {\n            response = await render_page(event2, route.page, options2, manifest, state, resolve_opts);\n          } else {\n            const allowed_methods2 = new Set(allowed_page_methods);\n            const node = await manifest._.nodes[route.page.leaf]();\n            if (node?.server?.actions) {\n              allowed_methods2.add(\"POST\");\n            }\n            if (method === \"OPTIONS\") {\n              response = new Response(null, {\n                status: 204,\n                headers: {\n                  allow: Array.from(allowed_methods2.values()).join(\", \")\n                }\n              });\n            } else {\n              const mod = [...allowed_methods2].reduce(\n                (acc, curr) => {\n                  acc[curr] = true;\n                  return acc;\n                },\n                /** @type {Record<string, any>} */\n                {}\n              );\n              response = method_not_allowed(mod, method);\n            }\n          }\n        } else {\n          throw new Error(\"This should never happen\");\n        }\n        if (request.method === \"GET\" && route.page && route.endpoint) {\n          const vary = response.headers.get(\"vary\")?.split(\",\")?.map((v) => v.trim().toLowerCase());\n          if (!(vary?.includes(\"accept\") || vary?.includes(\"*\"))) {\n            response = new Response(response.body, {\n              status: response.status,\n              statusText: response.statusText,\n              headers: new Headers(response.headers)\n            });\n            response.headers.append(\"Vary\", \"Accept\");\n          }\n        }\n        return response;\n      }\n      if (state.error) {\n        return text(\"Internal Server Error\", {\n          status: 500\n        });\n      }\n      if (state.depth === 0) {\n        return await respond_with_error({\n          event: event2,\n          options: options2,\n          manifest,\n          state,\n          status: 404,\n          error: new Error(`Not found: ${event2.url.pathname}`),\n          resolve_opts\n        });\n      }\n      if (state.prerendering) {\n        return text(\"not found\", { status: 404 });\n      }\n      return await fetch(request);\n    } catch (e) {\n      return await handle_fatal_error(event2, options2, e);\n    } finally {\n      event2.cookies.set = () => {\n        throw new Error(\"Cannot use `cookies.set(...)` after the response has been generated\");\n      };\n      event2.setHeaders = () => {\n        throw new Error(\"Cannot use `setHeaders(...)` after the response has been generated\");\n      };\n    }\n  }\n}\nfunction filter_private_env(env, { public_prefix, private_prefix }) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(private_prefix) && (public_prefix === \"\" || !k.startsWith(public_prefix))\n    )\n  );\n}\nfunction filter_public_env(env, { public_prefix, private_prefix }) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(public_prefix) && (private_prefix === \"\" || !k.startsWith(private_prefix))\n    )\n  );\n}\nclass Server {\n  /** @type {import('types').SSROptions} */\n  #options;\n  /** @type {import('@sveltejs/kit').SSRManifest} */\n  #manifest;\n  /** @param {import('@sveltejs/kit').SSRManifest} manifest */\n  constructor(manifest) {\n    this.#options = options;\n    this.#manifest = manifest;\n  }\n  /**\n   * @param {{\n   *   env: Record<string, string>\n   * }} opts\n   */\n  async init({ env }) {\n    set_private_env(\n      filter_private_env(env, {\n        public_prefix: this.#options.env_public_prefix,\n        private_prefix: this.#options.env_private_prefix\n      })\n    );\n    set_public_env(\n      filter_public_env(env, {\n        public_prefix: this.#options.env_public_prefix,\n        private_prefix: this.#options.env_private_prefix\n      })\n    );\n    if (!this.#options.hooks) {\n      try {\n        const module = await get_hooks();\n        this.#options.hooks = {\n          handle: module.handle || (({ event, resolve }) => resolve(event)),\n          handleError: module.handleError || (({ error: error2 }) => console.error(error2)),\n          handleFetch: module.handleFetch || (({ request, fetch: fetch2 }) => fetch2(request))\n        };\n      } catch (error2) {\n        {\n          throw error2;\n        }\n      }\n    }\n  }\n  /**\n   * @param {Request} request\n   * @param {import('types').RequestOptions} options\n   */\n  async respond(request, options2) {\n    if (!(request instanceof Request)) {\n      throw new Error(\n        \"The first argument to server.respond must be a Request object. See https://github.com/sveltejs/kit/pull/3384 for details\"\n      );\n    }\n    return respond(request, this.#options, this.#manifest, {\n      ...options2,\n      error: false,\n      depth: 0\n    });\n  }\n}\nexport {\n  Server\n};\n", "export const manifest = (() => {\nfunction __memo(fn) {\n\tlet value;\n\treturn () => value ??= (value = fn());\n}\n\nreturn {\n\tappDir: \"_app\",\n\tappPath: \"_app\",\n\tassets: new Set([\"favicon.png\"]),\n\tmimeTypes: {\".png\":\"image/png\"},\n\t_: {\n\t\tclient: {\"start\":\"_app/immutable/entry/start.16367a98.js\",\"app\":\"_app/immutable/entry/app.6a660089.js\",\"imports\":[\"_app/immutable/entry/start.16367a98.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/singletons.844f0d64.js\",\"_app/immutable/chunks/index.6cb2aa35.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/entry/app.6a660089.js\",\"_app/immutable/chunks/scheduler.e51e3a72.js\",\"_app/immutable/chunks/index.70313ae9.js\"],\"stylesheets\":[],\"fonts\":[]},\n\t\tnodes: [\n\t\t\t__memo(() => import('../../output/server/nodes/0.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/1.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/2.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/3.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/4.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/5.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/6.js'))\n\t\t],\n\t\troutes: [\n\t\t\t{\n\t\t\t\tid: \"/(authed)\",\n\t\t\t\tpattern: /^\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,2,], errors: [1,,], leaf: 3 },\n\t\t\t\tendpoint: null\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/file\",\n\t\t\t\tpattern: /^\\/api\\/file\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../../output/server/entries/endpoints/api/file/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/item\",\n\t\t\t\tpattern: /^\\/api\\/item\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../../output/server/entries/endpoints/api/item/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/api/seed\",\n\t\t\t\tpattern: /^\\/api\\/seed\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: null,\n\t\t\t\tendpoint: __memo(() => import('../../output/server/entries/endpoints/api/seed/_server.ts.js'))\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/(unauthed)/signin\",\n\t\t\t\tpattern: /^\\/signin\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 5 },\n\t\t\t\tendpoint: null\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/(unauthed)/signup\",\n\t\t\t\tpattern: /^\\/signup\\/?$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 6 },\n\t\t\t\tendpoint: null\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/(authed)/[itemId]\",\n\t\t\t\tpattern: /^\\/([^/]+?)\\/?$/,\n\t\t\t\tparams: [{\"name\":\"itemId\",\"optional\":false,\"rest\":false,\"chained\":false}],\n\t\t\t\tpage: { layouts: [0,2,], errors: [1,,], leaf: 4 },\n\t\t\t\tendpoint: null\n\t\t\t}\n\t\t],\n\t\tmatchers: async () => {\n\t\t\t\n\t\t\treturn {  };\n\t\t}\n\t}\n}\n})();\n", "import { Server } from '../../output/server/index.js';\nimport { manifest } from './manifest.js';\n\nconst server = new Server(manifest);\nconst initialized = server.init({\n\tenv: /** @type {Record<string, string>} */ (process.env)\n});\n\n/**\n * @param {Request} request\n * @param {import('../index.js').RequestContext} context\n */\nexport default async (request, context) => {\n\tawait initialized;\n\treturn server.respond(request, {\n\t\tgetClientAddress() {\n\t\t\treturn /** @type {string} */ (request.headers.get('x-forwarded-for'));\n\t\t},\n\t\tplatform: {\n\t\t\tcontext\n\t\t}\n\t});\n};\n"],
  "mappings": "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ACvB,aAAO,8BAA8B,GAAG,KAAK;IAC7C;AACD,WAAO;GACP,CAAC;AACH;ApCzHa,IAAA,YACA,kBADA,IC8CS,QCxCT,gBFNAC,KAAA,IEUS,MCJT,gBHNAA,KAAAC,KGQA,UHRAD,KGuCA,cHvCAA,KG2CA,+CEzBA,WAGA,QAGA,SAGA,cAGA,UAGA,SAGA,oBAEP,gBLtCOA,KAAAC,KAAA,4BKwCA,OLxCAD,KAAAC,KMES,cCqBT,QPvBAD,KQEA,6BRFAA,KQiBA,0BCKA,mBTtBAA,MAAAC,KAAAC,KSwBA,SAoFA,ST5GAF,MUIA,cVJAA,MUiBA,OVjBAA,MWYA,mBXZAA,MW8DA,YX9DAA,MYiDA,gBZjDAA,MYsEA,cZtEAA,MY8HA,OZ9HAA,MaWA,mBbXAA,Ma6BA,Yb7BAA,McYA,yBdZAA,McsCA,2BdtCAA,McuDA,kBdvDAA,MgB8GS,ehB9GTA,MiBiCS,iBjBjCTA,MiB6GS,UjB7GTA,MkBYA,gBlBZAA,MkBkDA,mBlBlDAA,MmBKS,yBnBLTA,MoBgBA,epBhBAA,MoB+BA,QpB/BAA,MoBwDA,qBpBxDAA,MoB4EA,cpB5EAA,MqBeA,erBfAA,MqBgCA,QrBhCAA,MsBeA,gBtBfAA,MsB8BA,StB9BAA,MuBeA,kBvBfAA,MuBsCA,WvBtCAA,MwBiBA,exBjBAA,MwByCA,QxBzCAA,MyBiBA,oBzBjBAA,MyB2CA,azB3CAA,MyB8EA,0BzB9EAA,MyB2GA,mBzB3GAA,M0BgBA,e1BhBAA,M0BsCA,Q1BtCAA,M2BuCA,W3BvCAA,M4BGS,mB5BHTA,M6B4CA,iB7B5CAA,M6B4HS,sB7B5HTA,M6B2eA,U7B3eAA,M8BWA,c9BXAA,M+BmBA,wB/BnBAA,M+B0CA,a/B1CAA,M+ByEA,mB/BzEAA,M+BuIA,6B/BvIAA,M+BgLA,yB/BhLAA,M+BsNA,+B/BtNAA,M+BgRS,YAYT,c/B5RAA,MAAAC,K+B8RA,QAqCA,0B/BnUAD,MAAAC,K+BqUA,oB/BrUAD,MgCkCS,UhClCTA,MgCoDA,WhCpDAA,MgCkEA,WhClEAA,MgCqGA,aCxCA,IAsBA,IA+GA,IAoBA,KAkBA,IAkBA,KjC1PAA,MmCgBA,oBnChBAA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MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,IAAM,iBAAiB;AAAA,MACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAGA,IAAM,iBAAiB;AAAA,MACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,IACF;AAGA,IAAM,kBAAkB;AAAA,MACtB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,IAAM,aAAa;AAAA,MACjB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,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",
  "names": ["a", "keys", "split", "component", "key", "name", "pattern", "escaped", "last", "i", "css", "x", "index", "name", "text", "escape", "text", "protocol", "scheme", "auth", "fetch", "error", "cast", "offset", "size", "options", "_a", "sql", "session", "name", "result", "decoder", "name", "key", "schema", "i", "value", "startFrom", "array", "relations", "min", "max", "param", "p", "_a", "_b", "_c", "sql", "error", "builder", "actions", "unique", "size", "ref", "a", "session", "set", "offset", "table", "index", "encoder", "joinOn", "field", "source", "join", "escapeName", "empty", "placeholder", "SQL", "_a", "p", "name", "schema", "InlineForeignKeys", "uniqueKeyName", "ManualViewBuilder", "ViewBuilder", "ForeignKeyBuilder", "ForeignKey", "UniqueConstraintBuilder", "UniqueOnConstraintBuilder", "UniqueConstraint", "QueryBuilder", "_b", "_c", "_d", "_a", "actions", "builder", "ref", "session", "set", "i", "offset", "table", "index", "sql", "key", "joinOn", "field", "source", "join", "schema", "session", "_a", "options", "name", "CheckBuilder", "Check", "IndexBuilderOn", "IndexBuilder", "Index", "PrimaryKeyBuilder", "PrimaryKey", "_a", "builder", "unique", "mysqlTable", "name", "placeholder", "helper", "keys", "i", "connection", "LuciaError", "user", "key", "error", "session", "init_dist", "defaults", "format", "init_dist", "index", "key", "name", "options", "session", "tick", "ts", "i", "a", "r", "p", "B", "j", "bytes", "size", "s", "hash", "key2", "version", "x", "text", "format2", "setCookie", "user", "init", "text", "set", "i", "update", "run", "index", "p", "error", "component", "subscribe", "i", "effect", "index2", "offset", "Error", "__exports", "component", "fonts", "imports", "index", "stylesheets", "component_cache", "init__", "a", "map", "i", "session", "eq", "r", "s", "twJoin", "index", "argument", "resolvedValue", "string", "arguments", "length", "toValue", "mix", "k", "createClassUtils", "config", "classMap", "createClassMap", "conflictingClassGroups", "conflictingClassGroupModifiers", "getClassGroupId", "className", "classParts", "split", "CLASS_PART_SEPARATOR", "length", "shift", "getGroupRecursive", "getGroupIdForArbitraryProperty", "getConflictingClassGroupIds", "classGroupId", "hasPostfixModifier", "conflicts", "classPartObject", "currentClassPart", "nextClassPartObject", "nextPart", "get", "classGroupFromNextClassPart", "slice", "undefined", "validators", "classRest", "join", "find", "validator", "arbitraryPropertyRegex", "test", "arbitraryPropertyClassName", "exec", "property", "substring", "indexOf", "theme", "prefix", "Map", "prefixedClassGroupEntries", "getPrefixedClassGroupEntries", "Object", "entries", "classGroups", "forEach", "classGroup", "processClassesRecursively", "classDefinition", "classPartObjectToEdit", "getPart", "isThemeGetter", "push", "key", "path", "currentClassPartObject", "pathPart", "has", "set", "func", "classGroupEntries", "map", "prefixedClassGroup", "fromEntries", "value", "createLruCache", "maxCacheSize", "get", "undefined", "set", "cacheSize", "cache", "Map", "previousCache", "update", "key", "value", "has", "createSplitModifiers", "config", "separator", "isSeparatorSingleCharacter", "length", "firstSeparatorCharacter", "separatorLength", "splitModifiers", "className", "modifiers", "bracketDepth", "modifierStart", "postfixModifierPosition", "index", "currentCharacter", "slice", "push", "baseClassNameWithImportantModifier", "substring", "hasImportantModifier", "startsWith", "IMPORTANT_MODIFIER", "baseClassName", "maybePostfixModifierPosition", "undefined", "sortModifiers", "sortedModifiers", "unsortedModifiers", "forEach", "modifier", "isArbitraryVariant", "sort", "createConfigUtils", "config", "cache", "createLruCache", "cacheSize", "splitModifiers", "createSplitModifiers", "createClassUtils", "mergeClassList", "classList", "configUtils", "splitModifiers", "getClassGroupId", "getConflictingClassGroupIds", "classGroupsInConflict", "Set", "trim", "split", "SPLIT_CLASSES_REGEX", "map", "originalClassName", "modifiers", "hasImportantModifier", "baseClassName", "maybePostfixModifierPosition", "classGroupId", "substring", "hasPostfixModifier", "Boolean", "isTailwindClass", "variantModifier", "sortModifiers", "join", "modifierId", "IMPORTANT_MODIFIER", "reverse", "filter", "parsed", "classId", "has", "add", "forEach", "group", "createTailwindMerge", "createConfig", "configUtils", "cacheGet", "cacheSet", "functionToCall", "initTailwindMerge", "classList", "firstCreateConfig", "restCreateConfig", "config", "reduce", "previousConfig", "createConfigCurrent", "createConfigUtils", "cache", "get", "set", "tailwindMerge", "cachedResult", "result", "mergeClassList", "callTailwindMerge", "twJoin", "apply", "arguments", "fromTheme", "key", "themeGetter", "theme", "isThemeGetter", "isLength", "value", "isNumber", "stringLengths", "has", "fractionRegex", "test", "isArbitraryLength", "getIsArbitraryValue", "isLengthOnly", "isArbitrarySize", "isNever", "isArbitraryPosition", "isArbitraryUrl", "isUrl", "isArbitraryNumber", "Number", "isNaN", "isPercent", "endsWith", "slice", "isInteger", "isIntegerOnly", "isArbitraryValue", "arbitraryValueRegex", "isAny", "isTshirtSize", "tshirtUnitRegex", "isArbitraryShadow", "isShadow", "label", "testValue", "result", "exec", "lengthUnitRegex", "startsWith", "shadowRegex", "Set", "getDefaultConfig", "colors", "fromTheme", "spacing", "blur", "brightness", "borderColor", "borderRadius", "borderSpacing", "borderWidth", "contrast", "grayscale", "hueRotate", "invert", "gap", "gradientColorStops", "gradientColorStopPositions", "inset", "margin", "opacity", "padding", "saturate", "scale", "sepia", "skew", "space", "translate", "getOverscroll", "getOverflow", "getSpacingWithAutoAndArbitrary", "isArbitraryValue", "getSpacingWithArbitrary", "getLengthWithEmpty", "isLength", "getNumberWithAutoAndArbitrary", "isNumber", "getPositions", "getLineStyles", "getBlendModes", "getAlign", "getZeroAndEmpty", "getBreaks", "getNumber", "isArbitraryNumber", "getNumberAndArbitrary", "cacheSize", "theme", "isAny", "isTshirtSize", "isPercent", "isArbitraryLength", "classGroups", "aspect", "container", "columns", "box", "display", "clear", "isolation", "object", "overflow", "overscroll", "position", "start", "end", "top", "right", "bottom", "left", "visibility", "z", "isInteger", "basis", "flex", "grow", "shrink", "order", "col", "span", "row", "justify", "content", "items", "self", "p", "px", "py", "ps", "pe", "pt", "pr", "pb", "pl", "m", "mx", "my", "ms", "me", "mt", "mr", "mb", "ml", "w", "screen", "h", "text", "font", "tracking", "leading", "list", "placeholder", "decoration", "indent", "align", "whitespace", "hyphens", "bg", "isArbitraryPosition", "repeat", "isArbitrarySize", "isArbitraryUrl", "from", "via", "to", "rounded", "border", "divide", "outline", "ring", "shadow", "isArbitraryShadow", "filter", "table", "caption", "transition", "duration", "ease", "delay", "animate", "transform", "rotate", "origin", "accent", "appearance", "cursor", "caret", "resize", "scroll", "snap", "touch", "pan", "select", "fill", "stroke", "sr", "conflictingClassGroups", "conflictingClassGroupModifiers", "mergeConfigs", "baseConfig", "configExtension", "key", "mergePropertyRecursively", "baseObject", "mergeKey", "mergeValue", "hasOwnProperty", "call", "overrideTypes", "has", "Array", "isArray", "concat", "nextKey", "Object", "prototype", "Set", "extendTailwindMerge", "configExtension", "createConfig", "createTailwindMerge", "getDefaultConfig", "mergeConfigs", "twMerge", "createTailwindMerge", "getDefaultConfig", "re", "init_dist", "i", "a", "s", "r", "l", "y", "u", "x", "z", "p", "layout_svelte_exports", "Layout", "component", "i", "name2", "key", "array", "index", "run", "noop", "options", "keys", "agent", "p", "r", "a", "j", "doc", "param", "x", "y", "webkit", "css", "x2", "y2", "source", "handleKeyDown", "arrow2", "close", "name", "get", "u", "Check", "Root", "init_layout_svelte", "init_dist", "reset", "apply", "g", "__exports", "component", "fonts", "imports", "index", "stylesheets", "component_cache", "init__", "bytes", "hash", "exists", "min", "split", "i", "l", "s", "_h", "a", "u32", "shift", "i", "bytes", "hex", "array", "j", "nextTick", "asyncLoop", "tick", "ts", "r", "checkOpts", "defaults", "round", "R", "x", "y", "j", "l", "s", "B", "shift", "i", "bytes", "i", "hash", "x", "init", "createId", "createId", "init", "map", "ctx", "x", "errorMap", "version", "schema", "key", "a", "index", "util", "keys", "array", "objectUtil", "first", "json", "error", "i", "s", "errorUtil", "_a", "options", "min", "max", "result", "_b", "_c", "_d", "issues", "elements", "size", "effect", "processed", "base", "p", "p2", "ZodFirstPartyTypeKind", "session", "__exports", "component", "fonts", "imports", "index", "server_id", "stylesheets", "component_cache", "init__", "page_server_ts_exports", "load", "init_page_server_ts", "session", "eq", "and", "a", "i", "j", "size", "index", "offset", "array", "p", "from", "slice", "last", "min", "max", "name", "type", "nfa", "connect", "edge", "expr", "node", "set", "states", "defaults", "base", "matches", "selector", "re", "copy", "options", "Node", "init_dist", "text", "first", "found", "round", "schema", "json", "doc", "replacement", "r", "wrap", "ok", "space", "index", "offset", "i", "doc", "from", "tr", "s", "set", "found", "j", "slice", "newNode", "base", "joinable", "a", "first", "last", "init_dist", "del", "map", "schema", "json", "parent", "updated", "wrap", "matches", "match", "type", "close", "name", "TransformError", "doc", "index", "text", "i", "tr", "last", "map", "name", "init_dist", "from", "found", "json", "desc", "init_dist", "offset", "index", "desc", "key", "doc", "empty", "tr", "slice", "wrap", "i", "text", "schema", "p", "dom", "from", "array", "delay", "a", "options", "j", "set", "oldOffset", "found", "init_dist", "cut", "isNode", "r", "init_dist", "mac", "ie", "name", "shift", "base", "i", "name", "shift", "i", "mac", "map", "copy", "base", "init_dist", "init_dist", "init_dist", "init_dist", "i", "tr", "first", "index", "wrap", "setBlockType", "from", "commands", "lift", "mac", "init_dist", "empty", "key", "init_dist", "wrap", "tr", "i", "found", "first", "slice", "init_dist", "init_dist", "doc", "schema", "key", "exists", "isFunction", "source", "options", "from", "text", "index", "_a", "name", "keys", "min", "max", "error", "selectionToInsertionEnd", "tr", "last", "map", "normalizeKeyName", "shift", "i", "empty", "defaultBlockAt", "node", "array", "range", "newNode", "offset", "createParagraphNear", "deleteRange", "deleteSelection", "exitCode", "joinUp", "joinDown", "joinBackward", "joinForward", "lift", "liftEmptyBlock", "liftListItem", "newlineInCode", "selectAll", "selectNodeBackward", "selectNodeForward", "selectParentNode", "selectTextblockEnd", "selectTextblockStart", "sinkListItem", "splitBlock", "wrapIn", "wrapInList", "Mark", "Node", "command", "run", "commands", "originalCreateParagraphNear", "originalDeleteSelection", "originalExitCode", "originalJoinUp", "originalJoinDown", "originalJoinBackward", "originalJoinForward", "originalLift", "originalLiftEmptyBlock", "originalLiftListItem", "originalNewlineInCode", "originalSelectNodeBackward", "originalSelectNodeForward", "originalSelectParentNode", "originalSelectTextblockEnd", "originalSelectTextblockStart", "document", "setBlockType", "originalSinkListItem", "first", "wrap", "newNextTypeAttributes", "nextType", "j", "originalWrapIn", "originalWrapInList", "removeMark", "options", "init_dist", "_a", "name", "rect", "init_dist", "index", "arrow", "i", "tr", "init_dist", "doc", "json", "init_dist", "init_dist", "RopeSequence", "from", "get", "i", "forEach", "Leaf", "Append", "appendInner", "i", "history", "tr", "options", "map", "from", "redo", "command", "init_dist", "array", "last", "init_dist", "Node", "_a", "commands", "empty", "tr", "doc", "text", "name", "key", "re", "x", "offset", "scopeName", "i", "error", "global", "s", "index", "highlight", "doc", "from", "isFunction", "param", "Response", "escape", "options", "text", "builder", "version", "result", "max", "a", "_a", "name", "i", "a", "index", "first", "defaults", "noop", "p", "run", "reset", "scheme", "warn", "init", "options", "key", "nextState", "protocol", "options", "tr", "s", "_a", "_b", "slice", "Mark", "protocol", "reset", "css", "MODES", "IDENT_RE", "IDENT_RE", "COMMENT", "javascript", "IDENT_RE", "KEYWORDS", "LITERALS", "BUILT_INS", "BUILT_IN_VARIABLES", "COMMENT", "TYPES", "ERROR_TYPES", "BUILT_IN_GLOBALS", "replacement", "deepFreeze", "name", "Response", "escapeHTML", "inherit$1", "key", "SPAN_CLOSE", "emitsWrappingTags", "scopeToCSSClass", "x", "i", "HTMLRenderer", "options", "text", "newNode", "TokenTree", "builder", "TokenTreeEmitter", "source", "re", "lookahead", "concat", "anyNumberOfTimes", "optional", "stripOptionsFromArgs", "either", "countMatchGroups", "startsWith", "BACKREF_RE", "_rewriteBackreferences", "offset", "MATCH_NOTHING_RE", "IDENT_RE", "UNDERSCORE_IDENT_RE", "NUMBER_RE", "C_NUMBER_RE", "BINARY_NUMBER_RE", "RE_STARTERS_RE", "SHEBANG", "BACKSLASH_ESCAPE", "APOS_STRING_MODE", "QUOTE_STRING_MODE", "PHRASAL_WORDS_MODE", "COMMENT", "C_LINE_COMMENT_MODE", "C_BLOCK_COMMENT_MODE", "HASH_COMMENT_MODE", "NUMBER_MODE", "C_NUMBER_MODE", "BINARY_NUMBER_MODE", "REGEXP_MODE", "TITLE_MODE", "UNDERSCORE_TITLE_MODE", "METHOD_GUARD", "END_SAME_AS_BEGIN", "MODES", "skipIfHasPrecedingDot", "scopeClassName", "beginKeywords", "compileIllegal", "compileMatch", "compileRelevance", "beforeMatchExt", "COMMON_KEYWORDS", "DEFAULT_KEYWORD_SCOPE", "compileKeywords", "scopeName", "scoreForKeyword", "commonKeyword", "seenDeprecations", "error", "warn", "deprecated", "version", "MultiClassError", "remapScopeNames", "beginMultiClass", "endMultiClass", "scopeSugar", "MultiClass", "compileLanguage", "global", "s", "index", "expandOrCloneMode", "dependencyOnParent", "HTMLInjectionError", "escape", "inherit", "NO_MATCH", "MAX_KEYWORD_HITS", "HLJS", "highlight", "result", "max", "a", "import_core", "HighlightJS", "highlight", "registered", "options", "index", "name", "key", "init_lib", "i", "init_lib", "page_svelte_exports", "Page", "init_page_svelte", "init_dist", "size", "name", "Node", "commands", "Mark", "options", "text", "from", "tr", "doc", "key", "css", "__exports", "component", "fonts", "imports", "index", "page_server_ts_exports", "server_id", "stylesheets", "component_cache", "init__", "init_page_server_ts", "page_server_ts_exports", "actions", "load", "init_page_server_ts", "session", "key", "page_svelte_exports", "Page", "init_page_svelte", "__exports", "component", "fonts", "imports", "index", "page_server_ts_exports", "server_id", "stylesheets", "component_cache", "init__", "init_page_server_ts", "page_server_ts_exports", "actions", "load", "init_page_server_ts", "session", "user", "page_svelte_exports", "Page", "init_page_svelte", "__exports", "component", "fonts", "imports", "index", "page_server_ts_exports", "server_id", "stylesheets", "component_cache", "init__", "init_page_server_ts", "session", "schema", "import_cuid2", "server_ts_exports", "session", "and", "init_server_ts", "server_ts_exports", "POST", "session", "import_cuid2", "init_server_ts", "page", "i", "a", "param", "error2", "text", "page", "key2", "keys", "replacement", "custom", "name", "p", "index2", "source", "index", "server", "actions", "redirect", "init2", "error2", "key2", "init2", "text2", "get", "decoder", "i", "key", "a", "i2", "bytes", "x", "size", "l", "r", "manifest", "stylesheets", "fonts", "global", "text", "encoder", "j", "p", "redirect", "page", "index", "decode", "tryDecode", "name", "decode2", "defaults", "encoder2", "parse"]
}
